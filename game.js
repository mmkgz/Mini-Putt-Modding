!function(t,e){"use strict";t.openfl=t.openfl||{},t.lime=t.lime||{};function f(){return zs.__string_rec(this,"")}var i={};function n(t,e){function i(){}i.prototype=t;var n=new i;for(var s in e)n[s]=e[s];return e.toString!==Object.prototype.toString&&(n.toString=e.toString),n}var a={};(i["_ASpriteBase.ASpriteBase_Impl_"]=a).__name__=["_ASpriteBase","ASpriteBase_Impl_"],a.getChild=function(t,e){return t[e]};function _t(){}(i.ApplicationMain=_t).__name__=["ApplicationMain"],_t.config=null,_t.preloader=null,_t.create=function(){var t=new ol;t.create(_t.config);var e=new P;_t.preloader=new Gl(e),t.setPreloader(_t.preloader),_t.preloader.onComplete.add(_t.init),_t.preloader.create(_t.config);var i=[],n=[];if(i.push("assets/sounds/2.m4a"),n.push("SOUND"),i.push("assets/sounds/51.m4a"),n.push("SOUND"),i.push("assets/sounds/186.wav"),n.push("SOUND"),i.push("assets/sounds/187.m4a"),n.push("SOUND"),i.push("Swiss921 BT"),n.push("FONT"),i.push("Swis721 Md BT"),n.push("FONT"),i.push("Swis721 Md BT"),n.push("FONT"),i.push("lib/intro/intro.dat"),n.push("BINARY"),i.push("lib/intro.json"),n.push("TEXT"),i.push("lib/miniputt/29.png"),n.push("IMAGE"),i.push("lib/miniputt/36.png"),n.push("IMAGE"),i.push("lib/miniputt/58.png"),n.push("IMAGE"),i.push("lib/miniputt/12.png"),n.push("IMAGE"),i.push("lib/miniputt/1.png"),n.push("IMAGE"),i.push("lib/miniputt/32.png"),n.push("IMAGE"),i.push("lib/miniputt/17.png"),n.push("IMAGE"),i.push("lib/miniputt/56.png"),n.push("IMAGE"),i.push("lib/miniputt/20.png"),n.push("IMAGE"),i.push("lib/miniputt/miniputt.dat"),n.push("BINARY"),i.push("lib/miniputt.json"),n.push("TEXT"),null!=_t.config.assetsPrefix)for(var s=0,r=i.length;s<r;){var a=s++;"FONT"!=n[a]&&(i[a]=_t.config.assetsPrefix+i[a])}_t.preloader.load(i,n);t.exec()},_t.init=function(){var e=0,i=0;_t.preloader=null,i+=1,$a.loadLibrary("miniputt").onComplete(function(t){(e+=1)==i&&_t.start()}),0==i&&_t.start()},_t.main=function(){_t.config={build:"22",company:"Fire Falcom",file:"game",fps:60,name:"miniputt",orientation:"",packageName:"com.firefal.miniputt",version:"1.0.0",windows:[{antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:440,parameters:"{}",resizable:!1,stencilBuffer:!0,title:"miniputt",vsync:!1,width:550,x:null,y:null}]}},_t.start=function(){for(var t=!1,e=mi.resolveClass("Main"),i=0,n=mi.getClassFields(e);i<n.length;){var s=n[i];if(++i,"main"==s){t=!0;break}}if(Qs.initialize(),t)At.field(e,"main").apply(e,[]);else mi.createInstance(_,[]);no.current.stage.window.__fullscreen&&no.current.stage.dispatchEvent(new Dh("fullScreen",!1,!1,!0,!0)),no.current.stage.dispatchEvent(new Ae("resize",!1,!1))},_t.resizeStatic=function(t){};function s(){}(i["openfl.events.IEventDispatcher"]=s).__name__=["openfl","events","IEventDispatcher"],s.prototype={__class__:s};function v(t){null!=t&&(this.__targetDispatcher=t)}(i["openfl.events.EventDispatcher"]=v).__name__=["openfl","events","EventDispatcher"],v.__interfaces__=[s],v.__dispatchEventStatic=function(t,e){if(e.acquire(),null==t.__eventMap||null==e)return e.release(),!1;var i,n=e.type,s=t.__dispatching;if(null!=Zu[n]?s.getReserved(n):s.h[n]){var r=t.__newEventMap;if(null==(i=null!=Zu[n]?r.getReserved(n):r.h[n])){var a=t.__eventMap;i=null!=Zu[n]?a.getReserved(n):a.h[n]}null!=i&&(i=i.slice())}else{var o=t.__eventMap;if(null!=(i=null!=Zu[n]?o.getReserved(n):o.h[n])){var l=t.__dispatching;null!=Zu[n]?l.setReserved(n,!0):l.h[n]=!0}}if(null==i)return e.release(),!1;var h=null;h=null==e.target?null!=t.__targetDispatcher?t.__targetDispatcher:t:e.target;for(var _,u,c=1==e.eventPhase,f=0;f<i.length&&(e.target=h,e.currentTarget=t,(_=i[f]).useCapture!=c||(_.callback.call(_,e),!e.__isCanceledNow));)_==i[f]&&++f;if(null!=t.__newEventMap){var d=t.__newEventMap;u=null!=Zu[n]?d.existsReserved(n):d.h.hasOwnProperty(n)}else u=!1;if(u){var p=t.__newEventMap,g=null!=Zu[n]?p.getReserved(n):p.h[n];if(0<g.length){var m=t.__eventMap;null!=Zu[n]?m.setReserved(n,g):m.h[n]=g}else t.__eventMap.remove(n);var v=t.__eventMap;new ps(v,v.arrayKeys()).hasNext()?t.__newEventMap.remove(n):(t.__eventMap=null,t.__newEventMap=null)}var b=e.type,y=t.__dispatching;return null!=Zu[b]?y.setReserved(b,!1):y.h[b]=!1,e.release(),!0},v.__sortByPriority=function(t,e){return t.priority==e.priority?0:t.priority>e.priority?-1:1},v.prototype={addEventListener:function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),null==this.__eventMap&&(this.__dispatching=new gs,this.__eventMap=new gs,this.__newEventMap=new gs);var r=this.__eventMap;if(null!=Zu[t]?r.existsReserved(t):r.h.hasOwnProperty(t)){var a,o=this.__dispatching;if(1==(null!=Zu[t]?o.getReserved(t):o.h[t])){var l=this.__newEventMap;if(null!=Zu[t]?l.existsReserved(t):l.h.hasOwnProperty(t)){var h=this.__newEventMap;a=null!=Zu[t]?h.getReserved(t):h.h[t]}else{var _=this.__eventMap;a=(null!=Zu[t]?_.getReserved(t):_.h[t]).slice();var u=this.__newEventMap;null!=Zu[t]?u.setReserved(t,a):u.h[t]=a}}else{var c=this.__eventMap;a=null!=Zu[t]?c.getReserved(t):c.h[t]}for(var f=0,d=a.length;f<d;){var p=f++;if(At.compareMethods(a[p].callback,e))return}a.push(new Ph(e,i,n)),a.sort(v.__sortByPriority)}else{var g=[];g.push(new Ph(e,i,n));var m=this.__eventMap;null!=Zu[t]?m.setReserved(t,g):m.h[t]=g}this.onEventListenerAdded(t)},dispatchEvent:function(t){return null!=this.__targetDispatcher?t.target=this.__targetDispatcher:t.target=this,this.__dispatchEvent(t)},hasEventListener:function(t){if(null==this.__eventMap)return!1;var e,i=this.__dispatching;if(1==(null!=Zu[t]?i.getReserved(t):i.h[t])){var n=this.__newEventMap;e=null!=Zu[t]?n.existsReserved(t):n.h.hasOwnProperty(t)}else e=!1;if(e){var s=this.__newEventMap;return 0<(null!=Zu[t]?s.getReserved(t):s.h[t]).length}var r=this.__eventMap;return null!=Zu[t]?r.existsReserved(t):r.h.hasOwnProperty(t)},removeEventListener:function(t,e,i){if(null==i&&(i=!1),null!=this.__eventMap){var n=this.__eventMap,s=null!=Zu[t]?n.getReserved(t):n.h[t];if(null!=s){var r=this.__dispatching,a=1==(null!=Zu[t]?r.getReserved(t):r.h[t]);if(a){var o=this.__newEventMap;if(null!=Zu[t]?o.existsReserved(t):o.h.hasOwnProperty(t)){var l=this.__newEventMap;s=null!=Zu[t]?l.getReserved(t):l.h[t]}else{var h=this.__eventMap;s=(null!=Zu[t]?h.getReserved(t):h.h[t]).slice();var _=this.__newEventMap;null!=Zu[t]?_.setReserved(t,s):_.h[t]=s}}for(var u=0,c=s.length;u<c;){var f=u++;if(s[f].match(e,i)){s.splice(f,1),this.onEventListenerRemoved(t);break}}if(!a){0==s.length&&this.__eventMap.remove(t);var d=this.__eventMap;new ps(d,d.arrayKeys()).hasNext()||(this.__eventMap=null,this.__newEventMap=null)}}}},onEventListenerAdded:function(t){},onEventListenerRemoved:function(t){},toString:function(){return"[object "+mi.getClassName(zs.getClass(this)).split(".").pop()+"]"},willTrigger:function(t){return this.hasEventListener(t)},__dispatchEvent:function(t){if(t.acquire(),null==this.__eventMap||null==t)return t.release(),!1;var e,i=t.type;if(this.__dispatching.get(i)?(null==(e=this.__newEventMap.get(i))&&(e=this.__eventMap.get(i)),null!=e&&(e=e.slice())):null!=(e=this.__eventMap.get(i))&&this.__dispatching.set(i,!0),null==e)return t.release(),!1;var n=null;n=null==t.target?null!=this.__targetDispatcher?this.__targetDispatcher:this:t.target;for(var s,r=1==t.eventPhase,a=0;a<e.length&&(t.target=n,t.currentTarget=this,(s=e[a]).useCapture!=r||(s.callback.call(s,t),!t.__isCanceledNow));)s==e[a]&&++a;if(null!=this.__newEventMap&&this.__newEventMap.exists(i)){var o=this.__newEventMap.get(i);0<o.length?this.__eventMap.set(i,o):this.__eventMap.remove(i),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(i):(this.__eventMap=null,this.__newEventMap=null)}return this.__dispatching.set(t.type,!1),t.release(),!0},__class__:v};function r(){}(i["openfl.display.IBitmapDrawable"]=r).__name__=["openfl","display","IBitmapDrawable"],r.prototype={__class__:r};var W=function(){this.__transformDirty=!0,this.__recursiveMouseListenerCount=0,this.__mouseListenerCount=0,this.__useSeparateRenderScaleTransform=!0,this.__clippedAt=-1,this.__cacheAsBitmapSmooth=null,this.__isCachingAsBitmap=!1,this.__cacheAsBitmapFlag=!1,this.__resolvedCacheAsBitmap=!1,this.__name="",this.__maskCached=!1,this.delayScaleRotationGraphicsRefresh=!1,this.renderScaleY=1,this.renderScaleX=1,v.call(this),this.__colorTransform=new to,this.__transform=new eo,this.__renderTransform=new eo,this.__cacheGLMatrix=new eo,this.__offset=new io,this.__worldOffset=new io,this.__worldColorTransform=new to,this.__renderColorTransform=new to,this.__visible=!0,this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1,this.__worldAlpha=1,this.__renderAlpha=1,this.__clipDepth=0,this.__cachedParent=null,W.__worldTransformDirty++};(i["openfl.display.DisplayObject"]=W).__name__=["openfl","display","DisplayObject"],W.__interfaces__=[r],W.__isCachingAsMask=null,W.__super__=v,W.prototype=n(v.prototype,{__reset:function(){this.__dispatching=null,this.__eventMap=null,(this.__newEventMap=null)!=this.__objectTransform&&(y_.pool.put(this.__objectTransform),this.__objectTransform=null),this.__colorTransform.reset()},resolve:function(t){return null},getSymbol:function(){return null},getBounds:function(t){var e=eo.pool.get();if(null!=t){e.copyFrom(this.__getWorldTransform());var i=eo.pool.get();i.copyFrom(t.__getWorldTransform()),i.invert(),e.concat(i),eo.pool.put(i)}else e.identity();var n=new b_;return this.__getBounds(n),n.isEmpty()||n.transform(n,e),eo.pool.put(e),n},getRect:function(t){return this.getBounds(t)},globalToLocal:function(t){t=null!=this.stage?this.stage.__getWorldTransform().transformPoint(t):t.clone();var e=this.__getWorldTransform(),i=e.a*e.d-e.b*e.c;if(0==i)t.x=-e.tx,t.y=-e.ty;else{var n=1/i*(e.c*(e.ty-t.y)+e.d*(t.x-e.tx));t.y=1/i*(e.a*(t.y-e.ty)+e.b*(e.tx-t.x)),t.x=n}return t},localToGlobal:function(t){if(t=this.__getWorldTransform().transformPoint(t),null==this.stage)throw new Vs(":TODO:");var e=this.stage.__getWorldTransform(),i=e.a*e.d-e.b*e.c;if(0==i)t.x=-e.tx,t.y=-e.ty;else{var n=1/i*(e.c*(e.ty-t.y)+e.d*(t.x-e.tx));t.y=1/i*(e.a*(t.y-e.ty)+e.b*(e.tx-t.x)),t.x=n}return t},convertToLocal:function(t){if(null!=this.stage){var e=this.stage.__getWorldTransform(),i=t.x,n=t.y;t.x=i*e.a+n*e.c+e.tx,t.y=i*e.b+n*e.d+e.ty}var s=this.__getWorldTransform(),r=s.a*s.d-s.b*s.c;if(0==r)t.x=-s.tx,t.y=-s.ty;else{var a=1/r*(s.c*(s.ty-t.y)+s.d*(t.x-s.tx));t.y=1/r*(s.a*(t.y-s.ty)+s.b*(s.tx-t.x)),t.x=a}},hitTestObject:function(t){if(null==t||null==t.parent||null==this.parent)return!1;var e=this.getBounds(this),i=t.getBounds(this);return e.intersects(i)},hitTestPoint:function(t,e,i){null==i&&(i=!1);var n=b_.pool.get(),s=this.__getWorldTransform();this.__getBounds(n),n.isEmpty()||n.transform(n,s);var r=io.pool.get();r.setTo(t*this.stage.get_scaleX(),e*this.stage.get_scaleY());var a=n.containsPoint(r);if(io.pool.put(r),b_.pool.put(n),!a||!i)return a;if(null!=this.__graphics){var o=this.getSymbol();if(i=!!i&&(null==o||o.pixelPerfectHitTest),this.__graphics.__hitTest(t*this.stage.get_scaleX(),e*this.stage.get_scaleY(),i,this.__getWorldTransform()))return!0}return!1},updateCachedParent:function(t){if(null==t){for(var e=this.parent;null!=e&&!e.__resolvedCacheAsBitmap;)e=e.parent;this.__cachedParent=e}else this.__cachedParent=t;return t=this.__resolvedCacheAsBitmap?this:this.__cachedParent},__broadcast:function(t,e){if(null!=this.__eventMap&&this.hasEventListener(t.type)){var i=v.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||i}return!1},__dispatchEvent:function(t){t.acquire();var e=v.prototype.__dispatchEvent.call(this,t);return t.__isCanceled?(t.release(),!0):(t.bubbles&&null!=this.parent&&this.parent!=this&&(t.eventPhase=3,null==t.target&&(t.target=this),this.parent.__dispatchEvent(t)),t.release(),e)},__enterFrame:function(t){null!=this.__graphics&&this.__graphics.__enterFrame(),0<this.__cacheAsBitmapCounter&&--this.__cacheAsBitmapCounter<=0&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length)},__getBounds:function(t){null!=this.__graphics?this.__graphics.__getBounds(t):t.setEmpty()},__getTransformedBounds:function(t,e){this.__getBounds(t),t.isEmpty()||t.transform(t,e)},__getCursor:function(){return null},__getInteractive:function(t){return!1},getAssetPrefix:function(){return Object.prototype.hasOwnProperty.call(this,"assetPrefix")?At.field(this,"assetPrefix"):null!=this.parent?this.parent.getAssetPrefix():""},__getLocalBounds:function(t){var e=this.__transform;this.__getBounds(t),t.isEmpty()||t.transform(t,e)},__getRenderBounds:function(t){if(null==this.__scrollRect){var e=this.__renderTransform;this.__getBounds(t),t.isEmpty()||t.transform(t,e),this.__getChildrenRenderBounds(t),null==this.__filters||t.isEmpty()||Uh.__expandBounds(this.__filters,t)}else t.copyFrom(this.__scrollRect)},__getChildrenRenderBounds:function(t){},__getWorldTransform:function(){if(this.__transformDirty||0<W.__worldTransformDirty){var t=W.__parentList,e=0,i=this,n=this.__transformDirty;if(null==this.parent)n&&this.__update(!0,!1);else for(;null!=i.parent;)(i=(t[e++]=i).parent).__transformDirty&&(n=!0);if(n)for(var s=e;0<=--s;)t[s].__update(!0,!1)}return this.__worldTransform},__hitTest:function(t,e,i,n,s,r){if(null!=this.__graphics){if(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;var a=this.getSymbol();if(i=!!i&&(null==a||a.pixelPerfectHitTest),this.__graphics.__hitTest(t,e,i,this.__getWorldTransform()))return null==n||s||(n._items[n._length++]=r),!0}return!1},__hitTestMask:function(t,e){return null!=this.__graphics&&!!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform())},__renderCanvas:function(t){throw new Vs(":TODO: remove me")},__renderCanvasMask:function(t){throw new Vs(":TODO: remove me")},__renderGL:function(t){if(this.isRenderable()&&!(this.__worldAlpha<=0))if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}this.__isCachingAsBitmap=!1}else null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask)),this.__drawGraphicsGL(t),null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__drawGraphicsGL:function(t){if(null!=this.__graphics){var e=t.getRenderTargetBaseTransform(),i=eo.pool.get();i.copyFrom(this.__renderTransform),i.concat(e),Fo.render(this.__graphics,t,i,this.__isMask||W.__isCachingAsMask),eo.pool.put(i),Uo.renderBitmap(this,t,0<this.__graphics.mustRefreshGraphicsCounter||this.forbidCachedBitmapUpdate)}},__preRenderGL:function(t){null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask))},__postRenderGL:function(t){null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__updateCachedBitmapFn:function(t,e,i){var n=this.getSymbol();null!=n&&n.useUniqueSharedBitmapCache&&null!=n.uniqueSharedCachedBitmap?(this.__cachedBitmap=n.uniqueSharedCachedBitmap,this.set_forbidCachedBitmapUpdate(!0)):(null==this.__cachedBitmap&&(this.__cachedBitmap=_l.__asRenderTexture()),this.__cacheBitmapFn(this.__cachedBitmap,t,e,i),this.__updateCachedBitmap=!1,this.__updateFilters=!1,null!=n&&n.useUniqueSharedBitmapCache&&(n.uniqueSharedCachedBitmap=this.__cachedBitmap))},__cacheBitmapFn:function(t,e,i,n){var s=W.__cachedBitmapPadding,r=b_.pool.get();if(this.__getRenderBounds(r),r.width<=0||r.height<=0)return b_.pool.put(r),void t.__resize(0,0,t.physicalWidth,t.physicalHeight);var a=b_.pool.get();this.__getBounds(a);var o=Math.ceil(r.width)+2*s,l=Math.ceil(r.height)+2*s;t.__resize(a.width,a.height,o,l),b_.pool.put(a);var h=eo.pool.get();h.copyFrom(this.__renderTransform),h.translate(s-Math.floor(r.x),s-Math.floor(r.y)),b_.pool.put(r);var _=null;null!=n&&((_=eo.pool.get()).copyFrom(h),_.invert(),_.concat(this.__renderTransform),_.concat(n));var u=this.__shader;this.__shader=null,e.maskManager.pushMask(null),t.__pushFrameBuffer(e,!0,!0,!0),Oo.drawBitmapDrawable(e,null,this,h,null,i,_),Oo.popFramebuffer(e,null),t.__imageShouldBeSynced=!0;var c=t.__pingPongTexture,f=(c.__swapped?c.__texture1:c.__texture0).__uvData;t.__createUVs(f.x0,f.y0,f.x1,f.y1,f.x2,f.y2,f.x3,f.y3),t.__isValid=!0,t.__usingPingPongTexture=!0,e.maskManager.popMask(),null!=n&&eo.pool.put(_),this.__shader=u,this.__updateFilters?Uh.__applyFilters(this.__filters,e,t):this.__cleanupIntermediateTextures();var d=eo.pool.get();d.copyFrom(h),d.invert(),t.__renderToLocalMatrix.copyFrom(d),eo.pool.put(d),eo.pool.put(h)},__cacheGL:function(t){if(!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}},__cleanupIntermediateTextures:function(){this.__disposeGraphicsBitmap()},setStage:function(t){if(this.stage!=t){null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.__fireRemovedFromStageEvent(null),null==t&&this.__releaseResources()),this.__updateStageInternal(t),null!=t&&this.__fireAddedToStageEvent(null)}return t},__fireRemovedFromStageEvent:function(t){this.__dispatchEvent(Ae.__create("removedFromStage",!1,!1))},__fireAddedToStageEvent:function(t){this.__dispatchEvent(Ae.__create("addedToStage",!1,!1))},__releaseResources:function(){var t=this.getSymbol();if(null!=t&&t.poolable)return t.pool.put(this),!1;var e=!1;if(null!=this.__graphics&&(this.__graphics.dispose(),e=!0),null!=this.__cachedBitmap&&(null!=t&&t.useUniqueSharedBitmapCache||this.__cachedBitmap.dispose(),e=!(this.__cachedBitmap=null)),null!=this.__filters){for(var i=0,n=this.__filters;i<n.length;){var s=n[i];++i,s.dispose()}e=!0}return e&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),null!=this.__objectTransform&&(y_.pool.put(this.__objectTransform),this.__objectTransform=null),!0},__disposeGraphicsBitmap:function(){if(null!=this.__graphics){var t=this.__graphics;t.set___bitmap(null),t.__dirty=!0}},__setRenderDirty:function(){this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},__setRenderDirtyNoCachedBitmap:function(){this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)},__setUpdateDirty:function(){this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},__setBranchDirty:function(){this.__branchDirty=!0,W.__worldBranchDirty++},__updateColor:function(){null!=this.parent?this.mustResetRenderColorTransform()?(this.__renderAlpha=1,this.__worldAlpha=this.__colorTransform.alphaMultiplier*this.parent.__renderAlpha,this.__renderColorTransform.reset(),this.__worldColorTransform.setFromCombination(this.get_transform().get_colorTransform(),this.parent.__renderColorTransform)):(this.__renderAlpha=this.__colorTransform.alphaMultiplier*this.parent.__renderAlpha,this.__worldAlpha=this.__colorTransform.alphaMultiplier*this.parent.__worldAlpha,this.__renderColorTransform.setFromCombination(this.get_transform().get_colorTransform(),this.parent.__renderColorTransform),this.__worldColorTransform.setFromCombination(this.get_transform().get_colorTransform(),this.parent.__worldColorTransform)):(this.__worldColorTransform.copyFrom(this.get_transform().get_colorTransform()),this.__worldAlpha=this.__colorTransform.alphaMultiplier,this.mustResetRenderColorTransform()?(this.__renderAlpha=1,this.__renderColorTransform.reset()):(this.__renderAlpha=this.__colorTransform.alphaMultiplier,this.__renderColorTransform.copyFrom(this.get_transform().get_colorTransform())))},__update:function(t,e){this.__updateTransforms(),e&&this.__transformDirty&&(this.__transformDirty=!1,W.__worldTransformDirty--),t||(this.__updateColor(),null!=this.parent&&(null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)),this.__renderDirty=this.__renderDirty&&!e,this.__updateDirty=!1)},isRenderable:function(){return!(!this.__visible||0==this.__transform.a&&0==this.__transform.b||0==this.__transform.c&&0==this.__transform.d)&&!this.__isMask},__inlineUpdate:function(t,e){this.__updateTransforms(),e&&this.__transformDirty&&(this.__transformDirty=!1,W.__worldTransformDirty--),t||(this.__updateColor(),null!=this.parent&&(null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)),this.__renderDirty=this.__renderDirty&&!e,this.__updateDirty=!1)},__updateChildren:function(t){(this.isRenderable()||this.__isMask)&&(this.__worldAlpha=this.__colorTransform.alphaMultiplier,this.__transformDirty&&(this.__transformDirty=!1,W.__worldTransformDirty--))},__updateTransforms:function(){var t=this.__transform,e=eo.pool.get();if(null!=this.parent){var i,n=(i=null!=this.parent.__worldTransform?this.parent.__worldTransform:this.parent.__transform).a,s=i.b,r=i.c,a=i.d,o=t.a,l=t.b,h=t.c,_=t.d;e.a=o*n+l*r,e.b=o*s+l*a,e.c=h*n+_*r,e.d=h*s+_*a,e.tx=t.tx*n+t.ty*r+i.tx,e.ty=t.tx*s+t.ty*a+i.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset)}else e.copyFrom(t),this.__worldOffset.setTo(0,0);if(null!=this.__scrollRect?(this.__offset=e.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0),null!=this.__cacheAsBitmapMatrix?ls.trace(":TODO: fill renderScaleX, renderScaleY and use __cacheAsBitmapMatrix where appropriate",{fileName:"DisplayObject.hx",lineNumber:1224,className:"openfl.display.DisplayObject",methodName:"__updateTransforms"}):this.__useSeparateRenderScaleTransform&&(this.renderScaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.renderScaleY=Math.sqrt(e.c*e.c+e.d*e.d)),this.__renderTransform.copyFrom(e),this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y),null==this.__worldTransform)this.__worldTransform=new eo;else if(!this.__isCachingAsBitmap){var u=this.__worldTransform,c=u.tx!=e.tx||u.ty!=e.ty,f=u.a!=e.a||u.d!=e.d||u.b!=e.b||u.c!=e.c,d=!1;null!=this.__graphics&&(d=this.__graphics.__dirty),f&&this._onWorldTransformScaleRotationChanged(),d||this.delayGraphicsRefresh(c,f)}this.__worldTransform.copyFrom(e),eo.pool.put(e)},delayGraphicsRefresh:function(t,e){if(null!=this.__graphics)if(e)if(this.delayScaleRotationGraphicsRefresh){var i=this.__graphics;i.mustRefreshGraphicsCounter=ml.__dirtyGraphicsDelay,i.set_dirty(!1)}else this.__graphics.set_dirty(!0);else if(t){var n=this.__graphics;n.mustRefreshGraphicsCounter=ml.__dirtyGraphicsDelay,n.set_dirty(!1)}},_onWorldTransformScaleRotationChanged:function(){this.delayScaleRotationGraphicsRefresh?this.__cacheAsBitmapCounter=ml.__dirtyGraphicsDelay:(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length)},__updateRecursiveMouseListenerCount:function(t){null==t&&(t=0);for(var e=this;null!=e;)e.__recursiveMouseListenerCount+=t,e=e.parent},onEventListenerAdded:function(t){Bh.isMouseEvent(t)&&(++this.__mouseListenerCount,this.__updateRecursiveMouseListenerCount(1))},onEventListenerRemoved:function(t){Bh.isMouseEvent(t)&&(--this.__mouseListenerCount,this.__updateRecursiveMouseListenerCount(-1))},__mustEvaluateHitTest:function(){return 0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth},__hasMouseListener:function(){return 0<this.__mouseListenerCount},get_alpha:function(){return this.__colorTransform.alphaMultiplier},set_alpha:function(t){return 1<t&&(t=1),t!=this.__colorTransform.alphaMultiplier&&(this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__colorTransform.alphaMultiplier=t},set_blendMode:function(t){return this.__blendMode!=t&&(this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.__blendMode=t),this.blendMode=t},set_shader:function(t){return this.__shader!=t&&(this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.__shader=t),this.shader=t},__updateStageInternal:function(t){this.stage=t,this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},get_cacheAsBitmap:function(){return this.__resolvedCacheAsBitmap},set_cacheAsBitmap:function(t){return t!=this.__cacheAsBitmapFlag&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__cacheAsBitmapFlag=t,this.__updateResolvedCacheAsBitmap(),t},__updateResolvedCacheAsBitmap:function(){var t=this.__resolvedCacheAsBitmap;this.__resolvedCacheAsBitmap=this.__cacheAsBitmapFlag||null!=this.get_filters()&&0<this.get_filters().length,t!=this.__resolvedCacheAsBitmap&&this.__onResolvedCacheAsBitmapChanged()},__onResolvedCacheAsBitmapChanged:function(){},set_forbidCachedBitmapUpdate:function(t){return this.forbidCachedBitmapUpdate=t},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(t){return this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),null!=this.__cacheAsBitmapMatrix?this.__cacheAsBitmapMatrix.copyFrom(t):this.__cacheAsBitmapMatrix=t.clone(),this.__cacheAsBitmapMatrix},get_cacheAsBitmapSmooth:function(){return this.__cacheAsBitmapSmooth},set_cacheAsBitmapSmooth:function(t){return this.__cacheAsBitmapSmooth=t},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(t){if(null!=this.__filters&&null!=t&&t.length==this.__filters.length){for(var e=!0,i=0,n=this.__filters.length;i<n;){var s=i++;if(!this.__filters[s].equals(t[s])){e=!1;break}}if(e)return t}if(null!=this.__filters)for(var r=0,a=this.__filters;r<a.length;){var o=a[r];++r,o.dispose()}return null!=t&&0<t.length?(this.__updateFilters=!0,this.__filters=t):(this.__updateFilters=!1,this.__filters=null),this.__updateResolvedCacheAsBitmap(),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),t},get_height:function(){var t=b_.pool.get(),e=this.__transform;this.__getBounds(t),t.isEmpty()||t.transform(t,e);var i=t.height;return b_.pool.put(t),i},set_height:function(t){var e=b_.pool.get();return this.__getBounds(e),t!=e.height?this.set_scaleY(t/e.height):this.set_scaleY(1),b_.pool.put(e),t},get_loaderInfo:function(){return null==this.loaderInfo&&(this.loaderInfo=kl.create(null)),this.loaderInfo},get_mask:function(){return this.__mask},set_mask:function(t){if(t==this.__mask)return t;if(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),null!=this.__mask){this.__mask.__isMask=!1,this.__mask.__maskCached=!1;var e=this.__mask;e.__transformDirty||(e.__transformDirty=!0,e.__isMask&&(e.__maskCached=!1),e.__renderDirty||(e.__renderDirty=!0,W.__worldRenderDirty++,null!=e.__cachedParent&&e.__cachedParent.__setRenderDirty()),e.__updateDirty||null==e.stage||e==e.stage||(e.__updateDirty=!0),W.__worldTransformDirty++);var i=this.__mask;i.__updateCachedBitmap=!0,i.__updateFilters=null!=i.__filters&&0<i.__filters.length,i.__isMask&&(i.__maskCached=!1),i.__renderDirty||(i.__renderDirty=!0,W.__worldRenderDirty++,null!=i.__cachedParent&&i.__cachedParent.__setRenderDirty()),i.__updateDirty||null==i.stage||i==i.stage||(i.__updateDirty=!0)}return null!=t&&(t.__isMask=!0,t.__maskCached=!1,t.__transformDirty||(t.__transformDirty=!0,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),W.__worldTransformDirty++),t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.__filters&&0<t.__filters.length,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0)),this.__mask=t},get_mouseX:function(){var t=no.current.stage.__mouseX,e=no.current.stage.__mouseY,i=this.__getWorldTransform(),n=i.a*i.d-i.b*i.c;return 0==n?-i.tx:1/n*(i.c*(i.ty-e)+i.d*(t-i.tx))},get_mouseY:function(){var t=no.current.stage.__mouseX,e=no.current.stage.__mouseY,i=this.__getWorldTransform(),n=i.a*i.d-i.b*i.c;return 0==n?-i.ty:1/n*(i.a*(e-i.ty)+i.b*(i.tx-t))},get_name:function(){return this.__name},set_name:function(t){return this.__name=t},get_root:function(){return null!=this.stage?no.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(t){if(t!=this.__rotation){this.__rotation=t;var e=this.__rotation*(Math.PI/180);this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e);var i=this.get_scaleX(),n=this.get_scaleY();this.__transform.a=this.__rotationCosine*i,this.__transform.b=this.__rotationSine*i,this.__transform.c=-this.__rotationSine*n,this.__transform.d=this.__rotationCosine*n,this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)}return t},hasZeroScale:function(){return 0==this.__transform.a&&0==this.__transform.b||0==this.__transform.c&&0==this.__transform.d},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(t){var e=this.__rotationCosine*t,i=this.__rotationSine*t;return this.__transform.a==e&&this.__transform.b==i||this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__transform.a=e,this.__transform.b=i,t},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(t){var e=-this.__rotationSine*t,i=this.__rotationCosine*t;return this.__transform.d==i&&this.__transform.c==e||this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__transform.c=e,this.__transform.d=i,t},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(t){return t!=this.__scrollRect&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)),this.__scrollRect=t},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=y_.pool.get(),this.__objectTransform.reset(this)),this.__objectTransform},set_transform:function(t){if(null==t)throw new Vs(new Th("Parameter transform must be non-null."));return null==this.__objectTransform&&(this.__objectTransform=y_.pool.get(),this.__objectTransform.reset(this)),this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__objectTransform.set_matrix(t.get_matrix()),this.__objectTransform.set_colorTransform(t.get_colorTransform().__clone()),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(t){return t!=this.__visible&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__visible=t},get_width:function(){var t=b_.pool.get(),e=this.__transform;this.__getBounds(t),t.isEmpty()||t.transform(t,e);var i=t.width;return b_.pool.put(t),i},set_width:function(t){var e=b_.pool.get();return this.__getBounds(e),t!=e.width?this.set_scaleX(t/e.width):this.set_scaleX(1),b_.pool.put(e),t},get_x:function(){return this.__transform.tx},set_x:function(t){return t!=this.__transform.tx&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)),this.__transform.tx=t},get_y:function(){return this.__transform.ty},set_y:function(t){return t!=this.__transform.ty&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)),this.__transform.ty=t},mustResetRenderColorTransform:function(){return!!this.__resolvedCacheAsBitmap||this.__isMask},__class__:W,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_forbidCachedBitmapUpdate:"set_forbidCachedBitmapUpdate",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapSmooth:"set_cacheAsBitmapSmooth",get_cacheAsBitmapSmooth:"get_cacheAsBitmapSmooth",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});function we(){W.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=!1,this.set_tabIndex(-1)}(i["openfl.display.InteractiveObject"]=we).__name__=["openfl","display","InteractiveObject"],we.__super__=W,we.prototype=n(W.prototype,{get_tabIndex:function(){return this.__tabIndex},set_tabIndex:function(t){return this.__tabIndex=t},requestSoftKeyboard:function(){return no.notImplemented("InteractiveObject.requestSoftKeyboard"),!1},__getInteractive:function(t){return null!=t&&null!=(t._items[t._length++]=this).parent&&this.parent.__getInteractive(t),!0},__hitTest:function(t,e,i,n,s,r){return!(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)||!!s&&!this.mouseEnabled)&&W.prototype.__hitTest.call(this,t,e,i,n,s,r)},get_tabEnabled:function(){return this.__tabEnabled},set_tabEnabled:function(t){return this.__tabEnabled=t},__class__:we,__properties__:n(W.prototype.__properties__,{set_tabIndex:"set_tabIndex",get_tabIndex:"get_tabIndex",set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});function Gt(){this._length=0}(i["openfl.utils.UnshrinkableArrayData"]=Gt).__name__=["openfl","utils","UnshrinkableArrayData"],Gt.prototype={__class__:Gt};function K(){we.call(this),this.mouseChildren=!0;var t=new Gt;t._items=[],t._length=t._items.length,this.__children=t}(i["openfl.display.DisplayObjectContainer"]=K).__name__=["openfl","display","DisplayObjectContainer"],K.__super__=we,K.prototype=n(we.prototype,{addChild:function(t){return this.addChildAt(t,this.__children._length)},addChildAt:function(t,e){if(e<0||e>this.__children._length)throw new Vs("Invalid index position "+e);this.__useSeparateRenderScaleTransform||(t.__useSeparateRenderScaleTransform=!1);var i=-1;if(t.parent==this){var n=this.__children,s=n._items.indexOf(t,null);i=s>=n._length?-1:s;var r=this.__children;i>=r._length&&(r._length=i+1),r._items[i]=null;for(var a=this.__children,o=a._length-1;e<=o;)a._items[o+1]=a._items[o],--o;a._items[e]=t,a._length=e>a._length?e:a._length,++a._length}else{if(null!=t.parent){var l=t.stage;t.stage=null,t.parent.removeChild(t),t.stage=l}for(var h=this.__children,_=h._length-1;e<=_;)h._items[_+1]=h._items[_],--_;h._items[e]=t,h._length=e>h._length?e:h._length,++h._length,null!=t.__name&&""!=t.__name&&(this[t.__name]=t),this.initParent(t)}return this.__branchDirty=!0,W.__worldBranchDirty++,this.__updateRecursiveMouseListenerCount(t.__recursiveMouseListenerCount),-1<i&&this.removeChildAt(i<e?i:i+1),t},initParent:function(t){null!=(t.parent=this).stage&&t.setStage(this.stage),t.updateCachedParent(),t.__transformDirty||(t.__transformDirty=!0,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),W.__worldTransformDirty++),t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.__filters&&0<t.__filters.length,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),t.dispatchEvent(Ae.__create("added",!0))},areInaccessibleObjectsUnderPoint:function(t){return!1},contains:function(t){for(;t!=this&&null!=t;)t=t.parent;return t==this},getChildAt:function(t){if(0<=t&&t<this.__children._length){var e=this.__children;return t>=e._length?null:e._items[t]}return null},getChildByName:function(t){for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];if(++e,n.__name==t)return n}return null},getChildIndex:function(t){var e=this.__children,i=e._items.indexOf(t,null);return i>=e._length?-1:i},hitTestPoint:function(t,e,i){null==i&&(i=!1);var n=we.prototype.hitTestPoint.call(this,t,e,i);if(n)return n;for(var s=0,r=this.__children;s<r._length;){var a=s>=r._length?null:r._items[s];if(++s,a.hitTestPoint(t,e,i))return!0}return!1},getObjectsUnderPoint:function(t){var e=new Gt;e._items=[],e._length=e._items.length;var i=e;this.__hitTest(t.x,t.y,!1,i,!1,this);for(var n=0,s=i._length-1;n<s;){var r=i._items[n];i._items[n]=i._items[s],i._items[s]=r,++n,--s}return i},removeChild:function(t){return null!=t&&t.parent==this&&(t.dispatchEvent(Ae.__create("removed",!0)),null!=this.stage&&t.setStage(null),this.__branchDirty=!0,W.__worldBranchDirty++,this.__updateRecursiveMouseListenerCount(-t.__recursiveMouseListenerCount),(t.parent=null)!=t.__cachedParent&&t.updateCachedParent(),ru.remove(this.__children,t),t.__transformDirty||(t.__transformDirty=!0,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),W.__worldTransformDirty++),t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.__filters&&0<t.__filters.length,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),t},removeChildAt:function(t){if(0<=t&&t<this.__children._length){var e=this.__children,i=t>=e._length?null:e._items[t];if(null!=i)return this.removeChild(i);ru.splice(this.__children,t,1),this.__branchDirty=!0,W.__worldBranchDirty++}return null},removeChildren:function(t,e){if(null==e&&(e=2147483647),null==t&&(t=0),!(2147483647==e&&(e=this.__children._length-1)<0||t>this.__children._length-1)){if(e<t||t<0||e>this.__children._length)throw new Vs(new xh("The supplied index is out of bounds."));for(var i=e-t;0<=i;)this.removeChildAt(t),--i}},resolve:function(t){var e=At.field(this,t);return null!=e?e:this.getChildByName(t)},setChildIndex:function(t,e){if(0<=e&&e<=this.__children._length&&t.parent==this){var i=this.__children;if(null==(e>=i._length?null:i._items[e])){var n=this.__children,s=n._items.indexOf(t,null),r=s>=n._length?-1:s,a=this.__children;r>=a._length&&(a._length=r+1),a._items[r]=null;var o=this.__children;e>=o._length&&(o._length=e+1),o._items[e]=t}else{ru.remove(this.__children,t);for(var l=this.__children,h=l._length-1;e<=h;)l._items[h+1]=l._items[h],--h;l._items[e]=t,l._length=e>l._length?e:l._length,++l._length}this.__branchDirty=!0,W.__worldBranchDirty++}},swapChildren:function(t,e){if(t.parent==this&&e.parent==this){var i=this.__children,n=i._items.indexOf(t,null),s=n>=i._length?-1:n,r=this.__children,a=r._items.indexOf(e,null),o=a>=r._length?-1:a;this.swapChildrenAt(s,o)}},swapChildrenAt:function(t,e){var i=this.__children,n=t>=i._length?null:i._items[t],s=this.__children,r=this.__children,a=e>=r._length?null:r._items[e];t>=s._length&&(s._length=t+1),s._items[t]=a;var o=this.__children;e>=o._length&&(o._length=e+1),o._items[e]=n,this.__branchDirty=!0,W.__worldBranchDirty++},updateCachedParent:function(t){if(t=we.prototype.updateCachedParent.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.updateCachedParent(t)}return t},__broadcast:function(t,e){null==t.target&&(t.target=this);var i=we.prototype.__broadcast.call(this,t,e);if(!t.__isCanceled&&e)for(var n=0,s=this.__children;n<s._length;){var r=n>=s._length?null:s._items[n];if(++n,r.__broadcast(t,!0),t.__isCanceled)return!0}return i},__getBounds:function(t){if(we.prototype.__getBounds.call(this,t),0!=this.__children._length){for(var e=b_.pool.get(),i=0,n=this.__children;i<n._length;){var s=i>=n._length?null:n._items[i];if(++i,s.isRenderable()){var r=s.__transform;s.__getBounds(e),e.isEmpty()||e.transform(e,r),t.__expand(e.x,e.y,e.width,e.height)}}b_.pool.put(e)}},__getChildrenRenderBounds:function(t){if(0!=this.__children._length){for(var e=b_.pool.get(),i=0,n=this.__children;i<n._length;){var s=i>=n._length?null:n._items[i];++i,s.isRenderable()&&(s.__getRenderBounds(e),t.__expand(e.x,e.y,e.width,e.height))}b_.pool.put(e)}},__hitTest:function(t,e,i,n,s,r){if(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)||!(!s||this.mouseChildren)&&!this.mouseEnabled)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;var a=io.pool.get();if(a.setTo(t,e),null!=this.__scrollRect&&!this.__scrollRect.containsPoint(this.globalToLocal(a)))return io.pool.put(a),!1;io.pool.put(a);var o=this.getSymbol();i=!!i&&(null==o||o.pixelPerfectHitTest);var l=0<this.__mouseListenerCount;if(l){var h=K.__mouseListenerBranchDepthStack;if(h._items[h._length++]=this.__branchDepth,null==this.__branchDepth){for(var _=0,u=this;null==u.__branchDepth;)u=u.parent,++_;this.__branchDepth=u.__branchDepth+_}W.__lastMouseListenerBranchDepth=0!=this.__branchDepth?this.__branchDepth:9999}var c=this.__children._length;if(s)if(null!=n&&this.mouseChildren){if(null!=n){for(var f=n._length,d=!1,p=!1;0<=--c;){var g=this.__children,m=c>=g._length?null:g._items[c],v=m.__clippedAt;if(-1!=v){var b,y=this.__children;if(null!=(v>=y._length?null:y._items[v])){var w=this.__children;b=!(v>=w._length?null:w._items[v]).__hitTestMask(t,e)}else b=!1;if(b){c=v;continue}}if(((d=m.__getInteractive(null))||this.mouseEnabled&&!p)&&m.__hitTest(t,e,i,n,!0,m)&&(this.mouseEnabled&&(p=!0),d)){if(p)break;if(l){var x=K.__mouseListenerBranchDepthStack;x._items[--x._length];x._items[x._length]=null;var T=K.__mouseListenerBranchDepthStack,S=T._items[T._length-1];W.__lastMouseListenerBranchDepth=0!=S?S:9999}return!0}}if(p){for(var E=n._length-1;f<=E;)n._items[E+1]=n._items[E],--E;if(n._items[f]=r,n._length=f>n._length?f:n._length,++n._length,l){var I=K.__mouseListenerBranchDepthStack;I._items[--I._length];I._items[I._length]=null;var P=K.__mouseListenerBranchDepthStack,C=P._items[P._length-1];W.__lastMouseListenerBranchDepth=0!=C?C:9999}return!0}}}else for(;0<=--c;){var D=this.__children,A=c>=D._length?null:D._items[c],R=A.__clippedAt;if(-1!=R){var M,F=this.__children;if(null!=(R>=F._length?null:F._items[R])){var B=this.__children;M=!(R>=B._length?null:B._items[R]).__hitTestMask(t,e)}else M=!1;if(M){c=R;continue}}if(null!=A&&A.__hitTest(t,e,i,null,this.mouseChildren,A)){if(null!=n&&(n._items[n._length++]=r),l){var L=K.__mouseListenerBranchDepthStack;L._items[--L._length];L._items[L._length]=null;var k=K.__mouseListenerBranchDepthStack,N=k._items[k._length-1];W.__lastMouseListenerBranchDepth=0!=N?N:9999}return!0}}else for(;0<=--c;){var O=this.__children,U=this.__children;if((c>=O._length?null:O._items[c]).__hitTest(t,e,i,n,!1,c>=U._length?null:U._items[c])){if(null!=n&&(n._items[n._length++]=r),l){var G=K.__mouseListenerBranchDepthStack;G._items[--G._length];G._items[G._length]=null;var X=K.__mouseListenerBranchDepthStack,V=X._items[X._length-1];W.__lastMouseListenerBranchDepth=0!=V?V:9999}return!0}}if(l){var z=K.__mouseListenerBranchDepthStack;z._items[--z._length];z._items[z._length]=null;var H=K.__mouseListenerBranchDepthStack,Y=H._items[H._length-1];W.__lastMouseListenerBranchDepth=0!=Y?Y:9999}return!1},__hitTestMask:function(t,e){for(var i=this.__children._length;0<=--i;){var n=this.__children;if(null!=(i>=n._length?null:n._items[i])){var s=this.__children;if((i>=s._length?null:s._items[i]).__hitTestMask(t,e))return!0}}return!1},__renderCanvas:function(t){if(this.isRenderable()&&!(this.__worldAlpha<=0)){we.prototype.__renderCanvas.call(this,t),null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__worldTransform),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__renderCanvas(t)}null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},__renderCanvasMask:function(t){throw new Vs(":TODO: Remove")},__renderGL:function(t){if(this.isRenderable()&&!(this.__worldAlpha<=0))if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}this.__isCachingAsBitmap=!1}else{null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask)),this.__drawGraphicsGL(t);for(var l=-1,h=0,_=this.__children;h<_._length;){var u=h>=_._length?null:_._items[h];++h,-1==--l&&t.maskManager.popMask(),0!=u.__clipDepth?(u.__maskCached||(null!=u.__cachedBitmap&&(u.__cachedBitmap.dispose(),u.__cachedBitmap=null),u.__isMask=!0,u.__update(!0,!0),u.__maskCached=!0),t.maskManager.pushMask(u),l=u.__clipDepth):u.__renderGL(t)}0<=l&&t.maskManager.popMask(),null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},__fireRemovedFromStageEvent:function(t){if(we.prototype.__fireRemovedFromStageEvent.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__fireRemovedFromStageEvent(t)}},__updateStageInternal:function(t){if(we.prototype.__updateStageInternal.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__updateStageInternal(t)}},__fireAddedToStageEvent:function(t){if(we.prototype.__fireAddedToStageEvent.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__fireAddedToStageEvent(t)}},__releaseResources:function(){if(we.prototype.__releaseResources.call(this)){if(null!=this.__children)for(var t=0,e=this.__children;t<e._length;){var i=t>=e._length?null:e._items[t];++t,i.__releaseResources()}return!0}return!1},__cleanupIntermediateTextures:function(){we.prototype.__cleanupIntermediateTextures.call(this);for(var t=0,e=this.__children;t<e._length;){var i=t>=e._length?null:e._items[t];++t,i.__cleanupIntermediateTextures()}},__update:function(t,e){if(we.prototype.__update.call(this,t,e),(this.isRenderable()||this.__isMask)&&e)for(var i=0,n=this.__children;i<n._length;){var s=i>=n._length?null:n._items[i];++i,s.__update(t,!0)}},__updateChildren:function(t){we.prototype.__updateChildren.call(this,t);for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__update(t,!0)}},isRenderable:function(){return!!we.prototype.isRenderable.call(this)&&(null!=this.__graphics||null!=this.__children&&0<this.__children._length)},__pushHitTestLevel:function(t){if(t){var e=K.__mouseListenerBranchDepthStack;if(e._items[e._length++]=this.__branchDepth,null==this.__branchDepth){for(var i=0,n=this;null==n.__branchDepth;)n=n.parent,++i;this.__branchDepth=n.__branchDepth+i}W.__lastMouseListenerBranchDepth=0!=this.__branchDepth?this.__branchDepth:9999}},__popHitTestLevel:function(t){if(t){var e=K.__mouseListenerBranchDepthStack;e._items[--e._length];e._items[e._length]=null;var i=K.__mouseListenerBranchDepthStack,n=i._items[i._length-1];W.__lastMouseListenerBranchDepth=0!=n?n:9999}},get_numChildren:function(){return this.__children._length},__onResolvedCacheAsBitmapChanged:function(){for(var t=this.__resolvedCacheAsBitmap?this:null,e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.updateCachedParent(t)}},__class__:K,__properties__:n(we.prototype.__properties__,{get_numChildren:"get_numChildren"})});function o(){K.call(this),this.buttonMode=!1,this.useHandCursor=!0}(i["openfl.display.Sprite"]=o).__name__=["openfl","display","Sprite"],o.__super__=K,o.prototype=n(K.prototype,{startDrag:function(t,e){null==t&&(t=!1),null!=this.stage&&this.stage.__startDrag(this,t,e)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?Oa.POINTER:null},__hitTest:function(t,e,i,n,s,r){var a=this.getSymbol();if(i=!!i&&(null==a||a.pixelPerfectHitTest),null!=this.hitArea){if(!this.hitArea.mouseEnabled){var o=0<this.__mouseListenerCount;if(o){var l=K.__mouseListenerBranchDepthStack;if(l._items[l._length++]=this.__branchDepth,null==this.__branchDepth){for(var h=0,_=this;null==_.__branchDepth;)_=_.parent,++h;this.__branchDepth=_.__branchDepth+h}W.__lastMouseListenerBranchDepth=0!=this.__branchDepth?this.__branchDepth:9999}this.hitArea.mouseEnabled=!0;var u=this.hitArea.__hitTest(t,e,i,null,!0,r);if(this.hitArea.mouseEnabled=!1,o){var c=K.__mouseListenerBranchDepthStack;c._items[--c._length];c._items[c._length]=null;var f=K.__mouseListenerBranchDepthStack,d=f._items[f._length-1];W.__lastMouseListenerBranchDepth=0!=d?d:9999}return u&&(n._items[n._length++]=r),u}}else{if(!r.__visible||this.__isMask||s&&!this.mouseChildren&&!this.mouseEnabled)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;if(K.prototype.__hitTest.call(this,t,e,i,n,s,r))return!0;if((!s||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(t,e,i,this.__getWorldTransform()))return null!=n&&(n._items[n._length++]=r),!0}return!1},__hitTestMask:function(t,e){return!!K.prototype.__hitTestMask.call(this,t,e)||!(null==this.__graphics||!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform()))},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new ml,this.__graphics.__owner=this),this.__graphics},get_tabEnabled:function(){return!!this.__tabEnabled||this.buttonMode},__class__:o,__properties__:n(K.prototype.__properties__,{get_graphics:"get_graphics"})});function l(){o.call(this),this.__currentFrame=0,this.__currentLabels=[],this.__totalFrames=0}(i["openfl.display.MovieClip"]=l).__name__=["openfl","display","MovieClip"],l.__super__=o,l.prototype=n(o.prototype,{addFrameScript:function(t,e){null!=e?(null==this.__frameScripts&&(this.__frameScripts=new fs),this.__frameScripts.h[t]=e):null!=this.__frameScripts&&this.__frameScripts.remove(t)},addStaticFrameScript:function(t,e){null!=e?(null==this.__staticFrameScripts&&(this.__staticFrameScripts=new fs),this.__staticFrameScripts.h[t]=e):null!=this.__staticFrameScripts&&this.__staticFrameScripts.remove(t)},gotoAndPlay:function(t,e){},gotoAndStop:function(t,e){},nextFrame:function(){},play:function(){},prevFrame:function(){},stop:function(){},get_currentFrame:function(){return this.__currentFrame},get_currentFrameLabel:function(){return this.__currentFrameLabel},get_currentLabel:function(){return this.__currentLabel},get_currentLabels:function(){return this.__currentLabels},get_framesLoaded:function(){return this.__totalFrames},get_totalFrames:function(){return this.__totalFrames},__class__:l,__properties__:n(o.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_framesLoaded:"get_framesLoaded",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});function u(t,e){if(this.__maskDataDirty=!1,this.__updating9SliceBitmap=!1,this.__9SliceBitmapScaleY=0,this.__9SliceBitmapScaleX=0,l.call(this),this.__swf=t,this.__symbol=e,this.__lastUpdate=1,this.__objects=new fs,this.__zeroSymbol=-1,this.__childrenHaveClippedAtProperty=!1,this.__currentFrame=1,null!=this.__symbol?(this.__totalFrames=this.__symbol.frames.length,this.set_cacheAsBitmap(this.__symbol.useUniqueSharedBitmapCache)):this.__totalFrames=0,this.__SWFDepthData=new ds,this.__maskData=new ds,this.__maskDataKeys=[],this.__currentLabels=[],null!=this.__symbol)for(var i=0,n=this.__symbol.frames.length;i<n;){var s=i++;null!=this.__symbol.frames[s].label&&this.__currentLabels.push(new dl(this.__symbol.frames[s].label,1+s))}this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),1<this.__totalFrames&&this.play(),this.__renderFrame(0)}(i["format.swf.lite.MovieClip"]=u).__name__=["format","swf","lite","MovieClip"],u.__properties__={set_processSoundCommandCallback:"set_processSoundCommandCallback",get_processSoundCommandCallback:"get_processSoundCommandCallback"},u._processSoundCommandCallback=null,u.get_processSoundCommandCallback=function(){return u._processSoundCommandCallback},u.set_processSoundCommandCallback=function(t){return sr.current.addModule(new qe),u._processSoundCommandCallback=t},u.__super__=l,u.prototype=n(l.prototype,{enableChildrenCache:function(){this.__childrenCache=new ds},getSymbol:function(){return this.__symbol},gotoAndPlay:function(t,e){this.__goto(t,e)&&this.play()},gotoAndStop:function(t,e){this.__goto(t,e)&&this.stop()},nextFrame:function(){var t=this.__currentFrame+1;t>this.__totalFrames&&(t=this.__totalFrames),this.__currentFrame=t,this.__updateFrame()},play:function(){!this.__playing&&1<this.__totalFrames&&(this.__playing=!0,this.__timeElapsed=0)},prevFrame:function(){var t=this.__currentFrame-1;t<1&&(t=1),this.gotoAndStop(t)},stop:function(){this.__playing&&(this.__playing=!1)},get_graphics:function(){if(null!=this.__graphics&&null==this.__graphics.__owner)throw new Vs("Not allowed!");return l.prototype.get_graphics.call(this)},unflatten:function(){this.__lastUpdate=0,this.__updateFrame()},__applyTween:function(t,e,i){return t+(e-t)*i},__createObject:function(t){var e=null,i=!1;if(null!=this.__childrenCache&&null!=this.__childrenCache.h.__keys__[t.__id__])return this.__childrenCache.h[t.__id__];if(this.__swf.symbols.h.hasOwnProperty(t.symbol)){var n=this.__swf.symbols.h[t.symbol];if(n.poolable&&(i=!0,0<n.pool.size)){var s=n.pool.get();return s.__reset(),null!=t.name&&s.set_name(t.name),s}if(null==e&&null!=n.className){var r=n.className,a=this.__swf.classes,o=null!=Zu[r]?a.getReserved(r):a.h[r];null!=o&&(e=mi.createInstance(o,[this.__swf,n]))}if(null==e&&this.__swf.classes_id.h.hasOwnProperty(t.symbol)){var l=this.__swf.classes_id.h[t.symbol];null!=l&&(e=mi.createInstance(l,[this.__swf,n]))}null==e&&(e=zs.__instanceof(n,ui)?new u(this.__swf,n):zs.__instanceof(n,Cs)?this.__createShape(n):zs.__instanceof(n,ai)?this.__createMorphShape(n):zs.__instanceof(n,ii)?new ll(_l.getFromSymbol(n),1,!0):zs.__instanceof(n,si)?new ze(this.__swf,n):zs.__instanceof(n,ci)?new ti(this.__swf,n):zs.__instanceof(n,ni)?new g(this.__swf,n):zs.__instanceof(n,hi)?new $e(this.__swf,n):new W).set_forbidCachedBitmapUpdate(n.forbidCachedBitmapUpdate),e.symbolId=n.id,null!=t.name&&e.set_name(t.name)}return null==this.__childrenCache||i||this.__childrenCache.set(t,e),e},__createShape:function(t){var e=new He,i=new ml(!1);return(e.__graphics=i).copyFrom(t.graphics,!0),i.__owner=e},__createMorphShape:function(t){return new We(this.__swf,t)},__getFrameTime:function(){var t=this.stage.frameTime;return null!=t?t:this.__swf.frameTime},__enterFrame:function(t){if(this.__playing){this.__timeElapsed+=t;var e=this.stage.frameTime,i=null!=e?e:this.__swf.frameTime,n=Math.floor(this.__timeElapsed/i);for(this.__timeElapsed%=i,this.__currentFrame+=n;this.__currentFrame>this.__totalFrames;)this.__currentFrame-=this.__totalFrames;this.__updateFrame()}l.prototype.__enterFrame.call(this,t)},__getFrame:function(t){var e=0;if("number"==typeof t&&(0|t)===t)e=t;else if("string"==typeof t){var i=t;if(null!=this.__symbol){for(var n=!1,s=0,r=this.__symbol.frames.length;s<r;){var a=s++;if(this.__symbol.frames[a].label==i){e=1+a,n=!0;break}}n||(e=this.__currentFrame)}}return e<1?e=1:e>this.__totalFrames&&(e=this.__totalFrames),e},__goto:function(t,e){if(null!=this.__targetFrame)return!1;var i=this.__getFrame(t);if(i==this.__currentFrame)return!0;for(this.__targetFrame=i,this.play();this.__playing=!0,this.__currentFrame=this.__targetFrame,this.__updateFrame(),this.__targetFrame!=this.__currentFrame;);return this.__targetFrame=null,this.__playing},__placeObject:function(t,e){var i;if(null!=e.matrix&&(t.get_transform().set_matrix(e.matrix),zs.__instanceof(t,ze))){i=t;var n=e.matrix,s=i.symbol.x,r=i.symbol.y;t.set_x(Math.round(t.__transform.tx+n.a*s+n.c*r)),t.set_y(Math.round(t.__transform.ty+n.b*s+n.d*r))}zs.__instanceof(t,We)&&null!=e.ratio&&t.set_ratio(e.ratio);if(null!=e.colorTransform&&t.get_transform().set_colorTransform(e.colorTransform),null!=e.blendMode&&t.set_blendMode(e.blendMode),t.set_cacheAsBitmap(t.__resolvedCacheAsBitmap||e.cacheAsBitmap),null!=e.filters){for(var a=[],o=0,l=e.filters;o<l.length;){var h=l[o];switch(++o,h[1]){case 0:var _=h[4],u=h[3],c=h[2];a.push(new Hh(c,u,_));break;case 1:var f,d=h[3],p=h[2].value;f=null!=p?new tc(p):null;var g,m=d.value;g=null!=m?new tc(m):null,a.push(new Yh(f,g));break;case 2:var v=h[12],b=h[11],y=h[10],w=h[9],x=h[8],T=h[7],S=h[6],E=h[5],I=h[4],P=h[3],C=h[2];a.push(new Wh(C,P,I,E,S,T,x,w,y,b,v));break;case 3:var D=h[9],A=h[8],R=h[7],M=h[6],F=h[5],B=h[4],L=h[3],k=h[2];a.push(new Kh(k,L,B,F,M,R,A,D));break;case 4:var N=h[12],O=h[11],U=h[10],G=h[9],X=h[8],V=h[7],z=h[6],H=h[5],Y=h[4],W=h[3],K=h[2];a.push(new jh(K,W,Y,H,z,V,X,G,U,O,N));break;case 5:var j=h[13],q=h[12],J=h[11],Z=h[10],Q=h[9],$=h[8],tt=h[7],et=h[6],it=h[5],nt=h[4],st=h[3],rt=h[2];a.push(new Vh(rt,st,nt,it,et,tt,$,Q,Z,J,q,j));break;case 6:var at=h[12],ot=h[11],lt=h[10],ht=h[9],_t=h[8],ut=h[7],ct=h[6],ft=h[5],dt=h[4],pt=h[3],gt=h[2];a.push(new Xh(gt,pt,dt,ft,ct,ut,_t,ht,lt,ot,at))}}t.set_filters(a)}else t.set_filters(null);null!=t.__name&&(this[t.__name]=t)},__update9SliceBitmap:function(){var t=Math.max(1,this.renderScaleX),e=Math.max(1,this.renderScaleY);if(null!=this.__9SliceBitmap&&(1e-5<Math.abs(t-this.__9SliceBitmapScaleX)||1e-5<Math.abs(e-this.__9SliceBitmapScaleY))&&(this.__9SliceBitmap.dispose(),this.__9SliceBitmap=null),null==this.__9SliceBitmap){this.__9SliceBitmapScaleX=t,this.__9SliceBitmapScaleY=e,this.__updating9SliceBitmap=!0;var i=b_.pool.get();if(this.__getBounds(i),i.width<=0&&i.height<=0)throw b_.pool.put(i),new Vs("Error creating a cached bitmap. The texture size is "+i.width+"x"+i.height);if(null==this.__scale9Rect?this.__scale9Rect=this.__symbol.scalingGridRect.clone():this.__scale9Rect.copyFrom(this.__symbol.scalingGridRect),!this.__scale9Rect.intersects(i))return this.__9SliceBitmap=null,this.__updating9SliceBitmap=!1,void b_.pool.put(i);this.__scale9Rect.x-=i.x,this.__scale9Rect.y-=i.y;var n=this.renderScaleX,s=this.renderScaleY;this.renderScaleX=t,this.renderScaleY=e;for(var r=0,a=this.__children;r<a._length;){var o=r>=a._length?null:a._items[r];if(++r,o.renderScaleX!=n||o.renderScaleY!=s)throw new Vs(":TODO: 9 sliced child has different render scale than parent");o.renderScaleX=t,o.renderScaleY=e}var l=no.current.stage.__renderer.renderSession,h=_l.__asRenderTexture();h.__resize(i.width,i.height,Math.ceil(i.width*t),Math.ceil(i.height*e));var _=eo.pool.get();_.identity(),_.a=t,_.d=e,_.translate(-i.x*t,-i.y*e),l.maskManager.pushMask(null),h.__pushFrameBuffer(l,!1,!1,!0),Oo.drawBitmapDrawable(l,null,this,_,null,null,null),Oo.popFramebuffer(l,null),h.__imageShouldBeSynced=!0;var u=h.__pingPongTexture,c=(u.__swapped?u.__texture1:u.__texture0).__uvData;h.__createUVs(c.x0,c.y0,c.x1,c.y1,c.x2,c.y2,c.x3,c.y3),h.__isValid=!0,h.__usingPingPongTexture=!0,l.maskManager.popMask(),eo.pool.put(_),b_.pool.put(i),this.__9SliceBitmap=h,this.__updating9SliceBitmap=!1,this.renderScaleX=n,this.renderScaleY=s;for(var f=0,d=this.__children;f<d._length;){var p=f>=d._length?null:d._items[f];++f,p.renderScaleX=n,p.renderScaleY=s}}},drawScale9Bitmap:function(t){if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}this.__isCachingAsBitmap=!1}else{var l=b_.pool.get();this.__getBounds(l);var h=this.__9SliceBitmap.width,_=this.__9SliceBitmap.height,u=h-this.__scale9Rect.width,c=_-this.__scale9Rect.height,f=1,d=1,p=this.get_width(),g=this.get_height();p<u&&(f=p/u),g<c&&(d=g/c);var m=new b_;m.set_left(f*this.__scale9Rect.get_left()),m.set_right(Math.max(m.get_left(),p-f*(h-this.__scale9Rect.get_right()))),m.set_top(d*this.__scale9Rect.get_top()),m.set_bottom(Math.max(m.get_top(),g-d*(_-this.__scale9Rect.get_bottom())));for(var v=h/p,b=_/g,y=[0,m.get_left()*v,m.get_right()*v,h],w=[0,m.get_top()*b,m.get_bottom()*b,_],x=[0,this.__scale9Rect.get_left()/h,this.__scale9Rect.get_right()/h,1],T=[0,this.__scale9Rect.get_top()/_,this.__scale9Rect.get_bottom()/_,1],S=Cl.pool.get(),E=this.__9SliceBitmap.get_uvData(),I=E.x1-E.x0,P=E.y2-E.y0,C=new eo,D=0;D<3;)for(var A=D++,R=0;R<3;){var M=R++,F=y[M],B=w[A],L=y[1+M]-y[M],k=w[1+A]-w[A];C.identity(),C.translate(F+l.x,B+l.y),C.concat(this.__renderTransform),S.x0=S.x3=x[M]*I,S.x1=S.x2=x[1+M]*I,S.y0=S.y1=T[A]*P,S.y2=S.y3=T[1+A]*P,t.spriteBatch.renderBitmapDataEx(this.__9SliceBitmap,L,k,S,!0,C,this.__worldColorTransform,1,this.__blendMode,this.__shader,null)}Cl.pool.put(S),b_.pool.put(l)}},__renderGL:function(t){!this.isRenderable()||this.__worldAlpha<=0||(this.__updating9SliceBitmap||null==this.__symbol||null==this.__symbol.scalingGridRect||this.__update9SliceBitmap(),this.__updateSwfMaskData(),null!=this.__symbol&&null!=this.__symbol.scalingGridRect&&null!=this.__9SliceBitmap?this.drawScale9Bitmap(t):l.prototype.__renderGL.call(this,t))},frame0ChildrenUpdate:function(){if(null!=this.__symbol)for(var t=this.__symbol.frames[0],e=this.__objects.keys();e.hasNext();){for(var i=e.next(),n=!0,s=!0,r=0,a=t.objects;r<a.length;){var o=a[r];if(++r,o.id==i){s=!(n=o.symbol!=At.field(this.__objects.h[i],"symbolId"))&&null==o.colorTransform;break}}if(n){var l=this.__objects.h[i];null!=l&&this.removeChild(l),this.__objects.remove(i)}else s&&this.__objects.h[i].__colorTransform.reset()}},__renderFrame:function(t){if(null==this.__symbol||0==this.__symbol.frames.length)return!1;var e,i;0==t&&this.frame0ChildrenUpdate(),null!=(e=this.__symbol.frames[t]).startSound&&null!=u._processSoundCommandCallback&&(null!=this.__targetFrame&&this.__targetFrame!=t+1||u.soundCommandTable.push({movieClip:this,frame:t,command:e.startSound})),this.__currentFrame=t+1,this.__lastUpdate=t+1;for(var n=0,s=e.objects;n<s.length;){var r=s[n];if(++n,r.type!=gi.DESTROY){if(this.__objects.h.hasOwnProperty(r.id)){if(i=this.__objects.h[r.id],r.type==gi.UPDATE_CHARACTER){var a=i,o=this.__maskData.h[i.__id__];this.removeChild(i),(i=this.__createObject(r)).set_name(a.__name),i.get_transform().set_matrix(a.get_transform().getMatrixNoClone()),i.get_transform().set_colorTransform(a.get_transform().get_colorTransform()),i.set_alpha(a.__colorTransform.alphaMultiplier),null!=a.__filters&&i.set_filters(a.__filters.map(function(t){return t.clone()})),null!=o&&(this.__maskDataKeys.push(i),this.__maskData.set(i,o),i.__isMask=!0),this.__addChildAtSwfDepth(i,r.depth),this.__objects.h[r.id]=i}}else null!=(i=this.__createObject(r))&&(this.__addChildAtSwfDepth(i,r.depth),this.__objects.h[r.id]=i);if(null!=i&&(this.__placeObject(i,r),0!=r.clipDepth)){i.set_visible(!1);var l=r.clipDepth;this.__maskDataKeys.push(i),this.__maskData.set(i,l),i.__isMask=!0}}else this.__objects.h.hasOwnProperty(r.id)&&(null!=(i=this.__objects.h[r.id])&&i.parent==this&&this.removeChild(i),this.__objects.remove(r.id))}0<e.objects.length&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.__maskDataDirty=!0);var h=this.__symbol.frames[t].label;return null!=(this.__currentFrameLabel=h)&&(this.__currentLabel=h),this.__updateSwfMaskData(),!(null==this.__frameScripts||!this.__frameScripts.h.hasOwnProperty(t)||(this.__frameScripts.h[t](),t+1==this.__currentFrame))||!(null==this.__staticFrameScripts||!this.__staticFrameScripts.h.hasOwnProperty(t)||(this.__staticFrameScripts.h[t](this),t+1==this.__currentFrame))},__addObjectToMaskData:function(t,e){this.__maskDataKeys.push(t),this.__maskData.set(t,e),t.__isMask=!0},__updateFrame:function(){if(this.__currentFrame!=this.__lastUpdate){var t=!1;if(this.__currentFrame<this.__lastUpdate){var e,i,n,s,r=this.__currentFrame;for(e=this.__lastUpdate,i=this.__totalFrames;e<i;){var a=e++;if(t=this.__renderFrame(a),!this.__playing||t)break}if(this.__playing&&!t)for(n=0,s=r;n<s;){var o=n++;if(t=this.__renderFrame(o),!this.__playing||t)break}}else{var l,h;for(l=this.__lastUpdate,h=this.__currentFrame;l<h;){var _=l++;if(t=this.__renderFrame(_),!this.__playing||t)break}}}},__updateSwfMaskData:function(){if(this.__maskDataDirty){var t=this.__children._length;if(this.__childrenHaveClippedAtProperty){for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__clippedAt=-1}this.__childrenHaveClippedAtProperty=!1}if(0<this.__maskDataKeys.length){this.__childrenHaveClippedAtProperty=!0;for(var s=0,r=this.__maskDataKeys;s<r.length;){var a=r[s];++s;for(var o=this.getChildIndex(a),l=this.__maskData.h[a.__id__],h=t,_=o+1,u=t;_<u;){var c=_++,f=this.getChildAt(c);if(null!=f){if(this.__SWFDepthData.h[f.__id__]>l){h=c;break}f.__clippedAt=o}}a.__clipDepth=h-o-1}}}this.__maskDataDirty=!1},getNextHighestDepthExternal:function(){if(0<this.__children._length){var t=this.__SWFDepthData,e=this.getChildAt(this.__children._length-1);return t.h[e.__id__]-16383+1}return 0},getDepth:function(){return zs.__cast(this.parent,u).__SWFDepthData.h[this.__id__]},getDepthExternal:function(){return this.getDepth()-16383},addChildAtSwfDepthExternal:function(t,e){this.__addChildAtSwfDepth(t,e+16383),this.__maskDataDirty=!0},swapDepths:function(t){var e,i=null,n=zs.__cast(this.parent,u);if("number"==typeof t&&(0|t)===t||"number"==typeof t){e=16383+(0|t);for(var s=0,r=n.__children._length;s<r;){var a=s++,o=n.__SWFDepthData,l=n.getChildAt(a);if(o.h[l.__id__]==e){i=this.getChildAt(a);break}}}else{if(!zs.__instanceof(t,W))throw new Vs("Trying to swap depths with unknown type.. "+mi.getClassName(t));i=t,e=n.__SWFDepthData.h[t.__id__]}var h=this.getDepth();null!=i&&n.__addChildAtSwfDepth(i,h),n.__addChildAtSwfDepth(this,e),n.__maskDataDirty=!0},__addChildAtSwfDepth:function(t,e){this.__SWFDepthData.set(t,e);for(var i=this.__children._length-1;0<=i;){var n=this.getChildAt(i);if(this.__SWFDepthData.h[n.__id__]<=e)return void this.addChildAt(t,i+1);--i}this.addChildAt(t,0)},removeChild:function(t){var e=l.prototype.removeChild.call(this,t);return null!=t&&(this.__SWFDepthData.remove(e),B.remove(this.__maskDataKeys,e),this.__maskData.remove(e),this.__maskDataDirty=!0),e},__releaseResources:function(){return!!l.prototype.__releaseResources.call(this)&&(null!=this.__9SliceBitmap&&(this.__9SliceBitmap.dispose(),this.__9SliceBitmap=null),!0)},__debugPrintChildren:function(t){if(null==t&&(t=-1),null!=this.__symbol){var e=!1;if((t<0||t==this.__symbol.id)&&(e=!0),e){for(var i=this.__objects.keys();i.hasNext();){var n=i.next(),s=this.__objects.h[n],r=s.__name,a=null!=this.__maskData.h.__keys__[s.__id__];if(r.length<20){var o=20-r.length;r+=ns.repeat(o," ")}switch(a){case!1:ls.trace("parent ("+this.__symbol.id+")\t\t\t | object \t "+r+"\t\t\t | depth = "+this.__SWFDepthData.get(s)+"\t |",{fileName:"MovieClip.hx",lineNumber:1277,className:"format.swf.lite.MovieClip",methodName:"__debugPrintChildren"});break;case!0:ls.trace("parent ("+this.__symbol.id+")\t\t\t | mask\t\t "+r+"\t\t\t | depth = "+this.__SWFDepthData.get(s)+"\t | mask = "+this.__maskData.get(s),{fileName:"MovieClip.hx",lineNumber:1275,className:"format.swf.lite.MovieClip",methodName:"__debugPrintChildren"})}}ls.trace("-",{fileName:"MovieClip.hx",lineNumber:1281,className:"format.swf.lite.MovieClip",methodName:"__debugPrintChildren"})}}},mustResetRenderColorTransform:function(){return!!l.prototype.mustResetRenderColorTransform.call(this)||null!=this.__symbol&&null!=this.__symbol.scalingGridRect},toString:function(){return null!=this.__symbol?"[MovieClip id: "+this.__symbol.id+"]":l.prototype.toString.call(this)},__class__:u});function h(t,e){u.call(this,t,e)}(i.SpriteBase=h).__name__=["SpriteBase"],h.__super__=u,h.prototype=n(u.prototype,{get__root:function(){return c.instance},get__name:function(){return this.__name},get__x:function(){return this.__transform.tx},set__x:function(t){return this.set_x(t)},get__y:function(){return this.__transform.ty},set__y:function(t){return this.set_y(t)},get__X:function(){return this.__transform.tx},set__X:function(t){return this.set_x(t)},get__Y:function(){return this.__transform.ty},set__Y:function(t){return this.set_y(t)},get__width:function(){return this.get_width()},set__width:function(t){return this.set_width(t)},get__height:function(){return this.get_height()},set__height:function(t){return this.set_height(t)},get__rotation:function(){return this.__rotation},set__rotation:function(t){return this.set_rotation(t)},get__parent:function(){return this.parent},get__visible:function(){return this.__visible},set__visible:function(t){return this.set_visible(t)},get__alpha:function(){return 100*this.__colorTransform.alphaMultiplier},set__alpha:function(t){return this.set_alpha(t/100),t},get__xscale:function(){return 100*this.get_scaleX()},set__xscale:function(t){return this.set_scaleX(t/100),t},get__yscale:function(){return 100*this.get_scaleY()},set__yscale:function(t){return this.set_scaleY(t/100),t},get_onEnterFrame:function(){return this.__onEnterFrame},set_onEnterFrame:function(t){return null!=this.__onEnterFrame&&(this.removeEventListener("enterFrame",this.__onEnterFrame),this.__onEnterFrame=null),null!=t&&(this.__onEnterFrame=t,this.addEventListener("enterFrame",t)),t},set_onPress:function(t){if(null==t)throw new Vs("todo");return this.addEventListener("mouseDown",t),t},set_onRelease:function(t){if(this.addEventListener("mouseUp",t),null==t)throw new Vs("todo");return t},set_onReleaseOutside:function(t){if(null==t)throw new Vs("todo");return t},set_onRollOver:function(t){if(null==t)throw new Vs("todo");return this.addEventListener("rollOver",t),t},set_onRollOut:function(t){if(null==t)throw new Vs("todo");return this.addEventListener("rollOut",t),t},on:function(t,e,i){},getNextHighestDepth:function(){return this.getNextHighestDepthExternal()},attachMovie:function(t,e,i,n){var s=At.field(this,e);null!=s&&this.removeChild(s);var r=c.swfLite.createMovieClip(t);if(r.set_name(e),null!=n)for(var a=0,o=At.fields(n);a<o.length;){var l=o[a];++a,At.setProperty(r,l,At.field(n,l))}return this.addChildAtSwfDepthExternal(r,i),this[e]=r},unloadMovie:function(){this.parent.removeChild(this)},setPlaced:function(){throw new Vs(":TODO: setPlaced")},removeMovieClip:function(){if(null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&At.deleteField(t,this.__name)}},removeMovieClipFromTarget:function(t){var e=this.getTarget(t);if(null!=e&&null!=e.parent){var i=e.parent;e.parent.removeChild(e),""!=e.__name&&At.deleteField(i,e.__name)}},duplicateMovieClip:function(t,e){var i=this.getSymbol(),n=mi.createInstance(zs.getClass(this),[c.swfLite,i]);n.set_name(t),n.set_transform(this.get_transform()),zs.__cast(this.parent,u).addChildAtSwfDepthExternal(n,e)},duplicateMovieClipFromTarget:function(t,e,i){var n=this.getTarget(t),s=n.getSymbol(),r=mi.createInstance(null==n?null:zs.getClass(n),[c.swfLite,s]);r.set_name(e),r.set_transform(n.get_transform()),zs.__cast(n.parent,u).addChildAtSwfDepthExternal(r,i)},createEmptyMovieClip:function(t,e){var i=new h(null,null);return i.set_name(t),this.addChildAtSwfDepthExternal(i,e),i},getTimer:function(){return Date.now()},get__xmouse:function(){return this.get_mouseX()},get__ymouse:function(){return this.get_mouseY()},getTarget:function(t){var e=t.split("."),i=null;i="_root"==e[0]?c.instance:(i=this,a.getChild(i,e[0]));for(var n=1,s=e.length;n<s;){var r=n++;if(null==(i=a.getChild(i,e[r])))return null}return i},set:function(t,e){for(var i=t.split("."),n=i[0],s=1,r=i.length-1;s<r;){n+=".",n+=i[s++]}var a=this.getTarget(n);At.setProperty(a,i[i.length-1],e)},setProperty:function(t,e,i){var n=this.getTarget(t);At.setProperty(n,e,i)},hitTest:function(t){var e=this.getTarget(t);return null!=e&&this.hitTestObject(e)},getChildSB:function(t){return this.getChildByName(t)},getChildWithId:function(t){for(var e=0,i=this.__children._length;e<i;){var n=e++,s=this.getChildAt(n);if(s.symbolId==t||null!=s.__symbol&&s.__symbol.id==t)return s}return null},getChildAtDepth:function(t){for(var e=0,i=this.__children._length;e<i;){var n=e++,s=this.getChildAt(n);if(this.__SWFDepthData.h[s.__id__]==t)return s}return null},setMask:function(t){this.set_mask(t)},get__currentframe:function(){return this.get_currentFrame()},get__totalframes:function(){return this.get_totalFrames()},random:function(t){return L.random(t)},addKeyDownListener:function(t,e){if(""!=t)throw new Vs(":TODO:");O.addKeyDownListener(e),this.addEventListener("removedFromStage",function(){O.removeKeyDownListener(e)})},set_onKeyDown:function(t){return O.addKeyDownListener(t),t},__class__:h,__properties__:n(u.prototype.__properties__,{set_onKeyDown:"set_onKeyDown",get__totalframes:"get__totalframes",get__currentframe:"get__currentframe",get__ymouse:"get__ymouse",get__xmouse:"get__xmouse",set_onRollOut:"set_onRollOut",set_onRollOver:"set_onRollOver",set_onReleaseOutside:"set_onReleaseOutside",set_onRelease:"set_onRelease",set_onPress:"set_onPress",set_onEnterFrame:"set_onEnterFrame",get_onEnterFrame:"get_onEnterFrame",set__yscale:"set__yscale",get__yscale:"get__yscale",set__xscale:"set__xscale",get__xscale:"get__xscale",set__alpha:"set__alpha",get__alpha:"get__alpha",set__visible:"set__visible",get__visible:"get__visible",get__parent:"get__parent",set__rotation:"set__rotation",get__rotation:"get__rotation",set__height:"set__height",get__height:"get__height",set__width:"set__width",get__width:"get__width",set__Y:"set__Y",get__Y:"get__Y",set__X:"set__X",get__X:"get__X",set__y:"set__y",get__y:"get__y",set__x:"set__x",get__x:"get__x",get__name:"get__name",get__root:"get__root"})});var c=function(){this.highScoreButton=!1;var t=this;M.registerVersions();var e=Je.fontAliases;null!=Zu.font_142?e.setReserved("font_142","Swis721 Md BT"):e.h.font_142="Swis721 Md BT";var i=Je.fontAliases;null!=Zu["Swiss921 B"]?i.setReserved("Swiss921 B","Swiss921 BT"):i.h["Swiss921 B"]="Swiss921 BT",u.set_processSoundCommandCallback(D.process),c.instance=this;var n=Je.instances;if(!(null!=Zu["lib/miniputt/miniputt.dat"]?n.existsReserved("lib/miniputt/miniputt.dat"):n.h.hasOwnProperty("lib/miniputt/miniputt.dat"))){var s=Je.instances,r=Je.unserializeLibrary(J_.toBytes($a.getBytes("lib/miniputt/miniputt.dat"))),a=s;null!=Zu["lib/miniputt/miniputt.dat"]?a.setReserved("lib/miniputt/miniputt.dat",r):a.h["lib/miniputt/miniputt.dat"]=r}var o=Je.instances;c.swfLite=null!=Zu["lib/miniputt/miniputt.dat"]?o.getReserved("lib/miniputt/miniputt.dat"):o.h["lib/miniputt/miniputt.dat"];var l=c.swfLite.root;this.setupClasses(c.swfLite),this.setupFrameScripts(),h.call(this,c.swfLite,l),zs.__cast(no.current.parent,Hl).set_color(6710835),this.addEventListener("addedToStage",function(){t.stage.addEventListener("mouseUp",function(){null!=t.hole&&(t.hole.click=!0)})}),Xu.initialize()};(i.Main=c).__name__=["Main"],c.instance=null,c.swfLite=null,c.__super__=h,c.prototype=n(h.prototype,{setupClasses:function(t){t.classes_id.h[6]=ou,t.classes_id.h[7]=lu,t.classes_id.h[9]=Uu,t.classes_id.h[14]=uu,t.classes_id.h[22]=Su,t.classes_id.h[35]=Fu,t.classes_id.h[39]=Bu,t.classes_id.h[40]=Lu,t.classes_id.h[52]=ku,t.classes_id.h[65]=Nu,t.classes_id.h[83]=hu,t.classes_id.h[85]=Ou,t.classes_id.h[90]=Gu,t.classes_id.h[191]=cu,t.classes_id.h[196]=fu,t.classes_id.h[198]=du,t.classes_id.h[201]=pu,t.classes_id.h[203]=gu,t.classes_id.h[206]=mu,t.classes_id.h[209]=vu,t.classes_id.h[211]=bu,t.classes_id.h[213]=yu,t.classes_id.h[215]=wu,t.classes_id.h[217]=xu,t.classes_id.h[219]=Tu,t.classes_id.h[223]=Eu,t.classes_id.h[225]=Iu,t.classes_id.h[227]=Pu,t.classes_id.h[230]=Cu,t.classes_id.h[232]=Du,t.classes_id.h[234]=Au,t.classes_id.h[237]=Ru,t.classes_id.h[239]=Mu,t.classes_id.h[244]=au;for(var e=[11,15,19,30,75,84,86,140,222],i=0;i<e.length;){var n=e[i];++i;var s=t.symbols.h[n];s.set_cachePrecision(10),s.set_translationCachePrecision(0),s.set_useBitmapCache(!0)}},setupFrameScripts:function(){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),this.addFrameScript(2,Hu(this,this.frame3)),this.addFrameScript(3,Hu(this,this.frame4)),this.addFrameScript(4,Hu(this,this.frame5)),this.addFrameScript(5,Hu(this,this.frame6)),this.addFrameScript(23,Hu(this,this.frame24)),this.addFrameScript(24,Hu(this,this.frame25)),this.addFrameScript(43,Hu(this,this.frame44)),this.addFrameScript(44,Hu(this,this.frame45)),this.addFrameScript(63,Hu(this,this.frame64)),this.addFrameScript(64,Hu(this,this.frame65)),this.addFrameScript(83,Hu(this,this.frame84)),this.addFrameScript(84,Hu(this,this.frame85)),this.addFrameScript(103,Hu(this,this.frame104)),this.addFrameScript(104,Hu(this,this.frame105)),this.addFrameScript(123,Hu(this,this.frame124)),this.addFrameScript(124,Hu(this,this.frame125)),this.addFrameScript(143,Hu(this,this.frame144)),this.addFrameScript(144,Hu(this,this.frame145)),this.addFrameScript(163,Hu(this,this.frame164)),this.addFrameScript(164,Hu(this,this.frame165)),this.addFrameScript(183,Hu(this,this.frame184)),this.addFrameScript(184,Hu(this,this.frame185)),this.addFrameScript(203,Hu(this,this.frame204)),this.addFrameScript(204,Hu(this,this.frame205)),this.addFrameScript(223,Hu(this,this.frame224)),this.addFrameScript(224,Hu(this,this.frame225)),this.addFrameScript(243,Hu(this,this.frame244)),this.addFrameScript(244,Hu(this,this.frame245)),this.addFrameScript(263,Hu(this,this.frame264)),this.addFrameScript(264,Hu(this,this.frame265)),this.addFrameScript(283,Hu(this,this.frame284)),this.addFrameScript(284,Hu(this,this.frame285)),this.addFrameScript(303,Hu(this,this.frame304)),this.addFrameScript(304,Hu(this,this.frame305)),this.addFrameScript(323,Hu(this,this.frame324)),this.addFrameScript(324,Hu(this,this.frame325)),this.addFrameScript(343,Hu(this,this.frame344)),this.addFrameScript(344,Hu(this,this.frame345)),this.addFrameScript(362,Hu(this,this.frame363)),this.addFrameScript(363,Hu(this,this.frame364)),this.addFrameScript(404,Hu(this,this.frame405))},frame1:function(){},frame2:function(){this.gotoAndStop(4)},frame3:function(){this.gotoAndPlay(1)},frame4:function(){if(this.stop(),!this.highScoreButton){var t=new Ve;t.set_defaultTextFormat(new V_("Swiss921 BT",24,16777215)),t.set_htmlText("High scores"),t.set_width(250),t.set_x(380),t.set_y(400),this.addChildAt(t,this.__children._length),t.addEventListener("click",function(){Xu.client.showDialog("scores")}),this.highScoreButton=!0}},frame5:function(){this.par=3,this.hole_index=1,this.stop()},frame6:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame24:function(){this.par=3,this.hole_index=2,this.stop()},frame25:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame44:function(){this.par=2,this.hole_index=3,this.stop()},frame45:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame64:function(){this.par=3,this.hole_index=4,this.stop()},frame65:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame84:function(){this.par=2,this.hole_index=5,this.stop()},frame85:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame104:function(){this.par=3,this.hole_index=6,this.stop()},frame105:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame124:function(){this.par=2,this.hole_index=7,this.stop()},frame125:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame144:function(){this.par=4,this.hole_index=8,this.stop()},frame145:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame164:function(){this.par=2,this.hole_index=9,this.stop()},frame165:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame184:function(){this.par=3,this.hole_index=10,this.stop()},frame185:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame204:function(){this.par=3,this.hole_index=11,this.stop()},frame205:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame224:function(){this.par=2,this.hole_index=12,this.stop()},frame225:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame244:function(){this.par=3,this.hole_index=13,this.stop()},frame245:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame264:function(){this.par=2,this.hole_index=14,this.stop()},frame265:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame284:function(){this.par=3,this.hole_index=15,this.stop()},frame285:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame304:function(){this.par=2,this.hole_index=16,this.stop()},frame305:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame324:function(){this.par=4,this.hole_index=17,this.stop()},frame325:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364)},frame344:function(){this.par=2,this.hole_index=18,this.stop()},frame345:function(){null==At.field(this.actions.scores,"hole"+this.hole_index)&&this.gotoAndPlay(364);var t=At.field(this.actions.scores,"holetot");this.msg="FINAL SCORE: "+t,Xu.client.postScore("score",0|t)},frame363:function(){this.stop()},frame364:function(){this.play()},frame405:function(){this.gotoAndPlay(1)},__class__:c});var _=function(){var t=no.current;t.addChildAt(this,t.__children._length),c.call(this),this.dispatchEvent(new Ae("addedToStage",!1,!1))};(i.DocumentClass=_).__name__=["DocumentClass"],_.__super__=c,_.prototype=n(c.prototype,{__class__:_});var d={};(i["_ButtonBase.AMain_Impl_"]=d).__name__=["_ButtonBase","AMain_Impl_"],d.getChild=function(t,e){return t[e]};function p(t,e,i,n){this.__childRect=new b_,K.call(this),this.enabled=!0,this.trackAsMenu=!1,this.useHandCursor=!0,this.mouseChildren=!1,this.set_upState(null!=t?t:new W),this.set_overState(e),this.set_downState(i),this.set_hitTestState(null!=n?n:new W),this.addEventListener("mouseDown",Hu(this,this.__this_onMouseDown)),this.addEventListener("mouseOut",Hu(this,this.__this_onMouseOut)),this.addEventListener("mouseOver",Hu(this,this.__this_onMouseOver)),this.addEventListener("mouseUp",Hu(this,this.__this_onMouseUp)),this.set___currentState(this.upState)}(i["openfl.display.SimpleButton"]=p).__name__=["openfl","display","SimpleButton"],p.__super__=K,p.prototype=n(K.prototype,{__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent?Oa.POINTER:null},set_downState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_visible(!1),null!=this.downState&&(this.removeChild(this.downState),this.__currentState==this.downState&&this.set___currentState(t))):null!=this.downState&&this.removeChild(this.downState),this.downState=t},set_hitTestState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_alpha(0),null!=this.hitTestState&&(this.removeChild(this.hitTestState),this.__currentState==this.hitTestState&&this.set___currentState(t))):null!=this.hitTestState&&this.removeChild(this.hitTestState),this.hitTestState=t},set_overState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_visible(!1),null!=this.overState&&(this.removeChild(this.overState),this.__currentState==this.overState&&this.set___currentState(t))):null!=this.overState&&this.removeChild(this.overState),this.overState=t},get_soundTransform:function(){return null==this.__soundTransform&&(this.__soundTransform=new I_),new I_(this.__soundTransform.volume,this.__soundTransform.pan)},set_soundTransform:function(t){return this.__soundTransform=new I_(t.volume,t.pan),t},set_upState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_visible(!1),null!=this.upState&&(this.removeChild(this.upState),this.__currentState==this.upState&&this.set___currentState(t))):null!=this.upState&&this.removeChild(this.upState),this.upState=t},set___currentState:function(t){return t==this.__currentState?t:(null!=this.__currentState&&this.__currentState.set_visible(!1),t.set_visible(!0),this.__currentState=t)},__this_onMouseDown:function(t){this.__stateChange("overup","down"),null!=this.downState&&this.set___currentState(this.downState)},__this_onMouseOut:function(t){this.__ignoreEvent=!1,this.upState!=this.__currentState&&(this.set___currentState(this.upState),this.__stateChange("overup","idle"))},__this_onMouseOver:function(t){t.buttonDown&&(this.__ignoreEvent=!0),this.overState==this.__currentState||null==this.overState||this.__ignoreEvent||(this.set___currentState(this.overState),this.__stateChange("idle","overup"))},__this_onMouseUp:function(t){this.__ignoreEvent=!1,this.__stateChange("down","overup"),null!=this.overState?this.set___currentState(this.overState):this.set___currentState(this.upState)},__stateChange:function(t,e){},__class__:p,__properties__:n(K.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});var g=function(t,e){p.call(this),null!=(this.symbol=e).downState&&this.set_downState(new u(t,e.downState)),null!=e.hitState&&this.set_hitTestState(new u(t,e.hitState)),null!=e.overState&&this.set_overState(new u(t,e.overState)),null!=e.upState&&this.set_upState(new u(t,e.upState))};(i["format.swf.lite.SimpleButton"]=g).__name__=["format","swf","lite","SimpleButton"],g.__super__=p,g.prototype=n(p.prototype,{__stateChange:function(t,e){switch(t){case"down":"overup"==e&&null!=this.symbol.onUpSound&&u._processSoundCommandCallback(this.symbol.onUpSound);break;case"idle":"overup"==e&&null!=this.symbol.onOverSound&&u._processSoundCommandCallback(this.symbol.onOverSound);break;case"overup":switch(e){case"down":null!=this.symbol.onDownSound&&u._processSoundCommandCallback(this.symbol.onDownSound);break;case"idle":null!=this.symbol.onIdleSound&&u._processSoundCommandCallback(this.symbol.onIdleSound)}}},__class__:g});function m(t,e){g.call(this,t,e)}(i.ButtonBase=m).__name__=["ButtonBase"],m.__onKey=function(){for(var t=0,e=m.keyCallbackTable;t<e.length;){var i=e[t];++t,O.getCode()==i.code&&i.f()}},m.__getCode=function(t){switch(t){case"Enter":return 13;case"Space":return 32;default:return B.cca(t,0)}},m.__super__=g,m.prototype=n(g.prototype,{get__root:function(){return c.instance},gotoAndPlay:function(t){zs.__cast(this.parent,u).gotoAndPlay(t)},gotoAndStop:function(t){zs.__cast(this.parent,u).gotoAndStop(t)},nextFrame:function(){zs.__cast(this.parent,u).nextFrame()},prevFrame:function(){zs.__cast(this.parent,u).prevFrame()},play:function(){zs.__cast(this.parent,u).play()},getUrl:function(t,e){no.getURL(new D_(t),e)},resolve:function(t){return zs.__cast(this.parent,u).resolve(t)},getTimer:function(){return Date.now()},get__visible:function(){return this.__visible},set__visible:function(t){return this.set_visible(t)},get__xscale:function(){return 100*this.get_scaleX()},set__xscale:function(t){return this.set_scaleX(t/100),t},get__yscale:function(){return 100*this.get_scaleY()},set__yscale:function(t){return this.set_scaleY(t/100),t},getDepth:function(){return zs.__cast(this.parent,u).__SWFDepthData.h[this.__id__]},swapDepths:function(t){var e,i=null,n=zs.__cast(this.parent,u);if("number"==typeof t&&(0|t)===t||"number"==typeof t){e=16383+(0|t);for(var s=0,r=n.__children._length;s<r;){var a=s++,o=n.__SWFDepthData,l=n.getChildAt(a);if(o.h[l.__id__]==e){i=this.getChildAt(a);break}}}else{if(!zs.__instanceof(t,W))throw new Vs("Trying to swap depths with unknown type.. "+mi.getClassName(t));i=t,e=n.__SWFDepthData.h[t.__id__]}var h=this.getDepth();null!=i&&(n.removeChild(i),n.__addChildAtSwfDepth(i,h)),n.removeChild(this),n.__addChildAtSwfDepth(this,e),n.__maskDataDirty=!0},get__parent:function(){return this.parent},startDrag:function(){},stopDrag:function(){this.stage.__stopDrag(null)},addKeyPressListener:function(t,e){m.keyCallbackTable.push({code:m.__getCode(t),f:e}),m.inserted||(O.addKeyDownListener(m.__onKey),m.inserted=!0)},removeKeyPressListener:function(t,e){for(var i=m.__getCode(t),n=0,s=m.keyCallbackTable.length;n<s;){var r=n++,a=m.keyCallbackTable[r];if(a.code==i&&At.compareMethods(a.f,e)){m.keyCallbackTable[r]=m.keyCallbackTable[m.keyCallbackTable.length-1],m.keyCallbackTable.pop();break}}},__class__:m,__properties__:n(g.prototype.__properties__,{get__parent:"get__parent",set__yscale:"set__yscale",get__yscale:"get__yscale",set__xscale:"set__xscale",get__xscale:"get__xscale",set__visible:"set__visible",get__visible:"get__visible",get__root:"get__root"})});function ut(){this.onChange=new Zs}(i["lime.AssetLibrary"]=ut).__name__=["lime","AssetLibrary"],ut.prototype={exists:function(t,e){return!1},getAudioBuffer:function(t){return null},getBytes:function(t){return null},getFont:function(t){return null},getImage:function(t){return null},getPath:function(t){return null},getPathMap:function(){return null},getExtraSoundOptions:function(t){return null},getText:function(t){var e=this.getBytes(t);return null==e?null:e.getString(0,e.length)},isLocal:function(t,e){return!0},list:function(t){return null},load:function(){var t=this;return new Tr(function(){return t})},loadAudioBuffer:function(t){var e=this;return new Tr(function(){return e.getAudioBuffer(t)})},loadBytes:function(t){var e=this;return new Tr(function(){return e.getBytes(t)})},loadFont:function(t){var e=this;return new Tr(function(){return e.getFont(t)})},loadImage:function(t){var e=this;return new Tr(function(){return e.getImage(t)})},loadText:function(t){return this.loadBytes(t).then(function(t){return new Tr(function(){return null==t?null:t.getString(0,t.length)})})},unload:function(){},__class__:ut};function b(){this.extraSoundOptions=new gs,this.fontData=new gs,this.type=new gs,this.path=new gs,this.className=new gs,ut.call(this);var t=new gs;pt.registerFont(gt),pt.registerFont(mt),pt.registerFont(vt);var e=this.fontData,i={ascent:.8125,descent:.1162109375};null!=Zu["Swiss921 BT"]?e.setReserved("Swiss921 BT",i):e.h["Swiss921 BT"]=i;var n=this.fontData,s={ascent:.7373046875,descent:.0205078125};null!=Zu["Swis721 Md BT"]?n.setReserved("Swis721 Md BT",s):n.h["Swis721 Md BT"]=s;var r=this.fontData,a={ascent:.71875,descent:.0205078125};null!=Zu["Swis721 Md BT"]?r.setReserved("Swis721 Md BT",a):r.h["Swis721 Md BT"]=a;var o="assets/sounds/2.m4a",l=this.path;null!=Zu[o]?l.setReserved(o,o):l.h[o]=o;var h=this.type;null!=Zu[o]?h.setReserved(o,"SOUND"):h.h[o]="SOUND",o="assets/sounds/51.m4a";var _=this.path;null!=Zu[o]?_.setReserved(o,o):_.h[o]=o;var u=this.type;null!=Zu[o]?u.setReserved(o,"SOUND"):u.h[o]="SOUND",o="assets/sounds/186.wav";var c=this.path;null!=Zu[o]?c.setReserved(o,o):c.h[o]=o;var f=this.type;null!=Zu[o]?f.setReserved(o,"SOUND"):f.h[o]="SOUND",o="assets/sounds/187.m4a";var d=this.path;null!=Zu[o]?d.setReserved(o,o):d.h[o]=o;var p=this.type;null!=Zu[o]?p.setReserved(o,"SOUND"):p.h[o]="SOUND",o="assets/fonts/188_Swiss921 BT.ttf";var g=this.className,m=ct;null!=Zu[o]?g.setReserved(o,m):g.h[o]=m;var v=this.type;null!=Zu[o]?v.setReserved(o,"FONT"):v.h[o]="FONT",o="assets/fonts/142_Swis721 Md BT.ttf";var b=this.className,y=ft;null!=Zu[o]?b.setReserved(o,y):b.h[o]=y;var w=this.type;null!=Zu[o]?w.setReserved(o,"FONT"):w.h[o]="FONT",o="assets/fonts/24_Swis721 Md BT.ttf";var x=this.className,T=dt;null!=Zu[o]?x.setReserved(o,T):x.h[o]=T;var S=this.type;null!=Zu[o]?S.setReserved(o,"FONT"):S.h[o]="FONT",o="lib/intro/intro.dat";var E=this.path;null!=Zu[o]?E.setReserved(o,o):E.h[o]=o;var I=this.type;null!=Zu[o]?I.setReserved(o,"BINARY"):I.h[o]="BINARY",o="libraries/intro.json";var P=this.path;null!=Zu[o]?P.setReserved(o,"lib/intro.json"):P.h[o]="lib/intro.json";var C=this.type;null!=Zu[o]?C.setReserved(o,"TEXT"):C.h[o]="TEXT",o="lib/miniputt/29.png";var D=this.path;null!=Zu[o]?D.setReserved(o,o):D.h[o]=o;var A=this.type;null!=Zu[o]?A.setReserved(o,"IMAGE"):A.h[o]="IMAGE",o="lib/miniputt/36.png";var R=this.path;null!=Zu[o]?R.setReserved(o,o):R.h[o]=o;var M=this.type;null!=Zu[o]?M.setReserved(o,"IMAGE"):M.h[o]="IMAGE",o="lib/miniputt/58.png";var F=this.path;null!=Zu[o]?F.setReserved(o,o):F.h[o]=o;var B=this.type;null!=Zu[o]?B.setReserved(o,"IMAGE"):B.h[o]="IMAGE",o="lib/miniputt/12.png";var L=this.path;null!=Zu[o]?L.setReserved(o,o):L.h[o]=o;var k=this.type;null!=Zu[o]?k.setReserved(o,"IMAGE"):k.h[o]="IMAGE",o="lib/miniputt/1.png";var N=this.path;null!=Zu[o]?N.setReserved(o,o):N.h[o]=o;var O=this.type;null!=Zu[o]?O.setReserved(o,"IMAGE"):O.h[o]="IMAGE",o="lib/miniputt/32.png";var U=this.path;null!=Zu[o]?U.setReserved(o,o):U.h[o]=o;var G=this.type;null!=Zu[o]?G.setReserved(o,"IMAGE"):G.h[o]="IMAGE",o="lib/miniputt/17.png";var X=this.path;null!=Zu[o]?X.setReserved(o,o):X.h[o]=o;var V=this.type;null!=Zu[o]?V.setReserved(o,"IMAGE"):V.h[o]="IMAGE",o="lib/miniputt/56.png";var z=this.path;null!=Zu[o]?z.setReserved(o,o):z.h[o]=o;var H=this.type;null!=Zu[o]?H.setReserved(o,"IMAGE"):H.h[o]="IMAGE",o="lib/miniputt/20.png";var Y=this.path;null!=Zu[o]?Y.setReserved(o,o):Y.h[o]=o;var W=this.type;null!=Zu[o]?W.setReserved(o,"IMAGE"):W.h[o]="IMAGE",o="lib/miniputt/miniputt.dat";var K=this.path;null!=Zu[o]?K.setReserved(o,o):K.h[o]=o;var j=this.type;null!=Zu[o]?j.setReserved(o,"BINARY"):j.h[o]="BINARY",o="libraries/miniputt.json";var q=this.path;null!=Zu[o]?q.setReserved(o,"lib/miniputt.json"):q.h[o]="lib/miniputt.json";var J=this.type;null!=Zu[o]?J.setReserved(o,"TEXT"):J.h[o]="TEXT";var Z=null;if(null!=_t.config&&Object.prototype.hasOwnProperty.call(_t.config,"assetsPrefix")&&(Z=_t.config.assetsPrefix),null!=Z)for(var Q=this.path.keys();Q.hasNext();){var $=Q.next(),tt=this.path,et=this.path,it=Z+(null!=Zu[$]?et.getReserved($):et.h[$]),nt=tt;null!=Zu[$]?nt.setReserved($,it):nt.h[$]=it}var st=null;null!=_t.config&&Object.prototype.hasOwnProperty.call(_t.config,"remoteAssetPath")&&(st=_t.config.remoteAssetPath);for(var rt=t.keys();rt.hasNext();){var at=rt.next(),ot=this.path,lt=null!=st?st+(null!=Zu[at]?t.getReserved(at):t.h[at]):null!=Zu[at]?t.getReserved(at):t.h[at],ht=ot;null!=Zu[at]?ht.setReserved(at,lt):ht.h[at]=lt}}(i.DefaultAssetLibrary=b).__name__=["DefaultAssetLibrary"],b.getStringFromBytes=function(t){for(var e=Ja.fromBytes(t),i=e.length,n="",s=65535,r=0;r<i;)i<r+s&&(s=i-r),n+=String.fromCharCode.apply(null,e.subarray(r,r+s)),r+=s;return n},b.__super__=ut,b.prototype=n(ut.prototype,{exists:function(t,e){var i=null!=e?zs.__cast(e,String):null,n=this.type,s=null!=Zu[t]?n.getReserved(t):n.h[t];if(null!=s){if(s==i||("SOUND"==i||"MUSIC"==i)&&("MUSIC"==s||"SOUND"==s))return!0;if("BINARY"==i||null==i||"BINARY"==s&&"TEXT"==i)return!0}return!1},getAudioBuffer:function(t){return null},getBytes:function(t){var e=Sr.loaders,i=this.path,n=null!=Zu[t]?i.getReserved(t):i.h[t],s=e,r=null!=Zu[n]?s.getReserved(n):s.h[n];if(null==r)return null;var a=r.response.bytes;return null!=a?a:null},getFont:function(t){var e=this.className;return zs.__cast(mi.createInstance(null!=Zu[t]?e.getReserved(t):e.h[t],[]),y)},getImage:function(t){var e=Sr.images,i=this.path,n=null!=Zu[t]?i.getReserved(t):i.h[t],s=e;return Gr.fromImageElement(null!=Zu[n]?s.getReserved(n):s.h[n])},getPath:function(t){var e=this.path;return null!=Zu[t]?e.getReserved(t):e.h[t]},getPathMap:function(){return this.path},getExtraSoundOptions:function(t){var e=this.extraSoundOptions;return null!=Zu[t]?e.getReserved(t):e.h[t]},getText:function(t){var e=Sr.loaders,i=this.path,n=null!=Zu[t]?i.getReserved(t):i.h[t],s=e,r=null!=Zu[n]?s.getReserved(n):s.h[n];if(null==r)return null;if(null!=r.response.text)return r.response.text;var a=r.response.bytes;return null!=a?a.getString(0,a.length):null},isLocal:function(t,e){return!0},list:function(t){for(var e=null!=t?zs.__cast(t,String):null,i=[],n=this.type.keys();n.hasNext();){var s=n.next();null!=e&&!this.exists(s,t)||i.push(s)}return i},loadAudioBuffer:function(t){var e=this,i=new Er;return i.completeWith(new Tr(function(){return e.getAudioBuffer(t)})),i.future},loadBytes:function(t){var e=new Er,i=this.path;if(null!=Zu[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var n=new _a,s=this.path,r=n.load((null!=Zu[t]?s.getReserved(t):s.h[t])+"?"+Qs.cache.version);r.onProgress(function(t){e.progress(t)}),r.onError(function(t){e.error(t)}),r.onComplete(function(t){e.complete(t.bytes)})}else{var a=this.getBytes(t);e.complete(a)}return e.future},loadImage:function(t){var i=new Er,e=this.path;if(null!=Zu[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(t){var e=Gr.fromImageElement(n);i.complete(e)},n.onerror=Hu(i,i.error);var s=this.path,r=null!=Zu[t]?s.getReserved(t):s.h[t];n.src=r+"?"+Qs.cache.version}else{var a=this.getImage(t);i.complete(a)}return i.future},loadText:function(t){var e=new Er,i=this.path;if(null!=Zu[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var n=new _a,s=this.path,r=n.load((null!=Zu[t]?s.getReserved(t):s.h[t])+"?"+Qs.cache.version);r.onProgress(function(t){e.progress(t)}),r.onError(function(t){e.error(t)}),r.onComplete(function(t){e.complete(t.text)})}else{var a=this.getText(t);e.complete(a)}return e.future},__class__:b});var y=function(t){null!=t&&(this.name=t),null!=this.__fontPath&&this.__fromFile(this.__fontPath)};(i["lime.text.Font"]=y).__name__=["lime","text","Font"],y.fromBytes=function(t){var e=new y;return e.__fromBytes(t),e},y.fromFile=function(t){var e=new y;return e.__fromFile(t),e},y.prototype={decompose:function(){return null},getGlyph:function(t){return-1},getGlyphs:function(t){return null==t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^`'\"/\\&*()[]{}<>|:;_-+=?,. "),null},getGlyphMetrics:function(t){return null},renderGlyph:function(t,e){return null},renderGlyphs:function(t,e){return null},__fromBytes:function(t){this.__fontPath=null},__fromFile:function(t){this.__fontPath=t},get_ascender:function(){return 0},get_descender:function(){return 0},get_height:function(){return 0},get_numGlyphs:function(){return 0},get_underlinePosition:function(){return 0},get_underlineThickness:function(){return 0},get_unitsPerEM:function(){return 0},__class__:y,__properties__:{get_unitsPerEM:"get_unitsPerEM",get_underlineThickness:"get_underlineThickness",get_underlinePosition:"get_underlinePosition",get_numGlyphs:"get_numGlyphs",get_height:"get_height",get_descender:"get_descender",get_ascender:"get_ascender"}};var ct=function(){y.call(this),this.name="Swiss921 BT"};(i.__ASSET__assets_fonts_188_swiss921_bt_ttf=ct).__name__=["__ASSET__assets_fonts_188_swiss921_bt_ttf"],ct.__super__=y,ct.prototype=n(y.prototype,{__class__:ct});var ft=function(){y.call(this),this.name="Swis721 Md BT"};(i.__ASSET__assets_fonts_142_swis721_md_bt_ttf=ft).__name__=["__ASSET__assets_fonts_142_swis721_md_bt_ttf"],ft.__super__=y,ft.prototype=n(y.prototype,{__class__:ft});var dt=function(){y.call(this),this.name="Swis721 Md BT"};(i.__ASSET__assets_fonts_24_swis721_md_bt_ttf=dt).__name__=["__ASSET__assets_fonts_24_swis721_md_bt_ttf"],dt.__super__=y,dt.prototype=n(y.prototype,{__class__:dt});var pt=function(t){y.call(this,t)};(i["openfl.text.Font"]=pt).__name__=["openfl","text","Font"],pt.enumerateFonts=function(t){return null==t&&(t=!1),pt.__registeredFonts},pt.fromBytes=function(t){var e=new pt;return e.__fromBytes(J_.toBytes(t)),e},pt.fromFile=function(t){var e=new pt;return e.__fromFile(t),e},pt.registerFont=function(t){var e=zs.__cast(mi.createInstance(t,[]),pt);null!=e&&pt.__registeredFonts.push(e)},pt.__fromLimeFont=function(t){var e=new pt;return e.name=t.name,e.src=t.src,e},pt.__super__=y,pt.prototype=n(y.prototype,{get_fontName:function(){return this.name},set_fontName:function(t){return this.name=t},__class__:pt,__properties__:n(y.prototype.__properties__,{set_fontName:"set_fontName",get_fontName:"get_fontName"})});var gt=function(){var t=new ct;this.src=t.src,this.name=t.name,pt.call(this)};(i.__ASSET__OPENFL__assets_fonts_188_swiss921_bt_ttf=gt).__name__=["__ASSET__OPENFL__assets_fonts_188_swiss921_bt_ttf"],gt.__super__=pt,gt.prototype=n(pt.prototype,{__class__:gt});var mt=function(){var t=new ft;this.src=t.src,this.name=t.name,pt.call(this)};(i.__ASSET__OPENFL__assets_fonts_142_swis721_md_bt_ttf=mt).__name__=["__ASSET__OPENFL__assets_fonts_142_swis721_md_bt_ttf"],mt.__super__=pt,mt.prototype=n(pt.prototype,{__class__:mt});var vt=function(){var t=new dt;this.src=t.src,this.name=t.name,pt.call(this)};(i.__ASSET__OPENFL__assets_fonts_24_swis721_md_bt_ttf=vt).__name__=["__ASSET__OPENFL__assets_fonts_24_swis721_md_bt_ttf"],vt.__super__=pt,vt.prototype=n(pt.prototype,{__class__:vt});function w(t,e){this.r=new RegExp(t,e.split("u").join(""))}(i.EReg=w).__name__=["EReg"],w.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw new Vs("EReg::matched")},__class__:w};var B=function(){};(i.HxOverrides=B).__name__=["HxOverrides"],B.dateStr=function(t){var e=t.getMonth()+1,i=t.getDate(),n=t.getHours(),s=t.getMinutes(),r=t.getSeconds();return t.getFullYear()+"-"+(e<10?"0"+e:""+e)+"-"+(i<10?"0"+i:""+i)+" "+(n<10?"0"+n:""+n)+":"+(s<10?"0"+s:""+s)+":"+(r<10?"0"+r:""+r)},B.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(e[0]),i.setUTCMinutes(e[1]),i.setUTCSeconds(e[2]),i;case 10:var n=t.split("-");return new Date(n[0],n[1]-1,n[2],0,0,0);case 19:var s=t.split(" "),r=s[0].split("-"),a=s[1].split(":");return new Date(r[0],r[1]-1,r[2],a[0],a[1],a[2]);default:throw new Vs("Invalid date format : "+t)}},B.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},B.substr=function(t,e,i){if(null==i)i=t.length;else if(i<0){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},B.remove=function(t,e){var i=t.indexOf(e);return-1!=i&&(t.splice(i,1),!0)},B.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};function tt(){}(i.Lambda=tt).__name__=["Lambda"],tt.array=function(t){for(var e=[],i=function(t){return t instanceof Array?function(){return B.iter(t)}:"function"==typeof t.iterator?Hu(t,t.iterator):t.iterator}(t)();i.hasNext();){var n=i.next();e.push(n)}return e};function x(){this.length=0}(i.List=x).__name__=["List"],x.prototype={add:function(t){var e=new T(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},pop:function(){if(null==this.h)return null;var t=this.h.item;return this.h=this.h.next,null==this.h&&(this.q=null),this.length--,t},iterator:function(){return new S(this.h)},__class__:x};var T=function(t,e){this.item=t,this.next=e};(i["_List.ListNode"]=T).__name__=["_List","ListNode"],T.prototype={__class__:T};var S=function(t){this.head=t};(i["_List.ListIterator"]=S).__name__=["_List","ListIterator"],S.prototype={hasNext:function(){return null!=this.head},next:function(){var t=this.head.item;return this.head=this.head.next,t},__class__:S};function E(){}(i.Macro=E).__name__=["Macro"],Math.__name__=["Math"];function I(){o.call(this);var t=this.getBackgroundColor(),e=0;.299*(t>>16&255)+.587*(t>>8&255)+.114*(255&t)<70&&(e=16777215);var i=this.getHeight()/2-3.5,n=this.getWidth()-60;this.outline=new o,this.outline.get_graphics().beginFill(e,.07),this.outline.get_graphics().drawRect(0,0,n,7),this.outline.set_x(30),this.outline.set_y(i),this.addChildAt(this.outline,this.__children._length),this.progress=new o,this.progress.get_graphics().beginFill(e,.35),this.progress.get_graphics().drawRect(0,0,n-4,3),this.progress.set_x(32),this.progress.set_y(2+i),this.progress.set_scaleX(0),this.addChildAt(this.progress,this.__children._length)}(i.NMEPreloader=I).__name__=["NMEPreloader"],I.__super__=o,I.prototype=n(o.prototype,{getBackgroundColor:function(){return 16777215},getHeight:function(){return 440},getWidth:function(){return 550},onInit:function(){},onLoaded:function(){this.dispatchEvent(new Ae("complete"))},onUpdate:function(t,e,i){var n=t/e;1<n&&(n=1),this.progress.set_scaleX(n)},__class__:I});var P=function(){this.dataLoaded=!0,this.swfLite=null,this.introLoaded=!1,this.time=0,this.loaded=!1;var e=this;M.isMobile()||u.set_processSoundCommandCallback(D.process),I.call(this),this.initialStageColor=no.current.stage.get_color(),no.current.stage.set_color(0);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&null!=i.status&&200<=i.status&&i.status<=400&&"arraybuffer"==i.responseType){var t=jn.ofData(i.response);e.swfLite=Je.unserializeLibrary(t),e.attemptIntro()}},i.open("GET","./lib/intro/intro.dat",!0),i.responseType="arraybuffer",i.send(""),this.progress.set_y(this.getHeight()-32),this.outline.set_y(this.progress.__transform.ty-2),C.register()};(i.Preloader=P).__name__=["Preloader"],P.__super__=I,P.prototype=n(I.prototype,{onLoaded:function(){this.loaded=!0,this.attemptFinish()},onUpdate:function(t,e,i){I.prototype.onUpdate.call(this,t,e,i)},__enterFrame:function(t){I.prototype.__enterFrame.call(this,t),this.introLoaded&&(this.time+=t,this.time>P.minDuration&&this.attemptFinish())},attemptFinish:function(){1==this.loaded&&this.time>P.minDuration&&(no.current.stage.set_color(this.initialStageColor),this.dispatchEvent(new Ae("complete")))},attemptIntro:function(){var t=this;if(null!=this.swfLite&&this.dataLoaded){var e=new u(this.swfLite,this.swfLite.root);this.addChildAt(e,0),this.introLoaded=!0;var i=1;this.getWidth()<500&&(i=.75,e.set_scaleX(i),e.set_scaleY(i)),e.set_x(this.getWidth()/2-P.introWidth*i/2),e.set_y(this.getHeight()/2-P.introHeight*i/2),this.addEventListener("click",function(){window.open("http://www.addictinggames.com","_blank")});var n=e.getChildAt(0);n.addFrameScript(131,function(){t.displayMessage(),n.stop()})}},getBackgroundColor:function(){return 0},displayMessage:function(){},__class__:P});var At=function(){};(i.Reflect=At).__name__=["Reflect"],At.field=function(t,e){try{return t[e]}catch(t){return rs.lastException=t,null}},At.getProperty=function(t,e){var i;return null==t?null:!!t.__properties__&&(i=t.__properties__["get_"+e])?t[i]():t[e]},At.setProperty=function(t,e,i){var n;!!t.__properties__&&(n=t.__properties__["set_"+e])?t[n](i):t[e]=i},At.fields=function(t){var e=[];if(null!=t){var i=Object.prototype.hasOwnProperty;for(var n in t)"__id__"!=n&&"hx__closures__"!=n&&i.call(t,n)&&e.push(n)}return e},At.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},At.compareMethods=function(t,e){return t==e||!(!At.isFunction(t)||!At.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},At.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)},At.makeVarArgs=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e(t)}};var C=function(){};(i.ResizeHandler=C).__name__=["ResizeHandler"],C.register=function(){C.registered||(window.addEventListener("resize",C.handle),C.registered=!0),C.handle()},C.handle=function(){var o=_t.config.windows[0].width,l=_t.config.windows[0].height,h=window.document.getElementsByTagName("CANVAS")[0],t=window.devicePixelRatio,e=h.clientWidth*t|0,i=h.clientHeight*t|0;""==h.style.width&&(h.style.width=h.clientWidth+"px",h.style.height=h.clientHeight+"px"),no.current.stage.window.onResize.dispatch(e,i),no.current.stage.window.resize(e,i),hs.delay(function(){if(null!=h){var t=o,e=l,i=window.innerHeight,n=window.innerWidth,s=t/e,r=0,a=0;r=i*s<n?(a=i)*s:(a=n*(e/t),n),h.style.width=r+"px",h.style.height=a+"px"}},10)};var D=function(){};(i.SoundManager=D).__name__=["SoundManager"],D.process=function(t){var e=D.playingSoundTable.h[t.soundId];if(null==e||e.__isValid||(e=null),t.stop)null!=e&&(e.stop(),D.playingSoundTable.remove(t.soundId));else if(null==e||!t.noMultiple){var i;i=D.aliases.h.hasOwnProperty(t.soundId)?D.aliases.h[t.soundId]:""+t.soundId;var n=$a.getSound("assets/sounds/"+i+".m4a");if(null==n&&(n=$a.getSound("assets/sounds/"+i+".wav")),null!=n){var s=n.play(t.inPoint,t.loopCount);D.playingSoundTable.h[t.soundId]=s}}},D.stopSound=function(t){var e=D.playingSoundTable.h[t];null==e||e.__isValid||(e=null),null!=e&&(e.stop(),D.playingSoundTable.remove(t))},D.stopAllSounds=function(){};var A={};(i["_SpriteBase.AMain_Impl_"]=A).__name__=["_SpriteBase","AMain_Impl_"],A.getChild=function(t,e){return t[e]};var L=function(){};(i.Std=L).__name__=["Std"],L.string=function(t){return zs.__string_rec(t,"")},L.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=B.cca(t,1)&&88!=B.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},L.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};function k(){this.b=""}(i.StringBuf=k).__name__=["StringBuf"],k.prototype={__class__:k};function Ps(){}(i.StringTools=Ps).__name__=["StringTools"],Ps.htmlEscape=function(t,e){return t=t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;"),e?t.split('"').join("&quot;").split("'").join("&#039;"):t},Ps.startsWith=function(t,e){return t.length>=e.length&&B.substr(t,0,e.length)==e},Ps.isSpace=function(t,e){var i=B.cca(t,e);return 8<i&&i<14||32==i},Ps.ltrim=function(t){for(var e=t.length,i=0;i<e&&Ps.isSpace(t,i);)++i;return 0<i?B.substr(t,i,e-i):t},Ps.rtrim=function(t){for(var e=t.length,i=0;i<e&&Ps.isSpace(t,e-i-1);)++i;return 0<i?B.substr(t,0,e-i):t},Ps.trim=function(t){return Ps.ltrim(Ps.rtrim(t))},Ps.replace=function(t,e,i){return t.split(e).join(i)},Ps.hex=function(t,e){for(var i="";i="0123456789ABCDEF".charAt(15&t)+i,0<(t>>>=4););if(null!=e)for(;i.length<e;)i="0"+i;return i};var R=i.ValueType={__ename__:!0,__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};R.TNull=["TNull",0],R.TNull.toString=f,(R.TNull.__enum__=R).TInt=["TInt",1],R.TInt.toString=f,(R.TInt.__enum__=R).TFloat=["TFloat",2],R.TFloat.toString=f,(R.TFloat.__enum__=R).TBool=["TBool",3],R.TBool.toString=f,(R.TBool.__enum__=R).TObject=["TObject",4],R.TObject.toString=f,(R.TObject.__enum__=R).TFunction=["TFunction",5],R.TFunction.toString=f,(R.TFunction.__enum__=R).TClass=function(t){var e=["TClass",6,t];return e.__enum__=R,e.toString=f,e},R.TEnum=function(t){var e=["TEnum",7,t];return e.__enum__=R,e.toString=f,e},R.TUnknown=["TUnknown",8],R.TUnknown.toString=f,R.TUnknown.__enum__=R;var mi=function(){};(i.Type=mi).__name__=["Type"],mi.getSuperClass=function(t){return t.__super__},mi.getClassName=function(t){var e=t.__name__;return null==e?null:e.join(".")},mi.resolveClass=function(t){var e=i[t];return null!=e&&e.__name__?e:null},mi.resolveEnum=function(t){var e=i[t];return null!=e&&e.__ename__?e:null},mi.createInstance=function(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);case 11:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]);case 12:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11]);case 13:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]);case 14:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13]);default:throw new Vs("Too many arguments")}},mi.createEmptyInstance=function(t){function e(){}return e.prototype=t.prototype,new e},mi.getClassFields=function(t){var e=At.fields(t);return B.remove(e,"__name__"),B.remove(e,"__interfaces__"),B.remove(e,"__properties__"),B.remove(e,"__super__"),B.remove(e,"__meta__"),B.remove(e,"prototype"),e},mi.typeof=function(t){switch(typeof t){case"boolean":return R.TBool;case"function":return t.__name__||t.__ename__?R.TObject:R.TFunction;case"number":return Math.ceil(t)==t%2147483648?R.TInt:R.TFloat;case"object":if(null==t)return R.TNull;var e=t.__enum__;if(null!=e)return R.TEnum(e);var i=zs.getClass(t);return null!=i?R.TClass(i):R.TObject;case"string":return R.TClass(String);case"undefined":return R.TNull;default:return R.TUnknown}},mi.enumEq=function(t,e){if(t==e)return!0;try{if(t[0]!=e[0])return!1;for(var i=2,n=t.length;i<n;){var s=i++;if(!mi.enumEq(t[s],e[s]))return!1}var r=t.__enum__;if(r!=e.__enum__||null==r)return!1}catch(t){return rs.lastException=t,!1}return!0};var Rt={};(i["_UInt.UInt_Impl_"]=Rt).__name__=["_UInt","UInt_Impl_"],Rt.gt=function(t,e){var i=t<0;return i!=e<0?i:e<t},Rt.toFloat=function(t){return t<0?4294967296+t:t+0};var M=function(){};(i.Util=M).__name__=["Util"],M.isMobile=function(){return"ontouchstart"in window},M.registerVersions=function(){var t=new gs;null!=Zu.project?t.setReserved("project","cc19a919c1127f07e77b29aec0674ba361d96084"):t.h.project="cc19a919c1127f07e77b29aec0674ba361d96084",null!=Zu.openfl?t.setReserved("openfl","bbcc00fb28046ed919f9fff1766e9096c4ad07b2"):t.h.openfl="bbcc00fb28046ed919f9fff1766e9096c4ad07b2",e.version=t};function F(){}(i.Version=F).__name__=["Version"];function N(t){this.nodeType=t,this.children=[],this.attributeMap=new gs}(i.Xml=N).__name__=["Xml"],N.parse=function(t){return As.parse(t)},N.createElement=function(t){var e=new N(N.Element);if(e.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},N.createPCData=function(t){var e=new N(N.PCData);if(e.nodeType==N.Document||e.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},N.createCData=function(t){var e=new N(N.CData);if(e.nodeType==N.Document||e.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},N.createComment=function(t){var e=new N(N.Comment);if(e.nodeType==N.Document||e.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},N.createDocType=function(t){var e=new N(N.DocType);if(e.nodeType==N.Document||e.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},N.createProcessingInstruction=function(t){var e=new N(N.ProcessingInstruction);if(e.nodeType==N.Document||e.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},N.createDocument=function(){return new N(N.Document)},N.prototype={get:function(t){if(this.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Zu[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+this.nodeType);var i=this.attributeMap;null!=Zu[t]?i.setReserved(t,e):i.h[t]=e},exists:function(t){if(this.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Zu[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},attributes:function(){if(this.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.keys()},addChild:function(t){if(this.nodeType!=N.Document&&this.nodeType!=N.Element)throw new Vs("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=N.Document&&this.nodeType!=N.Element)throw new Vs("Bad node type, expected Element or Document but found "+this.nodeType);return!!B.remove(this.children,t)&&!(t.parent=null)},__class__:N};var O=function(){};(i["adapters.Key"]=O).__name__=["adapters","Key"],O.create=function(){null==O.instance&&(O.instance=new U)},O.isDown=function(t){return null==O.instance&&(O.instance=new U),O.instance.keys[t]},O.getAscii=function(){return null==O.instance&&(O.instance=new U),O.instance.lastCharCode},O.getCode=function(){return null==O.instance&&(O.instance=new U),O.instance.lastKeyCode},O.addListener=function(t){null==O.instance&&(O.instance=new U)},O.removeListener=function(t){null==O.instance&&(O.instance=new U)},O.addKeyDownListener=function(t){null==O.instance&&(O.instance=new U),O.instance.keyDownListener.push(t)},O.removeKeyDownListener=function(t){null==O.instance&&(O.instance=new U),B.remove(O.instance.keyDownListener,t)};var U=function(){this.lastCharCode=0,this.lastKeyCode=0,this.keyDownListener=[],this.keys=[],v.call(this);var t=no.current.stage;t.addEventListener("keyDown",Hu(this,this.keyPressed)),t.addEventListener("keyUp",Hu(this,this.keyReleased))};(i["adapters.KeyHandler"]=U).__name__=["adapters","KeyHandler"],U.__super__=v,U.prototype=n(v.prototype,{keyPressed:function(t){this.keys[t.keyCode]=!0,this.lastKeyCode=t.keyCode,this.lastCharCode=t.charCode;for(var e=0,i=this.keyDownListener;e<i.length;){var n=i[e];++e,n()}},keyReleased:function(t){this.keys[t.keyCode]=!1},forceKeyState:function(t,e){if(this.keys[t]=e,this.lastKeyCode=t,e)for(var i=0,n=this.keyDownListener;i<n.length;){var s=n[i];++i,s()}},__class__:U});var G={};(i["format.swf._SWFData.SWFData_Impl_"]=G).__name__=["format","swf","_SWFData","SWFData_Impl_"],G.__properties__={set_length:"set_length",get_length:"get_length"},G._new=function(){var t=new Qn;return t.__endian=1,t},G.readSI8=function(t){return t.resetBitsPending(),t.readByte()},G.writeSI8=function(t,e){t.resetBitsPending(),t.writeByte(e)},G.readSI16=function(t){return t.resetBitsPending(),t.readShort()},G.writeSI16=function(t,e){t.resetBitsPending(),t.writeShort(e)},G.readSI32=function(t){return t.resetBitsPending(),t.readInt()},G.writeSI32=function(t,e){t.resetBitsPending(),t.writeInt(e)},G.readUI8=function(t){return t.resetBitsPending(),t.readUnsignedByte()},G.writeUI8=function(t,e){t.resetBitsPending(),t.writeByte(e)},G.readUI16=function(t){return t.resetBitsPending(),t.readUnsignedShort()},G.writeUI16=function(t,e){t.resetBitsPending(),t.writeShort(e)},G.readUI24=function(t){t.resetBitsPending();var e=t.readUnsignedShort();return t.readUnsignedByte()<<16|e},G.writeUI24=function(t,e){t.resetBitsPending(),t.writeShort(65535&e),t.writeByte(e>>16)},G.readUI32=function(t){return t.resetBitsPending(),t.readUnsignedInt()},G.writeUI32=function(t,e){t.resetBitsPending(),t.writeUnsignedInt(e)},G.readFIXED=function(t){return t.resetBitsPending(),t.readInt()/65536},G.writeFIXED=function(t,e){t.resetBitsPending(),t.writeInt(65536*e|0)},G.readFIXED8=function(t){return t.resetBitsPending(),t.readShort()/256},G.writeFIXED8=function(t,e){t.resetBitsPending(),t.writeShort(256*e|0)},G.readFLOAT=function(t){return t.resetBitsPending(),t.readFloat()},G.writeFLOAT=function(t,e){t.resetBitsPending(),t.writeFloat(e)},G.readDOUBLE=function(t){return t.resetBitsPending(),t.readDouble()},G.writeDOUBLE=function(t,e){t.resetBitsPending(),t.writeDouble(e)},G.readFLOAT16=function(t){t.resetBitsPending();var e=t.readUnsignedShort(),i=0!=(32768&e)?-1:1,n=e>>10&31,s=1023&e;return 0==n?0==s?0:i*Math.pow(2,-14)*(s/1024):31==n?0==s?i<0?-1/0:1/0:NaN:i*Math.pow(2,n-15)*(1+s/1024)},G.writeFLOAT16=function(t,e){ts.write(e,t)},G.readEncodedU32=function(t){t.resetBitsPending();var e=t.readUnsignedByte();return 0<(128&e)&&0<(16384&(e=127&e|t.readUnsignedByte()<<7))&&0<(2097152&(e=16383&e|t.readUnsignedByte()<<14))&&0<(268435456&(e=2097151&e|t.readUnsignedByte()<<21))&&(e=268435455&e|t.readUnsignedByte()<<28),e},G.writeEncodedU32=function(t,e){var i=127&e;0!=(e>>=7)?G.writeUI8(t,128|i):G.writeUI8(t,i)},G.readUB=function(t,e){return t.readBits(e)},G.writeUB=function(t,e,i){t.writeBits(e,i)},G.readSB=function(t,e){var i=32-e;return(t.readBits(e)<<i|0)>>i},G.writeSB=function(t,e,i){t.writeBits(e,i)},G.readFB=function(t,e){return G.readSB(t,e)/65536},G.writeFB=function(t,e,i){G.writeSB(t,e,65536*i|0)},G.readSTRING=function(t){for(var e=t.position;0<t.b[e++];);return t.resetBitsPending(),t.readUTFBytes(e-t.position)},G.writeSTRING=function(t,e){null!=e&&0<e.length&&t.writeUTFBytes(e),t.writeByte(0)},G.readLANGCODE=function(t){return t.resetBitsPending(),t.readUnsignedByte()},G.writeLANGCODE=function(t,e){t.resetBitsPending(),t.writeByte(e)},G.readRGB=function(t){return t.resetBitsPending(),-16777216|t.readUnsignedByte()<<16|t.readUnsignedByte()<<8|t.readUnsignedByte()},G.writeRGB=function(t,e){t.resetBitsPending(),t.writeByte(e>>16&255),t.writeByte(e>>8&255),t.writeByte(255&e)},G.readRGBA=function(t){t.resetBitsPending();var e=16777215&G.readRGB(t);return t.readUnsignedByte()<<24|e},G.writeRGBA=function(t,e){t.resetBitsPending(),G.writeRGB(t,e),t.writeByte(e>>24&255)},G.readARGB=function(t){return t.resetBitsPending(),t.readUnsignedByte()<<24|16777215&G.readRGB(t)},G.writeARGB=function(t,e){t.resetBitsPending(),t.writeByte(e>>24&255),G.writeRGB(t,e)},G.readRECT=function(t){return new Ct(t)},G.writeRECT=function(t,e){e.publish(t)},G.readMATRIX=function(t){return new bt(t)},G.writeMATRIX=function(t,e){t.resetBitsPending();var i,n=1!=e.scaleX||1!=e.scaleY,s=0!=e.rotateSkew0||0!=e.rotateSkew1;t.writeBits(1,n?1:0),n&&(i=0==e.scaleX&&0==e.scaleY?1:t.calculateMaxBits(!0,[65536*e.scaleX|0,65536*e.scaleY|0]),G.writeUB(t,5,i),G.writeFB(t,i,e.scaleX),G.writeFB(t,i,e.scaleY));if(t.writeBits(1,s?1:0),s){var r=t.calculateMaxBits(!0,[65536*e.rotateSkew0|0,65536*e.rotateSkew1|0]);G.writeUB(t,5,r),G.writeFB(t,r,e.rotateSkew0),G.writeFB(t,r,e.rotateSkew1)}var a=t.calculateMaxBits(!0,[e.translateX,e.translateY]);G.writeUB(t,5,a),G.writeSB(t,a,e.translateX),G.writeSB(t,a,e.translateY)},G.readCXFORM=function(t){return new J(t)},G.writeCXFORM=function(t,e){e.publish(t)},G.readCXFORMWITHALPHA=function(t){return new Z(t)},G.writeCXFORMWITHALPHA=function(t,e){e.publish(t)},G.readSHAPE=function(t,e){return null==e&&(e=20),new Ft(t,1,e)},G.writeSHAPE=function(t,e){e.publish(t)},G.readSHAPEWITHSTYLE=function(t,e,i){return null==i&&(i=20),null==e&&(e=1),new Ut(t,e,i)},G.writeSHAPEWITHSTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readSTRAIGHTEDGERECORD=function(t,e){return new Nt(t,e)},G.writeSTRAIGHTEDGERECORD=function(t,e){e.publish(t)},G.readCURVEDEDGERECORD=function(t,e){return new Lt(t,e)},G.writeCURVEDEDGERECORD=function(t,e){e.publish(t)},G.readSTYLECHANGERECORD=function(t,e,i,n,s){return null==s&&(s=1),new Ot(t,e,i,n,s)},G.writeSTYLECHANGERECORD=function(t,e,i,n,s){null==s&&(s=1),e.numFillBits=i,e.numLineBits=n,e.publish(t,s)},G.readFILLSTYLE=function(t,e){return null==e&&(e=1),new et(t,e)},G.writeFILLSTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readLINESTYLE=function(t,e){return null==e&&(e=1),new lt(t,e)},G.writeLINESTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readLINESTYLE2=function(t,e){return null==e&&(e=1),new ht(t,e)},G.writeLINESTYLE2=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readBUTTONRECORD=function(t,e){return null==e&&(e=1),0==G.readUI8(t)?null:(t.position--,new H(t,e))},G.writeBUTTONRECORD=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readBUTTONCONDACTION=function(t){return new z(t)},G.writeBUTTONCONDACTION=function(t,e){e.publish(t)},G.readFILTER=function(t){var e=G.readUI8(t),i=Ge.create(e);return i.parse(t),i},G.writeFILTER=function(t,e){G.writeUI8(t,e.id),e.publish(t)},G.readTEXTRECORD=function(t,e,i,n,s){return null==s&&(s=1),0==G.readUI8(t)?null:(t.position--,new Ht(t,e,i,n,s))},G.writeTEXTRECORD=function(t,e,i,n,s,r){null==r&&(r=1),e.publish(t,i,n,s,r)},G.readGLYPHENTRY=function(t,e,i){return new rt(t,e,i)},G.writeGLYPHENTRY=function(t,e,i,n){e.publish(t,i,n)},G.readZONERECORD=function(t){return new Wt(t)},G.writeZONERECORD=function(t,e){e.publish(t)},G.readZONEDATA=function(t){return new Yt(t)},G.writeZONEDATA=function(t,e){e.publish(t)},G.readKERNINGRECORD=function(t,e){return new ot(t,e)},G.writeKERNINGRECORD=function(t,e,i){e.publish(t,i)},G.readGRADIENT=function(t,e){return null==e&&(e=1),new it(t,e)},G.writeGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readFOCALGRADIENT=function(t,e){return null==e&&(e=1),new nt(t,e)},G.writeFOCALGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readGRADIENTRECORD=function(t,e){return null==e&&(e=1),new at(t,e)},G.writeGRADIENTRECORD=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readMORPHFILLSTYLE=function(t,e){return null==e&&(e=1),new yt(t,e)},G.writeMORPHFILLSTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readMORPHLINESTYLE=function(t,e){return null==e&&(e=1),new St(t,e)},G.writeMORPHLINESTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readMORPHLINESTYLE2=function(t,e){return null==e&&(e=1),new Et(t,e)},G.writeMORPHLINESTYLE2=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readMORPHGRADIENT=function(t,e){return null==e&&(e=1),new wt(t,e)},G.writeMORPHGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readMORPHFOCALGRADIENT=function(t,e){return null==e&&(e=1),new xt(t,e)},G.writeMORPHFOCALGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},G.readMORPHGRADIENTRECORD=function(t){return new Tt(t)},G.writeMORPHGRADIENTRECORD=function(t,e){e.publish(t)},G.readACTIONRECORD=function(t){var e=t.position,i=null,n=G.readUI8(t);if(0!=n){var s=128<=n?G.readUI16(t):0;(i=Ue.create(n,s,e)).parse(t)}return i},G.writeACTIONRECORD=function(t,e){e.publish(t)},G.readREGISTERPARAM=function(t){return new Dt(t)},G.writeREGISTERPARAM=function(t,e){e.publish(t)},G.readSYMBOL=function(t){return new zt(t)},G.writeSYMBOL=function(t,e){e.publish(t)},G.readSOUNDINFO=function(t){return new Vt(t)},G.writeSOUNDINFO=function(t,e){e.publish(t)},G.readSOUNDENVELOPE=function(t){return new Xt(t)},G.writeSOUNDENVELOPE=function(t,e){e.publish(t)},G.readCLIPACTIONS=function(t,e){return new j(t,e)},G.writeCLIPACTIONS=function(t,e,i){e.publish(t,i)},G.readCLIPACTIONRECORD=function(t,e){var i=t.position;return 0==(6<=e?G.readUI32(t):G.readUI16(t))?null:(t.position=i,new Y(t,e))},G.writeCLIPACTIONRECORD=function(t,e,i){e.publish(t,i)},G.readCLIPEVENTFLAGS=function(t,e){return new q(t,e)},G.writeCLIPEVENTFLAGS=function(t,e,i){e.publish(t,i)},G.readTagHeader=function(t){var e=t.position,i=G.readUI16(t),n=63&i;return 63==n&&(n=G.readSI32(t)),new Pt(i>>6,n,t.position-e)},G.writeTagHeader=function(t,e,i,n){null==n&&(n=!1),i<63&&!n?G.writeUI16(t,e<<6|i):(G.writeUI16(t,e<<6|63),G.writeSI32(t,i))},G.swfUncompress=function(t,e,i){null==i&&(i=0);var n=t.position,s=new Zn(0);if(2==e)t.readBytes(s),s.position=0,s.uncompress();else{if(1!=e)throw new Vs(new vh("Unknown compression method: "+Z_.toString(e)));for(var r=0;r<5;){var a=r++;s.writeByte(t.b[12+a])}s.__endian=1,s.writeUnsignedInt(i-8),s.writeUnsignedInt(0),t.position=17,t.readBytes(s,13),s.position=0,s.uncompress(e)}G.set_length(t,t.position=n),t.writeBytes(s),t.position=n},G.swfCompress=function(t,e){var i=t.position,n=new Zn(0);if(2!=e)throw new Vs(new vh(1==e?"Can't publish LZMA compressed SWFs":"Unknown compression method: "+Z_.toString(e)));t.readBytes(n),n.position=0,n.compress(),G.set_length(t,t.position=i),t.writeBytes(n)},G.readRawTag=function(t){return new It(t)},G.skipBytes=function(t,e){t.position+=e},G.dump=function(t,e,i){null==i&&(i=0);for(var n=t.position,s=t.position=0|Math.min(Math.max(n+i,0),J_.get_length(t)-e),r="[Dump] total length: "+J_.get_length(t)+", original position: "+n,a=0,o=e;a<o;){var l=a++,h=Ps.hex(t.readUnsignedByte());if(1==h.length&&(h="0"+h),l%16==0){var _=Ps.hex(s+l);r+="\r"+(_=B.substr("00000000",0,8-_.length)+_)+": "}r+=h+=" "}t.position=n,ls.trace(r,{fileName:"SWFData.hx",lineNumber:959,className:"format.swf._SWFData.SWFData_Impl_",methodName:"dump"})},G.get_length=function(t){return t.__length},G.set_length=function(t,e){return 0<e&&t.__resize(e),t.__length=e};function X(){this.dispatcher=new v(this)}(i["format.swf.events.SWFEventDispatcher"]=X).__name__=["format","swf","events","SWFEventDispatcher"],X.__interfaces__=[s],X.prototype={addEventListener:function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),this.dispatcher.addEventListener(t,e,i,n,s)},removeEventListener:function(t,e,i){null==i&&(i=!1),this.dispatcher.removeEventListener(t,e,i)},dispatchEvent:function(t){return this.dispatcher.dispatchEvent(t)},hasEventListener:function(t){return this.dispatcher.hasEventListener(t)},willTrigger:function(t){return this.dispatcher.willTrigger(t)},__class__:X};function V(){this._tmpTagIterator=0,X.call(this),this.backgroundColor=16777215,this.tags=[],this.tagsRaw=[],this.dictionary=new fs,this.scenes=[],this.frames=[],this.layers=[],this.tagFactory=new Xe,(this.rootTimelineContainer=this).enterFrameProvider=new o}(i["format.swf.SWFTimelineContainer"]=V).__name__=["format","swf","SWFTimelineContainer"],V.__super__=X,V.prototype=n(X.prototype,{getCharacter:function(t){var e=this.rootTimelineContainer.dictionary.h[t];return 0<=e&&e<this.rootTimelineContainer.tags.length?this.rootTimelineContainer.tags[e]:null},get_scalingGrids:function(){return this.rootTimelineContainer._scalingGrids},getScalingGrid:function(t){return this.get_scalingGrids().h.hasOwnProperty(t)?this.rootTimelineContainer.tags[this.get_scalingGrids().h[t]]:null},parseTags:function(t,e){var i;for(this.parseTagsInit(t,e);;){if(!(null!=(i=this.parseTag(t))&&0!=i.type))break}this.parseTagsFinalize()},parseTagsAsync:function(t,e){this.parseTagsInit(t,e),this.enterFrameProvider.addEventListener("enterFrame",Hu(this,this.parseTagsAsyncHandler))},parseTagsAsyncHandler:function(t){this.enterFrameProvider.removeEventListener("enterFrame",Hu(this,this.parseTagsAsyncHandler)),this.dispatchEvent(new Me("progress",this._tmpData.position,G.get_length(this._tmpData),!1,!0))&&this.parseTagsAsyncInternal()},parseTagsAsyncInternal:function(){for(var t,e=Date.now();;){if(!(null!=(t=this.parseTag(this._tmpData,!0))&&0!=t.type))break;var i=Date.now();if(V.TIMEOUT<i-e)return void this.enterFrameProvider.addEventListener("enterFrame",Hu(this,this.parseTagsAsyncHandler))}this.parseTagsFinalize(),this.eof?this.dispatchEvent(new Re("error","eof")):(this.dispatchEvent(new Me("progress",this._tmpData.position,G.get_length(this._tmpData))),this.dispatchEvent(new Me("complete",this._tmpData.position,G.get_length(this._tmpData))))},parseTagsInit:function(t,e){this.tags=[],this.frames=[],this.layers=[],this.dictionary=new fs,this.currentFrame=new Vn,this.frameLabels=new fs,this.frameIndexes=new gs,this.hasSoundStream=!1,this._tmpData=t,this._tmpVersion=e},parseTag:function(t,e){null==e&&(e=!1);var i=t.position;if(this.eof=i>=G.get_length(t),this.eof)return ls.trace("WARNING: end of file encountered, no end tag.",{fileName:"SWFTimelineContainer.hx",lineNumber:191,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}),null;var n=G.readRawTag(t),s=n.header,r=this.tagFactory.create(s.type);try{if(zs.__instanceof(r,V)){var a=r;a.tagFactory=this.tagFactory,a.rootTimelineContainer=this}r.parse(t,s.contentLength,this._tmpVersion,e)}catch(t){throw(rs.lastException=t)instanceof Vs&&(t=t.val),zs.__instanceof(t,vh)?(ls.trace("WARNING: parse error: "+t.message+", Tag: "+r.name+", Index: "+this.tags.length,{fileName:"SWFTimelineContainer.hx",lineNumber:213,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}),new Vs(t)):t}this.tags.push(r),this.tagsRaw.push(n),this.processTag(r);var o=i+s.get_tagLength();if(t.position!=o){var l=this.tags.length-1,h=t.position-(i+s.get_tagLength()),_=h<0?"underflow":"overflow",u={pos:i,bytes:h<0?-h:h};this.rootTimelineContainer==this?ls.trace("WARNING: excess bytes: "+h+", Tag: "+r.name+", Index: "+l,{fileName:"SWFTimelineContainer.hx",lineNumber:233,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}):(u.indexRoot=this.rootTimelineContainer.tags.length,ls.trace("WARNING: excess bytes: "+h+", Tag: "+r.name+", Index: "+l+", IndexRoot: "+L.string(u.indexRoot),{fileName:"SWFTimelineContainer.hx",lineNumber:239,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}));var c=new Fe(_,l,u,!1,!0);this.dispatchEvent(c),t.position=i+s.get_tagLength()}return r},parseTagsFinalize:function(){null!=this.soundStream&&0==J_.get_length(this.soundStream.data)&&(this.soundStream=null),V.AUTOBUILD_LAYERS&&this.buildLayers()},publishTags:function(t,e){for(var i,n,s=0,r=this.tags.length;s<r;){var a=s++;i=this.tags[a],n=a<this.tagsRaw.length?this.tagsRaw[a]:null,this.publishTag(t,i,n,e)}},publishTagsAsync:function(t,e){this._tmpData=t,this._tmpVersion=e,this._tmpTagIterator=0,this.enterFrameProvider.addEventListener("enterFrame",Hu(this,this.publishTagsAsyncHandler))},publishTagsAsyncHandler:function(t){this.enterFrameProvider.removeEventListener("enterFrame",Hu(this,this.publishTagsAsyncHandler)),this.dispatchEvent(new Me("progress",this._tmpTagIterator,this.tags.length))&&this.publishTagsAsyncInternal()},publishTagsAsyncInternal:function(){for(var t,e,i=Date.now();;){t=this._tmpTagIterator<this.tags.length?this.tags[this._tmpTagIterator]:null,e=this._tmpTagIterator<this.tagsRaw.length?this.tagsRaw[this._tmpTagIterator]:null,this.publishTag(this._tmpData,t,e,this._tmpVersion),this._tmpTagIterator++;var n=Date.now();if(V.TIMEOUT<n-i)return void this.enterFrameProvider.addEventListener("enterFrame",Hu(this,this.publishTagsAsyncHandler));if(0==t.type)break}this.dispatchEvent(new Me("progress",this._tmpTagIterator,this.tags.length)),this.dispatchEvent(new Me("complete",this._tmpTagIterator,this.tags.length))},publishTag:function(e,i,n,t){try{i.publish(e,t)}catch(t){if((rs.lastException=t)instanceof Vs&&(t=t.val),!zs.__instanceof(t,vh))throw t;ls.trace("WARNING: publish error: "+t.message+" (tag: "+i.name+")",{fileName:"SWFTimelineContainer.hx",lineNumber:311,className:"format.swf.SWFTimelineContainer",methodName:"publishTag"}),null!=n?n.publish(e):ls.trace("FATAL: publish error: No raw tag fallback",{fileName:"SWFTimelineContainer.hx",lineNumber:315,className:"format.swf.SWFTimelineContainer",methodName:"publishTag"})}},processTag:function(t){var e=this.tags.length-1;if(zs.__instanceof(t,bi))this.processDefinitionTag(t,e);else if(zs.__instanceof(t,yi))this.processDisplayListTag(t,e);else switch(zs.__cast(t.type,Yu)){case 8:this.processJPEGTablesTag(t,e);break;case 9:this.processBackgroundColorTag(t,e);break;case 15:this.processStartSound(t,e);break;case 18:case 19:case 45:V.EXTRACT_SOUND_STREAM&&this.processSoundStreamTag(t,e);break;case 78:this.processScalingGridTag(t,e);break;case 43:case 86:this.processFrameLabelTag(t,e)}},processStartSound:function(t,e){this.currentFrame.startSound=t},processDefinitionTag:function(t,e){if(17==zs.__cast(t.type,Yu)){var i=this.dictionary.h[t.characterId],n=this.tags[i];return zs.__instanceof(n,Mi)||ls.trace("Unable to find button associated with DefineButtonSound",{fileName:"SWFTimelineContainer.hx",lineNumber:368,className:"format.swf.SWFTimelineContainer",methodName:"processDefinitionTag"}),void(zs.__cast(n,Mi).defineSound=zs.__cast(t,Bi))}0<t.characterId&&(this.dictionary.h[t.characterId]=e,this.currentFrame.characters.push(t.characterId))},processDisplayListTag:function(t,e){switch(zs.__cast(t.type,Yu)){case 1:if(this.currentFrame.tagIndexEnd=e,null==this.currentFrame.label&&this.frameLabels.exists(this.currentFrame.frameNumber)){var i=this.frameLabels.get(this.currentFrame.frameNumber);this.currentFrame.label=i}this.frames.push(this.currentFrame),this.currentFrame=this.currentFrame.clone(),this.currentFrame.frameNumber=this.frames.length,this.currentFrame.tagIndexStart=e+1;break;case 4:case 26:case 70:this.currentFrame.placeObject(e,t);break;case 5:case 28:this.currentFrame.removeObject(t)}},processFrameLabelTag:function(t,e){switch(zs.__cast(t.type,Yu)){case 43:var i=t;this.currentFrame.label=i.frameName,this.frameLabels.set(this.currentFrame.frameNumber,i.frameName),this.frameIndexes.set(i.frameName,this.currentFrame.frameNumber+1);break;case 86:for(var n=t,s=0,r=n.frameLabels.length;s<r;){var a=s++,o=n.frameLabels[a];this.frameLabels.set(o.frameNumber,o.name),this.frameIndexes.set(o.name,o.frameNumber+1)}for(var l=0,h=n.scenes.length;l<h;){var _=l++,u=n.scenes[_];this.scenes.push(new Wn(u.offset,u.name))}}},processSoundStreamTag:function(t,e){switch(zs.__cast(t.type,Yu)){case 18:case 45:var i=t;this.soundStream=new Kn,this.soundStream.compression=i.streamSoundCompression,this.soundStream.rate=i.streamSoundRate,this.soundStream.size=i.streamSoundSize,this.soundStream.type=i.streamSoundType,this.soundStream.numFrames=0,this.soundStream.numSamples=0;break;case 19:if(null!=this.soundStream){this.hasSoundStream||(this.hasSoundStream=!0,this.soundStream.startFrame=this.currentFrame.frameNumber);var n=t.soundData;switch(n.__endian=1,n.position=0,this.soundStream.compression){case 1:break;case 2:var s=n.readUnsignedShort();n.readShort(),0<s&&(this.soundStream.numSamples+=s,this.soundStream.data.writeBytes(n,4))}this.soundStream.numFrames++}}},processBackgroundColorTag:function(t,e){this.backgroundColor=t.color},processJPEGTablesTag:function(t,e){this.jpegTablesTag=t},processScalingGridTag:function(t,e){this.get_scalingGrids().h[t.characterId]=e},buildLayers:function(){for(var t,e=new fs,i=[],n=0,s=this.frames.length;n<s;)for(var r=n++,a=this.frames[r],o=a.objects.keys();o.hasNext();){var l=o.next();t=0|l;for(var h=!1,_=0;_<i.length;){var u=i[_];++_,u==t&&(h=!0);break}h?e.h[l].push(a.frameNumber):(e.h[l]=[a.frameNumber],i.push(t))}i.sort(Hu(this,this.sortNumeric));for(var c=0,f=i.length;c<f;){var d=c++,p=new Hn(i[d],this.frames.length),g=e.h[i[d]],m=g.length;if(0<m){for(var v=0,b=0|G.MAX_FLOAT_VALUE,y=0|G.MAX_FLOAT_VALUE,w=0,x=m;w<x;){var T=g[w++],S=this.frames[T].objects.h[p.depth];S.isKeyframe?(p.appendStrip(v,b,y),b=T,v=zs.__instanceof(this.getCharacter(S.characterId),Hi)?4:2):2==v&&0<S.lastModifiedAtIndex&&(v=3),y=T}p.appendStrip(v,b,y)}this.layers.push(p)}for(var E=0,I=this.frames.length;E<I;)for(var P=E++,C=this.frames[P].objects,D=C.keys();D.hasNext();)for(var A=D.next(),R=0,M=i.length;R<M;){var F=R++;A==i[F]&&(C.h[A].layer=F)}},sortNumeric:function(t,e){return t-e},toString:function(t){null==t&&(t=0);var e="";if(0<this.tags.length){e+="\n"+ns.repeat(t+2)+"Tags:";for(var i=0,n=this.tags.length;i<n;){var s=i++;e+="\n"+this.tags[s].toString(t+4)}}if(0<this.scenes.length){e+="\n"+ns.repeat(t+2)+"Scenes:";for(var r=0,a=this.scenes.length;r<a;){var o=r++;e+="\n"+this.scenes[o].toString(t+4)}}if(0<this.frames.length){e+="\n"+ns.repeat(t+2)+"Frames:";for(var l=0,h=this.frames.length;l<h;){var _=l++;e+="\n"+this.frames[_].toString(t+4)}}if(0<this.layers.length){e+="\n"+ns.repeat(t+2)+"Layers:";for(var u=0,c=this.layers.length;u<c;){var f=u++;e+="\n"+ns.repeat(t+4)+"["+f+"] "+this.layers[f].toString(t+4)}}return e},__class__:V,__properties__:{get_scalingGrids:"get_scalingGrids"}});var z=function(t){var e=new De,i=new Array(0);e.data=i,e.length=0,e.fixed=!1,this.actions=e,null!=t&&this.parse(t)};(i["format.swf.data.SWFButtonCondAction"]=z).__name__=["format","swf","data","SWFButtonCondAction"],z.prototype={parse:function(t){var e,i=G.readUI8(t)<<8|G.readUI8(t);for(this.condIdleToOverDown=0!=(32768&i),this.condOutDownToIdle=0!=(16384&i),this.condOutDownToOverDown=0!=(8192&i),this.condOverDownToOutDown=0!=(4096&i),this.condOverDownToOverUp=0!=(2048&i),this.condOverUpToOverDown=0!=(1024&i),this.condOverUpToIdle=0!=(512&i),this.condIdleToOverUp=0!=(256&i),this.condOverDownToIdle=0!=(1&i),this.condKeyPress=(255&i)>>1;null!=(e=G.readACTIONRECORD(t));){var n=this.actions;if(!n.fixed){if(n.length++,n.data.length<n.length){var s=n.data.length+10,r=new Array(s);ms.blit(n.data,0,r,0,n.data.length),n.data=r}n.data[n.length-1]=e}}jt.resolveOffsets(this.actions)},publish:function(t){var e=0;this.condIdleToOverDown&&(e|=128),this.condOutDownToIdle&&(e|=64),this.condOutDownToOverDown&&(e|=32),this.condOverDownToOutDown&&(e|=16),this.condOverDownToOverUp&&(e|=8),this.condOverUpToOverDown&&(e|=4),this.condOverUpToIdle&&(e|=2),this.condIdleToOverUp&&(e|=1),G.writeUI8(t,e);var i=this.condKeyPress<<1;this.condOverDownToIdle&&(i|=1),G.writeUI8(t,i);for(var n=0,s=this.actions.length;n<s;){var r=n++;G.writeACTIONRECORD(t,this.actions.data[r])}G.writeUI8(t,0)},clone:function(){var t=new z;t.condActionSize=this.condActionSize,t.condIdleToOverDown=this.condIdleToOverDown,t.condOutDownToIdle=this.condOutDownToIdle,t.condOutDownToOverDown=this.condOutDownToOverDown,t.condOverDownToOutDown=this.condOverDownToOutDown,t.condOverDownToOverUp=this.condOverDownToOverUp,t.condOverUpToOverDown=this.condOverUpToOverDown,t.condOverUpToIdle=this.condOverUpToIdle,t.condIdleToOverUp=this.condIdleToOverUp,t.condOverDownToIdle=this.condOverDownToIdle,t.condKeyPress=this.condKeyPress;for(var e=0,i=this.actions.length;e<i;){var n=e++,s=t.actions,r=this.actions.data[n].clone();if(!s.fixed){if(s.length++,s.data.length<s.length){var a=s.data.length+10,o=new Array(a);ms.blit(s.data,0,o,0,s.data.length),s.data=o}s.data[s.length-1]=r}}return t},toString:function(t){null==t&&(t=0);var e=[];this.condIdleToOverDown&&e.push("idleToOverDown"),this.condOutDownToIdle&&e.push("outDownToIdle"),this.condOutDownToOverDown&&e.push("outDownToOverDown"),this.condOverDownToOutDown&&e.push("overDownToOutDown"),this.condOverDownToOverUp&&e.push("overDownToOverUp"),this.condOverUpToOverDown&&e.push("overUpToOverDown"),this.condOverUpToIdle&&e.push("overUpToIdle"),this.condIdleToOverUp&&e.push("idleToOverUp"),this.condOverDownToIdle&&e.push("overDownToIdle");for(var i="Cond: ("+e.join(",")+"), KeyPress: "+this.condKeyPress,n=0,s=this.actions.length;n<s;){var r=n++;i+="\n"+ns.repeat(t+2)+"["+r+"] "+this.actions.data[r].toString(t+2)}return i},__class__:z};var H=function(t,e){null==e&&(e=1),this.filterList=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFButtonRecord"]=H).__name__=["format","swf","data","SWFButtonRecord"],H.prototype={parse:function(t,e){null==e&&(e=1);var i=G.readUI8(t);if(this.stateHitTest=0!=(8&i),this.stateDown=0!=(4&i),this.stateOver=0!=(2&i),this.stateUp=0!=(1&i),this.characterId=G.readUI16(t),this.placeDepth=G.readUI16(t),this.placeMatrix=G.readMATRIX(t),2<=e){if(this.colorTransform=G.readCXFORMWITHALPHA(t),this.hasFilterList=0!=(16&i),this.hasFilterList)for(var n=0,s=G.readUI8(t);n<s;){n++;this.filterList.push(G.readFILTER(t))}this.hasBlendMode=0!=(32&i),this.hasBlendMode&&(this.blendMode=G.readUI8(t))}},publish:function(t,e){null==e&&(e=1);var i=0;if(2<=e&&this.hasBlendMode&&(i|=32),2<=e&&this.hasFilterList&&(i|=16),this.stateHitTest&&(i|=8),this.stateDown&&(i|=4),this.stateOver&&(i|=2),this.stateUp&&(i|=1),G.writeUI8(t,i),G.writeUI16(t,this.characterId),G.writeUI16(t,this.placeDepth),G.writeMATRIX(t,this.placeMatrix),2<=e){if(G.writeCXFORMWITHALPHA(t,this.colorTransform),this.hasFilterList){var n=this.filterList.length;G.writeUI8(t,n);for(var s=0,r=n;s<r;){var a=s++;G.writeFILTER(t,this.filterList[a])}}this.hasBlendMode&&G.writeUI8(t,this.blendMode)}},clone:function(){var t=new H;t.hasBlendMode=this.hasBlendMode,t.hasFilterList=this.hasFilterList,t.stateHitTest=this.stateHitTest,t.stateDown=this.stateDown,t.stateOver=this.stateOver,t.stateUp=this.stateUp,t.characterId=this.characterId,t.placeDepth=this.placeDepth,t.placeMatrix=this.placeMatrix.clone(),null!=this.colorTransform&&(t.colorTransform=zs.__cast(this.colorTransform.clone(),Z));for(var e=0,i=this.filterList.length;e<i;){var n=e++;t.filterList.push(this.filterList[n].clone())}return t.blendMode=this.blendMode,t},toString:function(t){null==t&&(t=0);var e="Depth: "+this.placeDepth+", CharacterID: "+this.characterId+", States: ",i=[];if(this.stateUp&&i.push("up"),this.stateOver&&i.push("over"),this.stateDown&&i.push("down"),this.stateHitTest&&i.push("hit"),e+=i.join(","),this.hasBlendMode&&(e+=", BlendMode: "+te.toString(this.blendMode)),null==this.placeMatrix||this.placeMatrix.isIdentity()||(e+="\n"+ns.repeat(t+2)+"Matrix: "+L.string(this.placeMatrix)),null==this.colorTransform||this.colorTransform.isIdentity()||(e+="\n"+ns.repeat(t+2)+"ColorTransform: "+L.string(this.colorTransform)),this.hasFilterList){e+="\n"+ns.repeat(t+2)+"Filters:";for(var n=0,s=this.filterList.length;n<s;){var r=n++;e+="\n"+ns.repeat(t+4)+"["+r+"] "+this.filterList[r].toString(t+4)}}return e},__class__:H};var Y=function(t,e){null==e&&(e=0);var i=new De,n=new Array(0);i.data=n,i.length=0,i.fixed=!1,this.actions=i,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFClipActionRecord"]=Y).__name__=["format","swf","data","SWFClipActionRecord"],Y.prototype={parse:function(t,e){this.eventFlags=G.readCLIPEVENTFLAGS(t,e);var i,n=G.readUI32(t),s=t.position;for(this.eventFlags.keyPressEvent&&(this.keyCode=G.readUI8(t));null!=(i=G.readACTIONRECORD(t));){var r=this.actions;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);ms.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=i}}jt.resolveOffsets(this.actions),t.position=s+n},publish:function(t,e){G.writeCLIPEVENTFLAGS(t,this.eventFlags,e);var i=G._new();this.eventFlags.keyPressEvent&&G.writeUI8(i,this.keyCode);for(var n=0,s=this.actions.length;n<s;){var r=n++;G.writeACTIONRECORD(i,this.actions.data[r])}G.writeUI8(i,0),G.writeUI32(t,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e="ClipActionRecords ("+this.eventFlags.toString()+"):";0<this.keyCode&&(e+=", KeyCode: "+this.keyCode),e+=":";for(var i=0,n=this.actions.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+2)+"["+s+"] "+this.actions.data[s].toString(t+2)}return e},__class__:Y};var j=function(t,e){null==e&&(e=0),this.records=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFClipActions"]=j).__name__=["format","swf","data","SWFClipActions"],j.prototype={parse:function(t,e){var i;for(G.readUI16(t),this.eventFlags=G.readCLIPEVENTFLAGS(t,e);null!=(i=G.readCLIPACTIONRECORD(t,e));)this.records.push(i)},publish:function(t,e){G.writeUI16(t,0),G.writeCLIPEVENTFLAGS(t,this.eventFlags,e);for(var i=0,n=this.records.length;i<n;){var s=i++;G.writeCLIPACTIONRECORD(t,this.records[s],e)}6<=e?G.writeUI32(t,0):G.writeUI16(t,0)},toString:function(t){null==t&&(t=0);for(var e="ClipActions ("+this.eventFlags.toString()+"):",i=0,n=this.records.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+2)+"["+s+"] "+this.records[s].toString(t+2)}return e},__class__:j};var q=function(t,e){null==e&&(e=0),null!=t&&this.parse(t,e)};(i["format.swf.data.SWFClipEventFlags"]=q).__name__=["format","swf","data","SWFClipEventFlags"],q.prototype={parse:function(t,e){var i=G.readUI8(t);this.keyUpEvent=0!=(128&i),this.keyDownEvent=0!=(64&i),this.mouseUpEvent=0!=(32&i),this.mouseDownEvent=0!=(16&i),this.mouseMoveEvent=0!=(8&i),this.unloadEvent=0!=(4&i),this.enterFrameEvent=0!=(2&i),this.loadEvent=0!=(1&i);var n=G.readUI8(t);if(this.dragOverEvent=0!=(128&n),this.rollOutEvent=0!=(64&n),this.rollOverEvent=0!=(32&n),this.releaseOutsideEvent=0!=(16&n),this.releaseEvent=0!=(8&n),this.pressEvent=0!=(4&n),this.initializeEvent=0!=(2&n),this.dataEvent=0!=(1&n),6<=e){var s=G.readUI8(t);this.constructEvent=0!=(4&s),this.keyPressEvent=0!=(2&s),this.dragOutEvent=0!=(1&s),G.readUI8(t)}},publish:function(t,e){var i=0;this.keyUpEvent&&(i|=128),this.keyDownEvent&&(i|=64),this.mouseUpEvent&&(i|=32),this.mouseDownEvent&&(i|=16),this.mouseMoveEvent&&(i|=8),this.unloadEvent&&(i|=4),this.enterFrameEvent&&(i|=2),this.loadEvent&&(i|=1),G.writeUI8(t,i);var n=0;if(this.dragOverEvent&&(n|=128),this.rollOutEvent&&(n|=64),this.rollOverEvent&&(n|=32),this.releaseOutsideEvent&&(n|=16),this.releaseEvent&&(n|=8),this.pressEvent&&(n|=4),this.initializeEvent&&(n|=2),this.dataEvent&&(n|=1),G.writeUI8(t,n),6<=e){var s=0;this.constructEvent&&(s|=4),this.keyPressEvent&&(s|=2),this.dragOutEvent&&(s|=1),G.writeUI8(t,s),G.writeUI8(t,0)}},toString:function(){var t=[];return this.keyUpEvent&&t.push("keyup"),this.keyDownEvent&&t.push("keydown"),this.mouseUpEvent&&t.push("mouseup"),this.mouseDownEvent&&t.push("mousedown"),this.mouseMoveEvent&&t.push("mousemove"),this.unloadEvent&&t.push("unload"),this.enterFrameEvent&&t.push("enterframe"),this.loadEvent&&t.push("load"),this.dragOverEvent&&t.push("dragover"),this.rollOutEvent&&t.push("rollout"),this.rollOverEvent&&t.push("rollover"),this.releaseOutsideEvent&&t.push("releaseoutside"),this.releaseEvent&&t.push("release"),this.pressEvent&&t.push("press"),this.initializeEvent&&t.push("initialize"),this.dataEvent&&t.push("data"),this.constructEvent&&t.push("construct"),this.keyPressEvent&&t.push("keypress"),this.dragOutEvent&&t.push("dragout"),t.join(",")},__class__:q};var J=function(t){this.aAdd=0,this.aMult=256,this.bAdd=0,this.gAdd=0,this.rAdd=0,this.bMult=256,this.gMult=256,this.rMult=256,null!=t&&this.parse(t)};(i["format.swf.data.SWFColorTransform"]=J).__name__=["format","swf","data","SWFColorTransform"],J.prototype={get_colorTransform:function(){return new to(this.rMult/256,this.gMult/256,this.bMult/256,this.aMult/256,this.rAdd,this.gAdd,this.bAdd,this.aAdd)},parse:function(t){t.resetBitsPending(),this.hasAddTerms=1==G.readUB(t,1),this.hasMultTerms=1==G.readUB(t,1);var e=G.readUB(t,4);this.rMult=256,this.gMult=256,this.bMult=256,this.hasMultTerms&&(this.rMult=G.readSB(t,e),this.gMult=G.readSB(t,e),this.bMult=G.readSB(t,e)),this.rAdd=0,this.gAdd=0,this.bAdd=0,this.hasAddTerms&&(this.rAdd=G.readSB(t,e),this.gAdd=G.readSB(t,e),this.bAdd=G.readSB(t,e))},publish:function(t){t.resetBitsPending(),G.writeUB(t,1,this.hasAddTerms?1:0),G.writeUB(t,1,this.hasMultTerms?1:0);var e=[];this.hasMultTerms&&(e.push(this.rMult),e.push(this.gMult),e.push(this.bMult)),this.hasAddTerms&&(e.push(this.rAdd),e.push(this.gAdd),e.push(this.bAdd));var i=t.calculateMaxBits(!0,e);G.writeUB(t,4,i),this.hasMultTerms&&(G.writeSB(t,i,this.rMult),G.writeSB(t,i,this.gMult),G.writeSB(t,i,this.bMult)),this.hasAddTerms&&(G.writeSB(t,i,this.rAdd),G.writeSB(t,i,this.gAdd),G.writeSB(t,i,this.bAdd))},clone:function(){var t=new J;return t.hasAddTerms=this.hasAddTerms,t.hasMultTerms=this.hasMultTerms,t.rMult=this.rMult,t.gMult=this.gMult,t.bMult=this.bMult,t.rAdd=this.rAdd,t.gAdd=this.gAdd,t.bAdd=this.bAdd,t},isIdentity:function(){return 1==this.rMult&&1==this.gMult&&1==this.bMult&&1==this.aMult&&(0==this.rAdd&&0==this.gAdd&&0==this.bAdd&&0==this.aAdd)},toString:function(){return"(redMultiplier="+this.rMult+", greenMultiplier="+this.gMult+", blueMultiplier="+this.bMult+", alphaMultiplier="+this.aMult+", redOffset="+this.rAdd+", greenOffset="+this.gAdd+", blueOffset="+this.bAdd+", alphaOffset="+this.aAdd+")"},__class__:J,__properties__:{get_colorTransform:"get_colorTransform"}};var Z=function(t){J.call(this,t)};(i["format.swf.data.SWFColorTransformWithAlpha"]=Z).__name__=["format","swf","data","SWFColorTransformWithAlpha"],Z.__super__=J,Z.prototype=n(J.prototype,{parse:function(t){t.resetBitsPending(),this.hasAddTerms=1==G.readUB(t,1),this.hasMultTerms=1==G.readUB(t,1);var e=G.readUB(t,4);this.rMult=256,this.gMult=256,this.bMult=256,this.aMult=256,this.hasMultTerms&&(this.rMult=G.readSB(t,e),this.gMult=G.readSB(t,e),this.bMult=G.readSB(t,e),this.aMult=G.readSB(t,e)),this.rAdd=0,this.gAdd=0,this.bAdd=0,this.aAdd=0,this.hasAddTerms&&(this.rAdd=G.readSB(t,e),this.gAdd=G.readSB(t,e),this.bAdd=G.readSB(t,e),this.aAdd=G.readSB(t,e))},publish:function(t){t.resetBitsPending(),G.writeUB(t,1,this.hasAddTerms?1:0),G.writeUB(t,1,this.hasMultTerms?1:0);var e=[];this.hasMultTerms&&(e.push(this.rMult),e.push(this.gMult),e.push(this.bMult),e.push(this.aMult)),this.hasAddTerms&&(e.push(this.rAdd),e.push(this.gAdd),e.push(this.bAdd),e.push(this.aAdd));var i=this.hasMultTerms||this.hasAddTerms?t.calculateMaxBits(!0,e):1;G.writeUB(t,4,i),this.hasMultTerms&&(G.writeSB(t,i,this.rMult),G.writeSB(t,i,this.gMult),G.writeSB(t,i,this.bMult),G.writeSB(t,i,this.aMult)),this.hasAddTerms&&(G.writeSB(t,i,this.rAdd),G.writeSB(t,i,this.gAdd),G.writeSB(t,i,this.bAdd),G.writeSB(t,i,this.aAdd))},clone:function(){var t=new Z;return t.hasAddTerms=this.hasAddTerms,t.hasMultTerms=this.hasMultTerms,t.rMult=this.rMult,t.gMult=this.gMult,t.bMult=this.bMult,t.aMult=this.aMult,t.rAdd=this.rAdd,t.gAdd=this.gAdd,t.bAdd=this.bAdd,t.aAdd=this.aAdd,t},toString:function(){return"(redMultiplier="+this.rMult+", greenMultiplier="+this.gMult+", blueMultiplier="+this.bMult+", alphaMultiplier="+this.aMult+", redOffset="+this.rAdd+", greenOffset="+this.gAdd+", blueOffset="+this.bAdd+", alphaOffset="+this.aAdd+")"},__class__:Z});function Q(){}(i["hxbit.Serializable"]=Q).__name__=["hxbit","Serializable"],Q.prototype={__class__:Q};var $=function(){this.usedClasses=[],null==$.CLIDS&&$.initClassIDS()};(i["hxbit.Serializer"]=$).__name__=["hxbit","Serializer"],$.resetCounters=function(){$.UID=0,$.SEQ=0},$.allocUID=function(){return $.SEQ<<24|++$.UID},$.registerClass=function(t){if(null!=$.CLIDS)throw new Vs("Too late to register class");var e=$.CLASSES.length;return $.CLASSES.push(t),e},$.hash=function(t){for(var e=1,i=0,n=t.length;i<n;){var s=i++;e=223*e+t.charCodeAt(s)|0}return e=1+(1073741823&e)%65423},$.initClassIDS=function(){for(var t=$.CLASSES,e=[],i=0;i<t.length;){t[i];++i,e.push([])}for(var n=e,s=[],r=0,a=t.length;r<a;)for(var o=r++,l=t[o];null!=(l=mi.getSuperClass(l));){var h=t.indexOf(l);if(h<0)break;n[h].push(o),s[o]=!0}for(var _=[],u=0,c=$.CLASSES.length;u<c;){var f,d=u++;if(0!=n[d].length||s[d]){for(var p=mi.getClassName(t[d]),g=1,m=0,v=p.length;m<v;){var b=m++;g=223*g+p.charCodeAt(b)|0}f=g=1+(1073741823&g)%65423}else f=0;_.push(f)}$.CLIDS=_,$.CL_BYID=[];for(var y=0,w=$.CLIDS.length;y<w;){var x=y++,T=$.CLIDS[x];if(0!=T){if(null!=$.CL_BYID[T])throw new Vs("Conflicting CLID between "+mi.getClassName($.CL_BYID[T])+" and "+mi.getClassName(t[x]));$.CL_BYID[T]=t[x]}}},$.isClassFinal=function(t){return 0==$.CLIDS[t]},$.prototype={set_remapIds:function(t){return this.remapObjs=t?new ds:null,t},get_remapIds:function(){return null!=this.remapObjs},remap:function(t){null==this.remapObjs.h.__keys__[t.__id__]&&(this.remapObjs.set(t,t.__uid),t.__uid=$.SEQ<<24|++$.UID)},begin:function(){this.out=new vs,this.refs=new fs},end:function(){var t=this.out.getBytes();return this.out=null,this.refs=null,t},setInput:function(t,e){this.input=t,this.inPos=e,null==this.refs&&(this.refs=new fs)},serialize:function(t){return this.begin(),this.addKnownRef(t),this.out.getBytes()},unserialize:function(t,e,i){return null==i&&(i=0),this.refs=new fs,this.setInput(t,i),this.getRef(e,e.__clid)},getByte:function(){return this.input.b[this.inPos++]},addByte:function(t){this.out.b.push(t)},addInt:function(t){0<=t&&t<128?this.out.b.push(t):(this.out.b.push(128),this.out.addInt32(t))},addInt32:function(t){this.out.addInt32(t)},addInt64:function(t){this.out.addInt64(t)},addFloat:function(t){this.out.addInt32(ws.floatToI32(t))},addDouble:function(t){this.out.addInt64(ws.doubleToI64(t))},addBool:function(t){this.out.b.push(t?1:0)},addArray:function(t,e){if(null!=t){var i=t.length+1;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));for(var n=0;n<t.length;){var s=t[n];++n,e(s)}}else this.out.b.push(0)},addVector:function(t,e){if(null!=t){var i=t.length+1;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));for(var n=0;n<t.length;){var s=t[n];++n,e(s)}}else this.out.b.push(0)},getArray:function(t){var e=this.input.b[this.inPos++];128==e&&(e=this.input.getInt32(this.inPos),this.inPos+=4);var i=e;if(0==i)return null;for(var n=[],s=0,r=--i;s<r;){n[s++]=t()}return n},getVector:function(t){var e=this.input.b[this.inPos++];128==e&&(e=this.input.getInt32(this.inPos),this.inPos+=4);var i=e;if(0==i)return null;--i;for(var n=new Array(i),s=0,r=i;s<r;){n[s++]=t()}return n},addMap:function(t,e,i){if(null!=t){var n=t,s=tt.array({iterator:function(){return n.keys()}}),r=s.length+1;0<=r&&r<128?this.out.b.push(r):(this.out.b.push(128),this.out.addInt32(r));for(var a=0;a<s.length;){var o=s[a];++a,e(o),i(t.get(o))}}else this.out.b.push(0)},getBool:function(){return 0!=this.input.b[this.inPos++]},getInt:function(){var t=this.input.b[this.inPos++];return 128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4),t},skip:function(t){this.inPos+=t},getInt32:function(){var t=this.input.getInt32(this.inPos);return this.inPos+=4,t},getInt64:function(){var t=this.input.getInt64(this.inPos);return this.inPos+=8,t},getDouble:function(){var t=this.input.getDouble(this.inPos);return this.inPos+=8,t},getFloat:function(){var t=this.input.getFloat(this.inPos);return this.inPos+=4,t},addString:function(t){if(null==t)this.out.b.push(0);else{var e=jn.ofString(t),i=e.length+1;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));for(var n=this.out,s=(n.b,e.b),r=0,a=e.length;r<a;){var o=r++;n.b.push(s[o])}}},addBytes:function(t){if(null==t)this.out.b.push(0);else{var e=t.length+1;0<=e&&e<128?this.out.b.push(e):(this.out.b.push(128),this.out.addInt32(e));for(var i=this.out,n=(i.b,t.b),s=0,r=t.length;s<r;){var a=s++;i.b.push(n[a])}}},getString:function(){var t=this.input.b[this.inPos++];128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4);var e=t;if(0==e)return null;--e;var i=this.input.getString(this.inPos,e);return this.inPos+=e,i},getBytes:function(){var t=this.input.b[this.inPos++];128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4);var e=t;if(0==e)return null;--e;var i=this.input.sub(this.inPos,e);return this.inPos+=e,i},getDynamic:function(){var t=this.input.b[this.inPos++];switch(t){case 0:return null;case 1:return!1;case 2:return!0;case 3:var e=this.input.b[this.inPos++];return 128==e&&(e=this.input.getInt32(this.inPos),this.inPos+=4),e;case 4:var i=this.input.getFloat(this.inPos);return this.inPos+=4,i;case 5:var n={},s=0,r=this.input.b[this.inPos++];128==r&&(r=this.input.getInt32(this.inPos),this.inPos+=4);for(var a=r;s<a;){s++;var o=this.input.b[this.inPos++];128==o&&(o=this.input.getInt32(this.inPos),this.inPos+=4);var l,h=o;if(0==h)l=null;else{--h;var _=this.input.getString(this.inPos,h);this.inPos+=h,l=_}n[l]=this.getDynamic()}return n;case 6:var u=this.input.b[this.inPos++];128==u&&(u=this.input.getInt32(this.inPos),this.inPos+=4);var c=u;if(0==c)return null;--c;var f=this.input.getString(this.inPos,c);return this.inPos+=c,f;case 7:var d=[],p=0,g=this.input.b[this.inPos++];128==g&&(g=this.input.getInt32(this.inPos),this.inPos+=4);for(var m=g;p<m;){p++;d.push(this.getDynamic())}return d;case 8:var v=this.input.b[this.inPos++];128==v&&(v=this.input.getInt32(this.inPos),this.inPos+=4);var b=v;if(0==b)return null;--b;var y=this.input.sub(this.inPos,b);return this.inPos+=b,y;default:throw new Vs("Invalid dynamic prefix "+t)}},addDynamic:function(t){if(null!=t){var e=mi.typeof(t);switch(e[1]){case 1:this.out.b.push(3);var i=t;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));break;case 2:this.out.b.push(4),this.out.addInt32(ws.floatToI32(t));break;case 3:this.out.b.push(t?2:1);break;case 4:var n=At.fields(t);this.out.b.push(5);var s=n.length;0<=s&&s<128?this.out.b.push(s):(this.out.b.push(128),this.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];if(++r,null==a)this.out.b.push(0);else{var o=jn.ofString(a),l=o.length+1;0<=l&&l<128?this.out.b.push(l):(this.out.b.push(128),this.out.addInt32(l));for(var h=this.out,_=(h.b,o.b),u=0,c=o.length;u<c;){var f=u++;h.b.push(_[f])}}this.addDynamic(At.field(t,a))}break;case 6:var d=e[2];switch(d){case Array:this.out.b.push(7);var p=t,g=p.length;0<=g&&g<128?this.out.b.push(g):(this.out.b.push(128),this.out.addInt32(g));for(var m=0;m<p.length;){var v=p[m];++m,this.addDynamic(v)}break;case String:this.out.b.push(6);var b=t;if(null==b)this.out.b.push(0);else{var y=jn.ofString(b),w=y.length+1;0<=w&&w<128?this.out.b.push(w):(this.out.b.push(128),this.out.addInt32(w));for(var x=this.out,T=(x.b,y.b),S=0,E=y.length;S<E;){var I=S++;x.b.push(T[I])}}break;case jn:this.out.b.push(8);var P=t;if(null==P)this.out.b.push(0);else{var C=P.length+1;0<=C&&C<128?this.out.b.push(C):(this.out.b.push(128),this.out.addInt32(C));for(var D=this.out,A=(D.b,P.b),R=0,M=P.length;R<M;){var F=R++;D.b.push(A[F])}}break;default:throw new Vs("Unsupported dynamic "+L.string(d))}break;default:var B=e;throw new Vs("Unsupported dynamic "+L.string(B))}}else this.out.b.push(0)},addCLID:function(t){this.out.b.push(t>>8),this.out.b.push(255&t)},getCLID:function(){return this.input.b[this.inPos++]<<8|this.input.b[this.inPos++]},addObjRef:function(t){var e=t.__uid;0<=e&&e<128?this.out.b.push(e):(this.out.b.push(128),this.out.addInt32(e))},getObjRef:function(){var t=this.input.b[this.inPos++];return 128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4),t},addAnyRef:function(t){if(null!=t){if(null!=this.remapObjs&&this.remap(t),this.addObjRef(t),null==this.refs.h[t.__uid]){var e=(this.refs.h[t.__uid]=t).getCLID();this.usedClasses[e]=!0,this.out.b.push(e>>8),this.out.b.push(255&e),t.serialize(this)}}else this.out.b.push(0)},addKnownRef:function(t){if(null!=t){if(null!=this.remapObjs&&this.remap(t),this.addObjRef(t),null==this.refs.h[t.__uid]){var e=(this.refs.h[t.__uid]=t).getCLID();this.usedClasses[e]=!0;var i=$.CLIDS[e];0!=i&&(this.out.b.push(i>>8),this.out.b.push(255&i)),t.serialize(this)}}else this.out.b.push(0)},getAnyRef:function(){var t=this.getObjRef();if(0==t)return null;if(null!=this.refs.h[t])return this.refs.h[t];var e=16777215&t;$.UID<e&&($.UID=e);var i=this.input.b[this.inPos++]<<8|this.input.b[this.inPos++];null!=this.mapIndexes&&(i=this.mapIndexes[i]);var n=mi.createEmptyInstance($.CLASSES[i]);return null!=this.newObjects&&this.newObjects.push(n),n.__uid=t,n.unserializeInit(),this.refs.h[t]=n,null!=this.convert&&null!=this.convert[i]?this.convertRef(n,this.convert[i]):n.unserialize(this),n},getRef:function(t,e){var i=this.getObjRef();if(0==i)return null;if(null!=this.refs.h[i])return this.refs.h[i];var n=16777215&i;if($.UID<n&&($.UID=n),0!=$.CLIDS[e]){var s=this.input.b[this.inPos++]<<8|this.input.b[this.inPos++];t=$.CL_BYID[s],null!=this.convert&&(e=t.__clid)}var r=mi.createEmptyInstance(t);return null!=this.newObjects&&this.newObjects.push(r),r.__uid=i,r.unserializeInit(),this.refs.h[i]=r,null!=this.convert&&null!=this.convert[e]?this.convertRef(r,this.convert[e]):r.unserialize(this),r},getKnownRef:function(t){return this.getRef(t,t.__clid)},beginSave:function(){this.begin(),this.usedClasses=[]},endSave:function(){var t=this.end();this.begin();for(var e=[],i=[],n=$.CLASSES.indexOf(Ns),s=0,r=this.usedClasses.length;s<r;){var a=s++;if(this.usedClasses[a]&&a!=n){var o=$.CLASSES[a],l=mi.createEmptyInstance(o).getSerializeSchema();i.push(l),e.push(a),this.addKnownRef(l),this.refs.remove(l.__uid)}}var h=this.end();this.begin();var _=jn.ofString("HXS"),u=_.length+1;0<=u&&u<128?this.out.b.push(u):(this.out.b.push(128),this.out.addInt32(u));for(var c=this.out,f=(c.b,_.b),d=0,p=_.length;d<p;){var g=d++;c.b.push(f[g])}this.out.b.push(1);for(var m=0,v=e.length;m<v;){var b=m++,y=e[b],w=mi.getClassName($.CLASSES[y]);if(null==w)this.out.b.push(0);else{var x=jn.ofString(w),T=x.length+1;0<=T&&T<128?this.out.b.push(T):(this.out.b.push(128),this.out.addInt32(T));for(var S=this.out,E=(S.b,x.b),I=0,P=x.length;I<P;){var C=I++;S.b.push(E[C])}}this.out.b.push(y>>8),this.out.b.push(255&y);var D=i[b].get_checkSum();this.out.addInt32(D)}this.out.b.push(0);var A=h.length;0<=A&&A<128?this.out.b.push(A):(this.out.b.push(128),this.out.addInt32(A));for(var R=this.out,M=(R.b,h.b),F=0,B=h.length;F<B;){var L=F++;R.b.push(M[L])}for(var k=this.out,N=(k.b,t.b),O=0,U=t.length;O<U;){var G=O++;k.b.push(N[G])}return this.end()},beginLoad:function(t,e){null==e&&(e=0),this.setInput(t,e);for(var i=new gs,n=[],s=[],r=[],a=!1,o=!1,l=0,h=$.CLASSES.length;l<h;){var _=l++,u=mi.getClassName($.CLASSES[_]);null!=Zu[u]?i.setReserved(u,_):i.h[u]=_,s[_]=_}var c=this.input.b[this.inPos++];128==c&&(c=this.input.getInt32(this.inPos),this.inPos+=4);var f,d=c;if(0==d)f=null;else{--d;var p=this.input.getString(this.inPos,d);this.inPos+=d,f=p}if("HXS"!=f)throw new Vs("Invalid HXS data");var g=this.input.b[this.inPos++];if(1!=g)throw new Vs("Unsupported HXS version "+g);for(;;){var m=this.input.b[this.inPos++];128==m&&(m=this.input.getInt32(this.inPos),this.inPos+=4);var v,b=m;if(0==b)v=null;else{--b;var y=this.input.getString(this.inPos,b);this.inPos+=b,v=y}if(null==v)break;var w=this.input.b[this.inPos++]<<8|this.input.b[this.inPos++],x=this.input.getInt32(this.inPos);this.inPos+=4;var T=x,S=null!=Zu[v]?i.getReserved(v):i.h[v];if(null==S)throw new Vs("Missing class "+v+" found in HXS data");var E=mi.createEmptyInstance($.CLASSES[S]).getSerializeSchema();E.get_checkSum()!=T&&(a=!0,n[w]=E),w!=S&&(o=!0,s[w]=S),r.push(w)}var I=this.input.b[this.inPos++];128==I&&(I=this.input.getInt32(this.inPos),this.inPos+=4);var P=I;if(a){this.convert=[];for(var C=0;C<r.length;){var D=r[C];++C;var A=n[D],R=Ns,M=this.getRef(R,R.__clid);this.refs.remove(M.__uid),null!=A&&(this.convert[s[D]]=new Fs(A,M))}}else this.inPos+=P;o&&(this.mapIndexes=s)},endLoad:function(){this.convert=null,this.mapIndexes=null,this.setInput(null,0)},convertRef:function(t,e){for(var i=e.read.length,n=new Array(i),s=0,r=e.read;s<r.length;){var a=r[s];++s,n[a.index]=this.readValue(a.from)}var o=this.out;this.out=new vs;for(var l=0,h=e.write;l<h.length;){var _,u=h[l];++l,null==u.from?_=u.defaultValue:(_=n[u.index],u.same||(_=null==_?u.defaultValue:this.convertValue(_,u.from,u.to))),this.writeValue(_,u.to)}var c=this.out.getBytes();this.out=o;var f=this.input,d=this.inPos;this.setInput(c,0),t.unserialize(this),this.setInput(f,d)},isNullable:function(t){switch(t[1]){case 0:case 1:case 2:return!1;default:return!0}},convertValue:function(t,e,i){if(null==t&&this.isNullable(i))return null;if(Fs.sameType(e,i))return t;if(9!=e[1]||9!=i[1])throw new Vs("Cannot convert "+L.string(t)+" from "+L.string(e)+" to "+L.string(i));for(var n=e[2],s=i[2],r={},a=0;a<s.length;){var o=s[a];++a;for(var l=!1,h=null,_=0;_<n.length;){var u=n[_];if(++_,u.name==o.name){l=!0,h=this.convertValue(At.field(t,u.name),u.type,o.type);break}}if(l){if(null==h&&o.opt)continue}else{if(o.opt)continue;h=Fs.getDefault(o.type)}r[o.name]=h}return r},readValue:function(t){var e=this;switch(t[1]){case 0:var i=this.input.b[this.inPos++];return 128==i&&(i=this.input.getInt32(this.inPos),this.inPos+=4),i;case 1:var n=this.input.getFloat(this.inPos);return this.inPos+=4,n;case 2:return 0!=this.input.b[this.inPos++];case 3:var s=this.input.b[this.inPos++];128==s&&(s=this.input.getInt32(this.inPos),this.inPos+=4);var r=s;if(0==r)return null;--r;var a=this.input.getString(this.inPos,r);return this.inPos+=r,a;case 4:var o=this.input.b[this.inPos++];128==o&&(o=this.input.getInt32(this.inPos),this.inPos+=4);var l=o;if(0==l)return null;--l;var h=this.input.sub(this.inPos,l);return this.inPos+=l,h;case 5:var _=t[2];return this.getKnownRef(mi.resolveClass(_));case 6:var u=t[2],c=mi.resolveClass("hxbit.enumSer."+u.split(".").join("_"));if(null!=c)return c.doUnserialize(this);var f,d=mi.resolveEnum(u);if(null!=d){var p=Is.getType(d);f=Object.prototype.hasOwnProperty.call(p,"skipSerialize")}else f=!1;if(f){var g=this.input.b[this.inPos++];return 128==g&&(g=this.input.getInt32(this.inPos),this.inPos+=4),null}throw new Vs("No enum unserializer found for "+u);case 7:var m=t[3],v=t[2];switch(v[1]){case 0:var b=this.input.b[this.inPos++];128==b&&(b=this.input.getInt32(this.inPos),this.inPos+=4);var y,w=b;if(0==w)y=null;else{for(var x=new fs;0<--w;){var T=e.readValue(v),S=e.readValue(m);x.h[T]=S}y=x}return y;case 3:var E=this.input.b[this.inPos++];128==E&&(E=this.input.getInt32(this.inPos),this.inPos+=4);var I,P=E;if(0==P)I=null;else{for(var C=new gs;0<--P;){var D=e.readValue(v),A=e.readValue(m);null!=Zu[D]?C.setReserved(D,A):C.h[D]=A}I=C}return I;default:var R=this.input.b[this.inPos++];128==R&&(R=this.input.getInt32(this.inPos),this.inPos+=4);var M,F=R;if(0==F)M=null;else{for(var B=new ds;0<--F;){var L=e.readValue(v),k=e.readValue(m);B.set(L,k)}M=B}return M}break;case 8:var N=t[2],O=this.input.b[this.inPos++];128==O&&(O=this.input.getInt32(this.inPos),this.inPos+=4);var U=O;if(0==U)return null;for(var G=[],X=0,V=--U;X<V;){G[X++]=e.readValue(N)}return G;case 9:var z=t[2],H=this.input.b[this.inPos++];128==H&&(H=this.input.getInt32(this.inPos),this.inPos+=4);var Y=H;if(0==Y)return null;var W={};--Y;for(var K=[],j=0;j<z.length;){var q=z[j];++j,this.isNullable(q.type)&&K.push(q)}for(var J=K,Z=0;Z<z.length;){var Q=z[Z];++Z;var $=J.indexOf(Q);0<=$&&0==(Y&1<<$)||(W[Q.name]=this.readValue(Q.type))}return W;case 10:var tt=t[2];return this.readValue(tt);case 11:var et=t[2],it=this.input.b[this.inPos++];128==it&&(it=this.input.getInt32(this.inPos),this.inPos+=4);var nt=it;if(0==nt)return null;--nt;for(var st=new Array(nt),rt=0,at=nt;rt<at;){st[rt++]=e.readValue(et)}return st;case 12:var ot=t[2];return 0==this.input.b[this.inPos++]?null:this.readValue(ot);case 13:throw new Vs("assert");case 14:return this.getDynamic();case 15:var lt=this.input.getInt64(this.inPos);return this.inPos+=8,lt;case 16:var ht=this.input.b[this.inPos++];return 128==ht&&(ht=this.input.getInt32(this.inPos),this.inPos+=4),ht}},writeValue:function(t,e){switch(e[1]){case 0:var i=t;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));break;case 1:this.out.addInt32(ws.floatToI32(t));break;case 2:this.out.b.push(t?1:0);break;case 3:var n=t;if(null==n)this.out.b.push(0);else{var s=jn.ofString(n),r=s.length+1;0<=r&&r<128?this.out.b.push(r):(this.out.b.push(128),this.out.addInt32(r));for(var a=this.out,o=(a.b,s.b),l=0,h=s.length;l<h;){var _=l++;a.b.push(o[_])}}break;case 4:var u=t;if(null==u)this.out.b.push(0);else{var c=u.length+1;0<=c&&c<128?this.out.b.push(c):(this.out.b.push(128),this.out.addInt32(c));for(var f=this.out,d=(f.b,u.b),p=0,g=u.length;p<g;){var m=p++;f.b.push(d[m])}}break;case 5:this.addKnownRef(t);break;case 6:var v=e[2],b="hxbit.enumSer."+v.split(".").join("_");if(null==b)throw new Vs("No enum unserializer found for "+v);mi.resolveClass(b).doSerialize(this,t);break;case 7:var y=e[3],w=e[2],x=t;if(null==x)this.out.b.push(0);else{var T=x,S=tt.array({iterator:function(){return T.keys()}}),E=S.length+1;0<=E&&E<128?this.out.b.push(E):(this.out.b.push(128),this.out.addInt32(E));for(var I=0;I<S.length;){var P=S[I];++I,this.writeValue(P,w),this.writeValue(x.get(P),y)}}break;case 8:var C=e[2],D=t;if(null==D)this.out.b.push(0);else{var A=D.length+1;0<=A&&A<128?this.out.b.push(A):(this.out.b.push(128),this.out.addInt32(A));for(var R=0;R<D.length;){var M=D[R];++R,this.writeValue(M,C)}}break;case 9:var F=e[2];if(null==t)this.out.b.push(0);else{for(var B=0,L=[],k=0;k<F.length;){var N=F[k];++k,this.isNullable(N.type)&&L.push(N)}for(var O=L,U=0,G=O.length;U<G;){var X=U++;null!=At.field(t,O[X].name)&&(B|=1<<X)}var V=B+1;0<=V&&V<128?this.out.b.push(V):(this.out.b.push(128),this.out.addInt32(V));for(var z=0;z<F.length;){var H=F[z];++z;var Y=O.indexOf(H);H.name;0<=Y&&0==(B&1<<Y)||this.writeValue(At.field(t,H.name),H.type)}}break;case 10:var W=e[2];this.writeValue(t,W);break;case 11:var K=e[2],j=t;if(null==j)this.out.b.push(0);else{var q=j.length+1;0<=q&&q<128?this.out.b.push(q):(this.out.b.push(128),this.out.addInt32(q));for(var J=0;J<j.length;){var Z=j[J];++J,this.writeValue(Z,K)}}break;case 12:var Q=e[2];null==t?this.out.b.push(0):(this.out.b.push(1),this.writeValue(t,Q));break;case 13:throw new Vs("assert");case 14:this.addDynamic(t);break;case 15:this.out.addInt64(t);break;case 16:var $=t;0<=$&&$<128?this.out.b.push($):(this.out.b.push(128),this.out.addInt32($))}},__class__:$,__properties__:{set_remapIds:"set_remapIds",get_remapIds:"get_remapIds"}};var et=function(t,e){null==e&&(e=1),this.__uid=$.SEQ<<24|++$.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFFillStyle"]=et).__name__=["format","swf","data","SWFFillStyle"],et.__interfaces__=[Q],et.prototype={parse:function(t,e){switch(null==e&&(e=1),this._level=e,this.type=G.readUI8(t),this.type){case 0:this.rgb=e<=2?G.readRGB(t):G.readRGBA(t);break;case 16:case 18:case 19:this.gradientMatrix=G.readMATRIX(t),this.gradient=19==this.type?G.readFOCALGRADIENT(t,e):G.readGRADIENT(t,e);break;case 64:case 65:case 66:case 67:this.bitmapId=G.readUI16(t),this.bitmapMatrix=G.readMATRIX(t);break;default:throw new Vs(new vh("Unknown fill style type: 0x"+Ps.hex(this.type)))}},publish:function(t,e){switch(null==e&&(e=1),G.writeUI8(t,this.type),this.type){case 0:e<=2?G.writeRGB(t,this.rgb):G.writeRGBA(t,this.rgb);break;case 16:case 18:G.writeMATRIX(t,this.gradientMatrix),G.writeGRADIENT(t,this.gradient,e);break;case 19:G.writeMATRIX(t,this.gradientMatrix),G.writeFOCALGRADIENT(t,zs.__cast(this.gradient,nt),e);break;case 64:case 65:case 66:case 67:G.writeUI16(t,this.bitmapId),G.writeMATRIX(t,this.bitmapMatrix);break;default:throw new Vs(new vh("Unknown fill style type: 0x"+Ps.hex(this.type)))}},clone:function(){var t=new et;return t.type=this.type,t.rgb=this.rgb,t.gradient=this.gradient.clone(),t.gradientMatrix=this.gradientMatrix.clone(),t.bitmapId=this.bitmapId,t.bitmapMatrix=this.bitmapMatrix.clone(),t},toString:function(){var t="[SWFFillStyle] Type: "+ns.printf("%02x",[this.type]);switch(this.type){case 0:t+=" (solid), Color: "+(this._level<=2?$n.rgbToString(this.rgb):$n.rgbaToString(this.rgb));break;case 16:t+=" (linear gradient), Gradient: "+L.string(this.gradient)+", Matrix: "+L.string(this.gradientMatrix);break;case 18:t+=" (radial gradient), Gradient: "+L.string(this.gradient)+", Matrix: "+L.string(this.gradientMatrix);break;case 19:t+=" (focal radial gradient), Gradient: "+L.string(this.gradient)+", Matrix: "+L.string(this.gradientMatrix)+", FocalPoint: "+this.gradient.focalPoint;break;case 64:t+=" (repeating bitmap), BitmapID: "+this.bitmapId;break;case 65:t+=" (clipped bitmap), BitmapID: "+this.bitmapId;break;case 66:t+=" (non-smoothed repeating bitmap), BitmapID: "+this.bitmapId;break;case 67:t+=" (non-smoothed clipped bitmap), BitmapID: "+this.bitmapId}return t},is_transparent:function(){return!(this._level<=2)&&(null==this.rgb||0==$n.alpha(this.rgb))},getCLID:function(){return et.__clid},serialize:function(t){var e=this.type;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.rgb;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i)),t.addKnownRef(this.gradient),t.addKnownRef(this.gradientMatrix);var n=this.bitmapId;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n)),t.addKnownRef(this.bitmapMatrix);var s=this._level;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("type"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("rgb"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("gradient"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFGradient")),t.fieldsNames.push("gradientMatrix"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("bitmapId"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("bitmapMatrix"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("_level"),t.fieldsTypes.push(Ls.PInt),t.isFinal=$.isClassFinal(et.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.type=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.rgb=i,this.gradient=t.getRef(it,it.__clid),this.gradientMatrix=t.getRef(bt,bt.__clid);var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.bitmapId=n,this.bitmapMatrix=t.getRef(bt,bt.__clid);var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this._level=s},__class__:et};var it=function(t,e){null==e&&(e=1),this.__uid=$.SEQ<<24|++$.UID,this.focalPoint=0,this.records=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFGradient"]=it).__name__=["format","swf","data","SWFGradient"],it.__interfaces__=[Q],it.prototype={parse:function(t,e){t.resetBitsPending(),this.spreadMode=G.readUB(t,2),this.interpolationMode=G.readUB(t,2);for(var i=0,n=G.readUB(t,4);i<n;){i++;this.records.push(G.readGRADIENTRECORD(t,e))}},publish:function(t,e){null==e&&(e=1);var i=this.records.length;t.resetBitsPending(),G.writeUB(t,2,this.spreadMode),G.writeUB(t,2,this.interpolationMode),G.writeUB(t,4,i);for(var n=0,s=i;n<s;){var r=n++;G.writeGRADIENTRECORD(t,this.records[r],e)}},clone:function(){var t=new it;t.spreadMode=this.spreadMode,t.interpolationMode=this.interpolationMode,t.focalPoint=this.focalPoint;for(var e=0,i=this.records.length;e<i;){var n=e++;t.records.push(this.records[n].clone())}return t},toString:function(){return"("+this.records.join(",")+"), SpreadMode: "+this.spreadMode+", InterpolationMode: "+this.interpolationMode},getCLID:function(){return it.__clid},serialize:function(t){var e=this.spreadMode;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.interpolationMode;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i)),t.out.addInt32(ws.floatToI32(this.focalPoint));var n=this.records;if(null==n)t.out.b.push(0);else{var s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];++r,t.addKnownRef(a)}}},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("spreadMode"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("interpolationMode"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("focalPoint"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("records"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.data.SWFGradientRecord"))),t.isFinal=$.isClassFinal(it.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.spreadMode=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.interpolationMode=i;var n,s=t.input.getFloat(t.inPos);t.inPos+=4,this.focalPoint=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4);var a,o=r;if(0==o)a=null;else{for(var l=[],h=0,_=--o;h<_;){var u=h++;n=t.getRef(at,at.__clid),l[u]=n}a=l}this.records=a},__class__:it};var nt=function(t,e){null==e&&(e=1),it.call(this,t,e)};(i["format.swf.data.SWFFocalGradient"]=nt).__name__=["format","swf","data","SWFFocalGradient"],nt.__super__=it,nt.prototype=n(it.prototype,{parse:function(t,e){it.prototype.parse.call(this,t,e),this.focalPoint=G.readFIXED8(t)},publish:function(t,e){null==e&&(e=1),it.prototype.publish.call(this,t,e),G.writeFIXED8(t,this.focalPoint)},toString:function(){return"("+this.records.join(",")+")"},getCLID:function(){return nt.__clid},__class__:nt});function st(t,e){this.frameNumber=t,this.name=e}(i["format.swf.data.SWFFrameLabel"]=st).__name__=["format","swf","data","SWFFrameLabel"],st.prototype={toString:function(){return"Frame: "+this.frameNumber+", Name: "+this.name},__class__:st};var rt=function(t,e,i){null==i&&(i=0),null==e&&(e=0),null!=t&&this.parse(t,e,i)};(i["format.swf.data.SWFGlyphEntry"]=rt).__name__=["format","swf","data","SWFGlyphEntry"],rt.prototype={parse:function(t,e,i){this.index=G.readUB(t,e),this.advance=G.readSB(t,i)},publish:function(t,e,i){G.writeUB(t,e,this.index),G.writeSB(t,i,this.advance)},clone:function(){var t=new rt;return t.index=this.index,t.advance=this.advance,t},toString:function(){return"[SWFGlyphEntry] Index: "+L.string(this.index)+", Advance: "+L.string(this.advance)},__class__:rt};var at=function(t,e){null==e&&(e=1),this.__uid=$.SEQ<<24|++$.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFGradientRecord"]=at).__name__=["format","swf","data","SWFGradientRecord"],at.__interfaces__=[Q],at.prototype={parse:function(t,e){this._level=e,this.ratio=G.readUI8(t),this.color=e<=2?G.readRGB(t):G.readRGBA(t)},publish:function(t,e){G.writeUI8(t,this.ratio),e<=2?G.writeRGB(t,this.color):G.writeRGBA(t,this.color)},clone:function(){var t=new at;return t.ratio=this.ratio,t.color=this.color,t},toString:function(){return"["+this.ratio+","+(this._level<=2?$n.rgbToString(this.color):$n.rgbaToString(this.color))+"]"},getCLID:function(){return at.__clid},serialize:function(t){var e=this.ratio;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.color;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this._level;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("ratio"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("color"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("_level"),t.fieldsTypes.push(Ls.PInt),t.isFinal=$.isClassFinal(at.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.ratio=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.color=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this._level=n},__class__:at};var ot=function(t,e){null==e&&(e=!1),null!=t&&this.parse(t,e)};(i["format.swf.data.SWFKerningRecord"]=ot).__name__=["format","swf","data","SWFKerningRecord"],ot.prototype={parse:function(t,e){this.code1=e?G.readUI16(t):G.readUI8(t),this.code2=e?G.readUI16(t):G.readUI8(t),this.adjustment=G.readSI16(t)},publish:function(t,e){e?G.writeUI16(t,this.code1):G.writeUI8(t,this.code1),e?G.writeUI16(t,this.code2):G.writeUI8(t,this.code2),G.writeSI16(t,this.adjustment)},toString:function(t){return null==t&&(t=0),"Code1: "+this.code1+", Code2: "+this.code2+", Adjustment: "+this.adjustment},__class__:ot};var lt=function(t,e){null==e&&(e=1),this.__uid=$.SEQ<<24|++$.UID,this.startCapsStyle=0,this.endCapsStyle=0,this.jointStyle=0,this.hasFillFlag=!1,this.noHScaleFlag=!1,this.noVScaleFlag=!1,this.pixelHintingFlag=!1,this.noClose=!1,this.miterLimitFactor=3,this.color=0,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFLineStyle"]=lt).__name__=["format","swf","data","SWFLineStyle"],lt.__interfaces__=[Q],lt.prototype={parse:function(t,e){null==e&&(e=1),this._level=e,this.width=G.readUI16(t),this.color=e<=2?G.readRGB(t):G.readRGBA(t)},publish:function(t,e){null==e&&(e=1),G.writeUI16(t,this.width),e<=2?G.writeRGB(t,this.color):G.writeRGBA(t,this.color)},clone:function(){var t=new lt;return t.width=this.width,t.color=this.color,t.startCapsStyle=this.startCapsStyle,t.endCapsStyle=this.endCapsStyle,t.jointStyle=this.jointStyle,t.hasFillFlag=this.hasFillFlag,t.noHScaleFlag=this.noHScaleFlag,t.noVScaleFlag=this.noVScaleFlag,t.pixelHintingFlag=this.pixelHintingFlag,t.noClose=this.noClose,t.miterLimitFactor=this.miterLimitFactor,t.fillType=this.fillType.clone(),t},toString:function(){return"[SWFLineStyle] Width: "+this.width+" Color: "+(this._level<=2?$n.rgbToString(this.color):$n.rgbaToString(this.color))},getCLID:function(){return lt.__clid},serialize:function(t){var e=this.width;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.color;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this._level;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var s=this.startCapsStyle;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var r=this.endCapsStyle;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));var a=this.jointStyle;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a)),t.out.b.push(this.hasFillFlag?1:0),t.out.b.push(this.noHScaleFlag?1:0),t.out.b.push(this.noVScaleFlag?1:0),t.out.b.push(this.pixelHintingFlag?1:0),t.out.b.push(this.noClose?1:0),t.out.addInt32(ws.floatToI32(this.miterLimitFactor)),t.addKnownRef(this.fillType)},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("width"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("color"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("_level"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("startCapsStyle"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("endCapsStyle"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("jointStyle"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("hasFillFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("noHScaleFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("noVScaleFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("pixelHintingFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("noClose"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("miterLimitFactor"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("fillType"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFFillStyle")),t.isFinal=$.isClassFinal(lt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.width=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.color=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this._level=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.startCapsStyle=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.endCapsStyle=r;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.jointStyle=a,this.hasFillFlag=0!=t.input.b[t.inPos++],this.noHScaleFlag=0!=t.input.b[t.inPos++],this.noVScaleFlag=0!=t.input.b[t.inPos++],this.pixelHintingFlag=0!=t.input.b[t.inPos++],this.noClose=0!=t.input.b[t.inPos++];var o=t.input.getFloat(t.inPos);t.inPos+=4,this.miterLimitFactor=o,this.fillType=t.getRef(et,et.__clid)},__class__:lt};var ht=function(t,e){null==e&&(e=1),lt.call(this,t,e)};(i["format.swf.data.SWFLineStyle2"]=ht).__name__=["format","swf","data","SWFLineStyle2"],ht.__super__=lt,ht.prototype=n(lt.prototype,{parse:function(t,e){null==e&&(e=1),this.width=G.readUI16(t),this.startCapsStyle=G.readUB(t,2),this.jointStyle=G.readUB(t,2),this.hasFillFlag=1==G.readUB(t,1),this.noHScaleFlag=1==G.readUB(t,1),this.noVScaleFlag=1==G.readUB(t,1),this.pixelHintingFlag=1==G.readUB(t,1),G.readUB(t,5),this.noClose=1==G.readUB(t,1),this.endCapsStyle=G.readUB(t,2),2==this.jointStyle&&(this.miterLimitFactor=G.readFIXED8(t)),this.hasFillFlag?this.fillType=G.readFILLSTYLE(t,e):this.color=G.readRGBA(t)},publish:function(t,e){null==e&&(e=1),G.writeUI16(t,this.width),G.writeUB(t,2,this.startCapsStyle),G.writeUB(t,2,this.jointStyle),G.writeUB(t,1,this.hasFillFlag?1:0),G.writeUB(t,1,this.noHScaleFlag?1:0),G.writeUB(t,1,this.noVScaleFlag?1:0),G.writeUB(t,1,this.pixelHintingFlag?1:0),G.writeUB(t,5,0),G.writeUB(t,1,this.noClose?1:0),G.writeUB(t,2,this.endCapsStyle),2==this.jointStyle&&G.writeFIXED8(t,this.miterLimitFactor),this.hasFillFlag?G.writeFILLSTYLE(t,this.fillType,e):G.writeRGBA(t,this.color)},toString:function(){var t="[SWFLineStyle2] Width: "+this.width+", StartCaps: "+se.toString(this.startCapsStyle)+", EndCaps: "+se.toString(this.endCapsStyle)+", Joint: "+re.toString(this.jointStyle)+", ";return this.noClose&&(t+="NoClose, "),this.noHScaleFlag&&(t+="NoHScale, "),this.noVScaleFlag&&(t+="NoVScale, "),this.pixelHintingFlag&&(t+="PixelHinting, "),this.hasFillFlag?t+="Fill: "+this.fillType.toString():t+="Color: "+$n.rgbaToString(this.color),t},getCLID:function(){return ht.__clid},__class__:ht});var bt=function(t){this.__uid=$.SEQ<<24|++$.UID,this.translateY=0,this.translateX=0,this.rotateSkew1=0,this.rotateSkew0=0,this.scaleY=1,this.scaleX=1,null!=t&&this.parse(t)};(i["format.swf.data.SWFMatrix"]=bt).__name__=["format","swf","data","SWFMatrix"],bt.__interfaces__=[Q],bt.prototype={get_matrix:function(){return new eo(this.scaleX,this.rotateSkew0,this.rotateSkew1,this.scaleY,this.translateX,this.translateY)},parse:function(t){if(t.resetBitsPending(),this.scaleX=1,(this.scaleY=1)==G.readUB(t,1)){var e=G.readUB(t,5);this.scaleX=G.readFB(t,e),this.scaleY=G.readFB(t,e)}if(this.rotateSkew0=0,this.rotateSkew1=0,1==G.readUB(t,1)){var i=G.readUB(t,5);this.rotateSkew0=G.readFB(t,i),this.rotateSkew1=G.readFB(t,i)}var n=G.readUB(t,5);this.translateX=G.readSB(t,n),this.translateY=G.readSB(t,n);var s=this.get_matrix().deltaTransformPoint(new io(0,1));this.rotation=180/Math.PI*Math.atan2(s.y,s.x)-90,this.rotation<0&&(this.rotation=360+this.rotation),this.xscale=Math.sqrt(this.scaleX*this.scaleX+this.rotateSkew0*this.rotateSkew0)*(this.scaleX<0?-1:1),this.yscale=Math.sqrt(this.rotateSkew1*this.rotateSkew1+this.scaleY*this.scaleY)*(this.scaleY<0?-1:1)},clone:function(){var t=new bt;return t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotateSkew0=this.rotateSkew0,t.rotateSkew1=this.rotateSkew1,t.translateX=this.translateX,t.translateY=this.translateY,t},isIdentity:function(){return 1==this.scaleX&&1==this.scaleY&&0==this.rotateSkew0&&0==this.rotateSkew1&&0==this.translateX&&0==this.translateY},toString:function(){return"("+this.scaleX+","+this.rotateSkew0+","+this.rotateSkew1+","+this.scaleY+","+this.translateX+","+this.translateY+")"},getCLID:function(){return bt.__clid},serialize:function(t){t.out.addInt32(ws.floatToI32(this.scaleX)),t.out.addInt32(ws.floatToI32(this.scaleY)),t.out.addInt32(ws.floatToI32(this.rotateSkew0)),t.out.addInt32(ws.floatToI32(this.rotateSkew1));var e=this.translateX;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.translateY;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i)),t.out.addInt32(ws.floatToI32(this.xscale)),t.out.addInt32(ws.floatToI32(this.yscale)),t.out.addInt32(ws.floatToI32(this.rotation))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("scaleX"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("scaleY"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("rotateSkew0"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("rotateSkew1"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("translateX"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("translateY"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("xscale"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("yscale"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("rotation"),t.fieldsTypes.push(Ls.PFloat),t.isFinal=$.isClassFinal(bt.__clid),t},unserializeInit:function(){this.scaleX=1,this.scaleY=1,this.rotateSkew0=0,this.rotateSkew1=0,this.translateX=0,this.translateY=0},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.scaleX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.scaleY=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.rotateSkew0=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.rotateSkew1=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.translateX=r;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.translateY=a;var o=t.input.getFloat(t.inPos);t.inPos+=4,this.xscale=o;var l=t.input.getFloat(t.inPos);t.inPos+=4,this.yscale=l;var h=t.input.getFloat(t.inPos);t.inPos+=4,this.rotation=h},__class__:bt,__properties__:{get_matrix:"get_matrix"}};var yt=function(t,e){null==e&&(e=1),this.__uid=$.SEQ<<24|++$.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFMorphFillStyle"]=yt).__name__=["format","swf","data","SWFMorphFillStyle"],yt.__interfaces__=[Q],yt.prototype={parse:function(t,e){switch(null==e&&(e=1),this.type=G.readUI8(t),this.type){case 0:this.startColor=G.readRGBA(t),this.endColor=G.readRGBA(t);break;case 16:case 18:case 19:this.startGradientMatrix=G.readMATRIX(t),this.endGradientMatrix=G.readMATRIX(t),this.gradient=19==this.type?G.readMORPHFOCALGRADIENT(t,e):G.readMORPHGRADIENT(t,e);break;case 64:case 65:case 66:case 67:this.bitmapId=G.readUI16(t),this.startBitmapMatrix=G.readMATRIX(t),this.endBitmapMatrix=G.readMATRIX(t);break;default:throw new Vs(new vh("Unknown fill style type: 0x"+Ps.hex(this.type)))}},publish:function(t,e){switch(null==e&&(e=1),G.writeUI8(t,this.type),this.type){case 0:G.writeRGBA(t,this.startColor),G.writeRGBA(t,this.endColor);break;case 16:case 18:case 19:G.writeMATRIX(t,this.startGradientMatrix),G.writeMATRIX(t,this.endGradientMatrix),19==this.type?G.writeMORPHFOCALGRADIENT(t,zs.__cast(this.gradient,xt),e):G.writeMORPHGRADIENT(t,this.gradient,e);break;case 64:case 65:case 66:case 67:G.writeUI16(t,this.bitmapId),G.writeMATRIX(t,this.startBitmapMatrix),G.writeMATRIX(t,this.endBitmapMatrix);break;default:throw new Vs(new vh("Unknown fill style type: 0x"+Ps.hex(this.type)))}},getMorphedFillStyle:function(t){null==t&&(t=0);var e=new et;switch(e.type=this.type,this.type){case 0:e.rgb=$n.interpolate(this.startColor,this.endColor,t);break;case 16:case 18:e.gradientMatrix=es.interpolate(this.startGradientMatrix,this.endGradientMatrix,t),e.gradient=this.gradient.getMorphedGradient(t);break;case 64:case 65:case 66:case 67:e.bitmapId=this.bitmapId,e.bitmapMatrix=es.interpolate(this.startBitmapMatrix,this.endBitmapMatrix,t)}return e},toString:function(){var t="[SWFMorphFillStyle] Type: "+Ps.hex(this.type);switch(this.type){case 0:t+=" (solid), StartColor: "+$n.rgbaToString(this.startColor)+", EndColor: "+$n.rgbaToString(this.endColor);break;case 16:t+=" (linear gradient), Gradient: "+L.string(this.gradient);break;case 18:t+=" (radial gradient), Gradient: "+L.string(this.gradient);break;case 19:t+=" (focal radial gradient), Gradient: "+L.string(this.gradient);break;case 64:t+=" (repeating bitmap), BitmapID: "+this.bitmapId;break;case 65:t+=" (clipped bitmap), BitmapID: "+this.bitmapId;break;case 66:t+=" (non-smoothed repeating bitmap), BitmapID: "+this.bitmapId;break;case 67:t+=" (non-smoothed clipped bitmap), BitmapID: "+this.bitmapId}return t},getCLID:function(){return yt.__clid},serialize:function(t){var e=this.type;if(0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e)),null==this.startColor)t.out.b.push(0);else{t.out.b.push(1);var i=this.startColor;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i))}if(null==this.endColor)t.out.b.push(0);else{t.out.b.push(1);var n=this.endColor;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))}if(t.addKnownRef(this.startGradientMatrix),t.addKnownRef(this.endGradientMatrix),t.addKnownRef(this.gradient),null==this.bitmapId)t.out.b.push(0);else{t.out.b.push(1);var s=this.bitmapId;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))}t.addKnownRef(this.startBitmapMatrix),t.addKnownRef(this.endBitmapMatrix)},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("type"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("startColor"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("endColor"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("startGradientMatrix"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("endGradientMatrix"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("gradient"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFMorphGradient")),t.fieldsNames.push("bitmapId"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("startBitmapMatrix"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("endBitmapMatrix"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFMatrix")),t.isFinal=$.isClassFinal(yt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];if(128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.type=e,0==t.input.b[t.inPos++])this.startColor=null;else{var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.startColor=i}if(0==t.input.b[t.inPos++])this.endColor=null;else{var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.endColor=n}if(this.startGradientMatrix=t.getRef(bt,bt.__clid),this.endGradientMatrix=t.getRef(bt,bt.__clid),this.gradient=t.getRef(wt,wt.__clid),0==t.input.b[t.inPos++])this.bitmapId=null;else{var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.bitmapId=s}this.startBitmapMatrix=t.getRef(bt,bt.__clid),this.endBitmapMatrix=t.getRef(bt,bt.__clid)},__class__:yt};var wt=function(t,e){null==e&&(e=1),this.__uid=$.SEQ<<24|++$.UID,this.records=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFMorphGradient"]=wt).__name__=["format","swf","data","SWFMorphGradient"],wt.__interfaces__=[Q],wt.prototype={parse:function(t,e){t.resetBitsPending(),this.spreadMode=G.readUB(t,2),this.interpolationMode=G.readUB(t,2);for(var i=0,n=G.readUB(t,4);i<n;){i++;this.records.push(G.readMORPHGRADIENTRECORD(t))}},publish:function(t,e){var i=this.records.length;t.resetBitsPending(),G.writeUB(t,2,this.spreadMode),G.writeUB(t,2,this.interpolationMode),G.writeUB(t,4,i);for(var n=0,s=i;n<s;){var r=n++;G.writeMORPHGRADIENTRECORD(t,this.records[r])}},getMorphedGradient:function(t){null==t&&(t=0);for(var e=new it,i=0,n=this.records.length;i<n;){var s=i++;e.records.push(this.records[s].getMorphedGradientRecord(t))}return e},toString:function(){return"("+this.records.join(",")+"), spread:"+this.spreadMode+", interpolation:"+this.interpolationMode},getCLID:function(){return wt.__clid},serialize:function(t){var e=this.spreadMode;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.interpolationMode;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.records;if(null==n)t.out.b.push(0);else{var s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];++r,t.addKnownRef(a)}}},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("spreadMode"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("interpolationMode"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("records"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.data.SWFMorphGradientRecord"))),t.isFinal=$.isClassFinal(wt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.spreadMode=e;var i,n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.interpolationMode=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4);var r,a=s;if(0==a)r=null;else{for(var o=[],l=0,h=--a;l<h;){var _=l++;i=t.getRef(Tt,Tt.__clid),o[_]=i}r=o}this.records=r},__class__:wt};var xt=function(t,e){null==e&&(e=1),wt.call(this,t,e)};(i["format.swf.data.SWFMorphFocalGradient"]=xt).__name__=["format","swf","data","SWFMorphFocalGradient"],xt.__super__=wt,xt.prototype=n(wt.prototype,{parse:function(t,e){wt.prototype.parse.call(this,t,e),this.startFocalPoint=G.readFIXED8(t),this.endFocalPoint=G.readFIXED8(t)},publish:function(t,e){wt.prototype.publish.call(this,t,e),G.writeFIXED8(t,this.startFocalPoint),G.writeFIXED8(t,this.endFocalPoint)},getMorphedGradient:function(t){null==t&&(t=0);for(var e=new it,i=0,n=this.records.length;i<n;){var s=i++;e.records.push(this.records[s].getMorphedGradientRecord(t))}return e},toString:function(){return"FocalPoint: "+this.startFocalPoint+","+this.endFocalPoint+" ("+this.records.join(",")+")"},getCLID:function(){return xt.__clid},serialize:function(t){wt.prototype.serialize.call(this,t),t.out.addInt32(ws.floatToI32(this.startFocalPoint)),t.out.addInt32(ws.floatToI32(this.endFocalPoint))},getSerializeSchema:function(){var t=wt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("startFocalPoint"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("endFocalPoint"),t.fieldsTypes.push(Ls.PFloat),t.isFinal=$.isClassFinal(xt.__clid),t},unserialize:function(t){wt.prototype.unserialize.call(this,t);var e=t.input.getFloat(t.inPos);t.inPos+=4,this.startFocalPoint=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.endFocalPoint=i},__class__:xt});var Tt=function(t){this.__uid=$.SEQ<<24|++$.UID,null!=t&&this.parse(t)};(i["format.swf.data.SWFMorphGradientRecord"]=Tt).__name__=["format","swf","data","SWFMorphGradientRecord"],Tt.__interfaces__=[Q],Tt.prototype={parse:function(t){this.startRatio=G.readUI8(t),this.startColor=G.readRGBA(t),this.endRatio=G.readUI8(t),this.endColor=G.readRGBA(t)},publish:function(t){G.writeUI8(t,this.startRatio),G.writeRGBA(t,this.startColor),G.writeUI8(t,this.endRatio),G.writeRGBA(t,this.endColor)},getMorphedGradientRecord:function(t){null==t&&(t=0);var e=new at;return e.color=$n.interpolate(this.startColor,this.endColor,t),e.ratio=this.startRatio+(this.endRatio-this.startRatio)*t|0,e},toString:function(){return"["+this.startRatio+","+$n.rgbaToString(this.startColor)+","+this.endRatio+","+$n.rgbaToString(this.endColor)+"]"},getCLID:function(){return Tt.__clid},serialize:function(t){var e=this.startRatio;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.startColor;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.endRatio;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var s=this.endColor;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("startRatio"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("startColor"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("endRatio"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("endColor"),t.fieldsTypes.push(Ls.PInt),t.isFinal=$.isClassFinal(Tt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.startRatio=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.startColor=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.endRatio=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.endColor=s},__class__:Tt};var St=function(t,e){null==e&&(e=1),this.__uid=$.SEQ<<24|++$.UID,this.startCapsStyle=0,this.endCapsStyle=0,this.jointStyle=0,this.miterLimitFactor=3,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFMorphLineStyle"]=St).__name__=["format","swf","data","SWFMorphLineStyle"],St.__interfaces__=[Q],St.prototype={parse:function(t,e){null==e&&(e=1),this.startWidth=G.readUI16(t),this.endWidth=G.readUI16(t),this.startColor=G.readRGBA(t),this.endColor=G.readRGBA(t)},publish:function(t,e){null==e&&(e=1),G.writeUI16(t,this.startWidth),G.writeUI16(t,this.endWidth),G.writeRGBA(t,this.startColor),G.writeRGBA(t,this.endColor)},getMorphedLineStyle:function(t){null==t&&(t=0);var e=new lt;return this.hasFillFlag?e.fillType=this.fillType.getMorphedFillStyle(t):(e.color=$n.interpolate(this.startColor,this.endColor,t),e.width=this.startWidth+(this.endWidth-this.startWidth)*t|0),e.startCapsStyle=this.startCapsStyle,e.endCapsStyle=this.endCapsStyle,e.jointStyle=this.jointStyle,e.hasFillFlag=this.hasFillFlag,e.noHScaleFlag=this.noHScaleFlag,e.noVScaleFlag=this.noVScaleFlag,e.pixelHintingFlag=this.pixelHintingFlag,e.noClose=this.noClose,e.miterLimitFactor=this.miterLimitFactor,e},toString:function(){return"[SWFMorphLineStyle] StartWidth: "+this.startWidth+", EndWidth: "+this.endWidth+", StartColor: "+$n.rgbaToString(this.startColor)+", EndColor: "+$n.rgbaToString(this.endColor)},getCLID:function(){return St.__clid},serialize:function(t){var e=this.startWidth;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.endWidth;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.startColor;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var s=this.endColor;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var r=this.startCapsStyle;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));var a=this.endCapsStyle;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));var o=this.jointStyle;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o)),t.out.b.push(this.hasFillFlag?1:0),t.out.b.push(this.noHScaleFlag?1:0),t.out.b.push(this.noVScaleFlag?1:0),t.out.b.push(this.pixelHintingFlag?1:0),t.out.b.push(this.noClose?1:0),t.out.addInt32(ws.floatToI32(this.miterLimitFactor)),t.addKnownRef(this.fillType)},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("startWidth"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("endWidth"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("startColor"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("endColor"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("startCapsStyle"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("endCapsStyle"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("jointStyle"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("hasFillFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("noHScaleFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("noVScaleFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("pixelHintingFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("noClose"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("miterLimitFactor"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("fillType"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFMorphFillStyle")),t.isFinal=$.isClassFinal(St.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.startWidth=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.endWidth=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.startColor=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.endColor=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.startCapsStyle=r;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.endCapsStyle=a;var o=t.input.b[t.inPos++];128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4),this.jointStyle=o,this.hasFillFlag=0!=t.input.b[t.inPos++],this.noHScaleFlag=0!=t.input.b[t.inPos++],this.noVScaleFlag=0!=t.input.b[t.inPos++],this.pixelHintingFlag=0!=t.input.b[t.inPos++],this.noClose=0!=t.input.b[t.inPos++];var l=t.input.getFloat(t.inPos);t.inPos+=4,this.miterLimitFactor=l,this.fillType=t.getRef(yt,yt.__clid)},__class__:St};var Et=function(t,e){null==e&&(e=1),St.call(this,t,e)};(i["format.swf.data.SWFMorphLineStyle2"]=Et).__name__=["format","swf","data","SWFMorphLineStyle2"],Et.__super__=St,Et.prototype=n(St.prototype,{parse:function(t,e){null==e&&(e=1),this.startWidth=G.readUI16(t),this.endWidth=G.readUI16(t),this.startCapsStyle=G.readUB(t,2),this.jointStyle=G.readUB(t,2),this.hasFillFlag=1==G.readUB(t,1),this.noHScaleFlag=1==G.readUB(t,1),this.noVScaleFlag=1==G.readUB(t,1),this.pixelHintingFlag=1==G.readUB(t,1),G.readUB(t,5),this.noClose=1==G.readUB(t,1),this.endCapsStyle=G.readUB(t,2),2==this.jointStyle&&(this.miterLimitFactor=G.readFIXED8(t)),this.hasFillFlag?this.fillType=G.readMORPHFILLSTYLE(t,e):(this.startColor=G.readRGBA(t),this.endColor=G.readRGBA(t))},publish:function(t,e){null==e&&(e=1),G.writeUI16(t,this.startWidth),G.writeUI16(t,this.endWidth),G.writeUB(t,2,this.startCapsStyle),G.writeUB(t,2,this.jointStyle),G.writeUB(t,1,this.hasFillFlag?1:0),G.writeUB(t,1,this.noHScaleFlag?1:0),G.writeUB(t,1,this.noVScaleFlag?1:0),G.writeUB(t,1,this.pixelHintingFlag?1:0),G.writeUB(t,5,0),G.writeUB(t,1,this.noClose?1:0),G.writeUB(t,2,this.endCapsStyle),2==this.jointStyle&&G.writeFIXED8(t,this.miterLimitFactor),this.hasFillFlag?G.writeMORPHFILLSTYLE(t,this.fillType,e):(G.writeRGBA(t,this.startColor),G.writeRGBA(t,this.endColor))},toString:function(){var t="[SWFMorphLineStyle2] StartWidth: "+this.startWidth+", EndWidth: "+this.endWidth+", StartCaps: "+se.toString(this.startCapsStyle)+", EndCaps: "+se.toString(this.endCapsStyle)+", Joint: "+re.toString(this.jointStyle);return this.hasFillFlag?t+=", Fill: "+this.fillType.toString():(t+=", StartColor: "+$n.rgbaToString(this.startColor),t+=", EndColor: "+$n.rgbaToString(this.endColor)),t},getCLID:function(){return Et.__clid},__class__:Et});var It=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFRawTag"]=It).__name__=["format","swf","data","SWFRawTag"],It.prototype={parse:function(t){var e=t.position;this.header=G.readTagHeader(t),this.bytes=G._new();var i=t.position;t.position=e,t.readBytes(J_.fromBytes(this.bytes),0,this.header.get_tagLength()),t.position=i},publish:function(t){t.writeBytes(J_.fromBytes(this.bytes))},__class__:It};var Pt=function(t,e,i){this.type=t,this.contentLength=e,this.headerLength=i};(i["format.swf.data.SWFRecordHeader"]=Pt).__name__=["format","swf","data","SWFRecordHeader"],Pt.prototype={get_tagLength:function(){return this.headerLength+this.contentLength},toString:function(){return"[SWFRecordHeader] type: "+this.type+", headerLength: "+this.headerLength+", contentlength: "+this.contentLength},__class__:Pt,__properties__:{get_tagLength:"get_tagLength"}};var Ct=function(t){this.xmax=11e3,this.ymax=8e3,this._rectangle=new b_,null!=t&&this.parse(t)};(i["format.swf.data.SWFRectangle"]=Ct).__name__=["format","swf","data","SWFRectangle"],Ct.prototype={parse:function(t){t.resetBitsPending();var e=G.readUB(t,5);this.xmin=G.readSB(t,e),this.xmax=G.readSB(t,e),this.ymin=G.readSB(t,e),this.ymax=G.readSB(t,e)},publish:function(t){var e=t.calculateMaxBits(!0,[this.xmin,this.xmax,this.ymin,this.ymax]);t.resetBitsPending(),G.writeUB(t,5,e),G.writeSB(t,e,this.xmin),G.writeSB(t,e,this.xmax),G.writeSB(t,e,this.ymin),G.writeSB(t,e,this.ymax)},clone:function(){var t=new Ct;return t.xmin=this.xmin,t.xmax=this.xmax,t.ymin=this.ymin,t.ymax=this.ymax,t},get_rect:function(){return this._rectangle.set_left(is.roundPixels20(this.xmin/20)),this._rectangle.set_right(is.roundPixels20(this.xmax/20)),this._rectangle.set_top(is.roundPixels20(this.ymin/20)),this._rectangle.set_bottom(is.roundPixels20(this.ymax/20)),this._rectangle},toString:function(){return"("+this.xmin+","+this.xmax+","+this.ymin+","+this.ymax+")"},toStringSize:function(){return"("+(this.xmax/20-this.xmin/20)+","+(this.ymax/20-this.ymin/20)+")"},__class__:Ct,__properties__:{get_rect:"get_rect"}};var Dt=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFRegisterParam"]=Dt).__name__=["format","swf","data","SWFRegisterParam"],Dt.prototype={parse:function(t){this.register=G.readUI8(t),this.name=G.readSTRING(t)},publish:function(t){G.writeUI8(t,this.register),G.writeSTRING(t,this.name)},toString:function(){return this.register+":"+this.name},__class__:Dt};function Mt(t,e){this.offset=t,this.name=e}(i["format.swf.data.SWFScene"]=Mt).__name__=["format","swf","data","SWFScene"],Mt.prototype={toString:function(){return"Frame: "+this.offset+", Name: "+this.name},__class__:Mt};var Ft=function(t,e,i){null==i&&(i=20),null==e&&(e=1),this.__uid=$.SEQ<<24|++$.UID,this.edgeMapsCreated=!1,this.records=[],this.fillStyles=[],this.lineStyles=[],this.subLineStyles=[],this.unitDivisor=i,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFShape"]=Ft).__name__=["format","swf","data","SWFShape"],Ft.__interfaces__=[Q],Ft.getCoordMapKey=function(t){return t.x+"_"+t.y},Ft.prototype={getMaxFillStyleIndex:function(){for(var t=0,e=0,i=this.records.length;e<i;){var n=e++,s=this.records[n];if(2==s.get_type()){var r=zs.__cast(s,Ot);if(r.fillStyle0>t&&(t=r.fillStyle0),r.fillStyle1>t&&(t=r.fillStyle1),r.stateNewStyles)break}}return t},getMaxLineStyleIndex:function(){for(var t=0,e=0,i=this.records.length;e<i;){var n=e++,s=this.records[n];if(2==s.get_type()){var r=zs.__cast(s,Ot);if(r.lineStyle>t&&(t=r.lineStyle),r.stateNewStyles)break}}return t},parse:function(t,e){null==e&&(e=1),t.resetBitsPending();var i=G.readUB(t,4),n=G.readUB(t,4);this.readShapeRecords(t,i,n,e)},publish:function(t,e){null==e&&(e=1);var i=t.calculateMaxBits(!1,[this.getMaxFillStyleIndex()]),n=t.calculateMaxBits(!1,[this.getMaxLineStyleIndex()]);t.resetBitsPending(),G.writeUB(t,4,i),G.writeUB(t,4,n),this.writeShapeRecords(t,i,n,e)},readShapeRecords:function(t,e,i,n){null==n&&(n=1);for(var s=null;!zs.__instanceof(s,kt);){if(1==G.readUB(t,1)){var r=1==G.readUB(t,1),a=G.readUB(t,4)+2;s=r?G.readSTRAIGHTEDGERECORD(t,a):G.readCURVEDEDGERECORD(t,a)}else{var o=G.readUB(t,5);if(0==o)s=new kt;else{var l=G.readSTYLECHANGERECORD(t,o,e,i,n);l.stateNewStyles&&(e=l.numFillBits,i=l.numLineBits),s=l}}this.records.push(s)}},writeShapeRecords:function(t,e,i,n){null==n&&(n=1),0!=this.records.length&&zs.__instanceof(this.records[this.records.length-1],kt)||this.records.push(new kt);for(var s=0,r=this.records.length;s<r;){var a=s++,o=this.records[a];if(o.get_isEdgeRecord())G.writeUB(t,1,1),3==o.get_type()?(G.writeUB(t,1,1),G.writeSTRAIGHTEDGERECORD(t,zs.__cast(o,Nt))):(G.writeUB(t,1,0),G.writeCURVEDEDGERECORD(t,zs.__cast(o,Lt)));else if(G.writeUB(t,1,0),1==o.get_type())G.writeUB(t,5,0);else{var l=0,h=zs.__cast(o,Ot);h.stateNewStyles&&(l|=16),h.stateLineStyle&&(l|=8),h.stateFillStyle1&&(l|=4),h.stateFillStyle0&&(l|=2),h.stateMoveTo&&(l|=1),G.writeUB(t,5,l),G.writeSTYLECHANGERECORD(t,h,e,i,n),h.stateNewStyles&&(e=h.numFillBits,i=h.numLineBits)}}},export:function(t){this.edgeMapsCreated=!1,this.createEdgeMaps(),null==t&&(t=new Le),t.beginShape();for(var e=0,i=this.numGroups;e<i;){var n=e++;this.exportSubLinePath(t,n),this.exportFillPath(t,n),this.exportLinePath(t,n)}t.endShape()},createEdgeMaps:function(){if(!this.edgeMapsCreated){var t,e,i,n=0,s=0,r=0,a=0,o=0,l=0,h=0,_=[];this.numGroups=0,this.fillEdgeMaps=[],this.lineEdgeMaps=[],this.subLineEdgeMaps=[],this.currentFillEdgeMap=new fs,this.currentLineEdgeMap=new fs,this.currentSubLineEdgeMap=new fs;for(var u=0,c=this.records.length;u<c;){var f=u++,d=this.records[f];switch(d.get_type()){case 1:this.processSubPath(_,h,o,l),this.cleanEdgeMap(this.currentFillEdgeMap),this.cleanEdgeMap(this.currentLineEdgeMap),this.cleanEdgeMap(this.currentSubLineEdgeMap),this.fillEdgeMaps.push(this.currentFillEdgeMap),this.lineEdgeMaps.push(this.currentLineEdgeMap),this.subLineEdgeMaps.push(this.currentSubLineEdgeMap),this.numGroups++;break;case 2:var p=zs.__cast(d,Ot);(p.stateLineStyle||p.stateFillStyle0||p.stateFillStyle1)&&(this.processSubPath(_,h,o,l),_=[]),p.stateNewStyles&&(r=this.fillStyles.length,a=this.lineStyles.length,this.appendFillStyles(this.fillStyles,p.fillStyles),this.appendLineStyles(this.lineStyles,p.lineStyles)),p.stateLineStyle&&0==p.lineStyle&&p.stateFillStyle0&&0==p.fillStyle0&&p.stateFillStyle1&&0==p.fillStyle1?(this.cleanEdgeMap(this.currentFillEdgeMap),this.cleanEdgeMap(this.currentLineEdgeMap),this.cleanEdgeMap(this.currentSubLineEdgeMap),this.fillEdgeMaps.push(this.currentFillEdgeMap),this.lineEdgeMaps.push(this.currentLineEdgeMap),this.subLineEdgeMaps.push(this.currentSubLineEdgeMap),this.currentFillEdgeMap=new fs,this.currentLineEdgeMap=new fs,this.currentSubLineEdgeMap=new fs,l=o=h=0,this.numGroups++):(p.stateLineStyle&&0<(h=p.lineStyle)&&(h+=a),p.stateFillStyle0&&0<(o=p.fillStyle0)&&(o+=r),p.stateFillStyle1&&0<(l=p.fillStyle1)&&(l+=r)),p.stateMoveTo&&(n=p.moveDeltaX/this.unitDivisor,s=p.moveDeltaY/this.unitDivisor);break;case 3:var g=zs.__cast(d,Nt);t=new io(is.roundPixels400(n),is.roundPixels400(s)),g.generalLineFlag?(n+=g.deltaX/this.unitDivisor,s+=g.deltaY/this.unitDivisor):g.vertLineFlag?s+=g.deltaY/this.unitDivisor:n+=g.deltaX/this.unitDivisor,e=new io(is.roundPixels400(n),is.roundPixels400(s)),_.push(new de(t,e,h,l));break;case 4:var m=zs.__cast(d,Lt);t=new io(is.roundPixels400(n),is.roundPixels400(s));var v=n+m.controlDeltaX/this.unitDivisor,b=s+m.controlDeltaY/this.unitDivisor;n=v+m.anchorDeltaX/this.unitDivisor,s=b+m.anchorDeltaY/this.unitDivisor,i=new io(v,b),e=new io(is.roundPixels400(n),is.roundPixels400(s)),_.push(new pe(t,i,e,h,l))}}this.edgeMapsCreated=!0}},processSubPath:function(t,e,i,n){var s=[];if(0!=i&&null!=this.fillStyles[i-1]&&!this.fillStyles[i-1].is_transparent()&&0!=n&&null!=this.fillStyles[n-1]&&!this.fillStyles[n-1].is_transparent()){var r=this.subLineStyles.length+1;this.currentSubLineEdgeMap.h[r]=s;var a=this.fillStyles[n-1];if(0==a.type){var o=new lt;o.hasFillFlag=!0,o.fillType=a,o.noClose=!0,o.width=1,this.subLineStyles.push(o);for(var l=[],h=0;h<t.length;){var _=t[h];++h;var u=_.clone();u.subLineStyleIdx=r,l.push(u)}this.appendEdges(s,l)}}if(0!=i){if(null==(s=this.currentFillEdgeMap.h[i])){this.currentFillEdgeMap.h[i]=[],s=this.currentFillEdgeMap.h[i]}for(var c=t.length-1;0<=c;)s.push(t[c].reverseWithNewFillStyle(i)),--c}if(0!=n){if(null==(s=this.currentFillEdgeMap.h[n])){this.currentFillEdgeMap.h[n]=[],s=this.currentFillEdgeMap.h[n]}this.appendEdges(s,t)}if(0!=e){if(null==(s=this.currentLineEdgeMap.h[e])){this.currentLineEdgeMap.h[e]=[],s=this.currentLineEdgeMap.h[e]}this.appendEdges(s,t)}},exportFillPath:function(e,t){var i=this.createPathFromEdgeMap(this.fillEdgeMaps[t]),n=new io(G.MAX_FLOAT_VALUE,G.MAX_FLOAT_VALUE),s=0|G.MAX_FLOAT_VALUE;if(0<i.length){e.beginFills();for(var r=0,a=i.length;r<a;){var o=i[r++];if(s!=o.fillStyleIdx){s!=G.MAX_FLOAT_VALUE&&e.endFill(),s=o.fillStyleIdx,n=new io(G.MAX_FLOAT_VALUE,G.MAX_FLOAT_VALUE);try{var l,h=this.fillStyles[s-1];if(null!=h)switch(h.type){case 0:e.beginFill($n.rgb(h.rgb),$n.alpha(h.rgb));break;case 16:case 18:case 19:var _,u=[],c=[],f=[];(l=h.gradientMatrix.get_matrix().clone()).tx/=20,l.ty/=20;for(var d=0,p=h.gradient.records.length;d<p;){var g=d++;_=h.gradient.records[g],u.push($n.rgb(_.color)),c.push($n.alpha(_.color)),f.push(_.ratio)}e.beginGradientFill(16==h.type?0:1,u,c,f,l,ne.toEnum(h.gradient.spreadMode),ie.toEnum(h.gradient.interpolationMode),h.gradient.focalPoint);break;case 64:case 65:case 66:case 67:var m=h.bitmapMatrix;l=new eo(m.scaleX/20,m.rotateSkew0/20,m.rotateSkew1/20,m.scaleY/20,m.translateX/20,m.translateY/20),e.beginBitmapFill(h.bitmapId,l,64==h.type||66==h.type,64==h.type||65==h.type)}else e.beginFill(16777215)}catch(t){if((rs.lastException=t)instanceof Vs&&(t=t.val),!zs.__instanceof(t,vh))throw t;e.beginFill(0)}}if(n.equals(o.from)||e.moveTo(o.from.x,o.from.y),zs.__instanceof(o,pe)){var v=o;e.curveTo(v.control.x,v.control.y,v.to.x,v.to.y)}else e.lineTo(o.to.x,o.to.y);n=o.to}s!=G.MAX_FLOAT_VALUE&&e.endFill(),e.endFills()}},exportSubLinePath:function(t,e){var i,n=this.createPathFromEdgeMap(this.subLineEdgeMaps[e]),s=new io(G.MAX_FLOAT_VALUE,G.MAX_FLOAT_VALUE),r=0|G.MAX_FLOAT_VALUE;if(0<n.length){t.beginLines();for(var a=0,o=n.length;a<o;){var l=n[a++];if(r!=l.subLineStyleIdx&&(r=l.subLineStyleIdx,s=new io(G.MAX_FLOAT_VALUE,G.MAX_FLOAT_VALUE),i=this.subLineStyles.length>r-1?this.subLineStyles[r-1]:null,this.addLineStyleToHandler(t,i)),l.from.equals(s)||t.moveTo(l.from.x,l.from.y),zs.__instanceof(l,pe)){var h=l;t.curveTo(h.control.x,h.control.y,h.to.x,h.to.y)}else t.lineTo(l.to.x,l.to.y);s=l.to}t.endLines()}},exportLinePath:function(t,e){var i,n=this.createPathFromEdgeMap(this.lineEdgeMaps[e]),s=new io(G.MAX_FLOAT_VALUE,G.MAX_FLOAT_VALUE),r=0|G.MAX_FLOAT_VALUE;if(0<n.length){t.beginLines();for(var a=0,o=n.length;a<o;){var l=n[a++];if(r!=l.lineStyleIdx&&(r=l.lineStyleIdx,s=new io(G.MAX_FLOAT_VALUE,G.MAX_FLOAT_VALUE),i=this.lineStyles.length>r-1?this.lineStyles[r-1]:null,this.addLineStyleToHandler(t,i)),l.from.equals(s)||t.moveTo(l.from.x,l.from.y),zs.__instanceof(l,pe)){var h=l;t.curveTo(h.control.x,h.control.y,h.to.x,h.to.y)}else t.lineTo(l.to.x,l.to.y);s=l.to}t.endLines()}},addLineStyleToHandler:function(t,e){if(null!=e){var i=2;if(e.noHScaleFlag&&e.noVScaleFlag?i=1:e.noHScaleFlag?i=0:e.noVScaleFlag&&(i=3),e.hasFillFlag){var n=e.fillType;switch(n.type){case 0:t.lineStyle(e.width/20,$n.rgb(n.rgb),$n.alpha(n.rgb),e.pixelHintingFlag,i,se.toEnum(e.startCapsStyle),se.toEnum(e.endCapsStyle),re.toEnum(e.jointStyle),e.miterLimitFactor);break;case 16:case 18:case 19:var s,r=n.gradient,a=[],o=[],l=[],h=n.gradientMatrix.get_matrix().clone();h.tx/=20,h.ty/=20;for(var _=0,u=n.gradient.records.length;_<u;){var c=_++;s=n.gradient.records[c],a.push($n.rgb(s.color)),o.push($n.alpha(s.color)),l.push(s.ratio)}t.lineGradientStyle(16==n.type?0:1,a,o,l,h,ne.toEnum(r.spreadMode),ie.toEnum(r.interpolationMode),r.focalPoint);break;case 64:case 65:case 66:case 67:var f=n.bitmapMatrix,d=new eo(f.scaleX/20,f.rotateSkew0/20,f.rotateSkew1/20,f.scaleY/20,f.translateX/20,f.translateY/20);t.lineBitmapStyle(n.bitmapId,d,64==n.type||66==n.type,64==n.type||65==n.type)}}else t.lineStyle(e.width/20,$n.rgb(e.color),$n.alpha(e.color),e.pixelHintingFlag,i,se.toEnum(e.startCapsStyle),se.toEnum(e.endCapsStyle),re.toEnum(e.jointStyle),e.miterLimitFactor);if(e.hasFillFlag){var p=e.fillType;switch(p.type){case 16:case 18:case 19:var g,m=[],v=[],b=[],y=p.gradientMatrix.get_matrix().clone();y.tx/=20,y.ty/=20;for(var w=0,x=p.gradient.records.length;w<x;){var T=w++;g=p.gradient.records[T],m.push($n.rgb(g.color)),v.push($n.alpha(g.color)),b.push(g.ratio)}t.lineGradientStyle(16==p.type?0:1,m,v,b,y,ne.toEnum(p.gradient.spreadMode),ie.toEnum(p.gradient.interpolationMode),p.gradient.focalPoint)}}}else t.lineStyle(0)},createPathFromEdgeMap:function(t){for(var e=[],i=[],n=t.keys();n.hasNext();){var s=n.next();i.push(0|s)}i.sort(function(t,e){return t-e});for(var r=0,a=i.length;r<a;){var o=r++;this.appendEdges(e,t.h[i[o]])}return e},cleanEdgeMap:function(t){for(var e=t.keys();e.hasNext();){var i=e.next(),n=t.h[i];if(null!=n&&0<n.length){var s,r=null,a=[];for(this.createCoordMap(n);0<n.length;)for(s=0;s<n.length;)if(null==r||r.to.equals(n[s].from)){var o=n.splice(s,1)[0];a.push(o),this.removeEdgeFromCoordMap(o),r=o}else{var l=this.findNextEdgeInCoordMap(r);if(null!=l){for(var h=n.length;0<=--h;)if(n[h]==l){s=h;break}}else s=0,r=null}t.h[i]=a}}},createCoordMap:function(t){this.coordMap=new gs;for(var e=0,i=t.length;e<i;){var n=e++,s=t[n].from,r=Ft.getCoordMapKey(s),a=this.coordMap,o=null!=Zu[r]?a.getReserved(r):a.h[r];if(null==o){var l=this.coordMap,h=[t[n]];null!=Zu[r]?l.setReserved(r,h):l.h[r]=h}else o.push(t[n])}},removeEdgeFromCoordMap:function(t){var e=Ft.getCoordMapKey(t.from),i=this.coordMap,n=null!=Zu[e]?i.getReserved(e):i.h[e];if(null!=n)if(1==n.length)this.coordMap.remove(e);else for(var s=n.length;0<=--s;)if(n[s]==t){n.splice(s,1);break}},findNextEdgeInCoordMap:function(t){var e=Ft.getCoordMapKey(t.to),i=this.coordMap,n=null!=Zu[e]?i.getReserved(e):i.h[e];return null!=n&&0<n.length?n[0]:null},appendFillStyles:function(t,e){for(var i=0,n=e.length;i<n;){var s=i++;t.push(e[s])}},appendLineStyles:function(t,e){for(var i=0,n=e.length;i<n;){var s=i++;t.push(e[s])}},appendEdges:function(t,e){for(var i=0,n=e.length;i<n;){var s=i++;t.push(e[s])}},toString:function(t){null==t&&(t=0);for(var e="\n"+ns.repeat(t)+"ShapeRecords:",i=0,n=this.records.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+2)+"["+s+"] "+this.records[s].toString(t+2)}return e},getCLID:function(){return Ft.__clid},serialize:function(t){var e=this.records;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,t.addKnownRef(s)}}t.out.addInt32(ws.floatToI32(this.unitDivisor))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("records"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.data.SWFShapeRecord"))),t.fieldsNames.push("unitDivisor"),t.fieldsTypes.push(Ls.PFloat),t.isFinal=$.isClassFinal(Ft.__clid),t},unserializeInit:function(){this.edgeMapsCreated=!1},unserialize:function(t){var e,i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s=i;if(0==s)n=null;else{for(var r=[],a=0,o=--s;a<o;){var l=a++;e=t.getRef(Bt,Bt.__clid),r[l]=e}n=r}this.records=n;var h=t.input.getFloat(t.inPos);t.inPos+=4,this.unitDivisor=h},__class__:Ft};var Bt=function(t,e){null==e&&(e=1),this.__uid=$.SEQ<<24|++$.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFShapeRecord"]=Bt).__name__=["format","swf","data","SWFShapeRecord"],Bt.__interfaces__=[Q],Bt.prototype={get_type:function(){return 0},get_isEdgeRecord:function(){return 3==this.get_type()||4==this.get_type()},parse:function(t,e){null==e&&(e=1)},publish:function(t,e){null==e&&(e=1)},clone:function(){return null},toString:function(t){return null==t&&(t=0),"[SWFShapeRecord]"},getCLID:function(){return Bt.__clid},serialize:function(t){},getSerializeSchema:function(){var t=new Ns;return t.isFinal=$.isClassFinal(Bt.__clid),t},unserializeInit:function(){},unserialize:function(t){},__class__:Bt,__properties__:{get_isEdgeRecord:"get_isEdgeRecord",get_type:"get_type"}};var Lt=function(t,e,i){null==i&&(i=1),null==e&&(e=0),this.numBits=e,Bt.call(this,t,i)};(i["format.swf.data.SWFShapeRecordCurvedEdge"]=Lt).__name__=["format","swf","data","SWFShapeRecordCurvedEdge"],Lt.__super__=Bt,Lt.prototype=n(Bt.prototype,{parse:function(t,e){null==e&&(e=1),this.controlDeltaX=G.readSB(t,this.numBits),this.controlDeltaY=G.readSB(t,this.numBits),this.anchorDeltaX=G.readSB(t,this.numBits),this.anchorDeltaY=G.readSB(t,this.numBits)},publish:function(t,e){throw null==e&&(e=1),new Vs(":TODO:")},clone:function(){var t=new Lt;return t.anchorDeltaX=this.anchorDeltaX,t.anchorDeltaY=this.anchorDeltaY,t.controlDeltaX=this.controlDeltaX,t.controlDeltaY=this.controlDeltaY,t.numBits=this.numBits,t},get_type:function(){return 4},toString:function(t){return null==t&&(t=0),"[SWFShapeRecordCurvedEdge] ControlDelta: "+this.controlDeltaX+","+this.controlDeltaY+", AnchorDelta: "+this.anchorDeltaX+","+this.anchorDeltaY},getCLID:function(){return Lt.__clid},serialize:function(t){Bt.prototype.serialize.call(this,t),t.out.addInt32(ws.floatToI32(this.controlDeltaX)),t.out.addInt32(ws.floatToI32(this.controlDeltaY)),t.out.addInt32(ws.floatToI32(this.anchorDeltaX)),t.out.addInt32(ws.floatToI32(this.anchorDeltaY));var e=this.numBits;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e))},getSerializeSchema:function(){var t=Bt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("controlDeltaX"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("controlDeltaY"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("anchorDeltaX"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("anchorDeltaY"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("numBits"),t.fieldsTypes.push(Ls.PInt),t.isFinal=$.isClassFinal(Lt.__clid),t},unserialize:function(t){Bt.prototype.unserialize.call(this,t);var e=t.input.getFloat(t.inPos);t.inPos+=4,this.controlDeltaX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.controlDeltaY=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.anchorDeltaX=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.anchorDeltaY=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.numBits=r},__class__:Lt});var kt=function(){Bt.call(this)};(i["format.swf.data.SWFShapeRecordEnd"]=kt).__name__=["format","swf","data","SWFShapeRecordEnd"],kt.__super__=Bt,kt.prototype=n(Bt.prototype,{clone:function(){return new kt},get_type:function(){return 1},toString:function(t){return null==t&&(t=0),"[SWFShapeRecordEnd]"},getCLID:function(){return kt.__clid},__class__:kt});var Nt=function(t,e,i){null==i&&(i=1),null==e&&(e=0),this.numBits=e,Bt.call(this,t,i)};(i["format.swf.data.SWFShapeRecordStraightEdge"]=Nt).__name__=["format","swf","data","SWFShapeRecordStraightEdge"],Nt.__super__=Bt,Nt.prototype=n(Bt.prototype,{parse:function(t,e){null==e&&(e=1),this.generalLineFlag=1==G.readUB(t,1),this.vertLineFlag=!this.generalLineFlag&&1==G.readUB(t,1),this.deltaX=this.generalLineFlag||!this.vertLineFlag?G.readSB(t,this.numBits):0,this.deltaY=this.generalLineFlag||this.vertLineFlag?G.readSB(t,this.numBits):0},publish:function(t,e){throw null==e&&(e=1),new Vs(":TODO:")},clone:function(){var t=new Nt;return t.deltaX=this.deltaX,t.deltaY=this.deltaY,t.generalLineFlag=this.generalLineFlag,t.vertLineFlag=this.vertLineFlag,t.numBits=this.numBits,t},get_type:function(){return 3},toString:function(t){null==t&&(t=0);var e="[SWFShapeRecordStraightEdge] ";return this.generalLineFlag?e+="General: "+this.deltaX+","+this.deltaY:this.vertLineFlag?e+="Vertical: "+this.deltaY:e+="Horizontal: "+this.deltaX,e},getCLID:function(){return Nt.__clid},serialize:function(t){Bt.prototype.serialize.call(this,t),t.out.b.push(this.generalLineFlag?1:0),t.out.b.push(this.vertLineFlag?1:0),t.out.addInt32(ws.floatToI32(this.deltaY)),t.out.addInt32(ws.floatToI32(this.deltaX));var e=this.numBits;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e))},getSerializeSchema:function(){var t=Bt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("generalLineFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("vertLineFlag"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("deltaY"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("deltaX"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("numBits"),t.fieldsTypes.push(Ls.PInt),t.isFinal=$.isClassFinal(Nt.__clid),t},unserialize:function(t){Bt.prototype.unserialize.call(this,t),this.generalLineFlag=0!=t.input.b[t.inPos++],this.vertLineFlag=0!=t.input.b[t.inPos++];var e=t.input.getFloat(t.inPos);t.inPos+=4,this.deltaY=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.deltaX=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.numBits=n},__class__:Nt});var Ot=function(t,e,i,n,s){null==s&&(s=1),null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),this.numLineBits=0,this.numFillBits=0,this.lineStyle=0,this.fillStyle1=0,this.fillStyle0=0,this.moveDeltaY=0,this.moveDeltaX=0,this.fillStyles=[],this.lineStyles=[],this.stateNewStyles=0!=(16&e),this.stateLineStyle=0!=(8&e),this.stateFillStyle1=0!=(4&e),this.stateFillStyle0=0!=(2&e),this.stateMoveTo=0!=(1&e),this.numFillBits=i,this.numLineBits=n,Bt.call(this,t,s)};(i["format.swf.data.SWFShapeRecordStyleChange"]=Ot).__name__=["format","swf","data","SWFShapeRecordStyleChange"],Ot.__super__=Bt,Ot.prototype=n(Bt.prototype,{get_type:function(){return 2},parse:function(t,e){if(null==e&&(e=1),this.stateMoveTo){var i=G.readUB(t,5);this.moveDeltaX=G.readSB(t,i),this.moveDeltaY=G.readSB(t,i)}if(this.fillStyle0=this.stateFillStyle0?G.readUB(t,this.numFillBits):0,this.fillStyle1=this.stateFillStyle1?G.readUB(t,this.numFillBits):0,this.lineStyle=this.stateLineStyle?G.readUB(t,this.numLineBits):0,this.stateNewStyles){t.resetBitsPending();for(var n=0,s=this.readStyleArrayLength(t,e);n<s;){n++;this.fillStyles.push(G.readFILLSTYLE(t,e))}for(var r=0,a=this.readStyleArrayLength(t,e);r<a;){r++;this.lineStyles.push(e<=3?G.readLINESTYLE(t,e):G.readLINESTYLE2(t,e))}t.resetBitsPending(),this.numFillBits=G.readUB(t,4),this.numLineBits=G.readUB(t,4)}},publish:function(t,e){throw null==e&&(e=1),new Vs(":TODO:")},readStyleArrayLength:function(t,e){null==e&&(e=1);var i=G.readUI8(t);return 2<=e&&255==i&&(i=G.readUI16(t)),i},writeStyleArrayLength:function(t,e,i){null==i&&(i=1),2<=i&&254<e?(G.writeUI8(t,255),G.writeUI16(t,e)):G.writeUI8(t,e)},clone:function(){var t=new Ot;t.stateNewStyles=this.stateNewStyles,t.stateLineStyle=this.stateLineStyle,t.stateFillStyle1=this.stateFillStyle1,t.stateFillStyle0=this.stateFillStyle0,t.stateMoveTo=this.stateMoveTo,t.moveDeltaX=this.moveDeltaX,t.moveDeltaY=this.moveDeltaY,t.fillStyle0=this.fillStyle0,t.fillStyle1=this.fillStyle1,t.lineStyle=this.lineStyle,t.numFillBits=this.numFillBits,t.numLineBits=this.numLineBits;for(var e=0,i=this.fillStyles.length;e<i;){var n=e++;t.fillStyles.push(this.fillStyles[n].clone())}for(var s=0,r=this.lineStyles.length;s<r;){var a=s++;t.lineStyles.push(this.lineStyles[a].clone())}return t},toString:function(t){null==t&&(t=0);var e="[SWFShapeRecordStyleChange] ",i=[];if(this.stateMoveTo&&i.push("MoveTo: "+this.moveDeltaX+","+this.moveDeltaY),this.stateFillStyle0&&i.push("FillStyle0: "+this.fillStyle0),this.stateFillStyle1&&i.push("FillStyle1: "+this.fillStyle1),this.stateLineStyle&&i.push("LineStyle: "+this.lineStyle),0<i.length&&(e+=i.join(", ")),this.stateNewStyles){if(0<this.fillStyles.length){e+="\n"+ns.repeat(t+2)+"New FillStyles:";for(var n=0,s=this.fillStyles.length;n<s;){var r=n++;e+="\n"+ns.repeat(t+4)+"["+(1+r)+"] "+this.fillStyles[r].toString()}}if(0<this.lineStyles.length){e+="\n"+ns.repeat(t+2)+"New LineStyles:";for(var a=0,o=this.lineStyles.length;a<o;){var l=a++;e+="\n"+ns.repeat(t+4)+"["+(1+l)+"] "+this.lineStyles[l].toString()}}}return e},getCLID:function(){return Ot.__clid},serialize:function(t){Bt.prototype.serialize.call(this,t),t.out.b.push(this.stateNewStyles?1:0),t.out.b.push(this.stateLineStyle?1:0),t.out.b.push(this.stateFillStyle1?1:0),t.out.b.push(this.stateFillStyle0?1:0),t.out.b.push(this.stateMoveTo?1:0),t.out.addInt32(ws.floatToI32(this.moveDeltaX)),t.out.addInt32(ws.floatToI32(this.moveDeltaY));var e=this.fillStyle0;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.fillStyle1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.lineStyle;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var s=this.numFillBits;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var r=this.numLineBits;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));var a=this.fillStyles;if(null==a)t.out.b.push(0);else{var o=a.length+1;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o));for(var l=0;l<a.length;){var h=a[l];++l,t.addKnownRef(h)}}var _=this.lineStyles;if(null==_)t.out.b.push(0);else{var u=_.length+1;0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u));for(var c=0;c<_.length;){var f=_[c];++c,t.addKnownRef(f)}}},getSerializeSchema:function(){var t=Bt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("stateNewStyles"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("stateLineStyle"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("stateFillStyle1"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("stateFillStyle0"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("stateMoveTo"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("moveDeltaX"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("moveDeltaY"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("fillStyle0"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("fillStyle1"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("lineStyle"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("numFillBits"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("numLineBits"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("fillStyles"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.data.SWFFillStyle"))),t.fieldsNames.push("lineStyles"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.data.SWFLineStyle"))),t.isFinal=$.isClassFinal(Ot.__clid),t},unserializeInit:function(){Bt.prototype.unserializeInit.call(this),this.moveDeltaX=0,this.moveDeltaY=0,this.fillStyle0=0,this.fillStyle1=0,this.lineStyle=0,this.numFillBits=0,this.numLineBits=0},unserialize:function(t){Bt.prototype.unserialize.call(this,t),this.stateNewStyles=0!=t.input.b[t.inPos++],this.stateLineStyle=0!=t.input.b[t.inPos++],this.stateFillStyle1=0!=t.input.b[t.inPos++],this.stateFillStyle0=0!=t.input.b[t.inPos++],this.stateMoveTo=0!=t.input.b[t.inPos++];var e=t.input.getFloat(t.inPos);t.inPos+=4,this.moveDeltaX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.moveDeltaY=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.fillStyle0=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.fillStyle1=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.lineStyle=r;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.numFillBits=a;var o,l=t.input.b[t.inPos++];128==l&&(l=t.input.getInt32(t.inPos),t.inPos+=4),this.numLineBits=l;var h=t.input.b[t.inPos++];128==h&&(h=t.input.getInt32(t.inPos),t.inPos+=4);var _,u,c=h;if(0==c)_=null;else{for(var f=[],d=0,p=--c;d<p;){var g=d++;o=t.getRef(et,et.__clid),f[g]=o}_=f}this.fillStyles=_;var m=t.input.b[t.inPos++];128==m&&(m=t.input.getInt32(t.inPos),t.inPos+=4);var v,b=m;if(0==b)v=null;else{for(var y=[],w=0,x=--b;w<x;){var T=w++;u=t.getRef(lt,lt.__clid),y[T]=u}v=y}this.lineStyles=v},__class__:Ot});var Ut=function(t,e,i){null==i&&(i=20),null==e&&(e=1),this.initialFillStyles=[],this.initialLineStyles=[],Ft.call(this,t,e,i)};(i["format.swf.data.SWFShapeWithStyle"]=Ut).__name__=["format","swf","data","SWFShapeWithStyle"],Ut.__super__=Ft,Ut.prototype=n(Ft.prototype,{parse:function(t,e){null==e&&(e=1),t.resetBitsPending();for(var i=0,n=this.readStyleArrayLength(t,e);i<n;){i++;this.initialFillStyles.push(G.readFILLSTYLE(t,e))}for(var s=0,r=this.readStyleArrayLength(t,e);s<r;){s++;this.initialLineStyles.push(e<=3?G.readLINESTYLE(t,e):G.readLINESTYLE2(t,e))}t.resetBitsPending();var a=G.readUB(t,4),o=G.readUB(t,4);this.readShapeRecords(t,a,o,e)},publish:function(t,e){null==e&&(e=1),t.resetBitsPending();var i=this.initialFillStyles.length;this.writeStyleArrayLength(t,i,e);for(var n=0,s=i;n<s;){var r=n++;this.initialFillStyles[r].publish(t,e)}var a=this.initialLineStyles.length;this.writeStyleArrayLength(t,a,e);for(var o=0,l=a;o<l;){var h=o++;this.initialLineStyles[h].publish(t,e)}var _=t.calculateMaxBits(!1,[this.getMaxFillStyleIndex()]),u=t.calculateMaxBits(!1,[this.getMaxLineStyleIndex()]);t.resetBitsPending(),G.writeUB(t,4,_),G.writeUB(t,4,u),this.writeShapeRecords(t,_,u,e)},export:function(t){this.fillStyles=this.initialFillStyles.slice(),this.lineStyles=this.initialLineStyles.slice(),Ft.prototype.export.call(this,t)},toString:function(t){null==t&&(t=0);var e="";if(0<this.initialFillStyles.length){e+="\n"+ns.repeat(t)+"FillStyles:";for(var i=0,n=this.initialFillStyles.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+2)+"["+(1+s)+"] "+this.initialFillStyles[s].toString()}}if(0<this.initialLineStyles.length){e+="\n"+ns.repeat(t)+"LineStyles:";for(var r=0,a=this.initialLineStyles.length;r<a;){var o=r++;e+="\n"+ns.repeat(t+2)+"["+(1+o)+"] "+this.initialLineStyles[o].toString()}}return e+Ft.prototype.toString.call(this,t)},readStyleArrayLength:function(t,e){null==e&&(e=1);var i=G.readUI8(t);return 2<=e&&255==i&&(i=G.readUI16(t)),i},writeStyleArrayLength:function(t,e,i){null==i&&(i=1),2<=i&&254<e?(G.writeUI8(t,255),G.writeUI16(t,e)):G.writeUI8(t,e)},getCLID:function(){return Ut.__clid},__class__:Ut});var Xt=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFSoundEnvelope"]=Xt).__name__=["format","swf","data","SWFSoundEnvelope"],Xt.prototype={parse:function(t){this.pos44=G.readUI32(t),this.leftLevel=G.readUI16(t),this.rightLevel=G.readUI16(t)},publish:function(t){G.writeUI32(t,this.pos44),G.writeUI16(t,this.leftLevel),G.writeUI16(t,this.rightLevel)},clone:function(){var t=new Xt;return t.pos44=this.pos44,t.leftLevel=this.leftLevel,t.rightLevel=this.rightLevel,t},toString:function(){return"[SWFSoundEnvelope]"},__class__:Xt};var Vt=function(t){this.envelopeRecords=[],null!=t&&this.parse(t)};(i["format.swf.data.SWFSoundInfo"]=Vt).__name__=["format","swf","data","SWFSoundInfo"],Vt.prototype={parse:function(t){var e=G.readUI8(t);if(this.syncStop=0!=(32&e),this.syncNoMultiple=0!=(16&e),this.hasEnvelope=0!=(8&e),this.hasLoops=0!=(4&e),this.hasOutPoint=0!=(2&e),this.hasInPoint=0!=(1&e),this.hasInPoint&&(this.inPoint=G.readUI32(t)),this.hasOutPoint&&(this.outPoint=G.readUI32(t)),this.hasLoops&&(this.loopCount=G.readUI16(t)),this.hasEnvelope)for(var i=0,n=G.readUI8(t);i<n;){i++;this.envelopeRecords.push(G.readSOUNDENVELOPE(t))}},publish:function(t){var e=0;if(this.syncStop&&(e|=32),this.syncNoMultiple&&(e|=16),this.hasEnvelope&&(e|=8),this.hasLoops&&(e|=4),this.hasOutPoint&&(e|=2),this.hasInPoint&&(e|=1),G.writeUI8(t,e),this.hasInPoint&&G.writeUI32(t,this.inPoint),this.hasOutPoint&&G.writeUI32(t,this.outPoint),this.hasLoops&&G.writeUI16(t,this.loopCount),this.hasEnvelope){var i=this.envelopeRecords.length;G.writeUI8(t,i);for(var n=0,s=i;n<s;){var r=n++;G.writeSOUNDENVELOPE(t,this.envelopeRecords[r])}}},clone:function(){var t=new Vt;t.syncStop=this.syncStop,t.syncNoMultiple=this.syncNoMultiple,t.hasEnvelope=this.hasEnvelope,t.hasLoops=this.hasLoops,t.hasOutPoint=this.hasOutPoint,t.hasInPoint=this.hasInPoint,t.outPoint=this.outPoint,t.inPoint=this.inPoint,t.loopCount=this.loopCount;for(var e=0,i=this.envelopeRecords.length;e<i;){var n=e++;t.envelopeRecords.push(this.envelopeRecords[n].clone())}return t},toString:function(){return"[SWFSoundInfo]"},__class__:Vt};var zt=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFSymbol"]=zt).__name__=["format","swf","data","SWFSymbol"],zt.create=function(t,e){var i=new zt;return i.tagId=t,i.name=e,i},zt.prototype={parse:function(t){this.tagId=G.readUI16(t),this.name=G.readSTRING(t)},publish:function(t){G.writeUI16(t,this.tagId),G.writeSTRING(t,this.name)},toString:function(){return"TagID: "+this.tagId+", Name: "+this.name},__class__:zt};var Ht=function(t,e,i,n,s){null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),this.glyphEntries=[],null!=t&&this.parse(t,e,i,n,s)};(i["format.swf.data.SWFTextRecord"]=Ht).__name__=["format","swf","data","SWFTextRecord"],Ht.prototype={parse:function(t,e,i,n,s){null==s&&(s=1),this._level=s;var r=G.readUI8(t);this.type=r>>7,this.hasFont=0!=(8&r),this.hasColor=0!=(4&r),this.hasYOffset=0!=(2&r),this.hasXOffset=0!=(1&r),this.hasFont?this.fontId=G.readUI16(t):null!=n&&(this.fontId=n.fontId),this.hasColor?this.textColor=s<2?G.readRGB(t):G.readRGBA(t):null!=n&&(this.textColor=n.textColor),this.hasXOffset?this.xOffset=G.readSI16(t):null!=n&&(this.xOffset=n.xOffset),this.hasYOffset?this.yOffset=G.readSI16(t):null!=n&&(this.yOffset=n.yOffset),this.hasFont?this.textHeight=G.readUI16(t):null!=n&&(this.textHeight=n.textHeight);for(var a=0,o=G.readUI8(t);a<o;){a++;this.glyphEntries.push(G.readGLYPHENTRY(t,e,i))}},publish:function(t,e,i,n,s){null==s&&(s=1);var r=this.type<<7;this.hasFont=null==n||n.fontId!=this.fontId||n.textHeight!=this.textHeight,this.hasColor=null==n||n.textColor!=this.textColor,this.hasXOffset=null==n||n.xOffset!=this.xOffset,this.hasYOffset=null==n||n.yOffset!=this.yOffset,this.hasFont&&(r|=8),this.hasColor&&(r|=4),this.hasYOffset&&(r|=2),this.hasXOffset&&(r|=1),G.writeUI8(t,r),this.hasFont&&G.writeUI16(t,this.fontId),this.hasColor&&(2<=s?G.writeRGBA(t,this.textColor):G.writeRGB(t,this.textColor)),this.hasXOffset&&G.writeSI16(t,this.xOffset),this.hasYOffset&&G.writeSI16(t,this.yOffset),this.hasFont&&G.writeUI16(t,this.textHeight);var a=this.glyphEntries.length;G.writeUI8(t,a);for(var o=0,l=a;o<l;){var h=o++;G.writeGLYPHENTRY(t,this.glyphEntries[h],e,i)}},clone:function(){var t=new Ht;t.type=this.type,t.hasFont=this.hasFont,t.hasColor=this.hasColor,t.hasXOffset=this.hasXOffset,t.hasYOffset=this.hasYOffset,t.fontId=this.fontId,t.textColor=this.textColor,t.textHeight=this.textHeight,t.xOffset=this.xOffset,t.yOffset=this.yOffset;for(var e=0,i=this.glyphEntries.length;e<i;){var n=e++;t.glyphEntries.push(this.glyphEntries[n].clone())}return t},toString:function(t){null==t&&(t=0);var e=["Glyphs: "+L.string(this.glyphEntries.length)];this.hasFont&&(e.push("FontID: "+this.fontId),e.push("Height: "+this.textHeight)),this.hasColor&&e.push("Color: "+(this._level<=2?$n.rgbToString(this.textColor):$n.rgbaToString(this.textColor))),this.hasXOffset&&e.push("XOffset: "+this.xOffset),this.hasYOffset&&e.push("YOffset: "+this.yOffset);for(var i=e.join(", "),n=0,s=this.glyphEntries.length;n<s;){var r=n++;i+="\n"+ns.repeat(t+2)+"["+r+"] "+this.glyphEntries[r].toString()}return i},__class__:Ht};var Yt=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFZoneData"]=Yt).__name__=["format","swf","data","SWFZoneData"],Yt.prototype={parse:function(t){this.alignmentCoordinate=G.readFLOAT16(t),this.range=G.readFLOAT16(t)},publish:function(t){G.writeFLOAT16(t,this.alignmentCoordinate),G.writeFLOAT16(t,this.range)},toString:function(){return"("+this.alignmentCoordinate+","+this.range+")"},__class__:Yt};var Wt=function(t){this.zoneData=[],null!=t&&this.parse(t)};(i["format.swf.data.SWFZoneRecord"]=Wt).__name__=["format","swf","data","SWFZoneRecord"],Wt.prototype={parse:function(t){for(var e=0,i=G.readUI8(t);e<i;){e++;this.zoneData.push(G.readZONEDATA(t))}var n=G.readUI8(t);this.maskX=0!=(1&n),this.maskY=0!=(2&n)},publish:function(t){var e=this.zoneData.length;G.writeUI8(t,e);for(var i=0,n=e;i<n;){var s=i++;G.writeZONEDATA(t,this.zoneData[s])}var r=0;this.maskX&&(r|=1),this.maskY&&(r|=2),G.writeUI8(t,r)},toString:function(t){null==t&&(t=0);for(var e="MaskY: "+L.string(this.maskY)+", MaskX: "+L.string(this.maskX),i=0,n=this.zoneData.length;i<n;){var s=i++;e+=", "+s+": "+this.zoneData[s].toString()}return e},__class__:Wt};function Kt(){}(i["format.swf.data.actions.IAction"]=Kt).__name__=["format","swf","data","actions","IAction"],Kt.prototype={__class__:Kt,__properties__:{get_lengthWithHeader:"get_lengthWithHeader"}};var jt=function(t,e,i){this.code=t,this.length=e,this.pos=i};(i["format.swf.data.actions.Action"]=jt).__name__=["format","swf","data","actions","Action"],jt.__interfaces__=[Kt],jt.resolveOffsets=function(t){for(var e,i=t.length,n=0,s=i;n<s;){var r=n++;if(e=t.data[r],zs.__instanceof(e,Jt)){var a=0,o=!1,l=e,h=l.pos+l.get_lengthWithHeader()+l.branchOffset;if(h<=l.pos)for(a=r;0<=a;){if(h==t.data[a].pos){o=!0;break}--a}else{for(;a<i;){if(h==t.data[a].pos){o=!0;break}++a}o||h==(e=t.data[a-1]).pos+e.get_lengthWithHeader()&&(a=-1,o=!0)}l.branchIndex=o?a:-2}}},jt.prototype={get_lengthWithHeader:function(){return this.length+(128<=this.code?3:1)},parse:function(t){},publish:function(t){this.write(t)},clone:function(){return new jt(this.code,this.length,this.pos)},write:function(t,e){if(G.writeUI8(t,this.code),128<=this.code){if(!(null!=e&&0<G.get_length(e)))throw this.length=0,new Vs(new vh("Action body null or empty."));this.length=G.get_length(e),G.writeUI16(t,this.length),t.writeBytes(J_.fromBytes(e))}else this.length=0},toString:function(t){return null==t&&(t=0),"[Action] Code: "+Ps.hex(this.code)+", Length: "+this.length},__class__:jt,__properties__:{get_lengthWithHeader:"get_lengthWithHeader"}};function qt(t,e,i){jt.call(this,t,e,i)}(i["format.swf.data.actions.ActionUnknown"]=qt).__name__=["format","swf","data","actions","ActionUnknown"],qt.__interfaces__=[Kt],qt.__super__=jt,qt.prototype=n(jt.prototype,{parse:function(t){0<this.length&&G.skipBytes(t,this.length)},toString:function(t){return null==t&&(t=0),"[????] Code: "+Ps.hex(this.code)+", Length: "+this.length},__class__:qt});var Jt=function(){};(i["format.swf.data.actions.IActionBranch"]=Jt).__name__=["format","swf","data","actions","IActionBranch"],Jt.__interfaces__=[Kt],Jt.prototype={__class__:Jt};function Zt(t,e,i){jt.call(this,t,e,i)}(i["format.swf.data.actions.swf3.ActionStop"]=Zt).__name__=["format","swf","data","actions","swf3","ActionStop"],Zt.__interfaces__=[Kt],Zt.__super__=jt,Zt.prototype=n(jt.prototype,{toString:function(t){return null==t&&(t=0),"[ActionStop]"},__class__:Zt});function Qt(){}(i["format.swf.data.consts.BitmapFormat"]=Qt).__name__=["format","swf","data","consts","BitmapFormat"],Qt.toString=function(t){switch(t){case 3:return"8 BPP";case 4:return"15 BPP";case 5:return"24 BPP";default:return"unknown"}};function $t(){}(i["format.swf.data.consts.BitmapType"]=$t).__name__=["format","swf","data","consts","BitmapType"],$t.toString=function(t){switch(t){case 1:return"JPEG";case 2:return"GIF89a";case 3:return"PNG";default:return"unknown"}};var te=function(){};(i["format.swf.data.consts.BlendMode"]=te).__name__=["format","swf","data","consts","BlendMode"],te.toString=function(t){switch(t){case 0:case 1:return"normal";case 2:return"layer";case 3:return"multiply";case 4:return"screen";case 5:return"lighten";case 6:return"darken";case 7:return"difference";case 8:return"add";case 9:return"subtract";case 10:return"invert";case 11:return"alpha";case 12:return"erase";case 13:return"overlay";case 14:return"hardlight";default:return"unknown"}};function ee(){}(i["format.swf.data.consts.CSMTableHint"]=ee).__name__=["format","swf","data","consts","CSMTableHint"],ee.toString=function(t){switch(t){case 0:return"thin";case 1:return"medium";case 2:return"thick";default:return"unknown"}};var ie=function(){};(i["format.swf.data.consts.GradientInterpolationMode"]=ie).__name__=["format","swf","data","consts","GradientInterpolationMode"],ie.toEnum=function(t){switch(t){case 0:return 1;case 1:return 0;default:return 1}},ie.toString=function(t){switch(t){case 0:return Rl.toString(1).toLowerCase();case 1:return Rl.toString(0).toLowerCase();default:return Rl.toString(1).toLowerCase()}};var ne=function(){};(i["format.swf.data.consts.GradientSpreadMode"]=ne).__name__=["format","swf","data","consts","GradientSpreadMode"],ne.toEnum=function(t){switch(t){case 0:return 0;case 1:return 1;case 2:return 2;default:return 0}},ne.toString=function(t){switch(t){case 0:return zl.toString(0).toLowerCase();case 1:return zl.toString(1).toLowerCase();case 2:return zl.toString(2).toLowerCase();default:return"unknown"}};var se=function(){};(i["format.swf.data.consts.LineCapsStyle"]=se).__name__=["format","swf","data","consts","LineCapsStyle"],se.toEnum=function(t){return 1},se.toString=function(t){switch(t){case 0:return cl.toString(1).toLowerCase();case 1:return cl.toString(0).toLowerCase();case 2:return cl.toString(2).toLowerCase();default:return"unknown"}};var re=function(){};(i["format.swf.data.consts.LineJointStyle"]=re).__name__=["format","swf","data","consts","LineJointStyle"],re.toEnum=function(t){switch(t){case 0:return 2;case 1:return 0;case 2:return 1;default:return 2}},re.toString=function(t){switch(t){case 0:return Fl.toString(2).toLowerCase();case 1:return Fl.toString(0).toLowerCase();case 2:return Fl.toString(1).toLowerCase();default:return"null"}};function ae(){}(i["format.swf.data.consts.SoundCompression"]=ae).__name__=["format","swf","data","consts","SoundCompression"],ae.toString=function(t){switch(t){case 0:return"Uncompressed Native Endian";case 1:return"ADPCM";case 2:return"MP3";case 3:return"Uncompressed Little Endian";case 4:return"Nellymoser 16kHz";case 5:return"Nellymoser 8kHz";case 6:return"Nellymoser";case 11:return"Speex";default:return"unknown"}};function oe(){}(i["format.swf.data.consts.SoundRate"]=oe).__name__=["format","swf","data","consts","SoundRate"],oe.toString=function(t){switch(t){case 0:return"5.5kHz";case 1:return"11kHz";case 2:return"22kHz";case 3:return"44kHz";default:return"unknown"}};function le(){}(i["format.swf.data.consts.SoundSize"]=le).__name__=["format","swf","data","consts","SoundSize"],le.toString=function(t){switch(t){case 0:return"8bit";case 1:return"16bit";default:return"unknown"}};function he(){}(i["format.swf.data.consts.SoundType"]=he).__name__=["format","swf","data","consts","SoundType"],he.toString=function(t){switch(t){case 0:return"mono";case 1:return"stereo";default:return"unknown"}};function _e(){}(i["format.swf.data.consts.VideoCodecID"]=_e).__name__=["format","swf","data","consts","VideoCodecID"],_e.toString=function(t){switch(t){case 2:return"H.263";case 3:return"Screen Video";case 4:return"VP6";case 5:return"VP6 With Alpha";case 6:return"Screen Video V2";default:return"unknown"}};function ue(){}(i["format.swf.data.consts.VideoDeblockingType"]=ue).__name__=["format","swf","data","consts","VideoDeblockingType"],ue.toString=function(t){switch(t){case 0:return"videopacket";case 1:return"off";case 2:return"level 1";case 3:return"level 2";case 4:return"level 3";case 5:return"level 4";default:return"unknown"}};function ce(){}(i["format.swf.data.etc.IEdge"]=ce).__name__=["format","swf","data","etc","IEdge"],ce.prototype={__class__:ce};function fe(){this.__uid=$.SEQ<<24|++$.UID}(i["format.swf.data.etc.Edge"]=fe).__name__=["format","swf","data","etc","Edge"],fe.__interfaces__=[Q,ce],fe.prototype={reverseWithNewFillStyle:function(t){throw new Vs("Pure virtual baseclass. Should not be instantiated or called.")},clone:function(){throw new Vs("Pure virtual baseclass. Should not be instantiated or called.")},getCLID:function(){return fe.__clid},serialize:function(t){t.addKnownRef(this.from),t.addKnownRef(this.to);var e=this.lineStyleIdx;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.fillStyleIdx;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.subLineStyleIdx;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("from"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Point")),t.fieldsNames.push("to"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Point")),t.fieldsNames.push("lineStyleIdx"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("fillStyleIdx"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("subLineStyleIdx"),t.fieldsTypes.push(Ls.PInt),t.isFinal=$.isClassFinal(fe.__clid),t},unserializeInit:function(){},unserialize:function(t){this.from=t.getRef(io,io.__clid),this.to=t.getRef(io,io.__clid);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.lineStyleIdx=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.fillStyleIdx=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.subLineStyleIdx=n},__class__:fe};var de=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),fe.call(this),this.from=t,this.to=e,this.lineStyleIdx=i,this.fillStyleIdx=n};(i["format.swf.data.etc.StraightEdge"]=de).__name__=["format","swf","data","etc","StraightEdge"],de.__super__=fe,de.prototype=n(fe.prototype,{reverseWithNewFillStyle:function(t){return new de(this.to,this.from,this.lineStyleIdx,t)},clone:function(){return new de(this.from,this.to,this.lineStyleIdx,this.fillStyleIdx)},toString:function(){return"stroke:"+this.lineStyleIdx+", fill:"+this.fillStyleIdx+", start:"+this.from.toString()+", end:"+this.to.toString()},getCLID:function(){return de.__clid},__class__:de});var pe=function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=0),de.call(this,t,i,n,s),this.control=e};(i["format.swf.data.etc.CurvedEdge"]=pe).__name__=["format","swf","data","etc","CurvedEdge"],pe.__super__=de,pe.prototype=n(de.prototype,{reverseWithNewFillStyle:function(t){return new pe(this.to,this.control,this.from,this.lineStyleIdx,t)},clone:function(){return new pe(this.from,this.control,this.to,this.lineStyleIdx,this.fillStyleIdx)},toString:function(){return"stroke:"+this.lineStyleIdx+", fill:"+this.fillStyleIdx+", start:"+this.from.toString()+", control:"+this.control.toString()+", end:"+this.to.toString()},getCLID:function(){return pe.__clid},serialize:function(t){de.prototype.serialize.call(this,t),t.addKnownRef(this.control)},getSerializeSchema:function(){var t=de.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("control"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Point")),t.isFinal=$.isClassFinal(pe.__clid),t},unserialize:function(t){de.prototype.unserialize.call(this,t),this.control=t.getRef(io,io.__clid)},__class__:pe});function ge(){this.samples=1152,this.init()}(i["format.swf.data.etc.MPEGFrame"]=ge).__name__=["format","swf","data","etc","MPEGFrame"],ge.prototype={get_crc:function(){return this._crc.position=0,this._crc.readUnsignedShort()},get_size:function(){var t=0;return 0==this.layer?(t=Math.floor(12e3*this.bitrate/this.samplingrate),this.padding&&++t,t<<=2):(t=Math.floor((0==this.version?144e3:72e3)*this.bitrate/this.samplingrate),this.padding&&++t),t-4-(this.hasCRC?2:0)},setHeaderByteAt:function(t,e){switch(t){case 0:if(255!=e)throw new Vs(new vh("Not a MPEG header."));break;case 1:if(224!=(224&e))throw new Vs(new vh("Not a MPEG header."));switch((24&e)>>3){case 2:this.version=1;break;case 3:this.version=0;break;default:throw new Vs(new vh("Unsupported MPEG version."))}if(1!=(6&e)>>1)throw new Vs(new vh("Unsupported MPEG layer."));this.layer=2,this.hasCRC=0==(1&e);break;case 2:var i=(240&e)>>4;if(0==i||15==i)throw new Vs(new vh("Unsupported bitrate index."));this.bitrate=ge.mpegBitrates[this.version][this.layer][i];var n=(12&e)>>2;if(3==n)throw new Vs(new vh("Unsupported samplingrate index."));this.samplingrate=ge.mpegsamplingrates[this.version][n],this.padding=2==(2&e);break;case 3:this.channelMode=(192&e)>>6,this.channelModeExt=(48&e)>>4,this.copyright=8==(8&e),this.original=4==(4&e),this.emphasis=2&e;break;default:throw new Vs(new vh("Index out of bounds."))}this._header.b[t]=255&e},setCRCByteAt:function(t,e){if(1<t)throw new Vs(new vh("Index out of bounds."));this._crc.b[t]=255&e},init:function(){var t=new Zn(0);this._header=t,this._header.writeByte(0),this._header.writeByte(0),this._header.writeByte(0),this._header.writeByte(0);var e=new Zn(0);this._crc=e,this._crc.writeByte(0),this._crc.writeByte(0)},getFrame:function(){var t=new Zn(0);return t.writeBytes(this._header,0,4),this.hasCRC&&t.writeBytes(this._crc,0,2),t.writeBytes(this.data),t},toString:function(){var t="MPEG ";switch(this.version){case 0:t+="1.0 ";break;case 1:t+="2.0 ";break;case 2:t+="2.5 ";break;default:t+="?.? "}switch(this.layer){case 0:t+="Layer I";break;case 1:t+="Layer II";break;case 2:t+="Layer III";break;default:t+="Layer ?"}var e="unknown";switch(this.channelMode){case 0:e="Stereo";break;case 1:e="Joint stereo";break;case 2:e="Dual channel";break;case 3:e="Mono"}return t+", "+this.bitrate+" kbit/s, "+this.samplingrate+" Hz, "+e+", "+this.get_size()+" bytes"},__class__:ge,__properties__:{get_size:"get_size",get_crc:"get_crc"}};function me(){}(i["format.swf.data.filters.IFilter"]=me).__name__=["format","swf","data","filters","IFilter"],me.prototype={__class__:me,__properties__:{get_type:"get_type",get_filter:"get_filter"}};function ve(t){this.id=t}(i["format.swf.data.filters.Filter"]=ve).__name__=["format","swf","data","filters","Filter"],ve.__interfaces__=[me],ve.prototype={get_filter:function(){throw new Vs(new vh("Implement in subclasses!"))},get_type:function(){return null},parse:function(t){throw new Vs(new vh("Implement in subclasses!"))},publish:function(t){throw new Vs(new vh("Implement in subclasses!"))},clone:function(){throw new Vs(new vh("Implement in subclasses!"))},toString:function(t){return null==t&&(t=0),"[Filter]"},__class__:ve,__properties__:{get_type:"get_type",get_filter:"get_filter"}};function be(t){ve.call(this,t)}(i["format.swf.data.filters.FilterBevel"]=be).__name__=["format","swf","data","filters","FilterBevel"],be.__interfaces__=[me],be.__super__=ve,be.prototype=n(ve.prototype,{get_type:function(){var t;return t=this.onTop?0:this.innerShadow?1:2,Ye.BevelFilter(this.distance,180*this.angle/Math.PI,$n.rgb(this.highlightColor),$n.alpha(this.highlightColor),$n.rgb(this.shadowColor),$n.alpha(this.shadowColor),this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},get_filter:function(){var t;return t=this.onTop?0:this.innerShadow?1:2,new Vh(this.distance,180*this.angle/Math.PI,$n.rgb(this.highlightColor),$n.alpha(this.highlightColor),$n.rgb(this.shadowColor),$n.alpha(this.shadowColor),this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},parse:function(t){this.highlightColor=G.readRGBA(t),this.shadowColor=G.readRGBA(t),this.blurX=G.readFIXED(t),this.blurY=G.readFIXED(t),this.angle=G.readFIXED(t),this.distance=G.readFIXED(t),this.strength=G.readFIXED8(t);var e=G.readUI8(t);this.innerShadow=0!=(128&e),this.knockout=0!=(64&e),this.compositeSource=0!=(32&e),this.onTop=0!=(16&e),this.passes=15&e},publish:function(t){G.writeRGBA(t,this.shadowColor),G.writeRGBA(t,this.highlightColor),G.writeFIXED(t,this.blurX),G.writeFIXED(t,this.blurY),G.writeFIXED(t,this.angle),G.writeFIXED(t,this.distance),G.writeFIXED8(t,this.strength);var e=15&this.passes;this.innerShadow&&(e|=128),this.knockout&&(e|=64),this.compositeSource&&(e|=32),this.onTop&&(e|=16),G.writeUI8(t,e)},clone:function(){var t=new be(this.id);return t.shadowColor=this.shadowColor,t.highlightColor=this.highlightColor,t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t.onTop=this.onTop,t},toString:function(t){null==t&&(t=0);var e="[BevelFilter] ShadowColor: "+$n.rgbToString(this.shadowColor)+", HighlightColor: "+$n.rgbToString(this.highlightColor)+", BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];return this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),this.onTop&&i.push("OnTop"),0<i.length&&(e+=", Flags: "+i.join(", ")),e},__class__:be});function ye(t){ve.call(this,t)}(i["format.swf.data.filters.FilterBlur"]=ye).__name__=["format","swf","data","filters","FilterBlur"],ye.__interfaces__=[me],ye.__super__=ve,ye.prototype=n(ve.prototype,{get_filter:function(){return new Hh(this.blurX,this.blurY,this.passes)},get_type:function(){return Ye.BlurFilter(this.blurX,this.blurY,this.passes)},parse:function(t){this.blurX=G.readFIXED(t),this.blurY=G.readFIXED(t),this.passes=G.readUI8(t)>>3},publish:function(t){G.writeFIXED(t,this.blurX),G.writeFIXED(t,this.blurY),G.writeUI8(t,this.passes<<3)},clone:function(){var t=new ye(this.id);return t.blurX=this.blurX,t.blurY=this.blurY,t.passes=this.passes,t},toString:function(t){return null==t&&(t=0),"[BlurFilter] BlurX: "+this.blurX+", BlurY: "+this.blurY+", Passes: "+this.passes},__class__:ye});function xe(t){ve.call(this,t),this.colorMatrix=[]}(i["format.swf.data.filters.FilterColorMatrix"]=xe).__name__=["format","swf","data","filters","FilterColorMatrix"],xe.__interfaces__=[me],xe.__super__=ve,xe.prototype=n(ve.prototype,{get_filter:function(){return new Yh(this.multipliers.value,this.offsets.value)},get_type:function(){return Ye.ColorMatrixFilter(this.multipliers,this.offsets)},parse:function(t){for(var e=0;e<20;){e++;this.colorMatrix.push(G.readFLOAT(t))}var i,n=[this.colorMatrix[0],this.colorMatrix[1],this.colorMatrix[2],this.colorMatrix[3],this.colorMatrix[5],this.colorMatrix[6],this.colorMatrix[7],this.colorMatrix[8],this.colorMatrix[10],this.colorMatrix[11],this.colorMatrix[12],this.colorMatrix[13],this.colorMatrix[15],this.colorMatrix[16],this.colorMatrix[17],this.colorMatrix[18]];i=null!=n?new tc(n):null,this.multipliers=new $_(i);var s,r=[this.colorMatrix[4]/255,this.colorMatrix[9]/255,this.colorMatrix[14]/255,this.colorMatrix[19]/255];s=null!=r?new tc(r):null,this.offsets=new $_(s)},publish:function(t){for(var e=0;e<20;){var i=e++;G.writeFLOAT(t,this.colorMatrix[i])}},clone:function(){for(var t=new xe(this.id),e=0;e<20;){var i=e++;t.colorMatrix.push(this.colorMatrix[i])}return t},toString:function(t){null==t&&(t=0);var e=ns.repeat(t+2);return"[ColorMatrixFilter]\n"+e+"[R] "+this.colorMatrix[0]+", "+this.colorMatrix[1]+", "+this.colorMatrix[2]+", "+this.colorMatrix[3]+", "+this.colorMatrix[4]+"\n"+e+"[G] "+this.colorMatrix[5]+", "+this.colorMatrix[6]+", "+this.colorMatrix[7]+", "+this.colorMatrix[8]+", "+this.colorMatrix[9]+"\n"+e+"[B] "+this.colorMatrix[10]+", "+this.colorMatrix[11]+", "+this.colorMatrix[12]+", "+this.colorMatrix[13]+", "+this.colorMatrix[14]+"\n"+e+"[A] "+this.colorMatrix[15]+", "+this.colorMatrix[16]+", "+this.colorMatrix[17]+", "+this.colorMatrix[18]+", "+this.colorMatrix[19]},__class__:xe});function Te(t){ve.call(this,t),this.matrix=[]}(i["format.swf.data.filters.FilterConvolution"]=Te).__name__=["format","swf","data","filters","FilterConvolution"],Te.__interfaces__=[me],Te.__super__=ve,Te.prototype=n(ve.prototype,{get_filter:function(){for(var t=[],e=0,i=this.matrix.length;e<i;){var n=e++;t.push(this.matrix[n])}return new Uh},parse:function(t){this.matrixX=G.readUI8(t),this.matrixY=G.readUI8(t),this.divisor=G.readFLOAT(t),this.bias=G.readFLOAT(t);for(var e=0,i=this.matrixX*this.matrixY;e<i;){e++;this.matrix.push(G.readFLOAT(t))}this.defaultColor=G.readRGBA(t);var n=G.readUI8(t);this.clamp=0!=(2&n),this.preserveAlpha=0!=(1&n)},publish:function(t){G.writeUI8(t,this.matrixX),G.writeUI8(t,this.matrixY),G.writeFLOAT(t,this.divisor),G.writeFLOAT(t,this.bias);for(var e=0,i=this.matrixX*this.matrixY;e<i;){var n=e++;G.writeFLOAT(t,this.matrix[n])}G.writeRGBA(t,this.defaultColor);var s=0;this.clamp&&(s|=2),this.preserveAlpha&&(s|=1),G.writeUI8(t,s)},clone:function(){var t=new Te(this.id);t.matrixX=this.matrixX,t.matrixY=this.matrixY,t.divisor=this.divisor,t.bias=this.bias;for(var e=0,i=this.matrixX*this.matrixY;e<i;){var n=e++;t.matrix.push(this.matrix[n])}return t.defaultColor=this.defaultColor,t.clamp=this.clamp,t.preserveAlpha=this.preserveAlpha,t},toString:function(t){null==t&&(t=0);var e="[ConvolutionFilter] DefaultColor: "+$n.rgbToString(this.defaultColor)+", Divisor: "+this.divisor+", Bias: "+this.bias,i=[];if(this.clamp&&i.push("Clamp"),this.preserveAlpha&&i.push("PreserveAlpha"),0<i.length&&(e+=", Flags: "+i.join(", ")),0<this.matrix.length){e+="\n"+ns.repeat(t+2)+"Matrix:";for(var n=0,s=this.matrixY;n<s;){var r=n++;e+="\n"+ns.repeat(t+4)+"["+r+"]";for(var a=0,o=this.matrixX;a<o;){var l=a++;e+=(0<l?", ":" ")+this.matrix[this.matrixX*r+l]}}}return e},__class__:Te});function Se(t){ve.call(this,t)}(i["format.swf.data.filters.FilterDropShadow"]=Se).__name__=["format","swf","data","filters","FilterDropShadow"],Se.__interfaces__=[me],Se.__super__=ve,Se.prototype=n(ve.prototype,{get_filter:function(){return new Wh(this.distance,180*this.angle/Math.PI,$n.rgb(this.dropShadowColor),$n.alpha(this.dropShadowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerShadow,this.knockout,!this.compositeSource)},get_type:function(){return Ye.DropShadowFilter(this.distance,180*this.angle/Math.PI,$n.rgb(this.dropShadowColor),$n.alpha(this.dropShadowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerShadow,this.knockout,!this.compositeSource)},parse:function(t){this.dropShadowColor=G.readRGBA(t),this.blurX=G.readFIXED(t),this.blurY=G.readFIXED(t),this.angle=G.readFIXED(t),this.distance=G.readFIXED(t),this.strength=G.readFIXED8(t);var e=G.readUI8(t);this.innerShadow=0!=(128&e),this.knockout=0!=(64&e),this.compositeSource=0!=(32&e),this.passes=31&e},publish:function(t){G.writeRGBA(t,this.dropShadowColor),G.writeFIXED(t,this.blurX),G.writeFIXED(t,this.blurY),G.writeFIXED(t,this.angle),G.writeFIXED(t,this.distance),G.writeFIXED8(t,this.strength);var e=31&this.passes;this.innerShadow&&(e|=128),this.knockout&&(e|=64),this.compositeSource&&(e|=32),G.writeUI8(t,e)},clone:function(){var t=new Se(this.id);return t.dropShadowColor=this.dropShadowColor,t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t},toString:function(t){null==t&&(t=0);var e="[DropShadowFilter] DropShadowColor: "+$n.rgbToString(this.dropShadowColor)+", BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];return this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),0<i.length&&(e+=", Flags: "+i.join(", ")),e},__class__:Se});function Ee(t){ve.call(this,t)}(i["format.swf.data.filters.FilterGlow"]=Ee).__name__=["format","swf","data","filters","FilterGlow"],Ee.__interfaces__=[me],Ee.__super__=ve,Ee.prototype=n(ve.prototype,{get_filter:function(){return new Kh($n.rgb(this.glowColor),$n.alpha(this.glowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerGlow,this.knockout)},get_type:function(){return Ye.GlowFilter($n.rgb(this.glowColor),$n.alpha(this.glowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerGlow,this.knockout)},parse:function(t){this.glowColor=G.readRGBA(t),this.blurX=G.readFIXED(t),this.blurY=G.readFIXED(t),this.strength=G.readFIXED8(t);var e=G.readUI8(t);this.innerGlow=0!=(128&e),this.knockout=0!=(64&e),this.compositeSource=0!=(32&e),this.passes=31&e},publish:function(t){G.writeRGBA(t,this.glowColor),G.writeFIXED(t,this.blurX),G.writeFIXED(t,this.blurY),G.writeFIXED8(t,this.strength);var e=31&this.passes;this.innerGlow&&(e|=128),this.knockout&&(e|=64),this.compositeSource&&(e|=32),G.writeUI8(t,e)},clone:function(){var t=new Ee(this.id);return t.glowColor=this.glowColor,t.blurX=this.blurX,t.blurY=this.blurY,t.strength=this.strength,t.passes=this.passes,t.innerGlow=this.innerGlow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t},toString:function(t){null==t&&(t=0);var e="[GlowFilter] GlowColor: "+$n.rgbToString(this.glowColor)+", BlurX: "+this.blurX+", BlurY: "+this.blurY+", Strength: "+this.strength+", Passes: "+this.passes,i=[];return this.innerGlow&&i.push("InnerGlow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),0<i.length&&(e+=", Flags: "+i.join(", ")),e},__class__:Ee});function Ie(t){ve.call(this,t),this.gradientColors=[],this.gradientRatios=[]}(i["format.swf.data.filters.FilterGradientBevel"]=Ie).__name__=["format","swf","data","filters","FilterGradientBevel"],Ie.__interfaces__=[me],Ie.__super__=ve,Ie.prototype=n(ve.prototype,{get_filter:function(){for(var t,e=[],i=[],n=[],s=0,r=this.numColors;s<r;){var a=s++;e.push($n.rgb(this.gradientColors[a])),i.push($n.alpha(this.gradientColors[a])),n.push(this.gradientRatios[a])}return t=this.onTop?0:this.innerShadow?1:2,new Xh(this.distance,this.angle,e,i,n,this.blurX,this.blurY,this.strength,this.passes,zh.fromString(zh.toString(t)),this.knockout)},get_type:function(){for(var t,e=[],i=[],n=[],s=0,r=this.numColors;s<r;){var a=s++;e.push($n.rgb(this.gradientColors[a])),i.push($n.alpha(this.gradientColors[a])),n.push(this.gradientRatios[a])}return t=this.onTop?0:this.innerShadow?1:2,Ye.GradientBevelFilter(this.distance,180*this.angle/Math.PI,e,i,n,this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},parse:function(t){this.numColors=G.readUI8(t);for(var e=0,i=this.numColors;e<i;){e++;this.gradientColors.push(G.readRGBA(t))}for(var n=0,s=this.numColors;n<s;){n++;this.gradientRatios.push(G.readUI8(t))}this.blurX=G.readFIXED(t),this.blurY=G.readFIXED(t),this.angle=G.readFIXED(t),this.distance=G.readFIXED(t),this.strength=G.readFIXED8(t);var r=G.readUI8(t);this.innerShadow=0!=(128&r),this.knockout=0!=(64&r),this.compositeSource=0!=(32&r),this.onTop=0!=(16&r),this.passes=15&r},publish:function(t){G.writeUI8(t,this.numColors);for(var e=0,i=this.numColors;e<i;){var n=e++;G.writeRGBA(t,this.gradientColors[n])}for(var s=0,r=this.numColors;s<r;){var a=s++;G.writeUI8(t,this.gradientRatios[a])}G.writeFIXED(t,this.blurX),G.writeFIXED(t,this.blurY),G.writeFIXED(t,this.angle),G.writeFIXED(t,this.distance),G.writeFIXED8(t,this.strength);var o=15&this.passes;this.innerShadow&&(o|=128),this.knockout&&(o|=64),this.compositeSource&&(o|=32),this.onTop&&(o|=16),G.writeUI8(t,o)},clone:function(){var t=new Ie(this.id);t.numColors=this.numColors;for(var e=0,i=this.numColors;e<i;){var n=e++;t.gradientColors.push(this.gradientColors[n])}for(var s=0,r=this.numColors;s<r;){var a=s++;t.gradientRatios.push(this.gradientRatios[a])}return t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t.onTop=this.onTop,t},toString:function(t){null==t&&(t=0);var e="[GradientBevelFilter] BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];if(this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),this.onTop&&i.push("OnTop"),0<i.length&&(e+=", Flags: "+i.join(", ")),0<this.gradientColors.length){e+="\n"+ns.repeat(t+2)+"GradientColors:";for(var n=0,s=this.gradientColors.length;n<s;){var r=n++;e+=(0<r?", ":" ")+$n.rgbToString(this.gradientColors[r])}}if(0<this.gradientRatios.length){e+="\n"+ns.repeat(t+2)+"GradientRatios:";for(var a=0,o=this.gradientRatios.length;a<o;){var l=a++;e+=(0<l?", ":" ")+this.gradientRatios[l]}}return e},__class__:Ie});function Pe(t){ve.call(this,t),this.gradientColors=[],this.gradientRatios=[]}(i["format.swf.data.filters.FilterGradientGlow"]=Pe).__name__=["format","swf","data","filters","FilterGradientGlow"],Pe.__interfaces__=[me],Pe.__super__=ve,Pe.prototype=n(ve.prototype,{get_filter:function(){for(var t,e=[],i=[],n=[],s=0,r=this.numColors;s<r;){var a=s++;e.push($n.rgb(this.gradientColors[a])),i.push($n.alpha(this.gradientColors[a])),n.push(this.gradientRatios[a])}return t=this.onTop?0:this.innerShadow?1:2,new jh(this.distance,180*this.angle/Math.PI,e,i,n,this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},get_type:function(){for(var t,e=[],i=[],n=[],s=0,r=this.numColors;s<r;){var a=s++;e.push($n.rgb(this.gradientColors[a])),i.push($n.alpha(this.gradientColors[a])),n.push(this.gradientRatios[a])}return t=this.onTop?0:this.innerShadow?1:2,Ye.GradientGlowFilter(this.distance,180*this.angle/Math.PI,e,i,n,this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},parse:function(t){this.numColors=G.readUI8(t);for(var e=0,i=this.numColors;e<i;){e++;this.gradientColors.push(G.readRGBA(t))}for(var n=0,s=this.numColors;n<s;){n++;this.gradientRatios.push(G.readUI8(t))}this.blurX=G.readFIXED(t),this.blurY=G.readFIXED(t),this.angle=G.readFIXED(t),this.distance=G.readFIXED(t),this.strength=G.readFIXED8(t);var r=G.readUI8(t);this.innerShadow=0!=(128&r),this.knockout=0!=(64&r),this.compositeSource=0!=(32&r),this.onTop=0!=(16&r),this.passes=15&r},publish:function(t){G.writeUI8(t,this.numColors);for(var e=0,i=this.numColors;e<i;){var n=e++;G.writeRGBA(t,this.gradientColors[n])}for(var s=0,r=this.numColors;s<r;){var a=s++;G.writeUI8(t,this.gradientRatios[a])}G.writeFIXED(t,this.blurX),G.writeFIXED(t,this.blurY),G.writeFIXED(t,this.angle),G.writeFIXED(t,this.distance),G.writeFIXED8(t,this.strength);var o=15&this.passes;this.innerShadow&&(o|=128),this.knockout&&(o|=64),this.compositeSource&&(o|=32),this.onTop&&(o|=16),G.writeUI8(t,o)},clone:function(){var t=new Pe(this.id);t.numColors=this.numColors;for(var e=0,i=this.numColors;e<i;){var n=e++;t.gradientColors.push(this.gradientColors[n])}for(var s=0,r=this.numColors;s<r;){var a=s++;t.gradientRatios.push(this.gradientRatios[a])}return t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t.onTop=this.onTop,t},toString:function(t){null==t&&(t=0);var e="[GradientGlowFilter] BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];if(this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),this.onTop&&i.push("OnTop"),0<i.length&&(e+=", Flags: "+i.join(", ")),0<this.gradientColors.length){e+="\n"+ns.repeat(t+2)+"GradientColors:";for(var n=0,s=this.gradientColors.length;n<s;){var r=n++;e+=(0<r?", ":" ")+$n.rgbToString(this.gradientColors[r])}}if(0<this.gradientRatios.length){e+="\n"+ns.repeat(t+2)+"GradientRatios:";for(var a=0,o=this.gradientRatios.length;a<o;){var l=a++;e+=(0<l?", ":" ")+this.gradientRatios[l]}}return e},__class__:Pe});function Ce(t,e,i){null==i&&(i=-1),this.mCapacity=16,this.size=0,this.mFactory=t,this.mDispose=null==e?function(t){}:e,this.maxSize=i;var n=this.mCapacity,s=new De,r=new Array(n);s.data=r,s.length=n,s.fixed=!1,this.mPool=s}(i["openfl.ObjectPool"]=Ce).__name__=["openfl","ObjectPool"],Ce.prototype={preallocate:function(t){if(0!=this.size)throw new Vs("Can't preallocate when size is already set");this.size=this.mCapacity=t;var e=this.size,i=new De,n=new Array(e);i.data=n,i.length=e,i.fixed=!1,this.mPool=i;for(var s=0,r=t;s<r;){var a=s++,o=this.mPool,l=this.mFactory();if(!o.fixed&&(a>=o.length&&(o.length=1+a),o.data.length<o.length)){var h=o.data.length+10,_=new Array(h);ms.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[a]=l}},free:function(){for(var t=0,e=this.mCapacity;t<e;){var i=t++;this.mDispose(this.mPool.data[i])}this.mPool=null,this.mFactory=null,this.mDispose=null},get:function(){return 0<this.size?this.mPool.data[--this.size]:this.mFactory()},put:function(t){if(this.size==this.maxSize)this.mDispose(t);else{this.size==this.mCapacity&&this.resize();var e=this.mPool,i=this.size++;if(!e.fixed&&(i>=e.length&&(e.length=1+i),e.data.length<e.length)){var n=e.data.length+10,s=new Array(n);ms.blit(e.data,0,s,0,e.data.length),e.data=s}e.data[i]=t}},iterator:function(){var t=0,e=this.size,i=this.mPool;return{hasNext:function(){return t<e},next:function(){return t+=1,i.data[t-1]}}},resize:function(){var t=this.mCapacity+.5*this.mCapacity|0,e=this.mPool;if(!e.fixed){if(t>e.length){var i=new Array(t);ms.blit(e.data,0,i,0,0|Math.min(e.data.length,t)),e.data=i}e.length=t}this.mCapacity=t},__class__:Ce};var De=function(){this.length=0};(i["openfl.VectorData"]=De).__name__=["openfl","VectorData"],De.prototype={__class__:De};var Ae=function(t,e,i){null==i&&(i=!1),null==e&&(e=!1),this.type=t,this.bubbles=e,this.cancelable=i,this.__fromPool=!1,this.__refcount=0,this.eventPhase=2};(i["openfl.events.Event"]=Ae).__name__=["openfl","events","Event"],Ae.__create=function(t,e,i){null==i&&(i=!1),null==e&&(e=!1);var n=Ae.pool.get();return n.type=t,n.bubbles=e,n.cancelable=i,n.target=null,n.currentTarget=null,n.__isCanceled=!1,n.__isCanceledNow=!1,n.__preventDefault=!1,n.__fromPool=!0,n.__refcount=0,n.eventPhase=2,n},Ae.prototype={clone:function(){var t=new Ae(this.type,this.bubbles,this.cancelable);return t.eventPhase=this.eventPhase,t.target=this.target,t.currentTarget=this.currentTarget,t},__resetPooledEvent:function(){this.target=null,this.currentTarget=null,this.__isCanceled=!1,this.__isCanceledNow=!1,this.__preventDefault=!1,this.__fromPool=!0,this.__refcount=0,this.eventPhase=2},formatToString:function(t,e,i,n,s,r,a){var o=[];return null!=e&&o.push(e),null!=i&&o.push(i),null!=n&&o.push(n),null!=s&&o.push(s),null!=r&&o.push(r),null!=a&&o.push(a),Hu(this,this.__formatToString).apply(this,[t,o])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceled=!0,this.__isCanceledNow=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(t,e){for(var i="["+t,n=null,s=0;s<e.length;){var r=e[s];++s,i+="string"==typeof(n=At.field(this,r))?" "+r+'="'+L.string(n)+'"':" "+r+"="+L.string(n)}return i+="]"},acquire:function(){++this.__refcount},release:function(){0==--this.__refcount&&this.__fromPool&&(this.__refcount=-1,this.__fromPool=!1,Ae.pool.put(this))},__class__:Ae};var Re=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!1),Ae.call(this,t,i,n),this.reason=e};(i["format.swf.events.SWFErrorEvent"]=Re).__name__=["format","swf","events","SWFErrorEvent"],Re.__super__=Ae,Re.prototype=n(Ae.prototype,{clone:function(){return new Re(this.type,this.reason,this.bubbles,this.cancelable)},toString:function(){return"[SWFErrorEvent] reason: "+this.reason},__class__:Re});var Me=function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=!1),Ae.call(this,t,n,s),this.processed=e,this.total=i};(i["format.swf.events.SWFProgressEvent"]=Me).__name__=["format","swf","events","SWFProgressEvent"],Me.__super__=Ae,Me.prototype=n(Ae.prototype,{get_progress:function(){return this.processed/this.total},get_progressPercent:function(){return Math.round(100*this.get_progress())},clone:function(){return new Me(this.type,this.processed,this.total,this.bubbles,this.cancelable)},toString:function(){return"[SWFProgressEvent] processed: "+this.processed+", total: "+this.total+" ("+this.get_progressPercent()+"%)"},__class__:Me,__properties__:{get_progressPercent:"get_progressPercent",get_progress:"get_progress"}});var Fe=function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=!1),Ae.call(this,t,n,s),this.index=e,this.data=i};(i["format.swf.events.SWFWarningEvent"]=Fe).__name__=["format","swf","events","SWFWarningEvent"],Fe.__super__=Ae,Fe.prototype=n(Ae.prototype,{clone:function(){return new Fe(this.type,this.index,this.data,this.bubbles,this.cancelable)},toString:function(){return"[SWFWarningEvent] index: "+this.index},__class__:Fe});function Be(){}(i["format.swf.exporters.core.IShapeExporter"]=Be).__name__=["format","swf","exporters","core","IShapeExporter"],Be.prototype={__class__:Be};var Le=function(){};(i["format.swf.exporters.core.DefaultShapeExporter"]=Le).__name__=["format","swf","exporters","core","DefaultShapeExporter"],Le.__interfaces__=[Be],Le.prototype={beginShape:function(){},endShape:function(){},beginFills:function(){},endFills:function(){},beginLines:function(){},endLines:function(){},beginFill:function(t,e){null==e&&(e=1)},beginGradientFill:function(t,e,i,n,s,r,a,o){null==o&&(o=0)},beginBitmapFill:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0)},endFill:function(){},lineStyle:function(t,e,i,n,s,r,a,o,l){null==l&&(l=3),null==n&&(n=!1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0)},lineGradientStyle:function(t,e,i,n,s,r,a,o){null==o&&(o=0)},lineBitmapStyle:function(t,e,i,n){},moveTo:function(t,e){},lineTo:function(t,e){},curveTo:function(t,e,i,n){},__class__:Le};function ke(){Le.call(this),this.commands=[]}(i["format.swf.exporters.ShapeCommandExporter"]=ke).__name__=["format","swf","exporters","ShapeCommandExporter"],ke.__super__=Le,ke.prototype=n(Le.prototype,{beginShape:function(){this.commands=[]},beginFills:function(){this.commands.push(Ne.LineStyle(null,null,null,null,null,null,null,null))},beginLines:function(){},beginFill:function(t,e){null==e&&(e=1),this.commands.push(Ne.BeginFill(t,e))},beginGradientFill:function(t,e,i,n,s,r,a,o){null==o&&(o=0),this.commands.push(Ne.BeginGradientFill(t,e,i,n,s,r,a,o))},beginBitmapFill:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.commands.push(Ne.BeginBitmapFill(t,e,i,n))},endFill:function(){this.commands.push(Ne.EndFill)},lineStyle:function(t,e,i,n,s,r,a,o,l){null==l&&(l=3),null==n&&(n=!1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),this.commands.push(Ne.LineStyle(t,e,i,n,s,r,o,l))},lineGradientStyle:function(t,e,i,n,s,r,a,o){null==o&&(o=0),null==a&&(a=1),null==r&&(r=0),this.commands.push(Ne.LineGradientStyle(t,e,i,n,s,r,a,o))},lineBitmapStyle:function(t,e,i,n){this.commands.push(Ne.LineBitmapStyle(t,e,i,n))},moveTo:function(t,e){this.commands.push(Ne.MoveTo(t,e))},lineTo:function(t,e){this.commands.push(Ne.LineTo(t,e))},curveTo:function(t,e,i,n){this.commands.push(Ne.CurveTo(t,e,i,n))},__class__:ke});var Ye=i["format.swf.exporters.core.FilterType"]={__ename__:!0,__constructs__:["BlurFilter","ColorMatrixFilter","DropShadowFilter","GlowFilter","GradientGlowFilter","BevelFilter","GradientBevelFilter"]};Ye.BlurFilter=function(t,e,i){var n=["BlurFilter",0,t,e,i];return n.__enum__=Ye,n.toString=f,n},Ye.ColorMatrixFilter=function(t,e){var i=["ColorMatrixFilter",1,t,e];return i.__enum__=Ye,i.toString=f,i},Ye.DropShadowFilter=function(t,e,i,n,s,r,a,o,l,h,_){var u=["DropShadowFilter",2,t,e,i,n,s,r,a,o,l,h,_];return u.__enum__=Ye,u.toString=f,u},Ye.GlowFilter=function(t,e,i,n,s,r,a,o){var l=["GlowFilter",3,t,e,i,n,s,r,a,o];return l.__enum__=Ye,l.toString=f,l},Ye.GradientGlowFilter=function(t,e,i,n,s,r,a,o,l,h,_){var u=["GradientGlowFilter",4,t,e,i,n,s,r,a,o,l,h,_];return u.__enum__=Ye,u.toString=f,u},Ye.BevelFilter=function(t,e,i,n,s,r,a,o,l,h,_,u){var c=["BevelFilter",5,t,e,i,n,s,r,a,o,l,h,_,u];return c.__enum__=Ye,c.toString=f,c},Ye.GradientBevelFilter=function(t,e,i,n,s,r,a,o,l,h,_){var u=["GradientBevelFilter",6,t,e,i,n,s,r,a,o,l,h,_];return u.__enum__=Ye,u.toString=f,u};var Ne=i["format.swf.exporters.core.ShapeCommand"]={__ename__:!0,__constructs__:["BeginBitmapFill","BeginFill","BeginGradientFill","CurveTo","DrawImage","EndFill","LineStyle","LineGradientStyle","LineBitmapStyle","LineTo","MoveTo"]};Ne.BeginBitmapFill=function(t,e,i,n){var s=["BeginBitmapFill",0,t,e,i,n];return s.__enum__=Ne,s.toString=f,s},Ne.BeginFill=function(t,e){var i=["BeginFill",1,t,e];return i.__enum__=Ne,i.toString=f,i},Ne.BeginGradientFill=function(t,e,i,n,s,r,a,o){var l=["BeginGradientFill",2,t,e,i,n,s,r,a,o];return l.__enum__=Ne,l.toString=f,l},Ne.CurveTo=function(t,e,i,n){var s=["CurveTo",3,t,e,i,n];return s.__enum__=Ne,s.toString=f,s},Ne.DrawImage=function(t,e,i){var n=["DrawImage",4,t,e,i];return n.__enum__=Ne,n.toString=f,n},Ne.EndFill=["EndFill",5],Ne.EndFill.toString=f,(Ne.EndFill.__enum__=Ne).LineStyle=function(t,e,i,n,s,r,a,o){var l=["LineStyle",6,t,e,i,n,s,r,a,o];return l.__enum__=Ne,l.toString=f,l},Ne.LineGradientStyle=function(t,e,i,n,s,r,a,o){var l=["LineGradientStyle",7,t,e,i,n,s,r,a,o];return l.__enum__=Ne,l.toString=f,l},Ne.LineBitmapStyle=function(t,e,i,n){var s=["LineBitmapStyle",8,t,e,i,n];return s.__enum__=Ne,s.toString=f,s},Ne.LineTo=function(t,e){var i=["LineTo",9,t,e];return i.__enum__=Ne,i.toString=f,i},Ne.MoveTo=function(t,e){var i=["MoveTo",10,t,e];return i.__enum__=Ne,i.toString=f,i};function Oe(){}(i["format.swf.factories.ISWFTagFactory"]=Oe).__name__=["format","swf","factories","ISWFTagFactory"],Oe.prototype={__class__:Oe};var Ue=function(){};(i["format.swf.factories.SWFActionFactory"]=Ue).__name__=["format","swf","factories","SWFActionFactory"],Ue.create=function(t,e,i){return 7==t?new Zt(t,e,i):new qt(t,e,i)};var Ge=function(){};(i["format.swf.factories.SWFFilterFactory"]=Ge).__name__=["format","swf","factories","SWFFilterFactory"],Ge.create=function(t){switch(t){case 0:return new Se(t);case 1:return new ye(t);case 2:return new Ee(t);case 3:return new be(t);case 4:return new Pe(t);case 5:return new Te(t);case 6:return new xe(t);case 7:return new Ie(t);default:throw new Vs(new vh("Unknown filter ID: "+t))}};var Xe=function(){};(i["format.swf.factories.SWFTagFactory"]=Xe).__name__=["format","swf","factories","SWFTagFactory"],Xe.__interfaces__=[Oe],Xe.prototype={create:function(t){switch(t){case 0:return this.createTagEnd();case 1:return this.createTagShowFrame();case 2:return this.createTagDefineShape();case 4:return this.createTagPlaceObject();case 5:return this.createTagRemoveObject();case 6:return this.createTagDefineBits();case 7:return this.createTagDefineButton();case 8:return this.createTagJPEGTables();case 9:return this.createTagSetBackgroundColor();case 10:return this.createTagDefineFont();case 11:return this.createTagDefineText();case 12:return this.createTagDoAction();case 13:return this.createTagDefineFontInfo();case 14:return this.createTagDefineSound();case 15:return this.createTagStartSound();case 17:return this.createTagDefineButtonSound();case 18:return this.createTagSoundStreamHead();case 19:return this.createTagSoundStreamBlock();case 20:return this.createTagDefineBitsLossless();case 21:return this.createTagDefineBitsJPEG2();case 22:return this.createTagDefineShape2();case 23:return this.createTagDefineButtonCxform();case 24:return this.createTagProtect();case 26:return this.createTagPlaceObject2();case 28:return this.createTagRemoveObject2();case 32:return this.createTagDefineShape3();case 33:return this.createTagDefineText2();case 34:return this.createTagDefineButton2();case 35:return this.createTagDefineBitsJPEG3();case 36:return this.createTagDefineBitsLossless2();case 37:return this.createTagDefineEditText();case 39:return this.createTagDefineSprite();case 40:return this.createTagNameCharacter();case 41:return this.createTagProductInfo();case 43:return this.createTagFrameLabel();case 45:return this.createTagSoundStreamHead2();case 46:return this.createTagDefineMorphShape();case 48:return this.createTagDefineFont2();case 56:return this.createTagExportAssets();case 57:return this.createTagImportAssets();case 58:return this.createTagEnableDebugger();case 59:return this.createTagDoInitAction();case 60:return this.createTagDefineVideoStream();case 61:return this.createTagVideoFrame();case 62:return this.createTagDefineFontInfo2();case 63:return this.createTagDebugID();case 64:return this.createTagEnableDebugger2();case 65:return this.createTagScriptLimits();case 66:return this.createTagSetTabIndex();case 69:return this.createTagFileAttributes();case 70:return this.createTagPlaceObject3();case 71:return this.createTagImportAssets2();case 72:return this.createTagDoABCDeprecated();case 73:return this.createTagDefineFontAlignZones();case 74:return this.createTagCSMTextSettings();case 75:return this.createTagDefineFont3();case 76:return this.createTagSymbolClass();case 77:return this.createTagMetadata();case 78:return this.createTagDefineScalingGrid();case 82:return this.createTagDoABC();case 83:return this.createTagDefineShape4();case 84:return this.createTagDefineMorphShape2();case 86:return this.createTagDefineSceneAndFrameLabelData();case 87:return this.createTagDefineBinaryData();case 88:return this.createTagDefineFontName();case 89:return this.createTagStartSound2();case 90:return this.createTagDefineBitsJPEG4();case 91:return this.createTagDefineFont4();case 93:return this.createTagEnableTelemetry();case 94:return this.createTagPlaceObject4();case 253:return this.createTagSWFEncryptActions();case 255:return this.createTagSWFEncryptSignature();default:return this.createTagUnknown(t)}},createTagEnd:function(){return new un},createTagShowFrame:function(){return new Rn},createTagDefineShape:function(){return new ji},createTagPlaceObject:function(){return new yn},createTagRemoveObject:function(){return new In},createTagDefineBits:function(){return new Ei},createTagDefineButton:function(){return new Ri},createTagJPEGTables:function(){return new mn},createTagSetBackgroundColor:function(){return new Dn},createTagDefineFont:function(){return new ki},createTagDefineText:function(){return new tn},createTagDoAction:function(){return new an},createTagDefineFontInfo:function(){return new Xi},createTagDefineSound:function(){return new Qi},createTagStartSound:function(){return new Ln},createTagDefineButtonSound:function(){return new Bi},createTagSoundStreamHead:function(){return new Fn},createTagSoundStreamBlock:function(){return new Mn},createTagDefineBitsLossless:function(){return new Di},createTagDefineBitsJPEG2:function(){return new Ii},createTagDefineShape2:function(){return new qi},createTagDefineButtonCxform:function(){return new Fi},createTagProtect:function(){return new En},createTagPlaceObject2:function(){return new wn},createTagRemoveObject2:function(){return new Pn},createTagDefineShape3:function(){return new Ji},createTagDefineText2:function(){return new en},createTagDefineButton2:function(){return new Mi},createTagDefineBitsJPEG3:function(){return new Pi},createTagDefineBitsLossless2:function(){return new Ai},createTagDefineEditText:function(){return new Li},createTagDefineSprite:function(){return new $i},createTagNameCharacter:function(){return new bn},createTagProductInfo:function(){return new Sn},createTagFrameLabel:function(){return new dn},createTagSoundStreamHead2:function(){return new Bn},createTagDefineMorphShape:function(){return new Hi},createTagDefineFont2:function(){return new Ni},createTagExportAssets:function(){return new cn},createTagImportAssets:function(){return new pn},createTagEnableDebugger:function(){return new ln},createTagDoInitAction:function(){return new on},createTagDefineVideoStream:function(){return new nn},createTagVideoFrame:function(){return new Un},createTagDefineFontInfo2:function(){return new Vi},createTagDebugID:function(){return new Ti},createTagEnableDebugger2:function(){return new hn},createTagScriptLimits:function(){return new Cn},createTagSetTabIndex:function(){return new An},createTagFileAttributes:function(){return new fn},createTagPlaceObject3:function(){return new xn},createTagImportAssets2:function(){return new gn},createTagDefineFontAlignZones:function(){return new Gi},createTagCSMTextSettings:function(){return new xi},createTagDefineFont3:function(){return new Oi},createTagSymbolClass:function(){return new Nn},createTagMetadata:function(){return new vn},createTagDefineScalingGrid:function(){return new Wi},createTagDoABC:function(){return new sn},createTagDoABCDeprecated:function(){return new rn},createTagDefineShape4:function(){return new Zi},createTagDefineMorphShape2:function(){return new Yi},createTagDefineSceneAndFrameLabelData:function(){return new Ki},createTagDefineBinaryData:function(){return new Si},createTagDefineFontName:function(){return new zi},createTagStartSound2:function(){return new kn},createTagDefineBitsJPEG4:function(){return new Ci},createTagDefineFont4:function(){return new Ui},createTagEnableTelemetry:function(){return new _n},createTagPlaceObject4:function(){return new Tn},createTagSWFEncryptActions:function(){return new Gn},createTagSWFEncryptSignature:function(){return new Xn},createTagUnknown:function(t){return new On(t)},__class__:Xe};var Ve=function(){this.__graphicsSavedScale=new io(0,0),this.__clicks=0,we.call(this),this.__caretIndex=-1,this.__graphics=new ml(!1),(this.__graphics.__owner=this).__textEngine=new sl(this),this.__layoutDirty=!0,this.__tabEnabled=!0,null==Ve.__defaultTextFormat&&(Ve.__defaultTextFormat=new V_("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),Ve.__defaultTextFormat.blockIndent=0,Ve.__defaultTextFormat.bullet=!1,Ve.__defaultTextFormat.letterSpacing=0,Ve.__defaultTextFormat.kerning=!1),this.__textFormat=Ve.__defaultTextFormat.clone(),this.__textEngine.textFormatRanges.push(new rl(this.__textFormat,0,0)),this.addEventListener("mouseDown",Hu(this,this.this_onMouseDown))};(i["openfl.text.TextField"]=Ve).__name__=["openfl","text","TextField"],Ve.__defaultTextFormat=null,Ve.__super__=we,Ve.prototype=n(we.prototype,{appendText:function(t){if(0==this.get_maxChars())this.__textEngine.text+=t;else{if(!(this.__textEngine.text.length<this.get_maxChars()))return;var e=this.get_maxChars()-(this.__textEngine.text.length+t.length);this.__textEngine.text+=B.substr(t,0,e)}this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length,this.set_dirty(!0),this.__layoutDirty=!0},getCharBoundaries:function(t){if(t<0||t>this.__textEngine.text.length)return null;this.__updateLayout();for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var n=i[e];if(++e,t>=n.startIndex&&t<=n.endIndex){for(var s=n.offsetX,r=0,a=t-n.startIndex;r<a;){var o=r++;s+=n.advances[o]}return new b_(s,n.offsetY,n.advances[t-n.startIndex],n.ascent+n.descent)}}return null},getCharBoundariesInGroup:function(t,e){if(t<0||t>this.__textEngine.text.length-1)return null;if(this.__updateLayout(),t<e.startIndex||t>e.endIndex)return null;for(var i=e.offsetX,n=0,s=t-e.startIndex;n<s;){var r=n++;i+=e.advances[r]}return new b_(i,e.offsetY,e.advances[t-e.startIndex],e.ascent+e.descent)},getCharIndexAtPoint:function(t,e){if(t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;this.__updateLayout(),t+=this.get_scrollH();for(var i=0,n=this.get_scrollV()-1;i<n;){var s=i++;e+=this.__textEngine.lineHeights[s]}for(var r=0,a=this.__textEngine.layoutGroups;r<a.length;){var o=a[r];if(++r,e>=o.offsetY&&e<=o.offsetY+o.height&&t>=o.offsetX&&t<=o.offsetX+o.width){for(var l=0,h=0,_=o.advances.length;h<_;){var u=h++;if(l+=o.advances[u],t<=o.offsetX+l)return o.startIndex+u}return o.endIndex}}return-1},getFirstCharInParagraph:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;for(var e=this.__textEngine.text.indexOf("\n"),i=0;-1<e;){if(e<=t)i=e+1;else if(t<e)break;e=this.__textEngine.text.indexOf("\n",e+1)}return i},getLineIndexAtPoint:function(t,e){if(this.__updateLayout(),t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;for(var i=0,n=this.get_scrollV()-1;i<n;){var s=i++;e+=this.__textEngine.lineHeights[s]}for(var r=0,a=this.__textEngine.layoutGroups;r<a.length;){var o=a[r];if(++r,e>=o.offsetY&&e<=o.offsetY+o.height)return o.lineIndex}return-1},getLineIndexOfChar:function(t){if(t<0||t>this.__textEngine.text.length)return-1;this.__updateLayout();for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var n=i[e];if(++e,n.startIndex<=t&&n.endIndex>=t)return n.lineIndex}return-1},getLineLength:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return 0;for(var e=-1,i=-1,n=0,s=this.__textEngine.layoutGroups;n<s.length;){var r=s[n];if(++n,r.lineIndex==t)-1==e&&(e=r.startIndex);else if(r.lineIndex==t+1){i=r.startIndex;break}}return-1==i&&(i=this.__textEngine.text.length),i-e},getLineMetrics:function(t){this.__updateLayout();var e,i=this.__textEngine.lineAscents[t],n=this.__textEngine.lineDescents[t],s=this.__textEngine.lineLeadings[t],r=this.__textEngine.lineHeights[t],a=this.__textEngine.lineWidths[t];switch(this.__textFormat.align){case 0:e=(this.__textEngine.width-a)/2;break;case 1:case 4:e=this.__textEngine.width-a-2;break;case 2:case 3:case 5:e=2}return new H_(e,a,r,i,n,s)},getLineOffset:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return-1;for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var n=i[e];if(++e,n.lineIndex==t)return n.startIndex}return 0},getLineText:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return null;for(var e=-1,i=-1,n=0,s=this.__textEngine.layoutGroups;n<s.length;){var r=s[n];if(++n,r.lineIndex==t)-1==e&&(e=r.startIndex);else if(r.lineIndex==t+1){i=r.startIndex;break}}return-1==i&&(i=this.__textEngine.text.length),this.__textEngine.text.substring(e,i)},getParagraphLength:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;var e=this.getFirstCharInParagraph(t),i=this.__textEngine.text.indexOf("\n",t)+1;return 0==i&&(i=this.__textEngine.text.length),i-e},getTextFormat:function(t,e){null==e&&(e=0),null==t&&(t=0);for(var i=null,n=0,s=this.__textEngine.textFormatRanges;n<s.length;){var r=s[n];++n,(r.start<=t&&r.end>=t||r.start<=e&&r.end>=e)&&(null==i?i=r.format.clone():(r.format.font!=i.font&&(i.font=null),r.format.size!=i.size&&(i.size=null),r.format.color!=i.color&&(i.color=null),r.format.bold!=i.bold&&(i.bold=null),r.format.italic!=i.italic&&(i.italic=null),r.format.underline!=i.underline&&(i.underline=null),r.format.url!=i.url&&(i.url=null),r.format.target!=i.target&&(i.target=null),r.format.align!=i.align&&(i.align=null),r.format.leftMargin!=i.leftMargin&&(i.leftMargin=null),r.format.rightMargin!=i.rightMargin&&(i.rightMargin=null),r.format.indent!=i.indent&&(i.indent=null),r.format.leading!=i.leading&&(i.leading=null),r.format.blockIndent!=i.blockIndent&&(i.blockIndent=null),r.format.bullet!=i.bullet&&(i.bullet=null),r.format.kerning!=i.kerning&&(i.kerning=null),r.format.letterSpacing!=i.letterSpacing&&(i.letterSpacing=null),r.format.tabStops!=i.tabStops&&(i.tabStops=null)))}return i},replaceSelectedText:function(t){if(""!=t||this.__selectionIndex!=this.__caretIndex){var e=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex,i=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex;t=this.replaceText(e,i,t),this.__caretIndex=e+t.length,this.__selectionIndex=this.__caretIndex}},replaceText:function(t,e,i){if(e<t||t<0||e>this.__textEngine.text.length||null==i)return"";if(0<this.get_maxChars()&&this.__textEngine.text.length-(e-t)+i.length>this.get_maxChars()){var n=this.get_maxChars()-(this.__textEngine.text.length-(e-t));if(n<=0)return"";i=B.substr(i,0,n)}var s=this.__textEngine.text.substring(0,t)+i,r=this.__textEngine.text.substring(e);this.__textEngine.text=s+r;for(var a,o=i.length-(e-t),l=0;l<this.__textEngine.textFormatRanges.length;)(a=this.__textEngine.textFormatRanges[l]).start<=t&&a.end>=e?(a.end+=o,++l):a.start>=t&&a.end<=e?(this.__textEngine.textFormatRanges.splice(l,1),o-=a.end-a.start):(a.start>t&&a.start<=e&&(a.start+=o),++l);return this.set_dirty(!0),this.__layoutDirty=!0,i},setSelection:function(t,e){this.__selectionIndex=t,this.__caretIndex=e},setTextFormat:function(t,e,i){null==i&&(i=0),null==e&&(e=0),null!=t.font&&(this.__textFormat.font=t.font),null!=t.size&&(this.__textFormat.size=t.size),null!=t.color&&(this.__textFormat.color=t.color),null!=t.bold&&(this.__textFormat.bold=t.bold),null!=t.italic&&(this.__textFormat.italic=t.italic),null!=t.underline&&(this.__textFormat.underline=t.underline),null!=t.url&&(this.__textFormat.url=t.url),null!=t.target&&(this.__textFormat.target=t.target),null!=t.align&&(this.__textFormat.align=t.align),null!=t.leftMargin&&(this.__textFormat.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.__textFormat.rightMargin=t.rightMargin),null!=t.indent&&(this.__textFormat.indent=t.indent),null!=t.leading&&(this.__textFormat.leading=t.leading),null!=t.blockIndent&&(this.__textFormat.blockIndent=t.blockIndent),null!=t.bullet&&(this.__textFormat.bullet=t.bullet),null!=t.kerning&&(this.__textFormat.kerning=t.kerning),null!=t.letterSpacing&&(this.__textFormat.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.__textFormat.tabStops=t.tabStops),this.set_dirty(!0),this.__layoutDirty=!0},__getBounds:function(t){this.__updateLayout(),t.setTo(this.__textEngine.bounds.x,this.__textEngine.bounds.y,this.__textEngine.bounds.width,this.__textEngine.bounds.height)},__getCursor:function(){return this.__textEngine.selectable?Oa.TEXT:null},__getPosition:function(t,e){if(!this.__textEngine.selectable)return-1;this.__updateLayout(),t+=this.get_scrollH();for(var i=0,n=this.get_scrollV()-1;i<n;){var s=i++;e+=this.__textEngine.lineHeights[s]}e<0&&(t=e=0),e>this.__textEngine.textHeight&&(e=this.__textEngine.textHeight,t=this.__textEngine.textWidth);for(var r,a,o=!0,l=0,h=this.__textEngine.layoutGroups.length;l<h;){var _=l++;if(r=this.__textEngine.layoutGroups[_],a=_<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[1+_]:null,o&&(e<r.offsetY&&(e=r.offsetY),t<r.offsetX&&(t=r.offsetX),o=!1),(e>=r.offsetY&&e<r.offsetY+r.height||null==a)&&(t>=r.offsetX&&t<r.offsetX+r.width||null==a||a.lineIndex!=r.lineIndex)){for(var u=0,c=0,f=r.advances.length;c<f;){var d=c++;if(u+=r.advances[d],t<=r.offsetX+u)return t<=r.offsetX+(u-r.advances[d])+r.advances[d]/2?r.startIndex+d:r.startIndex+d<r.endIndex?r.startIndex+d+1:r.endIndex}return r.endIndex}}return this.__textEngine.text.length},__hitTest:function(t,e,i,n,s,r){if(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)||!!s&&!this.mouseEnabled)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;this.__getWorldTransform(),this.__updateLayout();var a=this.__worldTransform,o=a.a*a.d-a.b*a.c,l=0==o?-a.tx:1/o*(a.c*(a.ty-e)+a.d*(t-a.tx)),h=this.__worldTransform,_=h.a*h.d-h.b*h.c,u=0==_?-h.ty:1/_*(h.a*(e-h.ty)+h.b*(h.tx-t));return!!this.__textEngine.bounds.contains(l,u)&&(null!=n&&(n._items[n._length++]=r),!0)},__hitTestMask:function(t,e){this.__getWorldTransform(),this.__updateLayout();var i=this.__worldTransform,n=i.a*i.d-i.b*i.c,s=0==n?-i.tx:1/n*(i.c*(i.ty-e)+i.d*(t-i.tx)),r=this.__worldTransform,a=r.a*r.d-r.b*r.c,o=0==a?-r.ty:1/a*(r.a*(e-r.ty)+r.b*(r.tx-t));return!!this.__textEngine.bounds.contains(s,o)},__renderCanvas:function(t){var e=this.__graphics;if(this.__dirty||null==e||e.get_dirty()||null==e.__bitmap){var i=this.__textEngine;if(this.__updateLayout(),(this.__showCursor||null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus)&&(!(i.width<=0||i.height<=0)||2==i.autoSize)){var n=b_.pool.get(),s=b_.pool.get(),r=this.__renderTransform;this.__getBounds(s),s.transform(n,r),null!=e&&null!=e.__canvas||(null==e&&(this.__graphics=new ml(!1),e=this.__graphics),e.__canvas=Fo.pool.get(),e.__context=e.__canvas.getContext("2d"),e.__bounds=new b_(0,0,s.width,s.height));var a=e.__context;e.__canvas.width=Math.ceil(n.width),e.__canvas.height=Math.ceil(n.height);var o=eo.pool.get();if(o.copyFrom(r),o.translate(-Math.floor(n.x),-Math.floor(n.y)),a.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty),null!=i.text&&""!=i.text||i.__hasFocus){var l=i.text;if(i.displayAsPassword){var h=l.length;l=ns.repeat(h,"*")}0!=i.antiAliasType||1!=i.gridFitType?(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1),(i.border||i.background)&&(a.rect(.5,.5,n.width-1,n.height-1),i.background&&(a.fillStyle="#"+Ps.hex(i.backgroundColor,6),a.fill()),i.border&&(a.lineWidth=1,a.strokeStyle="#"+Ps.hex(i.borderColor,6),a.stroke())),a.textBaseline="alphabetic",a.textAlign="start";for(var _,u=-this.get_scrollH(),c=0,f=0,d=this.get_scrollV()-1;f<d;){var p=f++;c-=i.lineHeights[p]}var g=0;if(this.__showCursor&&0==i.layoutGroups.length){var m=this.__textFormat,v=sl.getFont(m);a.font=v.name,a.fillStyle="#"+Ps.hex(m.color,6);var b=i.calculateFontDimensions(this.__textFormat,v);a.fillRect(2,2,1,b.height)}for(var y=0,w=i.layoutGroups;y<w.length;){var x=w[y];if(++y,!(x.lineIndex<this.get_scrollV()-1)){if(x.lineIndex>this.get_scrollV()+i.bottomScrollV-2)break;var T=sl.getFont(x.format);g=T.ascent*x.format.size,a.font=T.name,a.fillStyle="#"+Ps.hex(x.format.color,6);var S=l.substring(x.startIndex,x.endIndex),E=new RegExp("\n","g".split("u").join(""));if(S=S.replace(E,""),a.fillText(S,x.offsetX+u,x.offsetY+g+c),-1<this.__caretIndex&&i.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&x.startIndex<=this.__caretIndex&&(x.endIndex>this.__caretIndex||x.endIndex==i.text.length&&i.text.length==this.__caretIndex)){for(var I=_=0,P=this.__caretIndex-x.startIndex;I<P;){var C=I++;if(x.advances.length<=C)break;_+=x.advances[C]}a.fillRect(x.offsetX+_,x.offsetY,1,x.height)}}else if(!(x.endIndex<Math.min(this.__caretIndex,this.__selectionIndex)||x.startIndex>Math.max(this.__caretIndex,this.__selectionIndex))){var D,A,R=0|Math.min(this.__selectionIndex,this.__caretIndex),M=0|Math.max(this.__selectionIndex,this.__caretIndex);x.startIndex>R&&(R=x.startIndex),x.endIndex<M&&(M=x.endIndex),D=this.getCharBoundariesInGroup(R,x),M>=i.text.length?(A=this.getCharBoundariesInGroup(i.text.length-1,x)).x+=A.width+2:A=this.getCharBoundariesInGroup(M,x),null!=D&&null!=A&&(a.fillStyle="#000000",a.fillRect(D.x,D.y,A.x-D.x,x.height),a.fillStyle="#FFFFFF",a.fillText(l.substring(R,M),u+D.x,x.offsetY+g+c))}}}}else(i.border||i.background)&&(i.border?a.rect(.5,.5,n.width-1,n.height-1):a.rect(0,0,n.width,n.height),i.background&&(a.fillStyle="#"+Ps.hex(i.backgroundColor,6),a.fill()),i.border&&(a.lineWidth=1,a.lineCap="square",a.strokeStyle="#"+Ps.hex(i.borderColor,6),a.stroke()));var F=eo.pool.get();F.copyFrom(o),F.invert(),e.set___bitmap(_l.fromGraphics(e,null,F)),e.__canvas=null,this.__graphicsSavedScale.x=this.renderScaleX,this.__graphicsSavedScale.y=this.renderScaleY,this.__dirty=!1,e.set_dirty(!1),eo.pool.put(o),eo.pool.put(F),b_.pool.put(n),b_.pool.put(s)}else e.__canvas=null,e.__context=null,e.set_dirty(!1),null!=e.__bitmap&&e.__bitmap.dispose(),this.__dirty=!1}if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){var B=t.context.imageSmoothingEnabled;B&&(t.context.mozImageSmoothingEnabled=!1,t.context.msImageSmoothingEnabled=!1,t.context.imageSmoothingEnabled=!1),we.prototype.__renderCanvas.call(this,t),B&&(t.context.mozImageSmoothingEnabled=!0,t.context.msImageSmoothingEnabled=!0,t.context.imageSmoothingEnabled=!0)}else we.prototype.__renderCanvas.call(this,t)},__drawGraphicsGL:function(t){var e=this.__graphics;if(this.__dirty||null==e||e.get_dirty()||null==e.__bitmap){var i=this.__textEngine;if(this.__updateLayout(),(this.__showCursor||null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus)&&(!(i.width<=0||i.height<=0)||2==i.autoSize)){var n=b_.pool.get(),s=b_.pool.get(),r=this.__renderTransform;this.__getBounds(s),s.transform(n,r),null!=e&&null!=e.__canvas||(null==e&&(this.__graphics=new ml(!1),e=this.__graphics),e.__canvas=Fo.pool.get(),e.__context=e.__canvas.getContext("2d"),e.__bounds=new b_(0,0,s.width,s.height));var a=e.__context;e.__canvas.width=Math.ceil(n.width),e.__canvas.height=Math.ceil(n.height);var o=eo.pool.get();if(o.copyFrom(r),o.translate(-Math.floor(n.x),-Math.floor(n.y)),a.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty),null!=i.text&&""!=i.text||i.__hasFocus){var l=i.text;if(i.displayAsPassword){var h=l.length;l=ns.repeat(h,"*")}0!=i.antiAliasType||1!=i.gridFitType?(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1),(i.border||i.background)&&(a.rect(.5,.5,n.width-1,n.height-1),i.background&&(a.fillStyle="#"+Ps.hex(i.backgroundColor,6),a.fill()),i.border&&(a.lineWidth=1,a.strokeStyle="#"+Ps.hex(i.borderColor,6),a.stroke())),a.textBaseline="alphabetic",a.textAlign="start";for(var _,u=-this.get_scrollH(),c=0,f=0,d=this.get_scrollV()-1;f<d;){var p=f++;c-=i.lineHeights[p]}var g=0;if(this.__showCursor&&0==i.layoutGroups.length){var m=this.__textFormat,v=sl.getFont(m);a.font=v.name,a.fillStyle="#"+Ps.hex(m.color,6);var b=i.calculateFontDimensions(this.__textFormat,v);a.fillRect(2,2,1,b.height)}for(var y=0,w=i.layoutGroups;y<w.length;){var x=w[y];if(++y,!(x.lineIndex<this.get_scrollV()-1)){if(x.lineIndex>this.get_scrollV()+i.bottomScrollV-2)break;var T=sl.getFont(x.format);g=T.ascent*x.format.size,a.font=T.name,a.fillStyle="#"+Ps.hex(x.format.color,6);var S=l.substring(x.startIndex,x.endIndex),E=new RegExp("\n","g".split("u").join(""));if(S=S.replace(E,""),a.fillText(S,x.offsetX+u,x.offsetY+g+c),-1<this.__caretIndex&&i.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&x.startIndex<=this.__caretIndex&&(x.endIndex>this.__caretIndex||x.endIndex==i.text.length&&i.text.length==this.__caretIndex)){for(var I=_=0,P=this.__caretIndex-x.startIndex;I<P;){var C=I++;if(x.advances.length<=C)break;_+=x.advances[C]}a.fillRect(x.offsetX+_,x.offsetY,1,x.height)}}else if(!(x.endIndex<Math.min(this.__caretIndex,this.__selectionIndex)||x.startIndex>Math.max(this.__caretIndex,this.__selectionIndex))){var D,A,R=0|Math.min(this.__selectionIndex,this.__caretIndex),M=0|Math.max(this.__selectionIndex,this.__caretIndex);x.startIndex>R&&(R=x.startIndex),x.endIndex<M&&(M=x.endIndex),D=this.getCharBoundariesInGroup(R,x),M>=i.text.length?(A=this.getCharBoundariesInGroup(i.text.length-1,x)).x+=A.width+2:A=this.getCharBoundariesInGroup(M,x),null!=D&&null!=A&&(a.fillStyle="#000000",a.fillRect(D.x,D.y,A.x-D.x,x.height),a.fillStyle="#FFFFFF",a.fillText(l.substring(R,M),u+D.x,x.offsetY+g+c))}}}}else(i.border||i.background)&&(i.border?a.rect(.5,.5,n.width-1,n.height-1):a.rect(0,0,n.width,n.height),i.background&&(a.fillStyle="#"+Ps.hex(i.backgroundColor,6),a.fill()),i.border&&(a.lineWidth=1,a.lineCap="square",a.strokeStyle="#"+Ps.hex(i.borderColor,6),a.stroke()));var F=eo.pool.get();F.copyFrom(o),F.invert(),e.set___bitmap(_l.fromGraphics(e,null,F)),e.__canvas=null,this.__graphicsSavedScale.x=this.renderScaleX,this.__graphicsSavedScale.y=this.renderScaleY,this.__dirty=!1,e.set_dirty(!1),eo.pool.put(o),eo.pool.put(F),b_.pool.put(n),b_.pool.put(s)}else e.__canvas=null,e.__context=null,e.set_dirty(!1),null!=e.__bitmap&&e.__bitmap.dispose(),this.__dirty=!1}Uo.renderBitmap(this,t,0<this.__graphics.mustRefreshGraphicsCounter)},__startCursorTimer:function(){this.__cursorTimer=hs.delay(Hu(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor,this.set_dirty(!0)},__startTextInput:function(){this.__caretIndex<0&&(this.__caretIndex=this.__textEngine.text.length,this.__selectionIndex=this.__caretIndex),null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(Hu(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(Hu(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(Hu(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__textEngine.__hasFocus=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.set_dirty(!0))},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(Hu(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(Hu(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__textEngine.__hasFocus=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){if(this.__textEngine.update(),2!=this.__textEngine.autoSize){var t=this.__textEngine.width,e=this.__textEngine.height;switch(this.__textEngine.autoSize){case 0:case 1:case 3:this.__textEngine.wordWrap||(this.__textEngine.width=this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=t)switch(this.__textEngine.autoSize){case 0:this.set_x(this.__transform.tx+(t-this.__textEngine.width)/2);break;case 3:this.set_x(this.__transform.tx+(t-this.__textEngine.width))}this.__textEngine.width==t&&this.__textEngine.height==e||this.__textEngine.getLineMeasurements(),this.__textEngine.getBounds()}this.__caretIndex>this.__textEngine.text.length&&(this.__caretIndex=this.__textEngine.text.length),this.__selectionIndex>this.__textEngine.text.length&&(this.__selectionIndex=this.__textEngine.text.length),this.__layoutDirty=!1}},delayGraphicsRefresh:function(t,e){if(we.prototype.delayGraphicsRefresh.call(this,t,e),e&&!this.delayScaleRotationGraphicsRefresh)if(Math.abs(this.__graphicsSavedScale.x-this.renderScaleX)>Ve.__maxScaleDifferenceBetweenRefreshGraphics||Math.abs(this.__graphicsSavedScale.y-this.renderScaleY)>Ve.__maxScaleDifferenceBetweenRefreshGraphics)this.__graphics.mustRefreshGraphicsCounter=1;else{var i=this.__graphics;i.mustRefreshGraphicsCounter=ml.__dirtyGraphicsDelay,i.set_dirty(!1)}},_onWorldTransformScaleRotationChanged:function(){we.prototype._onWorldTransformScaleRotationChanged.call(this),this.__layoutDirty=!0},__update:function(t,e){this.__updateLayout(),we.prototype.__update.call(this,t,e)},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(t){return this.__textEngine.antiAliasType=t},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(t){return t!=this.__textEngine.autoSize&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.autoSize=t},get_background:function(){return this.__textEngine.background},set_background:function(t){return t!=this.__textEngine.background&&this.set_dirty(!0),this.__textEngine.background=t},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(t){return t!=this.__textEngine.backgroundColor&&this.set_dirty(!0),this.__textEngine.backgroundColor=t},get_border:function(){return this.__textEngine.border},set_border:function(t){return t!=this.__textEngine.border&&this.set_dirty(!0),this.__textEngine.border=t},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(t){return t!=this.__textEngine.borderColor&&this.set_dirty(!0),this.__textEngine.borderColor=t},get_bottomScrollV:function(){return this.__updateLayout(),this.__textEngine.bottomScrollV},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(t){return this.__textFormat.__merge(t),this.__layoutDirty=!0,this.set_dirty(!0),t},get_displayAsPassword:function(){return this.__textEngine.displayAsPassword},set_displayAsPassword:function(t){return t!=this.__textEngine.displayAsPassword&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.displayAsPassword=t},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(t){return this.__textEngine.embedFonts=t},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(t){return this.__textEngine.gridFitType=t},get_height:function(){return this.__updateLayout(),we.prototype.get_height.call(this)},set_height:function(t){return 1==this.get_scaleY()&&t==this.__textEngine.height||(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.set_dirty(!0),this.__layoutDirty=!0),this.set_scaleY(1),this.__textEngine.height=t},get_htmlText:function(){return this.__textEngine.text},parseTags:function(t,e,i,n){null==n&&(n=[]);var s="";if(t.nodeType!=N.Document&&t.nodeType!=N.Element)throw new Vs("Bad node type, expected Element or Document but found "+t.nodeType);for(var r=B.iter(t.children);r.hasNext();){var a,o=r.next();if(0==o.nodeType){if(o.nodeType!=N.Document&&o.nodeType!=N.Element)throw new Vs("Bad node type, expected Element or Document but found "+o.nodeType);a=null==o.children[0]}else a=!0;if(a){if(o.nodeType==N.Document||o.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+o.nodeType);if(n.push(new rl(e,i,i+o.nodeValue.length)),o.nodeType==N.Document||o.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+o.nodeType);if(s+=o.nodeValue,o.nodeType==N.Document||o.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+o.nodeType);i+=o.nodeValue.length}else{if(o.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+o.nodeType);var l=o.nodeName,h=e.clone();switch(l.toLowerCase()){case"b":h.bold=!0;break;case"font":for(var _=o.attributes();_.hasNext();){var u=_.next();switch(u.toLowerCase()){case"color":h.color=L.parseInt("0x"+this.stripHexPrefix(o.get(u)));break;case"face":var c=o.get(u);h.font=Je.fontAliases.get(c),null==h.font&&(h.font=c);break;case"kerning":h.kerning=0!=L.parseInt(o.get(u));break;case"letterSpacing":h.letterSpacing=parseFloat(o.get(u));break;case"size":h.size=L.parseInt(o.get(u))}}break;case"i":h.italic=!0;break;case"indent":h.leftMargin+=20;break;case"li":h.bullet=!0;break;case"p":for(var f=o.attributes();f.hasNext();){var d=f.next();if("align"==d.toLowerCase())switch(o.get(d).toLowerCase()){case"center":h.align=0;break;case"justify":h.align=2;break;case"left":h.align=3;break;case"right":h.align=4}}}var p=this.parseTags(o,h,i,n);s+=p.text,i=p.start_index}}return{text:s,start_index:i,format_ranges:n}},stripHexPrefix:function(t){return 0==t.indexOf("#")?t.substring(1):0==t.indexOf("0x")?t.substring(2):t},set_htmlText:function(e){if(this.__isHTML&&this.__cachedHtmlText==e||(this.set_dirty(!0),this.__layoutDirty=!0),this.__isHTML=!0,this.__cachedHtmlText=e,null!=this.__div)return this.__textEngine.text=e;var t=new RegExp("<P","g".split("u").join(""));e=e.replace(t,"<p");var i=new RegExp("</P>","g".split("u").join("")),n=(e=e.replace(i,"</p>")).lastIndexOf("</p>");if(0<n){var s=B.substr(e,0,n),r=B.substr(e,n,null),a=new RegExp("</p>","g".split("u").join(""));e=(s=s.replace(a,"</p>\n"))+r}var o=new RegExp("<br>","g".split("u").join(""));e=e.replace(o,"\n");var l=new RegExp("<br/>","g".split("u").join(""));e=e.replace(l,"\n");var h=new RegExp("</br>","g".split("u").join(""));e=e.replace(h,"\n");var _=new RegExp("</li>","g".split("u").join(""));e=e.replace(_,"</indent>\n");for(var u=1;0<(u=e.indexOf("<li>",u));){"\n"!=e.charAt(u-1)&&(e=B.substr(e,0,u)+"\n"+B.substr(e,u,null),++u),++u}var c,f=new RegExp("<li>","g".split("u").join(""));e=e.replace(f,"<indent>\t\t");try{c=N.parse(e)}catch(t){(rs.lastException=t)instanceof Vs&&(t=t.val),ls.trace("Unable to parse html: "+L.string(t),{fileName:"TextField.hx",lineNumber:1353,className:"openfl.text.TextField",methodName:"set_htmlText"});var d=new RegExp("<.*?>","g".split("u").join(""));e=e.replace(d,""),c=N.parse(e)}this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.length),this.__textFormat.bold=!1,this.__textFormat.italic=!1,this.__textFormat.leftMargin=null;var p=this.parseTags(c,this.__textFormat.clone(),0);return e=p.text,this.__textEngine.textFormatRanges=p.format_ranges,0<p.format_ranges.length&&(this.__textFormat=p.format_ranges[0].format),this.__textEngine.text=e},get_length:function(){return null!=this.__textEngine.text?this.__textEngine.text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(t){return t!=this.__textEngine.maxChars&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.maxChars=t},get_maxScrollH:function(){return this.__updateLayout(),this.__textEngine.maxScrollH},get_maxScrollV:function(){return this.__updateLayout(),this.__textEngine.maxScrollV},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(t){return t!=this.__textEngine.multiline&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.multiline=t},get_numLines:function(){return this.__updateLayout(),this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(t){return this.__textEngine.restrict=t},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(t){return t>this.__textEngine.maxScrollH&&(t=this.__textEngine.maxScrollH),t<0&&(t=0),t!=this.__textEngine.scrollH&&this.set_dirty(!0),this.__textEngine.scrollH=t},get_scrollV:function(){return this.__textEngine.scrollV},set_scrollV:function(t){return t>this.__textEngine.maxScrollV&&(t=this.__textEngine.maxScrollV),t<1&&(t=1),t!=this.__textEngine.scrollV&&this.set_dirty(!0),this.__textEngine.scrollV=t},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(t){return t!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():t||this.__stopTextInput()),this.__textEngine.selectable=t},get_selectionBeginIndex:function(){return 0|Math.min(this.__caretIndex,this.__selectionIndex)},get_selectionEndIndex:function(){return 0|Math.max(this.__caretIndex,this.__selectionIndex)},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(t){return t!=this.__textEngine.sharpness&&this.set_dirty(!0),this.__textEngine.sharpness=t},get_text:function(){return this.__textEngine.text},set_text:function(t){if(!this.__isHTML&&this.__textEngine.text==t)return t;this.set_dirty(!0),this.__layoutDirty=!0,1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var e=this.__textEngine.textFormatRanges[0];return e.format=this.__textFormat,e.start=0,e.end=t.length,this.__isHTML=!1,this.__cachedHtmlText=null,this.__textEngine.text=t},get_textColor:function(){return this.__textFormat.color},set_textColor:function(t){t!=this.__textFormat.color&&this.set_dirty(!0);for(var e=0,i=this.__textEngine.textFormatRanges;e<i.length;){var n=i[e];++e,n.format.color=t}return this.__textFormat.color=t},get_textWidth:function(){return this.__updateLayout(),this.__textEngine.textWidth},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(t){return t!=this.__textEngine.type&&(1==t?(this.addEventListener("focusIn",Hu(this,this.this_onFocusIn)),this.addEventListener("focusOut",Hu(this,this.this_onFocusOut)),this.addEventListener("addedToStage",Hu(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener("focusIn",Hu(this,this.this_onFocusIn)),this.removeEventListener("focusOut",Hu(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",Hu(this,this.this_onAddedToStage)),this.__stopTextInput()),this.set_dirty(!0)),this.__textEngine.type=t},get_width:function(){return this.__updateLayout(),we.prototype.get_width.call(this)},set_width:function(t){return 1==this.get_scaleX()&&this.__textEngine.width==t||(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.set_dirty(!0),this.__layoutDirty=!0),this.set_scaleX(1),this.__textEngine.width=t},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(t){return t!=this.__textEngine.wordWrap&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.wordWrap=t},get_dirty:function(){return this.__dirty},set_dirty:function(t){return t&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__dirty=t},stage_onMouseMove:function(t){if(null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex){this.__updateLayout();var e=this.__getPosition(this.get_mouseX(),this.get_mouseY());e!=this.__caretIndex&&(this.__caretIndex=e,this.set_dirty(!0))}},stage_onMouseUp:function(t){var e=this;if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",Hu(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",Hu(this,this.stage_onMouseUp)),null!=this.__clickTimer&&this.__clickTimer.stop(),this.__clickTimer=hs.delay(function(){e.__clicks=0,e.__clickTimer=null},400),this.stage.get_focus()==this))if(this.__updateLayout(),3<=this.__clicks&&this.__clicks%3==0)this.__selectAll();else if(2<=this.__clicks&&this.__clicks%2==0)this.__selectWord();else{this.__getWorldTransform();var i,n,s=this.__getPosition(this.get_mouseX(),this.get_mouseY());i=0|Math.min(this.__selectionIndex,s),n=0|Math.max(this.__selectionIndex,s),this.__selectionIndex=i,this.__caretIndex=n,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(t){this.this_onFocusIn(null)},this_onFocusIn:function(t){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(t){this.__stopTextInput()},this_onMouseDown:function(t){this.get_selectable()&&(this.__updateLayout(),this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,this.set_dirty(!0),null!=this.__firstDownPos&&(Math.abs(this.__firstDownPos.x-this.get_mouseX())>Ve.__moveDelta||Math.abs(this.__firstDownPos.y-this.get_mouseY())>Ve.__moveDelta)&&(null!=this.__clickTimer&&this.__clickTimer.stop(),this.__clicks=0,io.pool.put(this.__firstDownPos),this.__firstDownPos=null),this.__clicks++,1==this.__clicks&&(null!=this.__firstDownPos&&io.pool.put(this.__firstDownPos),this.__firstDownPos=io.pool.get(),this.__firstDownPos.x=this.get_mouseX(),this.__firstDownPos.y=this.get_mouseY()),this.stage.addEventListener("mouseMove",Hu(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",Hu(this,this.stage_onMouseUp)))},__findFirstSpace:function(t,e,i){null==i&&(i=!0);var n=this.__textEngine.text.charAt(e);if(t){if(i)for(;0<e&&(" "==n||"-"==n);)--e,n=this.__textEngine.text.charAt(e);for(;0<e&&" "!=n&&"-"!=n;)--e,n=this.__textEngine.text.charAt(e)}else{var s=this.__textEngine.text.length-1;if(i)for(;e<s&&(" "==n||"-"==n);)++e,n=this.__textEngine.text.charAt(e);for(;e<s&&" "!=n&&"-"!=n;)++e,n=this.__textEngine.text.charAt(e)}return e},__selectWord:function(){this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,this.set_dirty(!0);this.__textEngine.text.charAt(this.__caretIndex);this.__caretIndex=this.__findFirstSpace(!0,this.__caretIndex,!1);var t=this.__textEngine.text.charAt(this.__caretIndex);" "!=t&&"-"!=t||++this.__caretIndex,this.__selectionIndex=this.__findFirstSpace(!1,this.__selectionIndex,!1)},__selectAll:function(){this.__caretIndex=0,this.__selectionIndex=this.__textEngine.text.length,this.set_dirty(!0)},window_onKeyDown:function(t,e){switch(t){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(ka.get_ctrlKey(e)?(this.__selectionIndex=this.__findFirstSpace(!0,this.__caretIndex-1),0!=this.__selectionIndex&&(this.__selectionIndex+=1)):this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ae("change",!0)));break;case 97:ka.get_ctrlKey(e)&&this.__selectAll();break;case 99:ka.get_ctrlKey(e)&&ga.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex));break;case 118:if(ka.get_ctrlKey(e)){var i=ga.get_text();null!=i?this.replaceSelectedText(i):this.replaceSelectedText(""),this.dispatchEvent(new Ae("change",!0))}else this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length;break;case 120:ka.get_ctrlKey(e)&&(ga.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new Ae("change",!0))));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__textEngine.text.length&&(ka.get_ctrlKey(e)?this.__selectionIndex=this.__findFirstSpace(!1,this.__caretIndex)+1:this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ae("change",!0)));break;case 1073741898:var n=this.getCharBoundaries(this.__caretIndex);n.x=0,this.__caretIndex=this.__getPosition(n.x,n.y),ka.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741901:var s=this.getLineIndexOfChar(this.__caretIndex),r=this.getCharBoundaries(this.__caretIndex);r.x+=this.__textEngine.textWidth,this.__textEngine.lineLayoutGroups[s][0].endIndex==this.__caretIndex&&(r.y+=r.height+1),this.__caretIndex=this.__getPosition(r.x,r.y),ka.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741903:ka.get_shiftKey(e)&&ka.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!1,0|Math.min(this.__caretIndex+1,this.__textEngine.text.length)),this.get_caretIndex()<this.__textEngine.text.length&&(this.__caretIndex+=1)):ka.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!1,0|Math.min(this.__caretIndex+1,this.__textEngine.text.length)),this.get_caretIndex()<this.__textEngine.text.length&&(this.__caretIndex+=1),this.__selectionIndex=this.__caretIndex):ka.get_shiftKey(e)?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=0|Math.max(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741904:ka.get_shiftKey(e)&&ka.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!0,this.__caretIndex-1),0!=this.get_caretIndex()&&(this.__caretIndex+=1)):ka.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!0,this.__caretIndex-1),0!=this.get_caretIndex()&&(this.__caretIndex+=1),this.__selectionIndex=this.__caretIndex):ka.get_shiftKey(e)?0<this.__caretIndex&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?0<this.__caretIndex&&this.__caretIndex--:this.__caretIndex=0|Math.min(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741905:var a=this.getCharBoundaries(this.__caretIndex);a.y+=a.height+1,this.__caretIndex=this.__getPosition(a.x,a.y),ka.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741906:var o=this.getCharBoundaries(this.__caretIndex);o.y-=o.height,this.__caretIndex=this.__getPosition(o.x,o.y),ka.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer()}},window_onTextInput:function(t){this.replaceSelectedText(t),this.dispatchEvent(new Ae("change",!0))},__class__:Ve,__properties__:n(we.prototype.__properties__,{set_dirty:"set_dirty",get_dirty:"get_dirty",set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var ze=function(t,e){Ve.call(this),this.swf=t,this.symbol=e,this._variableName=Ps.replace(e.variableName,"_parent.",""),this.set_width(e.width),this.set_height(e.height),this.set_multiline(e.multiline),this.set_wordWrap(e.wordWrap),this.set_displayAsPassword(e.password),this.set_border(e.border),this.set_selectable(e.selectable);var i=new V_;null!=e.color&&(i.color=16777215&e.color),i.size=Math.round(e.fontHeight/20);var n=e.fontName,s=Je.fontAliases;i.font=null!=Zu[n]?s.getReserved(n):s.h[n],null==i.font&&(i.font=Je.fontAliasesId.h[e.fontID]),null==i.font&&(i.font=e.fontName);var r=!1,a=i.font;if(null==a)r=!0;else switch(a){case"":case"_sans":case"_serif":case"_typewriter":r=!0;break;default:for(var o=0,l=pt.enumerateFonts();o<l.length;){var h=l[o];if(++o,h.name==i.font){r=!0;break}}}r?this.set_embedFonts(!0):ls.trace('Warning: Could not find required font "'+i.font+'", it has not been embedded',{fileName:"DynamicTextField.hx",lineNumber:86,className:"format.swf.lite.DynamicTextField",methodName:"new"}),null!=e.align&&("center"==e.align?i.align=0:"right"==e.align?i.align=4:"justify"==e.align&&(i.align=2),i.leftMargin=e.leftMargin/20|0,i.rightMargin=e.rightMargin/20|0,i.indent=e.indent/20|0,i.leading=e.leading/20|0),this.set_defaultTextFormat(i),null!=e.text&&(e.html?this.set_htmlText(e.text):this.set_text(e.text)),null!=e.maxLength&&this.set_maxChars(e.maxLength)};(i["format.swf.lite.DynamicTextField"]=ze).__name__=["format","swf","lite","DynamicTextField"],ze.__super__=Ve,ze.prototype=n(Ve.prototype,{__update:function(t,e){var i=null!=this._variableName&&0<this._variableName.length;if(i){var n=this._variableName,s=this.parent;"_root."==B.substr(this._variableName,0,6)?(n=Ps.replace(this._variableName,"_root.",""),s=no.current.getChildAt(0)):"_global."==B.substr(this._variableName,0,8)&&(n=Ps.replace(this._variableName,"_global.",""),s=no.current.getChildAt(0));for(var r=n.split("."),a=function(t,e){for(var i=t,n=0;n<e.length;){var s=e[n];if(++n,null==(i=At.field(i,s)))return null}return i};null!=s;){if(Object.prototype.hasOwnProperty.call(s,r[0])){var o=a(s,r);if(null!=o){null!=this.symbol&&this.symbol.html?this.set_htmlText(L.string(o)):this.set_text(L.string(o));break}}s=s.parent}}Ve.prototype.__update.call(this,t,e),i&&(this.__updateDirty=!0)},applyTextToVariable:function(){if(null!=this._variableName&&0<this._variableName.length){var t=this._variableName,e=this.parent;for("_root."==B.substr(this._variableName,0,6)&&(t=Ps.replace(this._variableName,"_root.",""),e=no.current.getChildAt(0));null!=e;){if(Object.prototype.hasOwnProperty.call(e,t)){e[t]=this.__textEngine.text;break}e=e.parent}}},window_onKeyDown:function(t,e){Ve.prototype.window_onKeyDown.call(this,t,e),this.applyTextToVariable()},window_onTextInput:function(t){Ve.prototype.window_onTextInput.call(this,t),this.applyTextToVariable()},__class__:ze});var He=function(){W.call(this)};(i["openfl.display.Shape"]=He).__name__=["openfl","display","Shape"],He.__super__=W,He.prototype=n(W.prototype,{getSymbol:function(){return this.get_graphics().__symbol},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new ml,this.__graphics.__owner=this),this.__graphics},__hitTest:function(t,e,i,n,s,r){return!(!this.parent.mouseEnabled&&s)&&W.prototype.__hitTest.call(this,t,e,i,n,s,r)},toString:function(){var t=this.getSymbol();return null!=t?"[Shape id: "+t.id+"]":W.prototype.toString.call(this)},__class__:He,__properties__:n(W.prototype.__properties__,{get_graphics:"get_graphics"})});var We=function(t,e){this.mustCache=!1,He.call(this),this.__symbol=e,(this.get_graphics().__symbol=e).useBitmapCache&&(this.get_graphics().keepBitmapData=!0),this.__swf=t,null==this.__symbol.cachedHandlers&&(this.__symbol.cachedHandlers=new fs),this.set_ratio(0)};(i["format.swf.lite.MorphShape"]=We).__name__=["format","swf","lite","MorphShape"],We.__updateMorphShape=function(t,e,i,n){var s=t.getCacheEntry(i,e);if(null!=s)return n.__bitmap=s.bitmapData,n.__dirty=!1,n.__bounds=s.bounds,!1;var r=Math.floor(65535*e),a=t.cachedHandlers.h[r];if(null==a){var o=t.getShape(e);a=new ke,o.export(a),t.cachedHandlers.h[r]=a}return n.clear(),Cs.processCommands(n,a.commands),!0},We.__super__=He,We.prototype=n(He.prototype,{__reset:function(){this.set_ratio(0)},__getBounds:function(t){this.__update(!0,!1),He.prototype.__getBounds.call(this,t)},getSymbol:function(){return this.__symbol},set_ratio:function(t){return this.ratio==t?t:(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.ratio=t)},__update:function(t,e){this.__updateTransforms(),!this.__renderDirty||We.__updateMorphShape(this.__symbol,this.ratio,this.__renderTransform,this.get_graphics())&&(this.mustCache=!0);He.prototype.__update.call(this,t,e)},__renderGL:function(t){He.prototype.__renderGL.call(this,t),this.mustCache&&(null!=this.get_graphics().__bitmap&&this.__symbol.addCacheEntry(this.get_graphics().__bitmap,this.get_graphics().__bounds,this.__renderTransform,this.ratio),this.mustCache=!1)},__class__:We,__properties__:n(He.prototype.__properties__,{set_ratio:"set_ratio"})});function Ke(){}(i["lime.app.IModule"]=Ke).__name__=["lime","app","IModule"],Ke.prototype={__class__:Ke};function je(){this.onExit=new cr}(i["lime.app.Module"]=je).__name__=["lime","app","Module"],je.__interfaces__=[Ke],je.prototype={onGamepadAxisMove:function(t,e,i){},onGamepadButtonDown:function(t,e){},onGamepadButtonUp:function(t,e){},onGamepadConnect:function(t){ls.trace("onGamepadConnect (module)",{fileName:"Module.hx",lineNumber:64,className:"lime.app.Module",methodName:"onGamepadConnect"})},onGamepadDisconnect:function(t){},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){},onKeyUp:function(t,e,i){},onModuleExit:function(t){},onMouseDown:function(t,e,i,n){},onMouseMove:function(t,e,i){},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,n){},onMouseWheel:function(t,e,i){},onPreloadComplete:function(){},onPreloadProgress:function(t,e,i){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,n){},onTextInput:function(t,e){},onTouchEnd:function(t){},onTouchMove:function(t){},onTouchStart:function(t){},onWindowActivate:function(t){},onWindowClose:function(t){},onWindowCreate:function(t){},onWindowDeactivate:function(t){},onWindowEnter:function(t){},onWindowFocusIn:function(t){},onWindowFocusOut:function(t){},onWindowFullscreen:function(t){},onWindowLeave:function(t){},onWindowMove:function(t,e,i){},onWindowMinimize:function(t){},onWindowResize:function(t,e,i){},onWindowRestore:function(t){},render:function(t){},update:function(t){},__class__:je};var qe=function(){je.call(this)};(i["format.swf.lite.SoundProcessorModule"]=qe).__name__=["format","swf","lite","SoundProcessorModule"],qe.__super__=je,qe.prototype=n(je.prototype,{render:function(t){if(0<u.soundCommandTable.length){for(var e=0,i=u.soundCommandTable;e<i.length;){var n=i[e];++e,null!=n.movieClip.stage&&u._processSoundCommandCallback(n.command)}u.soundCommandTable=[]}},__class__:qe});var Je=function(){this.__uid=$.SEQ<<24|++$.UID,this.symbols=new fs,this.classes=new gs,this.classes_id=new fs};(i["format.swf.lite.SWFLite"]=Je).__name__=["format","swf","lite","SWFLite"],Je.__interfaces__=[Q],Je.__properties__={get_defaultInstance:"get_defaultInstance"},Je.defaultInstance=null,Je.unserializeLibrary=function(t){if(null==t)return null;var e=(new $).unserialize(t,Je);return e.cacheSymbolClassNames(),e.classes=new gs,e.classes_id=new fs,e.prepareShapeBitmaps(),e},Je.get_defaultInstance=function(){var t=Je.instances;return null!=Zu["lib/graphics/graphics.dat"]?t.getReserved("lib/graphics/graphics.dat"):t.h["lib/graphics/graphics.dat"]},Je.prototype={createButton:function(t){return null},createMovieClip:function(t){if(null==t&&(t=""),""==t){if(""!=this.root.className){var e=this.root.className,i=this.classes,n=null!=Zu[e]?i.getReserved(e):i.h[e];if(null!=n)return mi.createInstance(n,[this,this.root]);ls.trace("Loading root movie, searching for symbol "+this.root.className+" not found",{fileName:"SWFLite.hx",lineNumber:60,className:"format.swf.lite.SWFLite",methodName:"createMovieClip"})}return new u(this,this.root)}var s=this.symbolClassNames,r=null!=Zu[t]?s.getReserved(t):s.h[t];if(null!=r){if(r.poolable&&0<r.pool.size){var a=r.pool.get();return a.__reset(),a}if(""!=r.className){var o=r.className,l=this.classes,h=null!=Zu[o]?l.getReserved(o):l.h[o];if(null!=h)return mi.createInstance(h,[this,r])}var _=this.classes_id.h[r.id];if(null!=_)return mi.createInstance(_,[this,r]);if(zs.__instanceof(r,ui))return new u(this,r)}return null},getBitmapData:function(t){var e=this.symbolClassNames,i=null!=Zu[t]?e.getReserved(t):e.h[t];if(null!=i&&zs.__instanceof(i,ii)){var n=i;return $a.getBitmapData(n.path)}return null},hasSymbol:function(t){var e=this.symbolClassNames;return null!=Zu[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},serializeLibrary:function(){var t=new $;return this.symbolClassNames=null,t.serialize(this)},cacheSymbolClassNames:function(){this.symbolClassNames=new gs;for(var t=this.symbols.iterator();t.hasNext();){var e=t.next();if(null!=e.className){var i=e.className,n=this.symbolClassNames;null!=Zu[i]?n.setReserved(i,e):n.h[i]=e}}},prepareShapeBitmaps:function(){for(var t=this.symbols.iterator();t.hasNext();){var e=t.next();zs.__instanceof(e,Cs)&&zs.__cast(e,Cs).graphics.__commands.resolveBitmapDatas(this)}},set_frameRate:function(t){return this.frameTime=1e3/t|0,this.frameRate=t},getCLID:function(){return Je.__clid},serialize:function(t){t.out.addInt32(ws.floatToI32(this.frameRate)),t.addKnownRef(this.root);var e=this.symbols;if(null==e)t.out.b.push(0);else{var i=e,n=tt.array({iterator:function(){return i.keys()}}),s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];++r,0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a)),t.addKnownRef(e.h[a])}}var o=this.symbolClassNames;if(null==o)t.out.b.push(0);else{var l=o,h=tt.array({iterator:function(){return l.keys()}}),_=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var u=0;u<h.length;){var c=h[u];if(++u,null==c)t.out.b.push(0);else{var f=jn.ofString(c),d=f.length+1;0<=d&&d<128?t.out.b.push(d):(t.out.b.push(128),t.out.addInt32(d));for(var p=t.out,g=(p.b,f.b),m=0,v=f.length;m<v;){var b=m++;p.b.push(g[b])}}t.addKnownRef(null!=Zu[c]?o.getReserved(c):o.h[c])}}},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("frameRate"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("root"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("symbols"),t.fieldsTypes.push(Ls.PMap(Ls.PInt,Ls.PSerializable("format.swf.lite.symbols.SWFSymbol"))),t.fieldsNames.push("symbolClassNames"),t.fieldsTypes.push(Ls.PMap(Ls.PString,Ls.PSerializable("format.swf.lite.symbols.SWFSymbol"))),t.isFinal=$.isClassFinal(Je.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.set_frameRate(e),this.root=t.getRef(ui,ui.__clid);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s,r=i;if(0==r)n=null;else{for(var a=new fs;0<--r;){var o=t.input.b[t.inPos++];128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4);var l=o,h=t.getRef(ei,ei.__clid);a.h[l]=h}n=a}this.symbols=n;var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4);var u,c=_;if(0==c)u=null;else{for(var f=new gs;0<--c;){var d=t.input.b[t.inPos++];128==d&&(d=t.input.getInt32(t.inPos),t.inPos+=4);var p=d;if(0==p)s=null;else{--p;var g=t.input.getString(t.inPos,p);t.inPos+=p,s=g}var m=s,v=t.getRef(ei,ei.__clid);null!=Zu[m]?f.setReserved(m,v):f.h[m]=v}u=f}this.symbolClassNames=u},__class__:Je,__properties__:{set_frameRate:"set_frameRate"}};function Ze(){ut.call(this)}(i["openfl.AssetLibrary"]=Ze).__name__=["openfl","AssetLibrary"],Ze.__super__=ut,Ze.prototype=n(ut.prototype,{getMovieClip:function(t){return null},loadMovieClip:function(t){var e=this;return new Tr(function(){return e.getMovieClip(t)})},__class__:Ze});function Qe(t){if(Ze.call(this),null!=t){var e=$a.getBytes(t);this.swf=Je.unserializeLibrary(J_.toBytes(e));var i=this.swf,n=Je.instances;null!=Zu[t]?n.setReserved(t,i):n.h[t]=i}}(i["format.swf.lite.SWFLiteLibrary"]=Qe).__name__=["format","swf","lite","SWFLiteLibrary"],Qe.__super__=Ze,Qe.prototype=n(Ze.prototype,{exists:function(t,e){return""==t&&"MOVIE_CLIP"==e||("IMAGE"==e||"MOVIE_CLIP"==e)&&this.swf.hasSymbol(t)},getImage:function(t){return Gr.fromBitmapData(this.swf.getBitmapData(t))},getMovieClip:function(t){return this.swf.createMovieClip(t)},load:function(){var t=new Er;return t.complete(this),t.future},unload:function(){for(var t,e=this.swf.symbols.iterator();e.hasNext();){var i=e.next();zs.__instanceof(i,ii)&&(t=i,$a.cache.removeBitmapData(t.path))}},__class__:Qe});var $e=function(t,e){this._symbol=e,l.call(this),this.__totalFrames=1,this.__currentFrame=1;var i=zs.__cast(t.symbols.h[e.bitmapID],ii);if(this.isSpritesheetImage(i.path)){var n=$e.spritesheet.getDisplayObjectByFrameName(i.path);this.addDisplayObject(n,e)}else{var s=new ll($a.getBitmapDataFromSymbol(i));s.smoothing=e.smooth,s.pixelSnapping=2,this.addDisplayObject(s,e)}};(i["format.swf.lite.SimpleSprite"]=$e).__name__=["format","swf","lite","SimpleSprite"],$e.spritesheet=null,$e.__super__=l,$e.prototype=n(l.prototype,{isSpritesheetImage:function(t){return null!=$e.spritesheet&&!$e.spritesheet.isBitmapExcluded(t)},addDisplayObject:function(t,e){t.__transform.copyFrom(e.matrix),this.addChildAt(t,this.__children._length)},__hitTest:function(t,e,i,n,s,r){return!(!this.parent.mouseEnabled&&s)&&l.prototype.__hitTest.call(this,t,e,i,n,s,r)},getSymbol:function(){return this._symbol},__class__:$e});var ti=function(t,e){K.call(this),this.swf=t,this.symbol=e,this.renderGlyphs()};(i["format.swf.lite.StaticTextField"]=ti).__name__=["format","swf","lite","StaticTextField"],ti.__super__=K,ti.prototype=n(K.prototype,{renderGlyphs:function(){if(this.glyphs=[],null!=this.symbol.records)for(var t=null,e=16777215,i=this.symbol.matrix.tx,n=this.symbol.matrix.ty,s=0,r=this.symbol.records;s<r.length;){var a=r[s];if(++s,null!=a.fontID&&(t=this.swf.symbols.h[a.fontID]),null!=a.offsetX&&(i=this.symbol.matrix.tx+.05*a.offsetX),null!=a.offsetY&&(n=this.symbol.matrix.ty+.05*a.offsetY),null!=a.color&&(e=a.color),null!=t)for(var o,l=a.fontHeight/1024,h=0,_=a.glyphs.length;h<_;){var u=h++;o=a.glyphs[u];var c=new He,f=new ml(!1);c.__graphics=f,t.glyphs[o].set_useBitmapCache(!0),f.copyFrom(t.glyphs[o].graphics,!0),(f.__owner=c).set_x(i),c.set_y(n),c.set_scaleX(l),c.set_scaleY(l),i+=.05*a.advances[u],c.get_transform().get_colorTransform().set_color(16777215&e),c.get_transform().get_colorTransform().alphaMultiplier=(e>>24&255)/255,this.addChildAt(c,this.__children._length),this.glyphs.push(c)}}},__class__:ti});var ei=function(){this.__uid=$.SEQ<<24|++$.UID,this.forbidCachedBitmapUpdate=!1,this.pixelPerfectHitTest=!0,this.uniqueSharedCachedBitmap=null,this.useUniqueSharedBitmapCache=!1,this.poolable=!1,this.id=-1,this.className=""};(i["format.swf.lite.symbols.SWFSymbol"]=ei).__name__=["format","swf","lite","symbols","SWFSymbol"],ei.__interfaces__=[Q],ei.prototype={set_poolable:function(t){return t&&null==this.pool&&(this.pool=new Ce(function(){throw new Vs("Forbidden")})),this.poolable=t},initPool:function(t,e){this.pool=new Ce(function(){throw new Vs("Forbidden")});for(var i=0,n=e;i<n;){i++;var s=t.createMovieClip(this.className);this.pool.put(s)}this.set_poolable(!0)},toString:function(){return"SWFSymbol[id: "+this.id+", name: "+this.className+"] "},getCLID:function(){return ei.__clid},serialize:function(t){var e=this.className;if(null==e)t.out.b.push(0);else{var i=jn.ofString(e),n=i.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var s=t.out,r=(s.b,i.b),a=0,o=i.length;a<o;){var l=a++;s.b.push(r[l])}}var h=this.id;0<=h&&h<128?t.out.b.push(h):(t.out.b.push(128),t.out.addInt32(h))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("className"),t.fieldsTypes.push(Ls.PString),t.fieldsNames.push("id"),t.fieldsTypes.push(Ls.PInt),t.isFinal=$.isClassFinal(ei.__clid),t},unserializeInit:function(){this.className="",this.id=-1,this.set_poolable(!1),this.useUniqueSharedBitmapCache=!1,this.uniqueSharedCachedBitmap=null,this.pixelPerfectHitTest=!0,this.forbidCachedBitmapUpdate=!1},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.getString(t.inPos,n);t.inPos+=n,i=s}this.className=i;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.id=r},__class__:ei,__properties__:{set_poolable:"set_poolable"}};var ii=function(){this.path="",this.alpha="",ei.call(this)};(i["format.swf.lite.symbols.BitmapSymbol"]=ii).__name__=["format","swf","lite","symbols","BitmapSymbol"],ii.__super__=ei,ii.prototype=n(ei.prototype,{getCLID:function(){return ii.__clid},serialize:function(t){ei.prototype.serialize.call(this,t);var e=this.alpha;if(null==e)t.out.b.push(0);else{var i=jn.ofString(e),n=i.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var s=t.out,r=(s.b,i.b),a=0,o=i.length;a<o;){var l=a++;s.b.push(r[l])}}var h=this.path;if(null==h)t.out.b.push(0);else{var _=jn.ofString(h),u=_.length+1;0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u));for(var c=t.out,f=(c.b,_.b),d=0,p=_.length;d<p;){var g=d++;c.b.push(f[g])}}},getSerializeSchema:function(){var t=ei.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("alpha"),t.fieldsTypes.push(Ls.PString),t.fieldsNames.push("path"),t.fieldsTypes.push(Ls.PString),t.isFinal=$.isClassFinal(ii.__clid),t},unserializeInit:function(){ei.prototype.unserializeInit.call(this),this.alpha="",this.path=""},unserialize:function(t){ei.prototype.unserialize.call(this,t);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.getString(t.inPos,n);t.inPos+=n,i=s}this.alpha=i;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4);var a,o=r;if(0==o)a=null;else{--o;var l=t.input.getString(t.inPos,o);t.inPos+=o,a=l}this.path=a},__class__:ii});var ni=function(){ei.call(this)};(i["format.swf.lite.symbols.ButtonSymbol"]=ni).__name__=["format","swf","lite","symbols","ButtonSymbol"],ni.__super__=ei,ni.prototype=n(ei.prototype,{getCLID:function(){return ni.__clid},serialize:function(t){ei.prototype.serialize.call(this,t),t.addKnownRef(this.downState),t.addKnownRef(this.hitState),t.addKnownRef(this.overState),t.addKnownRef(this.upState),t.addKnownRef(this.onIdleSound),t.addKnownRef(this.onOverSound),t.addKnownRef(this.onDownSound),t.addKnownRef(this.onUpSound)},getSerializeSchema:function(){var t=ei.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("downState"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("hitState"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("overState"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("upState"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("onIdleSound"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SoundCommand")),t.fieldsNames.push("onOverSound"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SoundCommand")),t.fieldsNames.push("onDownSound"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SoundCommand")),t.fieldsNames.push("onUpSound"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SoundCommand")),t.isFinal=$.isClassFinal(ni.__clid),t},unserialize:function(t){ei.prototype.unserialize.call(this,t),this.downState=t.getRef(ui,ui.__clid),this.hitState=t.getRef(ui,ui.__clid),this.overState=t.getRef(ui,ui.__clid),this.upState=t.getRef(ui,ui.__clid),this.onIdleSound=t.getRef(_i,_i.__clid),this.onOverSound=t.getRef(_i,_i.__clid),this.onDownSound=t.getRef(_i,_i.__clid),this.onUpSound=t.getRef(_i,_i.__clid)},__class__:ni});var si=function(){this.text="",this.fontName="",this.align="",this.variableName="",ei.call(this)};(i["format.swf.lite.symbols.DynamicTextSymbol"]=si).__name__=["format","swf","lite","symbols","DynamicTextSymbol"],si.__super__=ei,si.prototype=n(ei.prototype,{getCLID:function(){return si.__clid},serialize:function(t){ei.prototype.serialize.call(this,t);var e=this.variableName;if(null==e)t.out.b.push(0);else{var i=jn.ofString(e),n=i.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var s=t.out,r=(s.b,i.b),a=0,o=i.length;a<o;){var l=a++;s.b.push(r[l])}}var h=this.align;if(null==h)t.out.b.push(0);else{var _=jn.ofString(h),u=_.length+1;0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u));for(var c=t.out,f=(c.b,_.b),d=0,p=_.length;d<p;){var g=d++;c.b.push(f[g])}}if(t.out.b.push(this.border?1:0),null==this.color)t.out.b.push(0);else{t.out.b.push(1);var m=this.color;0<=m&&m<128?t.out.b.push(m):(t.out.b.push(128),t.out.addInt32(m))}var v=this.fontHeight;0<=v&&v<128?t.out.b.push(v):(t.out.b.push(128),t.out.addInt32(v));var b=this.fontID;0<=b&&b<128?t.out.b.push(b):(t.out.b.push(128),t.out.addInt32(b));var y=this.fontName;if(null==y)t.out.b.push(0);else{var w=jn.ofString(y),x=w.length+1;0<=x&&x<128?t.out.b.push(x):(t.out.b.push(128),t.out.addInt32(x));for(var T=t.out,S=(T.b,w.b),E=0,I=w.length;E<I;){var P=E++;T.b.push(S[P])}}if(t.out.addInt32(ws.floatToI32(this.height)),t.out.b.push(this.html?1:0),null==this.indent)t.out.b.push(0);else{t.out.b.push(1);var C=this.indent;0<=C&&C<128?t.out.b.push(C):(t.out.b.push(128),t.out.addInt32(C))}if(null==this.leading)t.out.b.push(0);else{t.out.b.push(1);var D=this.leading;0<=D&&D<128?t.out.b.push(D):(t.out.b.push(128),t.out.addInt32(D))}if(null==this.leftMargin)t.out.b.push(0);else{t.out.b.push(1);var A=this.leftMargin;0<=A&&A<128?t.out.b.push(A):(t.out.b.push(128),t.out.addInt32(A))}if(t.out.b.push(this.multiline?1:0),t.out.b.push(this.password?1:0),null==this.rightMargin)t.out.b.push(0);else{t.out.b.push(1);var R=this.rightMargin;0<=R&&R<128?t.out.b.push(R):(t.out.b.push(128),t.out.addInt32(R))}t.out.b.push(this.selectable?1:0);var M=this.text;if(null==M)t.out.b.push(0);else{var F=jn.ofString(M),B=F.length+1;0<=B&&B<128?t.out.b.push(B):(t.out.b.push(128),t.out.addInt32(B));for(var L=t.out,k=(L.b,F.b),N=0,O=F.length;N<O;){var U=N++;L.b.push(k[U])}}if(t.out.addInt32(ws.floatToI32(this.width)),t.out.b.push(this.wordWrap?1:0),t.out.addInt32(ws.floatToI32(this.x)),t.out.addInt32(ws.floatToI32(this.y)),null==this.maxLength)t.out.b.push(0);else{t.out.b.push(1);var G=this.maxLength;0<=G&&G<128?t.out.b.push(G):(t.out.b.push(128),t.out.addInt32(G))}},getSerializeSchema:function(){var t=ei.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("variableName"),t.fieldsTypes.push(Ls.PString),t.fieldsNames.push("align"),t.fieldsTypes.push(Ls.PString),t.fieldsNames.push("border"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("color"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("fontHeight"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("fontID"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("fontName"),t.fieldsTypes.push(Ls.PString),t.fieldsNames.push("height"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("html"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("indent"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("leading"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("leftMargin"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("multiline"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("password"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("rightMargin"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("selectable"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("text"),t.fieldsTypes.push(Ls.PString),t.fieldsNames.push("width"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("wordWrap"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("x"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("y"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("maxLength"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.isFinal=$.isClassFinal(si.__clid),t},unserializeInit:function(){ei.prototype.unserializeInit.call(this),this.variableName="",this.align="",this.fontName="",this.text=""},unserialize:function(t){ei.prototype.unserialize.call(this,t);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.getString(t.inPos,n);t.inPos+=n,i=s}this.variableName=i;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4);var a,o=r;if(0==o)a=null;else{--o;var l=t.input.getString(t.inPos,o);t.inPos+=o,a=l}if(this.align=a,this.border=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.color=null;else{var h=t.input.b[t.inPos++];128==h&&(h=t.input.getInt32(t.inPos),t.inPos+=4),this.color=h}var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4),this.fontHeight=_;var u=t.input.b[t.inPos++];128==u&&(u=t.input.getInt32(t.inPos),t.inPos+=4),this.fontID=u;var c=t.input.b[t.inPos++];128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4);var f,d=c;if(0==d)f=null;else{--d;var p=t.input.getString(t.inPos,d);t.inPos+=d,f=p}this.fontName=f;var g=t.input.getFloat(t.inPos);if(t.inPos+=4,this.height=g,this.html=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.indent=null;else{var m=t.input.b[t.inPos++];128==m&&(m=t.input.getInt32(t.inPos),t.inPos+=4),this.indent=m}if(0==t.input.b[t.inPos++])this.leading=null;else{var v=t.input.b[t.inPos++];128==v&&(v=t.input.getInt32(t.inPos),t.inPos+=4),this.leading=v}if(0==t.input.b[t.inPos++])this.leftMargin=null;else{var b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),this.leftMargin=b}if(this.multiline=0!=t.input.b[t.inPos++],this.password=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.rightMargin=null;else{var y=t.input.b[t.inPos++];128==y&&(y=t.input.getInt32(t.inPos),t.inPos+=4),this.rightMargin=y}this.selectable=0!=t.input.b[t.inPos++];var w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4);var x,T=w;if(0==T)x=null;else{--T;var S=t.input.getString(t.inPos,T);t.inPos+=T,x=S}this.text=x;var E=t.input.getFloat(t.inPos);t.inPos+=4,this.width=E,this.wordWrap=0!=t.input.b[t.inPos++];var I=t.input.getFloat(t.inPos);t.inPos+=4,this.x=I;var P=t.input.getFloat(t.inPos);if(t.inPos+=4,this.y=P,0==t.input.b[t.inPos++])this.maxLength=null;else{var C=t.input.b[t.inPos++];128==C&&(C=t.input.getInt32(t.inPos),t.inPos+=4),this.maxLength=C}},__class__:si});function ri(){this.name="",ei.call(this)}(i["format.swf.lite.symbols.FontSymbol"]=ri).__name__=["format","swf","lite","symbols","FontSymbol"],ri.renderGlyph=function(t,e,i,n,s){for(var r=0;r<e.length;){var a=e[r];switch(++r,a[1]){case 1:t.beginFill(16777215,1);break;case 3:var o=a[5],l=a[4],h=a[3],_=a[2];t.curveTo(_*i+n,h*i+s,l*i+n,o*i+s);break;case 5:t.endFill();break;case 6:var u=a[9],c=a[8],f=a[7],d=a[6],p=a[5],g=a[4],m=a[3],v=a[2];null!=v?t.lineStyle(v,m,g,p,d,f,c,u):t.lineStyle();break;case 9:var b=a[3],y=a[2];t.lineTo(y*i+n,b*i+s);break;case 10:var w=a[3],x=a[2];t.moveTo(x*i+n,w*i+s)}}},ri.__super__=ei,ri.prototype=n(ei.prototype,{getCLID:function(){return ri.__clid},serialize:function(t){ei.prototype.serialize.call(this,t);var e=this.advances;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,null==s?t.out.b.push(0):(t.out.b.push(1),0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s)))}}t.out.b.push(this.bold?1:0);var r=this.codes;if(null==r)t.out.b.push(0);else{var a=r.length+1;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));for(var o=0;o<r.length;){var l=r[o];++o,0<=l&&l<128?t.out.b.push(l):(t.out.b.push(128),t.out.addInt32(l))}}var h=this.glyphs;if(null==h)t.out.b.push(0);else{var _=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var u=0;u<h.length;){var c=h[u];++u,t.addKnownRef(c)}}if(t.out.b.push(this.italic?1:0),null==this.leading)t.out.b.push(0);else{t.out.b.push(1);var f=this.leading;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f))}var d=this.name;if(null==d)t.out.b.push(0);else{var p=jn.ofString(d),g=p.length+1;0<=g&&g<128?t.out.b.push(g):(t.out.b.push(128),t.out.addInt32(g));for(var m=t.out,v=(m.b,p.b),b=0,y=p.length;b<y;){var w=b++;m.b.push(v[w])}}},getSerializeSchema:function(){var t=ei.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("advances"),t.fieldsTypes.push(Ls.PArray(Ls.PNull(Ls.PInt))),t.fieldsNames.push("bold"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("codes"),t.fieldsTypes.push(Ls.PArray(Ls.PInt)),t.fieldsNames.push("glyphs"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.lite.symbols.ShapeSymbol"))),t.fieldsNames.push("italic"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("leading"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("name"),t.fieldsTypes.push(Ls.PString),t.isFinal=$.isClassFinal(ri.__clid),t},unserializeInit:function(){ei.prototype.unserializeInit.call(this),this.name=""},unserialize:function(t){var e;ei.prototype.unserialize.call(this,t);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s,r=i;if(0==r)n=null;else{for(var a=[],o=0,l=--r;o<l;){var h=o++;if(0==t.input.b[t.inPos++])e=null;else{var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4),e=_}a[h]=e}n=a}this.advances=n,this.bold=0!=t.input.b[t.inPos++];var u=t.input.b[t.inPos++];128==u&&(u=t.input.getInt32(t.inPos),t.inPos+=4);var c,f,d=u;if(0==d)c=null;else{for(var p=[],g=0,m=--d;g<m;){var v=g++,b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),s=b,p[v]=s}c=p}this.codes=c;var y=t.input.b[t.inPos++];128==y&&(y=t.input.getInt32(t.inPos),t.inPos+=4);var w,x=y;if(0==x)w=null;else{for(var T=[],S=0,E=--x;S<E;){var I=S++;f=t.getRef(Cs,Cs.__clid),T[I]=f}w=T}if(this.glyphs=w,this.italic=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.leading=null;else{var P=t.input.b[t.inPos++];128==P&&(P=t.input.getInt32(t.inPos),t.inPos+=4),this.leading=P}var C=t.input.b[t.inPos++];128==C&&(C=t.input.getInt32(t.inPos),t.inPos+=4);var D,A=C;if(0==A)D=null;else{--A;var R=t.input.getString(t.inPos,A);t.inPos+=A,D=R}this.name=D},__class__:ri});var ai=function(){this.__cachePrecision=null,this.useBitmapCache=!1,ei.call(this)};(i["format.swf.lite.symbols.MorphShapeSymbol"]=ai).__name__=["format","swf","lite","symbols","MorphShapeSymbol"],ai.__super__=ei,ai.prototype=n(ei.prototype,{get_cachePrecision:function(){return null==this.__cachePrecision&&(this.__cachePrecision=ai.defaultCachePrecision),this.__cachePrecision},set_cachePrecision:function(t){return this.__cachePrecision=t},getShape:function(t){for(var e=0,i=new Ft,n=null,s=null,r=0,a=this.startEdges.records.length;r<a;){var o=r++,l=this.startEdges.records[o],h=this.endEdges.records[e++],_=null;if(4==l.get_type()&&3==h.get_type()?h=this.convertToCurvedEdge(zs.__cast(h,Nt)):3==l.get_type()&&4==h.get_type()&&(l=this.convertToCurvedEdge(zs.__cast(l,Nt))),2!=h.get_type()||2==l.get_type()){switch(l.get_type()){case 1:_=l.clone();break;case 2:var u=!1,c=(n=l).clone();if(2==h.get_type()){var f=h;f.stateMoveTo&&(u=!0,s=f)}else--e;var d=0,p=0;null!=s&&(d=s.moveDeltaX,p=s.moveDeltaY),(c.stateMoveTo||u&&s.stateMoveTo)&&(c.moveDeltaX+=(d-c.moveDeltaX)*t,c.moveDeltaY+=(p-c.moveDeltaY)*t,c.stateMoveTo=!0),_=c;break;case 3:var g=l.clone(),m=h;g.deltaX+=(m.deltaX-g.deltaX)*t,g.deltaY+=(m.deltaY-g.deltaY)*t,0!=g.deltaX&&0!=g.deltaY?(g.generalLineFlag=!0,g.vertLineFlag=!1):(g.generalLineFlag=!1,g.vertLineFlag=0==g.deltaX),_=g;break;case 4:var v=l.clone(),b=h;v.controlDeltaX+=(b.controlDeltaX-v.controlDeltaX)*t,v.controlDeltaY+=(b.controlDeltaY-v.controlDeltaY)*t,v.anchorDeltaX+=(b.anchorDeltaX-v.anchorDeltaX)*t,v.anchorDeltaY+=(b.anchorDeltaY-v.anchorDeltaY)*t,_=v}i.records.push(_)}else{var y=n.clone(),w=h,x=0,T=0;null!=w&&(x=w.moveDeltaX,T=w.moveDeltaY),y.stateMoveTo=!0,y.moveDeltaX+=(x-y.moveDeltaX)*t,y.moveDeltaY+=(T-y.moveDeltaY)*t,++e,i.records.push(y)}}for(var S=0,E=this.morphFillStyles.length;S<E;){var I=S++;i.fillStyles.push(this.morphFillStyles[I].getMorphedFillStyle(t))}for(var P=0,C=this.morphLineStyles.length;P<C;){var D=P++;i.lineStyles.push(this.morphLineStyles[D].getMorphedLineStyle(t))}return i},convertToCurvedEdge:function(t){var e=new Lt;return e.controlDeltaX=t.deltaX/2,e.controlDeltaY=t.deltaY/2,e.anchorDeltaX=t.deltaX/2,e.anchorDeltaY=t.deltaY/2,e},set_useBitmapCache:function(t){return t&&null==this.cachedTable&&(this.cachedTable=[]),this.useBitmapCache=t},getCacheEntry:function(t,e){if(this.useBitmapCache)for(var i=oi.getHash(t,e,this.get_cachePrecision()),n=0,s=this.cachedTable;n<s.length;){var r=s[n];if(++n,r.hash==i)return r}return null},addCacheEntry:function(t,e,i,n){if(this.useBitmapCache){var s=oi.getHash(i,n,this.get_cachePrecision());this.cachedTable.push(new oi(t,e,s))}},getCLID:function(){return ai.__clid},serialize:function(t){ei.prototype.serialize.call(this,t),t.addKnownRef(this.startEdges),t.addKnownRef(this.endEdges);var e=this.morphFillStyles;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,t.addKnownRef(s)}}var r=this.morphLineStyles;if(null==r)t.out.b.push(0);else{var a=r.length+1;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));for(var o=0;o<r.length;){var l=r[o];++o,t.addKnownRef(l)}}},getSerializeSchema:function(){var t=ei.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("startEdges"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFShape")),t.fieldsNames.push("endEdges"),t.fieldsTypes.push(Ls.PSerializable("format.swf.data.SWFShape")),t.fieldsNames.push("morphFillStyles"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.data.SWFMorphFillStyle"))),t.fieldsNames.push("morphLineStyles"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.data.SWFMorphLineStyle"))),t.isFinal=$.isClassFinal(ai.__clid),t},unserializeInit:function(){ei.prototype.unserializeInit.call(this),this.set_useBitmapCache(!1),this.__cachePrecision=null},unserialize:function(t){var e;ei.prototype.unserialize.call(this,t),this.startEdges=t.getRef(Ft,Ft.__clid),this.endEdges=t.getRef(Ft,Ft.__clid);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s,r=i;if(0==r)n=null;else{for(var a=[],o=0,l=--r;o<l;){var h=o++;e=t.getRef(yt,yt.__clid),a[h]=e}n=a}this.morphFillStyles=n;var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4);var u,c=_;if(0==c)u=null;else{for(var f=[],d=0,p=--c;d<p;){var g=d++;s=t.getRef(St,St.__clid),f[g]=s}u=f}this.morphLineStyles=u},__class__:ai,__properties__:n(ei.prototype.__properties__,{set_cachePrecision:"set_cachePrecision",get_cachePrecision:"get_cachePrecision",set_useBitmapCache:"set_useBitmapCache"})});var oi=function(t,e,i){this.bitmapData=t,this.bounds=e.clone(),this.hash=i};(i["format.swf.lite.symbols.CacheEntry"]=oi).__name__=["format","swf","lite","symbols","CacheEntry"],oi.getHash=function(t,e,i){var n=oi.__buffer;return n[0]=0|t.a*i,n[1]=0|t.b*i,n[2]=0|t.c*i,n[3]=0|t.d*i,n[4]=0|100*e,us.make(jn.ofData(n.buffer))},oi.prototype={__class__:oi};var Cs=function(){this.renderScale=1,this.snapCoordinates=!1,this.forbidClearCacheOnResize=!1,this.useBitmapCache=!1,this.__translationCachePrecision=null,this.__cachePrecision=null,this.activeGraphicsTable=new ds,ei.call(this)};(i["format.swf.lite.symbols.ShapeSymbol"]=Cs).__name__=["format","swf","lite","symbols","ShapeSymbol"],Cs.lastStageWidth=null,Cs.lastStageHeight=null,Cs.processCommands=function(t,e){for(var i=0;i<e.length;){var n=e[i];switch(++i,n[1]){case 0:var s=n[5],r=n[4],a=n[3],o=n[2];t.beginBitmapFillWithId(o,a,r,s);break;case 1:var l=n[3],h=n[2];t.beginFill(h,l);break;case 2:var _=n[9],u=n[8],c=n[7],f=n[6],d=n[5],p=n[4],g=n[3],m=n[2];t.beginGradientFill(m,g,p,d,f,c,u,_);break;case 3:var v=n[5],b=n[4],y=n[3],w=n[2];t.curveTo(w,y,b,v);break;case 4:var x=n[4],T=n[3],S=n[2];t.drawImageWithId(S,T,x);break;case 5:t.endFill();break;case 6:var E=n[9],I=n[8],P=n[7],C=n[6],D=n[5],A=n[4],R=n[3],M=n[2];null!=M?t.lineStyle(M,R,A,D,C,P,I,E):t.lineStyle();break;case 7:var F=n[9],B=n[8],L=n[7],k=n[6],N=n[5],O=n[4],U=n[3],G=n[2];t.lineGradientStyle(G,U,O,N,k,L,B,F);break;case 8:var X=n[5],V=n[4],z=n[3],H=n[2];t.lineBitmapStyleWithId(H,z,V,X);break;case 9:var Y=n[3],W=n[2];t.lineTo(W,Y);break;case 10:var K=n[3],j=n[2];t.moveTo(j,K)}}},Cs.__clearCachedTables=function(t){var e=At.getProperty(t.currentTarget,"width"),i=At.getProperty(t.currentTarget,"height");if(Cs.lastStageWidth!=e||Cs.lastStageHeight!=i){for(var n=Cs.shapeSymbolsUsingBitmapCacheMap.iterator();n.hasNext();){var s=n.next();s.forbidClearCacheOnResize||s.__clearCachedTable()}Cs.lastStageWidth=e,Cs.lastStageHeight=i}},Cs.__super__=ei,Cs.prototype=n(ei.prototype,{set_useBitmapCache:function(t){if(t&&null==this.cachedTable){if(this.cachedTable=[],Cs.shapeSymbolsUsingBitmapCacheMap.h[this.id]=this,!Cs.eventIsListened){var e=no.current.stage;Cs.lastStageWidth=e.get_width(),Cs.lastStageHeight=e.get_height(),e.addEventListener("resize",Cs.__clearCachedTables),Cs.eventIsListened=!0}}else t||Cs.shapeSymbolsUsingBitmapCacheMap.remove(this.id);return this.useBitmapCache=t},getCacheEntry:function(t){for(var e=li.getHash(t,this.get_cachePrecision(),this.get_translationCachePrecision()),i=0,n=this.cachedTable;i<n.length;){var s=n[i];if(++i,s.hash==e)return s}return null},getCachedBitmapData:function(t){if(this.useBitmapCache){var e=this.getCacheEntry(t);if(null!=e)return e.bitmapData;if(this.forbidCachedBitmapUpdate&&0<this.cachedTable.length)return this.cachedTable[0].bitmapData}return null},setCachedBitmapData:function(t,e){this.useBitmapCache&&this.cachedTable.push(new li(t,li.getHash(e,this.get_cachePrecision(),this.get_translationCachePrecision())))},fillDrawCommandBuffer:function(t){this.graphics=new ml,this.graphics.__symbol=this,Cs.processCommands(this.graphics,t),this.graphics.readOnly=!0},__clearCachedTable:function(){for(var t=this.activeGraphicsTable.keys();t.hasNext();){t.next().dispose(!1)}for(var e=0,i=this.cachedTable;e<i.length;){var n=i[e];++e,null!=n.bitmapData&&n.bitmapData.dispose()}0<this.cachedTable.length&&this.cachedTable.splice(0,this.cachedTable.length)},get_cachePrecision:function(){return null==this.__cachePrecision&&(this.__cachePrecision=Cs.defaultCachePrecision),this.__cachePrecision},set_cachePrecision:function(t){return this.__cachePrecision=t},get_translationCachePrecision:function(){return null==this.__translationCachePrecision&&(this.__translationCachePrecision=Cs.defaultTranslationCachePrecision),this.__translationCachePrecision},set_translationCachePrecision:function(t){return this.__translationCachePrecision=t},registerGraphics:function(t){this.activeGraphicsTable.set(t,!0)},unregisterGraphics:function(t){this.activeGraphicsTable.remove(t)},getCLID:function(){return Cs.__clid},serialize:function(t){ei.prototype.serialize.call(this,t),t.addKnownRef(this.bounds),t.addKnownRef(this.graphics)},getSerializeSchema:function(){var t=ei.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("bounds"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("graphics"),t.fieldsTypes.push(Ls.PSerializable("openfl.display.Graphics")),t.isFinal=$.isClassFinal(Cs.__clid),t},unserializeInit:function(){ei.prototype.unserializeInit.call(this),this.activeGraphicsTable=new ds,this.__cachePrecision=null,this.__translationCachePrecision=null,this.set_useBitmapCache(!1),this.forbidClearCacheOnResize=!1,this.snapCoordinates=!1,this.renderScale=1},unserialize:function(t){ei.prototype.unserialize.call(this,t),this.bounds=t.getRef(b_,b_.__clid),this.graphics=t.getRef(ml,ml.__clid)},__class__:Cs,__properties__:n(ei.prototype.__properties__,{set_translationCachePrecision:"set_translationCachePrecision",get_translationCachePrecision:"get_translationCachePrecision",set_cachePrecision:"set_cachePrecision",get_cachePrecision:"get_cachePrecision",set_useBitmapCache:"set_useBitmapCache"})});var li=function(t,e){this.bitmapData=t,this.hash=e};(i["format.swf.lite.symbols._ShapeSymbol.CacheEntry"]=li).__name__=["format","swf","lite","symbols","_ShapeSymbol","CacheEntry"],li.getHash=function(t,e,i){var n=li.__buffer;return n[0]=0|t.a*e,n[1]=0|t.b*e,n[2]=0|t.c*e,n[3]=0|t.d*e,n[4]=0|(t.tx-Math.floor(t.tx))*i,n[5]=0|(t.ty-Math.floor(t.ty))*i,us.make(jn.ofData(n.buffer))},li.prototype={__class__:li};var hi=function(){ei.call(this)};(i["format.swf.lite.symbols.SimpleSpriteSymbol"]=hi).__name__=["format","swf","lite","symbols","SimpleSpriteSymbol"],hi.__super__=ei,hi.prototype=n(ei.prototype,{getCLID:function(){return hi.__clid},serialize:function(t){ei.prototype.serialize.call(this,t);var e=this.bitmapID;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e)),t.addKnownRef(this.matrix),t.addKnownRef(this.bounds),t.out.b.push(this.smooth?1:0)},getSerializeSchema:function(){var t=ei.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("bitmapID"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("matrix"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Matrix")),t.fieldsNames.push("bounds"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("smooth"),t.fieldsTypes.push(Ls.PBool),t.isFinal=$.isClassFinal(hi.__clid),t},unserialize:function(t){ei.prototype.unserialize.call(this,t);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.bitmapID=e,this.matrix=t.getRef(eo,eo.__clid),this.bounds=t.getRef(b_,b_.__clid),this.smooth=0!=t.input.b[t.inPos++]},__class__:hi});var _i=function(){this.__uid=$.SEQ<<24|++$.UID};(i["format.swf.lite.symbols.SoundCommand"]=_i).__name__=["format","swf","lite","symbols","SoundCommand"],_i.__interfaces__=[Q],_i.prototype={getCLID:function(){return _i.__clid},serialize:function(t){var e=this.soundId;if(0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e)),t.out.b.push(this.stop?1:0),t.out.b.push(this.noMultiple?1:0),null==this.outPoint)t.out.b.push(0);else{t.out.b.push(1);var i=this.outPoint;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i))}if(null==this.inPoint)t.out.b.push(0);else{t.out.b.push(1);var n=this.inPoint;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))}var s=this.loopCount;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("soundId"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("stop"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("noMultiple"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("outPoint"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("inPoint"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("loopCount"),t.fieldsTypes.push(Ls.PInt),t.isFinal=$.isClassFinal(_i.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];if(128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.soundId=e,this.stop=0!=t.input.b[t.inPos++],this.noMultiple=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.outPoint=null;else{var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.outPoint=i}if(0==t.input.b[t.inPos++])this.inPoint=null;else{var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.inPoint=n}var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.loopCount=s},__class__:_i};var ui=function(){ei.call(this),this.frames=[]};(i["format.swf.lite.symbols.SpriteSymbol"]=ui).__name__=["format","swf","lite","symbols","SpriteSymbol"],ui.__super__=ei,ui.prototype=n(ei.prototype,{findDependentSymbols:function(t,e,i,n,s){for(var r=0,a=this.frames;r<a.length;){var o=a[r];++r;for(var l=0,h=o.objects;l<h.length;){var _=h[l];if(++l,_.type==gi.CREATE||_.type==gi.UPDATE_CHARACTER){var u=t.symbols.h[_.symbol];zs.__instanceof(u,ui)?zs.__cast(u,ui).findDependentSymbols(t,e,i,n):null!=e&&zs.__instanceof(u,Cs)?e.h[_.symbol]=u:null!=s&&zs.__instanceof(u,ai)?s.h[_.symbol]=u:null!=i&&zs.__instanceof(u,hi)?i.h[_.symbol]=u:null!=n&&zs.__instanceof(u,si)&&(n.h[_.symbol]=u)}}}},createNeededTextures:function(t,e){var i=new fs,n=new fs;this.findDependentSymbols(e,i,n);for(var s=i.iterator();s.hasNext();){s.next().graphics.createTextures(t)}for(var r=n.iterator();r.hasNext();){var a=r.next();$a.getBitmapDataFromSymbol(zs.__cast(e.symbols.h[a.bitmapID],ii)).getTexture(t)}},getCLID:function(){return ui.__clid},serialize:function(t){ei.prototype.serialize.call(this,t);var e=this.frames;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,t.addKnownRef(s)}}t.addKnownRef(this.scalingGridRect)},getSerializeSchema:function(){var t=ei.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("frames"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.lite.timeline.Frame"))),t.fieldsNames.push("scalingGridRect"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Rectangle")),t.isFinal=$.isClassFinal(ui.__clid),t},unserialize:function(t){var e;ei.prototype.unserialize.call(this,t);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s=i;if(0==s)n=null;else{for(var r=[],a=0,o=--s;a<o;){var l=a++;e=t.getRef(di,di.__clid),r[l]=e}n=r}this.frames=n,this.scalingGridRect=t.getRef(b_,b_.__clid)},__class__:ui});var ci=function(){ei.call(this)};(i["format.swf.lite.symbols.StaticTextSymbol"]=ci).__name__=["format","swf","lite","symbols","StaticTextSymbol"],ci.__super__=ei,ci.prototype=n(ei.prototype,{getCLID:function(){return ci.__clid},serialize:function(t){ei.prototype.serialize.call(this,t),t.addKnownRef(this.matrix),t.addKnownRef(this.bounds);var e=this.records;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,t.addKnownRef(s)}}t.out.b.push(this.shapeIsScaled?1:0)},getSerializeSchema:function(){var t=ei.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("matrix"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Matrix")),t.fieldsNames.push("bounds"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("records"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.lite.symbols.StaticTextRecord"))),t.fieldsNames.push("shapeIsScaled"),t.fieldsTypes.push(Ls.PBool),t.isFinal=$.isClassFinal(ci.__clid),t},unserialize:function(t){var e;ei.prototype.unserialize.call(this,t),this.matrix=t.getRef(eo,eo.__clid),this.bounds=t.getRef(b_,b_.__clid);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s=i;if(0==s)n=null;else{for(var r=[],a=0,o=--s;a<o;){var l=a++;e=t.getRef(fi,fi.__clid),r[l]=e}n=r}this.records=n,this.shapeIsScaled=0!=t.input.b[t.inPos++]},__class__:ci});var fi=function(){this.__uid=$.SEQ<<24|++$.UID};(i["format.swf.lite.symbols.StaticTextRecord"]=fi).__name__=["format","swf","lite","symbols","StaticTextRecord"],fi.__interfaces__=[Q],fi.prototype={getCLID:function(){return fi.__clid},serialize:function(t){var e=this.advances;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))}}if(null==this.color)t.out.b.push(0);else{t.out.b.push(1);var r=this.color;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r))}var a=this.fontHeight;if(0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a)),null==this.fontID)t.out.b.push(0);else{t.out.b.push(1);var o=this.fontID;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o))}var l=this.glyphs;if(null==l)t.out.b.push(0);else{var h=l.length+1;0<=h&&h<128?t.out.b.push(h):(t.out.b.push(128),t.out.addInt32(h));for(var _=0;_<l.length;){var u=l[_];++_,0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u))}}if(null==this.offsetX)t.out.b.push(0);else{t.out.b.push(1);var c=this.offsetX;0<=c&&c<128?t.out.b.push(c):(t.out.b.push(128),t.out.addInt32(c))}if(null==this.offsetY)t.out.b.push(0);else{t.out.b.push(1);var f=this.offsetY;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f))}},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("advances"),t.fieldsTypes.push(Ls.PArray(Ls.PInt)),t.fieldsNames.push("color"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("fontHeight"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("fontID"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("glyphs"),t.fieldsTypes.push(Ls.PArray(Ls.PInt)),t.fieldsNames.push("offsetX"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("offsetY"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.isFinal=$.isClassFinal(fi.__clid),t},unserializeInit:function(){},unserialize:function(t){var e,i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s=i;if(0==s)n=null;else{for(var r=[],a=0,o=--s;a<o;){var l=a++,h=t.input.b[t.inPos++];128==h&&(h=t.input.getInt32(t.inPos),t.inPos+=4),e=h,r[l]=e}n=r}if(this.advances=n,0==t.input.b[t.inPos++])this.color=null;else{var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4),this.color=_}var u,c=t.input.b[t.inPos++];if(128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4),this.fontHeight=c,0==t.input.b[t.inPos++])this.fontID=null;else{var f=t.input.b[t.inPos++];128==f&&(f=t.input.getInt32(t.inPos),t.inPos+=4),this.fontID=f}var d=t.input.b[t.inPos++];128==d&&(d=t.input.getInt32(t.inPos),t.inPos+=4);var p,g=d;if(0==g)p=null;else{for(var m=[],v=0,b=--g;v<b;){var y=v++,w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4),u=w,m[y]=u}p=m}if(this.glyphs=p,0==t.input.b[t.inPos++])this.offsetX=null;else{var x=t.input.b[t.inPos++];128==x&&(x=t.input.getInt32(t.inPos),t.inPos+=4),this.offsetX=x}if(0==t.input.b[t.inPos++])this.offsetY=null;else{var T=t.input.b[t.inPos++];128==T&&(T=t.input.getInt32(t.inPos),t.inPos+=4),this.offsetY=T}},__class__:fi};var di=function(){this.__uid=$.SEQ<<24|++$.UID,this.objects=[]};(i["format.swf.lite.timeline.Frame"]=di).__name__=["format","swf","lite","timeline","Frame"],di.__interfaces__=[Q],di.prototype={getCLID:function(){return di.__clid},serialize:function(t){var e=this.label;if(null==e)t.out.b.push(0);else{var i=jn.ofString(e),n=i.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var s=t.out,r=(s.b,i.b),a=0,o=i.length;a<o;){var l=a++;s.b.push(r[l])}}var h=this.objects;if(null==h)t.out.b.push(0);else{var _=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var u=0;u<h.length;){var c=h[u];++u,t.addKnownRef(c)}}t.addKnownRef(this.startSound)},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("label"),t.fieldsTypes.push(Ls.PString),t.fieldsNames.push("objects"),t.fieldsTypes.push(Ls.PArray(Ls.PSerializable("format.swf.lite.timeline.FrameObject"))),t.fieldsNames.push("startSound"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SoundCommand")),t.isFinal=$.isClassFinal(di.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n,s=e;if(0==s)i=null;else{--s;var r=t.input.getString(t.inPos,s);t.inPos+=s,i=r}this.label=i;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4);var o,l=a;if(0==l)o=null;else{for(var h=[],_=0,u=--l;_<u;){var c=_++;n=t.getRef(pi,pi.__clid),h[c]=n}o=h}this.objects=o,this.startSound=t.getRef(_i,_i.__clid)},__class__:di};var pi=function(){this.__uid=$.SEQ<<24|++$.UID,this.cacheAsBitmap=!1};(i["format.swf.lite.timeline.FrameObject"]=pi).__name__=["format","swf","lite","timeline","FrameObject"],pi.__interfaces__=[Q],pi.prototype={getCLID:function(){return pi.__clid},serialize:function(t){if(t.out.b.push(this.cacheAsBitmap?1:0),null==this.clipDepth)t.out.b.push(0);else{t.out.b.push(1);var e=this.clipDepth;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e))}if(t.addKnownRef(this.colorTransform),null==this.depth)t.out.b.push(0);else{t.out.b.push(1);var i=this.depth;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i))}var n=this.filters;if(null==n)t.out.b.push(0);else{var s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];++r,Us.doSerialize(t,a)}}var o=this.id;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o)),t.addKnownRef(this.matrix);var l=this.name;if(null==l)t.out.b.push(0);else{var h=jn.ofString(l),_=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var u=t.out,c=(u.b,h.b),f=0,d=h.length;f<d;){var p=f++;u.b.push(c[p])}}if(null==this.symbol)t.out.b.push(0);else{t.out.b.push(1);var g=this.symbol;0<=g&&g<128?t.out.b.push(g):(t.out.b.push(128),t.out.addInt32(g))}if(Gs.doSerialize(t,this.type),null==this.blendMode)t.out.b.push(0);else{t.out.b.push(1);var m=this.blendMode;0<=m&&m<128?t.out.b.push(m):(t.out.b.push(128),t.out.addInt32(m))}null==this.ratio?t.out.b.push(0):(t.out.b.push(1),t.out.addInt32(ws.floatToI32(this.ratio)))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("cacheAsBitmap"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("clipDepth"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("colorTransform"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.ColorTransform")),t.fieldsNames.push("depth"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("filters"),t.fieldsTypes.push(Ls.PArray(Ls.PEnum("format.swf.exporters.core.FilterType"))),t.fieldsNames.push("id"),t.fieldsTypes.push(Ls.PInt),t.fieldsNames.push("matrix"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Matrix")),t.fieldsNames.push("name"),t.fieldsTypes.push(Ls.PString),t.fieldsNames.push("symbol"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("type"),t.fieldsTypes.push(Ls.PEnum("format.swf.lite.timeline.FrameObjectType")),t.fieldsNames.push("blendMode"),t.fieldsTypes.push(Ls.PNull(Ls.PInt)),t.fieldsNames.push("ratio"),t.fieldsTypes.push(Ls.PNull(Ls.PFloat)),t.isFinal=$.isClassFinal(pi.__clid),t},unserializeInit:function(){this.cacheAsBitmap=!1},unserialize:function(t){if(this.cacheAsBitmap=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.clipDepth=null;else{var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.clipDepth=e}if(this.colorTransform=t.getRef(to,to.__clid),0==t.input.b[t.inPos++])this.depth=null;else{var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.depth=i}var n,s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4);var r,a=s;if(0==a)r=null;else{for(var o=[],l=0,h=--a;l<h;){var _=l++;n=Us.doUnserialize(t),o[_]=n}r=o}this.filters=r;var u=t.input.b[t.inPos++];128==u&&(u=t.input.getInt32(t.inPos),t.inPos+=4),this.id=u,this.matrix=t.getRef(eo,eo.__clid);var c=t.input.b[t.inPos++];128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4);var f,d=c;if(0==d)f=null;else{--d;var p=t.input.getString(t.inPos,d);t.inPos+=d,f=p}if(this.name=f,0==t.input.b[t.inPos++])this.symbol=null;else{var g=t.input.b[t.inPos++];128==g&&(g=t.input.getInt32(t.inPos),t.inPos+=4),this.symbol=g}var m,v=Gs.doUnserialize(t);if(this.type=v,0==t.input.b[t.inPos++])m=null;else{var b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),m=b}if(this.blendMode=m,0==t.input.b[t.inPos++])this.ratio=null;else{var y=t.input.getFloat(t.inPos);t.inPos+=4,this.ratio=y}},__class__:pi};var gi=i["format.swf.lite.timeline.FrameObjectType"]={__ename__:!0,__constructs__:["CREATE","UPDATE","UPDATE_CHARACTER","DESTROY"]};gi.CREATE=["CREATE",0],gi.CREATE.toString=f,(gi.CREATE.__enum__=gi).UPDATE=["UPDATE",1],gi.UPDATE.toString=f,(gi.UPDATE.__enum__=gi).UPDATE_CHARACTER=["UPDATE_CHARACTER",2],gi.UPDATE_CHARACTER.toString=f,(gi.UPDATE_CHARACTER.__enum__=gi).DESTROY=["DESTROY",3],gi.DESTROY.toString=f,gi.DESTROY.__enum__=gi;function vi(){}(i["format.swf.tags.ITag"]=vi).__name__=["format","swf","tags","ITag"],vi.prototype={__class__:vi};var bi=function(){};(i["format.swf.tags.IDefinitionTag"]=bi).__name__=["format","swf","tags","IDefinitionTag"],bi.__interfaces__=[vi],bi.prototype={__class__:bi};var yi=function(){};(i["format.swf.tags.IDisplayListTag"]=yi).__name__=["format","swf","tags","IDisplayListTag"],yi.__interfaces__=[vi];function wi(){}(i["format.swf.tags.Tag"]=wi).__name__=["format","swf","tags","Tag"],wi.toStringCommon=function(t,e,i){return null==i&&(i=0),ns.repeat(i)+"["+ns.printf("%02d",[t])+":"+e+"] "};var xi=function(){this.type=74,this.name="CSMTextSettings",this.version=8,this.level=1};(i["format.swf.tags.TagCSMTextSettings"]=xi).__name__=["format","swf","tags","TagCSMTextSettings"],xi.__interfaces__=[vi],xi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.textId=G.readUI16(t),this.useFlashType=G.readUB(t,2),this.gridFit=G.readUB(t,3),G.readUB(t,3),this.thickness=G.readFIXED(t),this.sharpness=G.readFIXED(t),G.readUI8(t)},publish:function(t,e){G.writeTagHeader(t,this.type,12),G.writeUI16(t,this.textId),G.writeUB(t,2,this.useFlashType),G.writeUB(t,3,this.gridFit),G.writeUB(t,3,0),G.writeFIXED(t,this.thickness),G.writeFIXED(t,this.sharpness),G.writeUI8(t,0)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"TextID: "+this.textId+", UseFlashType: "+this.useFlashType+", GridFit: "+this.gridFit+", Thickness: "+this.thickness+", Sharpness: "+this.sharpness},__class__:xi};var Ti=function(){this.type=63,this.name="DebugID",this.version=6,this.level=1;var t=new Zn(0);this.uuid=t};(i["format.swf.tags.TagDebugID"]=Ti).__name__=["format","swf","tags","TagDebugID"],Ti.__interfaces__=[vi],Ti.prototype={parse:function(t,e,i,n){null==n&&(n=!1),0<e&&t.readBytes(this.uuid,0,e)},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.uuid)),0<J_.get_length(this.uuid)&&t.writeBytes(this.uuid)},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"UUID: ";return 16==J_.get_length(this.uuid)?(e+=ns.printf("%02x%02x%02x%02x-",[this.uuid.b[0],this.uuid.b[1],this.uuid.b[2],this.uuid.b[3]]),e+=ns.printf("%02x%02x-",[this.uuid.b[4],this.uuid.b[5]]),e+=ns.printf("%02x%02x-",[this.uuid.b[6],this.uuid.b[7]]),e+=ns.printf("%02x%02x-",[this.uuid.b[8],this.uuid.b[9]]),e+=ns.printf("%02x%02x%02x%02x%02x%02x",[this.uuid.b[10],this.uuid.b[11],this.uuid.b[12],this.uuid.b[13],this.uuid.b[14],this.uuid.b[15]])):e+="(invalid length: "+J_.get_length(this.uuid)+")",e},__class__:Ti};var Si=function(){this.type=87,this.name="DefineBinaryData",this.version=9,this.level=1;var t=new Zn(0);this.binaryData=t};(i["format.swf.tags.TagDefineBinaryData"]=Si).__name__=["format","swf","tags","TagDefineBinaryData"],Si.__interfaces__=[bi],Si.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),G.readUI32(t),6<e&&t.readBytes(this.binaryData,0,e-6)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeUI32(i,0),0<J_.get_length(this.binaryData)&&i.writeBytes(this.binaryData),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Si;return t.characterId=this.characterId,0<J_.get_length(this.binaryData)&&t.binaryData.writeBytes(this.binaryData),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Length: "+J_.get_length(this.binaryData)},__class__:Si};var Ei=function(){this.bitmapType=1,this.type=6,this.name="DefineBits",this.version=1,this.level=1;var t=new Zn(0);this.bitmapData=t};(i["format.swf.tags.TagDefineBits"]=Ei).__name__=["format","swf","tags","TagDefineBits"],Ei.__interfaces__=[bi],Ei.parseJpegChunks=function(t){for(var e=0,i=J_.get_length(t);e<i&&(255!=t.b[e]||e+1<i&&(0==t.b[e+1]||255==t.b[e+1]));)++e;for(;e<i;){e++;var n=t.b[e++];if(192<=n&&n<=199||201<=n&&n<=207||218<=n&&n<=239||254==n)e+=t.b[e]<<8+t.b[e+1];for(;e<i&&(255!=t.b[e]||e+1<i&&(0==t.b[e+1]||255==t.b[e+1]));)++e;216!=n&&217!=n&&ls.trace("Unsupported: Implement for current platform",{fileName:"TagDefineBits.hx",lineNumber:132,className:"format.swf.tags.TagDefineBits",methodName:"parseJpegChunks"})}return[]},Ei.hasErrorHeader=function(t){return 4<J_.get_length(t)&&255==t.b[0]&&217==t.b[1]&&255==t.b[2]&&216==t.b[3]},Ei.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),2<e&&(t.readBytes(this.bitmapData,0,e-2),Ei.hasErrorHeader(this.bitmapData)&&ls.trace("Unsupported: Implement for current platform",{fileName:"TagDefineBits.hx",lineNumber:46,className:"format.swf.tags.TagDefineBits",methodName:"parse"}))},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.bitmapData)+2,!0),G.writeUI16(t,this.characterId),0<J_.get_length(this.bitmapData)&&t.writeBytes(this.bitmapData)},clone:function(){var t=new Ei;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,0<J_.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),t},exportBitmapData:function(t){this.onCompleteCallback=t,this.loader=new Ll,this.loader.contentLoaderInfo.addEventListener("complete",Hu(this,this.exportCompleteHandler)),this.loader.loadBytes(this.bitmapData)},exportCompleteHandler:function(t){var e=t.target.loader,i=new _l(Math.ceil(e.content.get_width()),Math.ceil(e.content.get_height()));i.draw(e),this.instance=i,this.onCompleteCallback(i)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", BitmapLength: "+J_.get_length(this.bitmapData)},getOriginalImageData:function(t){var e=new Zn(0),i=Ei.parseJpegChunks(this.bitmapData),n=!1;if(null!=t&&0!=J_.get_length(t))for(var s=0;s<i.length;){var r=i[s];++s;var a=r.b[1];if(196==a||219==a){n=!0;break}}if(e.writeByte(255),e.writeByte(216),n||null==t||0==J_.get_length(t))for(var o=0;o<i.length;){var l=i[o];++o,e.writeBytes(l)}else{Ei.hasErrorHeader(t)&&ls.trace("Unsupported: Implement for current platform",{fileName:"TagDefineBits.hx",lineNumber:166,className:"format.swf.tags.TagDefineBits",methodName:"getOriginalImageData"});for(var h=!1,_=Ei.parseJpegChunks(t),u=0;u<i.length;){var c=i[u];++u;var f=c.b[1];if(!h&&192<=f&&f<=207){for(var d=0;d<_.length;){var p=_[d];++d,e.writeBytes(p)}h=!0}e.writeBytes(c)}}return e.writeByte(255),e.writeByte(217),e},__class__:Ei};var Ii=function(){Ei.call(this),this.type=21,this.name="DefineBitsJPEG2",this.version=2,this.level=2};(i["format.swf.tags.TagDefineBitsJPEG2"]=Ii).__name__=["format","swf","tags","TagDefineBitsJPEG2"],Ii.__interfaces__=[bi],Ii.__super__=Ei,Ii.prototype=n(Ei.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),Ei.prototype.parse.call(this,t,e,i),255!=this.bitmapData.b[0]||216!=this.bitmapData.b[1]&&217!=this.bitmapData.b[1]?137==this.bitmapData.b[0]&&80==this.bitmapData.b[1]&&78==this.bitmapData.b[2]&&71==this.bitmapData.b[3]&&13==this.bitmapData.b[4]&&10==this.bitmapData.b[5]&&26==this.bitmapData.b[6]&&10==this.bitmapData.b[7]?this.bitmapType=3:71==this.bitmapData.b[0]&&73==this.bitmapData.b[1]&&70==this.bitmapData.b[2]&&56==this.bitmapData.b[3]&&57==this.bitmapData.b[4]&&97==this.bitmapData.b[5]&&(this.bitmapType=2):this.bitmapType=1,1!=this.bitmapType&&(i=8)},clone:function(){var t=new Ii;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,0<J_.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Type: "+$t.toString(this.bitmapType)+", BitmapLength: "+J_.get_length(this.bitmapData)},__class__:Ii});var Pi=function(){Ii.call(this),this.type=35,this.name="DefineBitsJPEG3",this.version=3,this.level=3;var t=new Zn(0);this.bitmapAlphaData=t};(i["format.swf.tags.TagDefineBitsJPEG3"]=Pi).__name__=["format","swf","tags","TagDefineBitsJPEG3"],Pi.__interfaces__=[bi],Pi.__super__=Ii,Pi.prototype=n(Ii.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t);var s=G.readUI32(t);t.readBytes(this.bitmapData,0,s),255!=this.bitmapData.b[0]||216!=this.bitmapData.b[1]&&217!=this.bitmapData.b[1]?137==this.bitmapData.b[0]&&80==this.bitmapData.b[1]&&78==this.bitmapData.b[2]&&71==this.bitmapData.b[3]&&13==this.bitmapData.b[4]&&10==this.bitmapData.b[5]&&26==this.bitmapData.b[6]&&10==this.bitmapData.b[7]?this.bitmapType=3:71==this.bitmapData.b[0]&&73==this.bitmapData.b[1]&&70==this.bitmapData.b[2]&&56==this.bitmapData.b[3]&&57==this.bitmapData.b[4]&&97==this.bitmapData.b[5]&&(this.bitmapType=2):this.bitmapType=1;var r=e-s-6;0<r&&t.readBytes(this.bitmapAlphaData,0,r),this.bitmapType},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.bitmapData)+J_.get_length(this.bitmapAlphaData)+6,!0),G.writeUI16(t,this.characterId),G.writeUI32(t,J_.get_length(this.bitmapData)),0<J_.get_length(this.bitmapData)&&t.writeBytes(this.bitmapData),0<J_.get_length(this.bitmapAlphaData)&&t.writeBytes(this.bitmapAlphaData)},clone:function(){var t=new Pi;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,0<J_.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),0<J_.get_length(this.bitmapAlphaData)&&t.bitmapAlphaData.writeBytes(this.bitmapAlphaData),t},exportCompleteHandler:function(t){var e=t.target.loader,i=new _l(Math.ceil(e.content.get_width()),Math.ceil(e.content.get_height()),!0);i.draw(e);try{this.bitmapAlphaData.uncompress()}catch(t){rs.lastException=t}for(var n=function(t){return 255<t?255:t<0?0:0|t},s=this.bitmapAlphaData.position=0,r=i.physicalHeight;s<r;)for(var a=s++,o=0,l=i.physicalWidth;o<l;){var h=o++,_=this.bitmapAlphaData.readUnsignedByte(),u=255/_,c=i.getPixel(h,a),f=n((c>>16&255)*u),d=n((c>>8&255)*u),p=n((255&c)*u);i.setPixel32(h,a,(_<<24)+(f<<16)+(d<<8)+p)}this.instance=i,this.onCompleteCallback(i)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Type: "+$t.toString(this.bitmapType)+", HasAlphaData: "+L.string(0<J_.get_length(this.bitmapAlphaData))+", "+(0<J_.get_length(this.bitmapAlphaData)?"BitmapAlphaLength: "+J_.get_length(this.bitmapAlphaData)+", ":"")+"BitmapLength: "+J_.get_length(this.bitmapData)},__class__:Pi});var Ci=function(){Pi.call(this),this.type=90,this.name="DefineBitsJPEG4",this.version=10,this.level=4};(i["format.swf.tags.TagDefineBitsJPEG4"]=Ci).__name__=["format","swf","tags","TagDefineBitsJPEG4"],Ci.__interfaces__=[bi],Ci.__super__=Pi,Ci.prototype=n(Pi.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t);var s=G.readUI32(t);this.deblockParam=G.readFIXED8(t),t.readBytes(this.bitmapData,0,s),255!=this.bitmapData.b[0]||216!=this.bitmapData.b[1]&&217!=this.bitmapData.b[1]?137==this.bitmapData.b[0]&&80==this.bitmapData.b[1]&&78==this.bitmapData.b[2]&&71==this.bitmapData.b[3]&&13==this.bitmapData.b[4]&&10==this.bitmapData.b[5]&&26==this.bitmapData.b[6]&&10==this.bitmapData.b[7]?this.bitmapType=3:71==this.bitmapData.b[0]&&73==this.bitmapData.b[1]&&70==this.bitmapData.b[2]&&56==this.bitmapData.b[3]&&57==this.bitmapData.b[4]&&97==this.bitmapData.b[5]&&(this.bitmapType=2):this.bitmapType=1;var r=e-s-6;0<r&&t.readBytes(this.bitmapAlphaData,0,r)},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.bitmapData)+J_.get_length(this.bitmapAlphaData)+6,!0),G.writeUI16(t,this.characterId),G.writeUI32(t,J_.get_length(this.bitmapData)),G.writeFIXED8(t,this.deblockParam),0<J_.get_length(this.bitmapData)&&t.writeBytes(this.bitmapData),0<J_.get_length(this.bitmapAlphaData)&&t.writeBytes(this.bitmapAlphaData)},clone:function(){var t=new Ci;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,t.deblockParam=this.deblockParam,0<J_.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),0<J_.get_length(this.bitmapAlphaData)&&t.bitmapAlphaData.writeBytes(this.bitmapAlphaData),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Type: "+$t.toString(this.bitmapType)+", DeblockParam: "+this.deblockParam+", HasAlphaData: "+L.string(0<J_.get_length(this.bitmapAlphaData))+", "+(0<J_.get_length(this.bitmapAlphaData)?"BitmapAlphaLength: "+J_.get_length(this.bitmapAlphaData)+", ":"")+"BitmapLength: "+J_.get_length(this.bitmapData)},__class__:Ci});var Di=function(){this.type=20,this.name="DefineBitsLossless",this.version=2,this.level=1;var t=new Zn(0);this.zlibBitmapData=t};(i["format.swf.tags.TagDefineBitsLossless"]=Di).__name__=["format","swf","tags","TagDefineBitsLossless"],Di.__interfaces__=[bi],Di.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.bitmapFormat=G.readUI8(t),this.bitmapWidth=G.readUI16(t),this.bitmapHeight=G.readUI16(t),3==this.bitmapFormat&&(this.bitmapColorTableSize=G.readUI8(t)+1),t.readBytes(this.zlibBitmapData,0,e-(3==this.bitmapFormat?8:7))},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeUI8(i,this.bitmapFormat),G.writeUI16(i,this.bitmapWidth),G.writeUI16(i,this.bitmapHeight),3==this.bitmapFormat&&G.writeUI8(i,this.bitmapColorTableSize-1),0<J_.get_length(this.zlibBitmapData)&&i.writeBytes(this.zlibBitmapData),G.writeTagHeader(t,this.type,G.get_length(i),!0),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Di;return t.characterId=this.characterId,t.bitmapFormat=this.bitmapFormat,t.bitmapWidth=this.bitmapWidth,t.bitmapHeight=this.bitmapHeight,0<J_.get_length(this.zlibBitmapData)&&t.zlibBitmapData.writeBytes(this.zlibBitmapData),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Format: "+Qt.toString(this.bitmapFormat)+", Size: ("+this.bitmapWidth+","+this.bitmapHeight+")"},__class__:Di};var Ai=function(){Di.call(this),this.type=36,this.name="DefineBitsLossless2",this.version=3,this.level=2};(i["format.swf.tags.TagDefineBitsLossless2"]=Ai).__name__=["format","swf","tags","TagDefineBitsLossless2"],Ai.__super__=Di,Ai.prototype=n(Di.prototype,{clone:function(){var t=new Ai;return t.characterId=this.characterId,t.bitmapFormat=this.bitmapFormat,t.bitmapWidth=this.bitmapWidth,t.bitmapHeight=this.bitmapHeight,0<J_.get_length(this.zlibBitmapData)&&t.zlibBitmapData.writeBytes(this.zlibBitmapData),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Format: "+Qt.toString(this.bitmapFormat)+", Size: ("+this.bitmapWidth+","+this.bitmapHeight+")"},__class__:Ai});var Ri=function(){this.type=7,this.name="DefineButton",this.version=1,this.level=1,this.characters=[],this.actions=[],this.frames=new gs};(i["format.swf.tags.TagDefineButton"]=Ri).__name__=["format","swf","tags","TagDefineButton"],Ri.__interfaces__=[bi],Ri.prototype={parse:function(t,e,i,n){var s,r;for(null==n&&(n=!1),this.characterId=G.readUI16(t);null!=(s=G.readBUTTONRECORD(t));)this.characters.push(s);for(;null!=(r=G.readACTIONRECORD(t));)this.actions.push(r);this.processRecords()},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId);for(var n=0,s=this.characters.length;n<s;){var r=n++;G.writeBUTTONRECORD(t,this.characters[r])}G.writeUI8(t,0);for(var a=0,o=this.actions.length;a<o;){var l=a++;G.writeACTIONRECORD(t,this.actions[l])}G.writeUI8(t,0),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Ri;t.characterId=this.characterId;for(var e=0,i=this.characters.length;e<i;){var n=e++;t.characters.push(this.characters[n].clone())}for(var s=0,r=this.actions.length;s<r;){var a=s++;t.actions.push(this.actions[a].clone())}return t},getRecordsByState:function(t){var e=this.frames;return null!=Zu[t]?e.getReserved(t):e.h[t]},processRecords:function(){for(var t=[],e=[],i=[],n=[],s=0,r=this.characters.length;s<r;){var a=s++,o=this.characters[a];o.stateUp&&t.push(o),o.stateOver&&e.push(o),o.stateDown&&i.push(o),o.stateHitTest&&n.push(o)}t.sort(Hu(this,this.sortByDepthCompareFunction)),e.sort(Hu(this,this.sortByDepthCompareFunction)),i.sort(Hu(this,this.sortByDepthCompareFunction)),n.sort(Hu(this,this.sortByDepthCompareFunction));var l=this.frames;null!=Zu.up?l.setReserved("up",t):l.h.up=t;var h=this.frames;null!=Zu.over?h.setReserved("over",e):h.h.over=e;var _=this.frames;null!=Zu.down?_.setReserved("down",i):_.h.down=i;var u=this.frames;null!=Zu.hit?u.setReserved("hit",n):u.h.hit=n},sortByDepthCompareFunction:function(t,e){return t.placeDepth<e.placeDepth?-1:t.placeDepth>e.placeDepth?1:0},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;if(0<this.characters.length){e+="\n"+ns.repeat(t+2)+"Characters:";for(var i=0,n=this.characters.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+4)+"["+s+"] "+this.characters[s].toString(t+4)}}if(0<this.actions.length){e+="\n"+ns.repeat(t+2)+"Actions:";for(var r=0,a=this.actions.length;r<a;){var o=r++;e+="\n"+ns.repeat(t+4)+"["+o+"] "+this.actions[o].toString(t+4)}}return e},__class__:Ri};var Mi=function(){this.type=34,this.name="DefineButton2",this.version=3,this.level=2,this.characters=[],this.condActions=[],this.frames=new gs};(i["format.swf.tags.TagDefineButton2"]=Mi).__name__=["format","swf","tags","TagDefineButton2"],Mi.__interfaces__=[bi],Mi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.trackAsMenu=0!=(1&G.readUI8(t));for(var s,r=G.readUI16(t);null!=(s=G.readBUTTONRECORD(t,2));)this.characters.push(s);if(0!=r)for(var a;a=G.readUI16(t),this.condActions.push(G.readBUTTONCONDACTION(t)),0!=a;);this.processRecords()},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeUI8(i,this.trackAsMenu?1:0);for(var n=0<this.condActions.length,s=G._new(),r=0,a=this.characters.length;r<a;){var o=r++;G.writeBUTTONRECORD(s,this.characters[o],2)}if(G.writeUI8(s,0),G.writeUI16(i,n?G.get_length(s)+2:0),i.writeBytes(J_.fromBytes(s)),n)for(var l=0,h=this.condActions.length;l<h;){var _=l++,u=G._new();G.writeBUTTONCONDACTION(u,this.condActions[_]),G.writeUI16(i,_<this.condActions.length-1?G.get_length(u)+2:0),i.writeBytes(J_.fromBytes(u))}G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Mi;t.characterId=this.characterId,t.trackAsMenu=this.trackAsMenu;for(var e=0,i=this.characters.length;e<i;){var n=e++;t.characters.push(this.characters[n].clone())}for(var s=0,r=this.condActions.length;s<r;){var a=s++;t.condActions.push(this.condActions[a].clone())}return t},getRecordsByState:function(t){var e=this.frames;return null!=Zu[t]?e.getReserved(t):e.h[t]},processRecords:function(){for(var t=[],e=[],i=[],n=[],s=0,r=this.characters.length;s<r;){var a=s++,o=this.characters[a];o.stateUp&&t.push(o),o.stateOver&&e.push(o),o.stateDown&&i.push(o),o.stateHitTest&&n.push(o)}t.sort(Hu(this,this.sortByDepthCompareFunction)),e.sort(Hu(this,this.sortByDepthCompareFunction)),i.sort(Hu(this,this.sortByDepthCompareFunction)),n.sort(Hu(this,this.sortByDepthCompareFunction));var l=this.frames;null!=Zu.up?l.setReserved("up",t):l.h.up=t;var h=this.frames;null!=Zu.over?h.setReserved("over",e):h.h.over=e;var _=this.frames;null!=Zu.down?_.setReserved("down",i):_.h.down=i;var u=this.frames;null!=Zu.hit?u.setReserved("hit",n):u.h.hit=n},sortByDepthCompareFunction:function(t,e){return t.placeDepth<e.placeDepth?-1:t.placeDepth>e.placeDepth?1:0},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", TrackAsMenu: "+L.string(this.trackAsMenu);if(0<this.characters.length){e+="\n"+ns.repeat(t+2)+"Characters:";for(var i=0,n=this.characters.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+4)+"["+s+"] "+this.characters[s].toString(t+4)}}if(0<this.condActions.length){e+="\n"+ns.repeat(t+2)+"CondActions:";for(var r=0,a=this.condActions.length;r<a;){var o=r++;e+="\n"+ns.repeat(t+4)+"["+o+"] "+this.condActions[o].toString(t+4)}}return e},__class__:Mi};var Fi=function(){this.type=23,this.name="DefineButtonCxform",this.version=2,this.level=1};(i["format.swf.tags.TagDefineButtonCxform"]=Fi).__name__=["format","swf","tags","TagDefineButtonCxform"],Fi.__interfaces__=[bi],Fi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.buttonColorTransform=G.readCXFORM(t)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeCXFORM(i,this.buttonColorTransform),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Fi;return t.characterId=this.characterId,t.buttonColorTransform=this.buttonColorTransform.clone(),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", ColorTransform: "+L.string(this.buttonColorTransform)},__class__:Fi};var Bi=function(){this.type=17,this.name="DefineButtonSound",this.version=2,this.level=1};(i["format.swf.tags.TagDefineButtonSound"]=Bi).__name__=["format","swf","tags","TagDefineButtonSound"],Bi.__interfaces__=[bi],Bi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.buttonSoundChar0=G.readUI16(t),0!=this.buttonSoundChar0&&(this.buttonSoundInfo0=G.readSOUNDINFO(t)),this.buttonSoundChar1=G.readUI16(t),0!=this.buttonSoundChar1&&(this.buttonSoundInfo1=G.readSOUNDINFO(t)),this.buttonSoundChar2=G.readUI16(t),0!=this.buttonSoundChar2&&(this.buttonSoundInfo2=G.readSOUNDINFO(t)),this.buttonSoundChar3=G.readUI16(t),0!=this.buttonSoundChar3&&(this.buttonSoundInfo3=G.readSOUNDINFO(t))},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeUI16(i,this.buttonSoundChar0),0!=this.buttonSoundChar0&&G.writeSOUNDINFO(i,this.buttonSoundInfo0),G.writeUI16(i,this.buttonSoundChar1),0!=this.buttonSoundChar1&&G.writeSOUNDINFO(i,this.buttonSoundInfo1),G.writeUI16(i,this.buttonSoundChar2),0!=this.buttonSoundChar2&&G.writeSOUNDINFO(i,this.buttonSoundInfo2),G.writeUI16(i,this.buttonSoundChar3),0!=this.buttonSoundChar3&&G.writeSOUNDINFO(i,this.buttonSoundInfo3),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Bi;return t.characterId=this.characterId,t.buttonSoundChar0=this.buttonSoundChar0,t.buttonSoundChar1=this.buttonSoundChar1,t.buttonSoundChar2=this.buttonSoundChar2,t.buttonSoundChar3=this.buttonSoundChar3,t.buttonSoundInfo0=this.buttonSoundInfo0.clone(),t.buttonSoundInfo1=this.buttonSoundInfo1.clone(),t.buttonSoundInfo2=this.buttonSoundInfo2.clone(),t.buttonSoundInfo3=this.buttonSoundInfo3.clone(),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ButtonID: "+this.characterId+", ButtonSoundChars: "+this.buttonSoundChar0+","+this.buttonSoundChar1+","+this.buttonSoundChar2+","+this.buttonSoundChar3},__class__:Bi};var Li=function(){this.type=37,this.name="DefineEditText",this.version=4,this.level=1};(i["format.swf.tags.TagDefineEditText"]=Li).__name__=["format","swf","tags","TagDefineEditText"],Li.__interfaces__=[bi],Li.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.bounds=G.readRECT(t);var s=G.readUI8(t);this.hasText=0!=(128&s),this.wordWrap=0!=(64&s),this.multiline=0!=(32&s),this.password=0!=(16&s),this.readOnly=0!=(8&s),this.hasTextColor=0!=(4&s),this.hasMaxLength=0!=(2&s),this.hasFont=0!=(1&s);var r=G.readUI8(t);this.hasFontClass=0!=(128&r),this.autoSize=0!=(64&r),this.hasLayout=0!=(32&r),this.noSelect=0!=(16&r),this.border=0!=(8&r),this.wasStatic=0!=(4&r),this.html=0!=(2&r),this.useOutlines=0!=(1&r),this.hasFont&&(this.fontId=G.readUI16(t)),this.hasFontClass&&(this.fontClass=G.readSTRING(t)),this.hasFont&&(this.fontHeight=G.readUI16(t)),this.hasTextColor&&(this.textColor=G.readRGBA(t)),this.hasMaxLength&&(this.maxLength=G.readUI16(t)),this.hasLayout&&(this.align=G.readUI8(t),this.leftMargin=G.readUI16(t),this.rightMargin=G.readUI16(t),this.indent=G.readUI16(t),this.leading=G.readSI16(t)),this.variableName=G.readSTRING(t),this.hasText&&(this.initialText=G.readSTRING(t))},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeRECT(i,this.bounds);var n=0;this.hasText&&(n|=128),this.wordWrap&&(n|=64),this.multiline&&(n|=32),this.password&&(n|=16),this.readOnly&&(n|=8),this.hasTextColor&&(n|=4),this.hasMaxLength&&(n|=2),this.hasFont&&(n|=1),G.writeUI8(i,n);var s=0;this.hasFontClass&&(s|=128),this.autoSize&&(s|=64),this.hasLayout&&(s|=32),this.noSelect&&(s|=16),this.border&&(s|=8),this.wasStatic&&(s|=4),this.html&&(s|=2),this.useOutlines&&(s|=1),G.writeUI8(i,s),this.hasFont&&G.writeUI16(i,this.fontId),this.hasFontClass&&G.writeSTRING(i,this.fontClass),this.hasFont&&G.writeUI16(i,this.fontHeight),this.hasTextColor&&G.writeRGBA(i,this.textColor),this.hasMaxLength&&G.writeUI16(i,this.maxLength),this.hasLayout&&(G.writeUI8(i,this.align),G.writeUI16(i,this.leftMargin),G.writeUI16(i,this.rightMargin),G.writeUI16(i,this.indent),G.writeSI16(i,this.leading)),G.writeSTRING(i,this.variableName),this.hasText&&G.writeSTRING(i,this.initialText),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Li;return t.characterId=this.characterId,t.bounds=this.bounds.clone(),t.variableName=this.variableName,t.hasText=this.hasText,t.wordWrap=this.wordWrap,t.multiline=this.multiline,t.password=this.password,t.readOnly=this.readOnly,t.hasTextColor=this.hasTextColor,t.hasMaxLength=this.hasMaxLength,t.hasFont=this.hasFont,t.hasFontClass=this.hasFontClass,t.autoSize=this.autoSize,t.hasLayout=this.hasLayout,t.noSelect=this.noSelect,t.border=this.border,t.wasStatic=this.wasStatic,t.html=this.html,t.useOutlines=this.useOutlines,t.fontId=this.fontId,t.fontClass=this.fontClass,t.fontHeight=this.fontHeight,t.textColor=this.textColor,t.maxLength=this.maxLength,t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.initialText=this.initialText,t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", "+(this.hasText&&0<this.initialText.length?"Text: "+this.initialText+", ":"")+(0<this.variableName.length?"VariableName: "+this.variableName+", ":"")+"Bounds: "+L.string(this.bounds)},__class__:Li};var ki=function(){this.type=10,this.name="DefineFont",this.version=1,this.level=1,this.glyphShapeTable=[]};(i["format.swf.tags.TagDefineFont"]=ki).__name__=["format","swf","tags","TagDefineFont"],ki.__interfaces__=[bi],ki.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t);var s=G.readUI16(t)>>1;G.skipBytes(t,s-1<<1);for(var r=0,a=s;r<a;){r++;this.glyphShapeTable.push(G.readSHAPE(t,ki.unitDivisor))}},publish:function(t,e){var i=G._new(),n=this.glyphShapeTable.length,s=G._new();G.writeUI16(i,this.characterId);for(var r=n<<1,a=0,o=n;a<o;){var l=a++;G.writeUI16(i,s.position+r),G.writeSHAPE(s,this.glyphShapeTable[l])}i.writeBytes(J_.fromBytes(s)),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){throw new Vs(new vh("Not implemented yet."))},export:function(t,e){this.glyphShapeTable[e].export(t)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Glyphs: "+this.glyphShapeTable.length+this.toStringCommon(t)},toStringCommon:function(t){for(var e="",i=0,n=this.glyphShapeTable.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+2)+"["+s+"] GlyphShapes:",e+=this.glyphShapeTable[s].toString(t+4)}return e},__class__:ki};var Ni=function(){ki.call(this),this.type=48,this.name="DefineFont2",this.version=3,this.level=2,this.codeTable=[],this.fontAdvanceTable=[],this.fontBoundsTable=[],this.fontKerningTable=[]};(i["format.swf.tags.TagDefineFont2"]=Ni).__name__=["format","swf","tags","TagDefineFont2"],Ni.__interfaces__=[bi],Ni.__super__=ki,Ni.prototype=n(ki.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t);var s=G.readUI8(t);this.hasLayout=0!=(128&s),this.shiftJIS=0!=(64&s),this.smallText=0!=(32&s),this.ansi=0!=(16&s),this.wideOffsets=0!=(8&s),this.wideCodes=0!=(4&s),this.italic=0!=(2&s),this.bold=0!=(1&s),this.languageCode=G.readLANGCODE(t);var r=G.readUI8(t),a=new Zn(0);t.readBytes(a,0,r),this.fontName=a.readUTFBytes(r);var o=G.readUI16(t);if(0<o){G.skipBytes(t,o<<(this.wideOffsets?2:1)),this.wideOffsets?G.readUI32(t):G.readUI16(t);for(var l=0,h=o;l<h;){l++;this.glyphShapeTable.push(G.readSHAPE(t))}for(var _=0,u=o;_<u;){_++;this.codeTable.push(this.wideCodes?G.readUI16(t):G.readUI8(t))}}if(this.hasLayout){this.ascent=G.readUI16(t),this.descent=G.readUI16(t),this.leading=G.readSI16(t);for(var c=0,f=o;c<f;){c++;this.fontAdvanceTable.push(G.readSI16(t))}for(var d=0,p=o;d<p;){d++;this.fontBoundsTable.push(G.readRECT(t))}for(var g=0,m=G.readUI16(t);g<m;){g++;this.fontKerningTable.push(G.readKERNINGRECORD(t,this.wideCodes))}}},publish:function(t,e){var i=G._new(),n=this.glyphShapeTable.length;G.writeUI16(i,this.characterId);var s=0;this.hasLayout&&(s|=128),this.shiftJIS&&(s|=64),this.smallText&&(s|=32),this.ansi&&(s|=16),this.wideOffsets&&(s|=8),this.wideCodes&&(s|=4),this.italic&&(s|=2),this.bold&&(s|=1),G.writeUI8(i,s),G.writeLANGCODE(i,this.languageCode);var r=new Zn(0);if(r.writeUTFBytes(this.fontName),G.writeUI8(i,J_.get_length(r)),i.writeBytes(r),G.writeUI16(i,n),0<n){for(var a=n<<(this.wideOffsets?2:1),o=this.wideOffsets?4:2,l=(this.wideOffsets,a+o),h=G._new(),_=0,u=n;_<u;){var c=_++;this.wideOffsets?G.writeUI32(i,l+h.position):G.writeUI16(i,l+h.position),G.writeSHAPE(h,this.glyphShapeTable[c])}this.wideOffsets?G.writeUI32(i,l+G.get_length(h)):G.writeUI16(i,l+G.get_length(h)),i.writeBytes(J_.fromBytes(h));for(var f=0,d=n;f<d;){var p=f++;this.wideCodes?G.writeUI16(i,this.codeTable[p]):G.writeUI8(i,this.codeTable[p])}}if(this.hasLayout){G.writeUI16(i,this.ascent),G.writeUI16(i,this.descent),G.writeSI16(i,this.leading);for(var g=0,m=n;g<m;){var v=g++;G.writeSI16(i,this.fontAdvanceTable[v])}for(var b=0,y=n;b<y;){var w=b++;G.writeRECT(i,this.fontBoundsTable[w])}var x=this.fontKerningTable.length;G.writeUI16(i,x);for(var T=0,S=x;T<S;){var E=T++;G.writeKERNINGRECORD(i,this.fontKerningTable[E],this.wideCodes)}}G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FontName: "+this.fontName+", Italic: "+L.string(this.italic)+", Bold: "+L.string(this.bold)+", Glyphs: "+this.glyphShapeTable.length+this.toStringCommon(t)},toStringCommon:function(t){var e=ki.prototype.toStringCommon.call(this,t);if(this.hasLayout&&(e+="\n"+ns.repeat(t+2)+"Ascent: "+this.ascent,e+="\n"+ns.repeat(t+2)+"Descent: "+this.descent,e+="\n"+ns.repeat(t+2)+"Leading: "+this.leading),0<this.codeTable.length){e+="\n"+ns.repeat(t+2)+"CodeTable:";for(var i=0,n=this.codeTable.length;i<n;){var s=i++;e+=0==(15&s)?"\n"+ns.repeat(t+4)+L.string(this.codeTable[s]):", "+L.string(this.codeTable[s])}}if(0<this.fontAdvanceTable.length){e+="\n"+ns.repeat(t+2)+"FontAdvanceTable:";for(var r=0,a=this.fontAdvanceTable.length;r<a;){var o=r++;e+=0==(7&o)?"\n"+ns.repeat(t+4)+L.string(this.fontAdvanceTable[o]):", "+L.string(this.fontAdvanceTable[o])}}if(0<this.fontBoundsTable.length){for(var l=!1,h=0,_=this.fontBoundsTable.length;h<_;){var u=h++,c=this.fontBoundsTable[u];if(0!=c.xmin||0!=c.xmax||0!=c.ymin||0!=c.ymax){l=!0;break}}if(l){e+="\n"+ns.repeat(t+2)+"FontBoundsTable:";for(var f=0,d=this.fontBoundsTable.length;f<d;){var p=f++;e+="\n"+ns.repeat(t+4)+"["+p+"] "+this.fontBoundsTable[p].toString()}}}if(0<this.fontKerningTable.length){e+="\n"+ns.repeat(t+2)+"KerningTable:";for(var g=0,m=this.fontKerningTable.length;g<m;){var v=g++;e+="\n"+ns.repeat(t+4)+"["+v+"] "+this.fontKerningTable[v].toString()}}return e},__class__:Ni});var Oi=function(){Ni.call(this),this.type=75,this.name="DefineFont3",this.version=8,this.level=2};(i["format.swf.tags.TagDefineFont3"]=Oi).__name__=["format","swf","tags","TagDefineFont3"],Oi.__interfaces__=[bi],Oi.__super__=Ni,Oi.prototype=n(Ni.prototype,{toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FontName: "+this.fontName+", Italic: "+L.string(this.italic)+", Bold: "+L.string(this.bold)+", Glyphs: "+this.glyphShapeTable.length+this.toStringCommon(t)},__class__:Oi});var Ui=function(){this.type=91,this.name="DefineFont4",this.version=10,this.level=1;var t=new Zn(0);this.fontData=t};(i["format.swf.tags.TagDefineFont4"]=Ui).__name__=["format","swf","tags","TagDefineFont4"],Ui.__interfaces__=[bi],Ui.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position;this.characterId=G.readUI16(t);var r=G.readUI8(t);this.hasFontData=0!=(4&r),this.italic=0!=(2&r),this.bold=0!=(1&r),this.fontName=G.readSTRING(t),this.hasFontData&&e>(0|t.position)-s&&t.readBytes(this.fontData,0,e-(t.position-s))},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId);var n=0;this.hasFontData&&(n|=4),this.italic&&(n|=2),this.bold&&(n|=1),G.writeUI8(i,n),G.writeSTRING(i,this.fontName),this.hasFontData&&0<J_.get_length(this.fontData)&&i.writeBytes(this.fontData),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Ui;return t.characterId=this.characterId,t.hasFontData=this.hasFontData,t.italic=this.italic,t.bold=this.bold,t.fontName=this.fontName,0<J_.get_length(this.fontData)&&t.fontData.writeBytes(this.fontData),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FontName: "+this.fontName+", HasFontData: "+L.string(this.hasFontData)+", Italic: "+L.string(this.italic)+", Bold: "+L.string(this.bold)},__class__:Ui};var Gi=function(){this.type=73,this.name="DefineFontAlignZones",this.version=8,this.level=1,this.zoneTable=[]};(i["format.swf.tags.TagDefineFontAlignZones"]=Gi).__name__=["format","swf","tags","TagDefineFontAlignZones"],Gi.__interfaces__=[vi],Gi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.fontId=G.readUI16(t),this.csmTableHint=G.readUI8(t)>>6;for(var s=t.position+e-3;(0|t.position)<s;)this.zoneTable.push(G.readZONERECORD(t))},publish:function(t,e){var i=G._new();G.writeUI16(i,this.fontId),G.writeUI8(i,this.csmTableHint<<6);for(var n=0,s=this.zoneTable.length;n<s;){var r=n++;G.writeZONERECORD(i,this.zoneTable[r])}G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);for(var e=wi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", CSMTableHint: "+ee.toString(this.csmTableHint)+", Records: "+this.zoneTable.length,i=0,n=this.zoneTable.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+2)+"["+s+"] "+this.zoneTable[s].toString(t+2)}return e},__class__:Gi};var Xi=function(){this.langCodeLength=0,this.langCode=0,this.type=13,this.name="DefineFontInfo",this.version=1,this.level=1,this.codeTable=[]};(i["format.swf.tags.TagDefineFontInfo"]=Xi).__name__=["format","swf","tags","TagDefineFontInfo"],Xi.__interfaces__=[vi],Xi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.fontId=G.readUI16(t);var s=G.readUI8(t),r=new Zn(0);t.readBytes(r,0,s),this.fontName=r.readUTFBytes(s);var a=G.readUI8(t);this.smallText=0!=(32&a),this.shiftJIS=0!=(16&a),this.ansi=0!=(8&a),this.italic=0!=(4&a),this.bold=0!=(2&a),this.wideCodes=0!=(1&a),this.parseLangCode(t);var o=e-s-this.langCodeLength-4;this.wideCodes&&(o>>=1);for(var l=0,h=o;l<h;){l++;this.codeTable.push(this.wideCodes?G.readUI16(t):G.readUI8(t))}},publish:function(t,e){var i=G._new();G.writeUI16(i,this.fontId);var n=new Zn(0);n.writeUTFBytes(this.fontName),G.writeUI8(i,J_.get_length(n)),i.writeBytes(n);var s=0;this.smallText&&(s|=32),this.shiftJIS&&(s|=16),this.ansi&&(s|=8),this.italic&&(s|=4),this.bold&&(s|=2),this.wideCodes&&(s|=1),G.writeUI8(i,s),this.publishLangCode(i);for(var r=0,a=this.codeTable.length;r<a;){var o=r++;this.wideCodes?G.writeUI16(i,this.codeTable[o]):G.writeUI8(i,this.codeTable[o])}G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},parseLangCode:function(t){},publishLangCode:function(t){},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", FontName: "+this.fontName+", Italic: "+L.string(this.italic)+", Bold: "+L.string(this.bold)+", Codes: "+this.codeTable.length},__class__:Xi};var Vi=function(){Xi.call(this),this.type=62,this.name="DefineFontInfo2",this.version=6,this.level=2};(i["format.swf.tags.TagDefineFontInfo2"]=Vi).__name__=["format","swf","tags","TagDefineFontInfo2"],Vi.__interfaces__=[vi],Vi.__super__=Xi,Vi.prototype=n(Xi.prototype,{parseLangCode:function(t){this.langCode=G.readUI8(t),this.langCodeLength=1},publishLangCode:function(t){G.writeUI8(t,this.langCode)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", FontName: "+this.fontName+", Italic: "+L.string(this.italic)+", Bold: "+L.string(this.bold)+", LanguageCode: "+this.langCode+", Codes: "+this.codeTable.length},__class__:Vi});var zi=function(){this.type=88,this.name="DefineFontName",this.version=9,this.level=1};(i["format.swf.tags.TagDefineFontName"]=zi).__name__=["format","swf","tags","TagDefineFontName"],zi.__interfaces__=[vi],zi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.fontId=G.readUI16(t),this.fontName=G.readSTRING(t),this.fontCopyright=G.readSTRING(t)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.fontId),G.writeSTRING(i,this.fontName),G.writeSTRING(i,this.fontCopyright),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", Name: "+this.fontName+", Copyright: "+this.fontCopyright},__class__:zi};var Hi=function(){this.type=46,this.name="DefineMorphShape",this.version=3,this.level=1,this.morphFillStyles=[],this.morphLineStyles=[],this.exportShape=new Ft};(i["format.swf.tags.TagDefineMorphShape"]=Hi).__name__=["format","swf","tags","TagDefineMorphShape"],Hi.__interfaces__=[bi],Hi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.startBounds=G.readRECT(t),this.endBounds=G.readRECT(t),G.readUI32(t);var s=G.readUI8(t);255==s&&(s=G.readUI16(t));for(var r=0,a=s;r<a;){r++;this.morphFillStyles.push(G.readMORPHFILLSTYLE(t))}var o=G.readUI8(t);255==o&&(o=G.readUI16(t));for(var l=0,h=o;l<h;){l++;this.morphLineStyles.push(G.readMORPHLINESTYLE(t))}this.startEdges=G.readSHAPE(t),this.endEdges=G.readSHAPE(t)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeRECT(i,this.startBounds),G.writeRECT(i,this.endBounds);var n=G._new(),s=this.morphFillStyles.length;254<s?(G.writeUI8(n,255),G.writeUI16(n,s)):G.writeUI8(n,s);for(var r=0,a=s;r<a;){var o=r++;G.writeMORPHFILLSTYLE(n,this.morphFillStyles[o])}var l=this.morphLineStyles.length;254<l?(G.writeUI8(n,255),G.writeUI16(n,l)):G.writeUI8(n,l);for(var h=0,_=l;h<_;){var u=h++;G.writeMORPHLINESTYLE(n,this.morphLineStyles[u])}G.writeSHAPE(n,this.startEdges),G.writeUI32(i,G.get_length(n)),i.writeBytes(J_.fromBytes(n)),G.writeSHAPE(i,this.endEdges),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){throw new Vs(new vh("Not implemented yet."))},export:function(t){null==t&&(t=0);throw new Vs(":TODO: floating point interpolated records")},convertToCurvedEdge:function(t){var e=new Lt;return e.controlDeltaX=t.deltaX/2|0,e.controlDeltaY=t.deltaY/2|0,e.anchorDeltaX=t.deltaX/2|0,e.anchorDeltaY=t.deltaY/2|0,e},toString:function(t){null==t&&(t=0);var e=ns.repeat(t+2),i=ns.repeat(t+4),n=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;if(n+="\n"+e+"Bounds:",n+="\n"+i+"StartBounds: "+this.startBounds.toString(),n+="\n"+i+"EndBounds: "+this.endBounds.toString(),0<this.morphFillStyles.length){n+="\n"+e+"FillStyles:";for(var s=0,r=this.morphFillStyles.length;s<r;){var a=s++;n+="\n"+i+"["+(1+a)+"] "+this.morphFillStyles[a].toString()}}if(0<this.morphLineStyles.length){n+="\n"+e+"LineStyles:";for(var o=0,l=this.morphLineStyles.length;o<l;){var h=o++;n+="\n"+i+"["+(1+h)+"] "+this.morphLineStyles[h].toString()}}return n+=this.startEdges.toString(t+2),n+=this.endEdges.toString(t+2)},__class__:Hi};var Yi=function(){Hi.call(this),this.type=84,this.name="DefineMorphShape2",this.version=8,this.level=2};(i["format.swf.tags.TagDefineMorphShape2"]=Yi).__name__=["format","swf","tags","TagDefineMorphShape2"],Yi.__interfaces__=[vi],Yi.__super__=Hi,Yi.prototype=n(Hi.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.startBounds=G.readRECT(t),this.endBounds=G.readRECT(t),this.startEdgeBounds=G.readRECT(t),this.endEdgeBounds=G.readRECT(t);var s=G.readUI8(t);this.usesNonScalingStrokes=0!=(2&s),this.usesScalingStrokes=0!=(1&s),G.readUI32(t);var r=G.readUI8(t);255==r&&(r=G.readUI16(t));for(var a=0,o=r;a<o;){a++;this.morphFillStyles.push(G.readMORPHFILLSTYLE(t))}var l=G.readUI8(t);255==l&&(l=G.readUI16(t));for(var h=0,_=l;h<_;){h++;this.morphLineStyles.push(G.readMORPHLINESTYLE2(t))}this.startEdges=G.readSHAPE(t),this.endEdges=G.readSHAPE(t)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeRECT(i,this.startBounds),G.writeRECT(i,this.endBounds),G.writeRECT(i,this.startEdgeBounds),G.writeRECT(i,this.endEdgeBounds);var n=0;this.usesNonScalingStrokes&&(n|=2),this.usesScalingStrokes&&(n|=1),G.writeUI8(i,n);var s=G._new(),r=this.morphFillStyles.length;254<r?(G.writeUI8(s,255),G.writeUI16(s,r)):G.writeUI8(s,r);for(var a=0,o=r;a<o;){var l=a++;G.writeMORPHFILLSTYLE(s,this.morphFillStyles[l])}var h=this.morphLineStyles.length;254<h?(G.writeUI8(s,255),G.writeUI16(s,h)):G.writeUI8(s,h);for(var _=0,u=h;_<u;){var c=_++;G.writeMORPHLINESTYLE2(s,zs.__cast(this.morphLineStyles[c],Et))}G.writeSHAPE(s,this.startEdges),G.writeUI32(i,G.get_length(s)),i.writeBytes(J_.fromBytes(s)),G.writeSHAPE(i,this.endEdges),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=ns.repeat(t+2),i=ns.repeat(t+4),n=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;if(n+="\n"+e+"Bounds:",n+="\n"+i+"StartBounds: "+this.startBounds.toString(),n+="\n"+i+"EndBounds: "+this.endBounds.toString(),n+="\n"+i+"StartEdgeBounds: "+this.startEdgeBounds.toString(),n+="\n"+i+"EndEdgeBounds: "+this.endEdgeBounds.toString(),0<this.morphFillStyles.length){n+="\n"+e+"FillStyles:";for(var s=0,r=this.morphFillStyles.length;s<r;){var a=s++;n+="\n"+i+"["+(1+a)+"] "+this.morphFillStyles[a].toString()}}if(0<this.morphLineStyles.length){n+="\n"+e+"LineStyles:";for(var o=0,l=this.morphLineStyles.length;o<l;){var h=o++;n+="\n"+i+"["+(1+h)+"] "+this.morphLineStyles[h].toString()}}return n+=this.startEdges.toString(t+2),n+=this.endEdges.toString(t+2)},__class__:Yi});var Wi=function(){this.type=78,this.name="DefineScalingGrid",this.version=8,this.level=1};(i["format.swf.tags.TagDefineScalingGrid"]=Wi).__name__=["format","swf","tags","TagDefineScalingGrid"],Wi.__interfaces__=[vi],Wi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.splitter=G.readRECT(t)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeRECT(i,this.splitter),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Wi;return t.characterId=this.characterId,t.splitter=this.splitter.clone(),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"CharacterID: "+this.characterId+", Splitter: "+L.string(this.splitter)},__class__:Wi};var Ki=function(){this.type=86,this.name="DefineSceneAndFrameLabelData",this.version=9,this.level=1,this.scenes=[],this.frameLabels=[]};(i["format.swf.tags.TagDefineSceneAndFrameLabelData"]=Ki).__name__=["format","swf","tags","TagDefineSceneAndFrameLabelData"],Ki.__interfaces__=[vi],Ki.prototype={parse:function(t,e,i,n){null==n&&(n=!1);for(var s=0,r=G.readEncodedU32(t);s<r;){s++;var a=G.readEncodedU32(t),o=G.readSTRING(t);this.scenes.push(new Mt(a,o))}for(var l=0,h=G.readEncodedU32(t);l<h;){l++;var _=G.readEncodedU32(t),u=G.readSTRING(t);this.frameLabels.push(new st(_,u))}},publish:function(t,e){var i=G._new();G.writeEncodedU32(i,this.scenes.length);for(var n=0,s=this.scenes.length;n<s;){var r=n++,a=this.scenes[r];G.writeEncodedU32(i,a.offset),G.writeSTRING(i,a.name)}G.writeEncodedU32(i,this.frameLabels.length);for(var o=0,l=this.frameLabels.length;o<l;){var h=o++,_=this.frameLabels[h];G.writeEncodedU32(i,_.frameNumber),G.writeSTRING(i,_.name)}G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t);if(0<this.scenes.length){e+="\n"+ns.repeat(t+2)+"Scenes:";for(var i=0,n=this.scenes.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+4)+"["+s+"] "+this.scenes[s].toString()}}if(0<this.frameLabels.length){e+="\n"+ns.repeat(t+2)+"FrameLabels:";for(var r=0,a=this.frameLabels.length;r<a;){var o=r++;e+="\n"+ns.repeat(t+4)+"["+o+"] "+this.frameLabels[o].toString()}}return e},__class__:Ki};var ji=function(){this.type=2,this.name="DefineShape",this.version=1,this.level=1};(i["format.swf.tags.TagDefineShape"]=ji).__name__=["format","swf","tags","TagDefineShape"],ji.__interfaces__=[bi],ji.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.shapeBounds=G.readRECT(t),this.shapes=G.readSHAPEWITHSTYLE(t,this.level)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeRECT(i,this.shapeBounds),G.writeSHAPEWITHSTYLE(i,this.shapes,this.level),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){throw new Vs(new vh("Not implemented yet."))},export:function(t){this.shapes.export(t)},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+L.string(this.shapeBounds);return e+=this.shapes.toString(t+2)},__class__:ji};var qi=function(){ji.call(this),this.type=22,this.name="DefineShape2",this.version=2,this.level=2};(i["format.swf.tags.TagDefineShape2"]=qi).__name__=["format","swf","tags","TagDefineShape2"],qi.__interfaces__=[bi],qi.__super__=ji,qi.prototype=n(ji.prototype,{toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+L.string(this.shapeBounds);return e+=this.shapes.toString(t+2)},__class__:qi});var Ji=function(){qi.call(this),this.type=32,this.name="DefineShape3",this.version=3,this.level=3};(i["format.swf.tags.TagDefineShape3"]=Ji).__name__=["format","swf","tags","TagDefineShape3"],Ji.__interfaces__=[bi],Ji.__super__=qi,Ji.prototype=n(qi.prototype,{toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+L.string(this.shapeBounds);return e+=this.shapes.toString(t+2)},__class__:Ji});var Zi=function(){Ji.call(this),this.type=83,this.name="DefineShape4",this.version=8,this.level=4};(i["format.swf.tags.TagDefineShape4"]=Zi).__name__=["format","swf","tags","TagDefineShape4"],Zi.__interfaces__=[bi],Zi.__super__=Ji,Zi.prototype=n(Ji.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.shapeBounds=G.readRECT(t),this.edgeBounds=G.readRECT(t);var s=G.readUI8(t);this.usesFillWindingRule=0!=(4&s),this.usesNonScalingStrokes=0!=(2&s),this.usesScalingStrokes=0!=(1&s),this.shapes=G.readSHAPEWITHSTYLE(t,this.level)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeRECT(i,this.shapeBounds),G.writeRECT(i,this.edgeBounds);var n=0;this.usesFillWindingRule&&(n|=4),this.usesNonScalingStrokes&&(n|=2),this.usesScalingStrokes&&(n|=1),G.writeUI8(i,n),G.writeSHAPEWITHSTYLE(i,this.shapes,this.level),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", ";return this.usesFillWindingRule&&(e+="UsesFillWindingRule, "),this.usesNonScalingStrokes&&(e+="UsesNonScalingStrokes, "),this.usesScalingStrokes&&(e+="UsesScalingStrokes, "),e+="ShapeBounds: "+L.string(this.shapeBounds)+", EdgeBounds: "+L.string(this.edgeBounds),e+=this.shapes.toString(t+2)},__class__:Zi});var Qi=function(){this.type=14,this.name="DefineSound",this.version=1,this.level=1;var t=new Zn(0);this.soundData=t};(i["format.swf.tags.TagDefineSound"]=Qi).__name__=["format","swf","tags","TagDefineSound"],Qi.__interfaces__=[bi],Qi.create=function(t,e,i,n,s,r,a){null==r&&(r=0),null==s&&(s=1),null==n&&(n=1),null==i&&(i=3),null==e&&(e=2);var o=new Qi;return o.characterId=t,o.soundFormat=e,o.soundRate=i,o.soundSize=n,o.soundType=s,o.soundSampleCount=r,null!=a&&0<J_.get_length(a)&&o.soundData.writeBytes(a),o},Qi.createWithMP3=function(t,e){if(null!=e&&0<J_.get_length(e)){var i=new Qi;return i.characterId=t,i.processMP3(e),i}throw new Vs(new vh("No MP3 data."))},Qi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.soundFormat=G.readUB(t,4),this.soundRate=G.readUB(t,2),this.soundSize=G.readUB(t,1),this.soundType=G.readUB(t,1),this.soundSampleCount=G.readUI32(t),t.readBytes(this.soundData,0,e-7)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeUB(i,4,this.soundFormat),G.writeUB(i,2,this.soundRate),G.writeUB(i,1,this.soundSize),G.writeUB(i,1,this.soundType),G.writeUI32(i,this.soundSampleCount),0<J_.get_length(this.soundData)&&i.writeBytes(this.soundData),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new Qi;return t.characterId=this.characterId,t.soundFormat=this.soundFormat,t.soundRate=this.soundRate,t.soundSize=this.soundSize,t.soundType=this.soundType,t.soundSampleCount=this.soundSampleCount,0<J_.get_length(this.soundData)&&t.soundData.writeBytes(this.soundData),t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"SoundID: "+this.characterId+", Format: "+ae.toString(this.soundFormat)+", Rate: "+oe.toString(this.soundRate)+", Size: "+le.toString(this.soundSize)+", Type: "+he.toString(this.soundType)+", Samples: "+this.soundSampleCount},processMP3:function(t){for(var e=0,i=0,n=J_.get_length(t),s=0,r=!0,a=0,o=0,l=new ge,h="id3v2";e<(0|J_.get_length(t));)switch(h){case"frame":l.setHeaderByteAt(0,t.b[e++]),l.setHeaderByteAt(1,t.b[e++]),l.setHeaderByteAt(2,t.b[e++]),l.setHeaderByteAt(3,t.b[e++]),l.hasCRC&&(l.setCRCByteAt(0,t.b[e++]),l.setCRCByteAt(1,t.b[e++])),r&&(r=!1,a=l.samplingrate,o=l.channelMode),s+=l.samples,e+=l.get_size(),h="sync";break;case"id3v2":73==t.b[e]&&68==t.b[e+1]&&51==t.b[e+2]&&(e+=10+(t.b[e+6]<<21|t.b[e+7]<<14|t.b[e+8]<<7|t.b[e+9])),i=e,h="sync";break;case"sync":255==t.b[e]&&224==(224&t.b[e+1])?h="frame":84==t.b[e]&&65==t.b[e+1]&&71==t.b[e+2]?(n=e,e=J_.get_length(t)):++e}switch(this.soundSampleCount=s,this.soundFormat=2,this.soundSize=1,this.soundType=3==o?0:1,a){case 11025:this.soundRate=1;break;case 22050:this.soundRate=2;break;case 44100:this.soundRate=3;break;default:throw new Vs(new vh("Unsupported sampling rate: "+a+" Hz"))}var _=new Zn(0);this.soundData=_,this.soundData.writeShort(0),this.soundData.writeBytes(t,i,n-i)},__class__:Qi};var $i=function(){V.call(this),this.type=39,this.name="DefineSprite",this.version=3,this.level=1};(i["format.swf.tags.TagDefineSprite"]=$i).__name__=["format","swf","tags","TagDefineSprite"],$i.__interfaces__=[bi],$i.__super__=V,$i.prototype=n(V.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.frameCount=G.readUI16(t),this.parseTags(t,i)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeUI16(i,this.frameCount),this.publishTags(i,e),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){throw new Vs(new vh("Not implemented yet."))},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FrameCount: "+this.frameCount+V.prototype.toString.call(this,t)},__class__:$i});var tn=function(){this.type=11,this.name="DefineText",this.version=1,this.level=1,this.records=[]};(i["format.swf.tags.TagDefineText"]=tn).__name__=["format","swf","tags","TagDefineText"],tn.__interfaces__=[bi],tn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.textBounds=G.readRECT(t),this.textMatrix=G.readMATRIX(t);for(var s=G.readUI8(t),r=G.readUI8(t),a=null;null!=(a=G.readTEXTRECORD(t,s,r,a,this.level));)this.records.push(a)},publish:function(t,e){var i,n=G._new();G.writeUI16(n,this.characterId),G.writeRECT(n,this.textBounds),G.writeMATRIX(n,this.textMatrix);for(var s=[],r=[],a=this.records.length,o=0,l=a;o<l;)for(var h=o++,_=0,u=(i=this.records[h]).glyphEntries.length;_<u;){var c=_++,f=i.glyphEntries[c];s.push(f.index),r.push(f.advance)}var d=n.calculateMaxBits(!1,s),p=n.calculateMaxBits(!0,r);G.writeUI8(n,d),G.writeUI8(n,p),i=null;for(var g=0,m=a;g<m;){var v=g++;G.writeTEXTRECORD(n,this.records[v],d,p,i,this.level),i=this.records[v]}G.writeUI8(n,0),G.writeTagHeader(t,this.type,G.get_length(n)),t.writeBytes(J_.fromBytes(n))},clone:function(){var t=new tn;t.characterId=this.characterId,t.textBounds=this.textBounds.clone(),t.textMatrix=this.textMatrix.clone();for(var e=0,i=this.records.length;e<i;){var n=e++;t.records.push(this.records[n].clone())}return t},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+L.string(this.textBounds)+", Matrix: "+L.string(this.textMatrix);if(0<this.records.length){e+="\n"+ns.repeat(t+2)+"TextRecords:";for(var i=0,n=this.records.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+4)+"["+s+"] "+this.records[s].toString(t+4)}}return e},__class__:tn};var en=function(){tn.call(this),this.type=33,this.name="DefineText2",this.version=3,this.level=2};(i["format.swf.tags.TagDefineText2"]=en).__name__=["format","swf","tags","TagDefineText2"],en.__interfaces__=[bi],en.__super__=tn,en.prototype=n(tn.prototype,{toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+L.string(this.textBounds)+", Matrix: "+L.string(this.textMatrix);if(0<this.records.length){e+="\n"+ns.repeat(t+2)+"TextRecords:";for(var i=0,n=this.records.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+4)+"["+s+"] "+this.records[s].toString()}}return e},__class__:en});var nn=function(){this.type=60,this.name="DefineVideoStream",this.version=6,this.level=1};(i["format.swf.tags.TagDefineVideoStream"]=nn).__name__=["format","swf","tags","TagDefineVideoStream"],nn.__interfaces__=[bi],nn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.numFrames=G.readUI16(t),this.width=G.readUI16(t),this.height=G.readUI16(t),G.readUB(t,4),this.deblocking=G.readUB(t,3),this.smoothing=1==G.readUB(t,1),this.codecId=G.readUI8(t)},publish:function(t,e){G.writeTagHeader(t,this.type,10),G.writeUI16(t,this.characterId),G.writeUI16(t,this.numFrames),G.writeUI16(t,this.width),G.writeUI16(t,this.height),G.writeUB(t,4,0),G.writeUB(t,3,this.deblocking),G.writeUB(t,1,this.smoothing?1:0),G.writeUI8(t,this.codecId)},clone:function(){var t=new nn;return t.characterId=this.characterId,t.numFrames=this.numFrames,t.width=this.width,t.height=this.height,t.deblocking=this.deblocking,t.smoothing=this.smoothing,t.codecId=this.codecId,t},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Frames: "+this.numFrames+", Width: "+this.width+", Height: "+this.height+", Deblocking: "+ue.toString(this.deblocking)+", Smoothing: "+L.string(this.smoothing)+", Codec: "+_e.toString(this.codecId)},__class__:nn};var sn=function(){this.abcName="",this.type=82,this.name="DoABC",this.version=9,this.level=1;var t=new Zn(0);this.bytes=t};(i["format.swf.tags.TagDoABC"]=sn).__name__=["format","swf","tags","TagDoABC"],sn.__interfaces__=[vi],sn.create=function(t,e,i){null==i&&(i=!0),null==e&&(e="");var n=new sn;return null!=t&&0<J_.get_length(t)&&n.bytes.writeBytes(t),n.abcName=e,n.lazyInitializeFlag=i,n},sn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position,r=G.readUI32(t);this.lazyInitializeFlag=0!=(1&r),this.abcName=G.readSTRING(t),t.readBytes(this.bytes,0,e-(t.position-s))},publish:function(t,e){var i=G._new();G.writeUI32(i,this.lazyInitializeFlag?1:0),G.writeSTRING(i,this.abcName),0<J_.get_length(this.bytes)&&i.writeBytes(this.bytes),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"Lazy: "+L.string(this.lazyInitializeFlag)+", "+(0<this.abcName.length?"Name: "+this.abcName+", ":"")+"Length: "+J_.get_length(this.bytes)},__class__:sn};var rn=function(){this.type=72,this.name="DoABCDeprecated",this.version=9,this.level=1;var t=new Zn(0);this.bytes=t};(i["format.swf.tags.TagDoABCDeprecated"]=rn).__name__=["format","swf","tags","TagDoABCDeprecated"],rn.__interfaces__=[vi],rn.create=function(t){var e=new rn;return null!=t&&0<J_.get_length(t)&&e.bytes.writeBytes(t),e},rn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position;t.readBytes(this.bytes,0,e-(t.position-s))},publish:function(t,e){var i=G._new();0<J_.get_length(this.bytes)&&i.writeBytes(this.bytes),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"Length: "+J_.get_length(this.bytes)},__class__:rn};var an=function(){this.type=12,this.name="DoAction",this.version=3,this.level=1,this.actions=[]};(i["format.swf.tags.TagDoAction"]=an).__name__=["format","swf","tags","TagDoAction"],an.__interfaces__=[vi],an.prototype={parse:function(t,e,i,n){var s;for(null==n&&(n=!1);null!=(s=G.readACTIONRECORD(t));)this.actions.push(s)},publish:function(t,e){for(var i=G._new(),n=0,s=this.actions.length;n<s;){var r=n++;G.writeACTIONRECORD(i,this.actions[r])}G.writeUI8(i,0),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);for(var e=wi.toStringCommon(this.type,this.name,t),i=0,n=this.actions.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+2)+"["+s+"] "+this.actions[s].toString(t+2)}return e},__class__:an};var on=function(){an.call(this),this.type=59,this.name="DoInitAction",this.version=6,this.level=1};(i["format.swf.tags.TagDoInitAction"]=on).__name__=["format","swf","tags","TagDoInitAction"],on.__interfaces__=[vi],on.__super__=an,on.prototype=n(an.prototype,{parse:function(t,e,i,n){var s;for(null==n&&(n=!1),this.spriteId=G.readUI16(t);null!=(s=G.readACTIONRECORD(t));)this.actions.push(s)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.spriteId);for(var n=0,s=this.actions.length;n<s;){var r=n++;G.writeACTIONRECORD(i,this.actions[r])}G.writeUI8(i,0),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);for(var e=wi.toStringCommon(this.type,this.name,t)+"SpriteID: "+this.spriteId+", ",i=0,n=this.actions.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+2)+"["+s+"] "+this.actions[s].toString(t+2)}return e},__class__:on});var ln=function(){this.type=58,this.name="EnableDebugger",this.version=5,this.level=1;var t=new Zn(0);this.password=t};(i["format.swf.tags.TagEnableDebugger"]=ln).__name__=["format","swf","tags","TagEnableDebugger"],ln.__interfaces__=[vi],ln.prototype={parse:function(t,e,i,n){null==n&&(n=!1),0<e&&t.readBytes(this.password,0,e)},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.password)),0<J_.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)},__class__:ln};var hn=function(){ln.call(this),this.reserved=0,this.type=64,this.name="EnableDebugger2",this.version=6,this.level=2};(i["format.swf.tags.TagEnableDebugger2"]=hn).__name__=["format","swf","tags","TagEnableDebugger2"],hn.__interfaces__=[vi],hn.__super__=ln,hn.prototype=n(ln.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.reserved=G.readUI16(t),2<e&&t.readBytes(this.password,0,e-2)},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.password)+2),G.writeUI16(t,this.reserved),0<J_.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"Password: "+(0<J_.get_length(this.password)?"null":this.password.readUTF())+", Reserved: 0x"+Ps.hex(this.reserved)},__class__:hn});var _n=function(){this.level=1,this.version=19,this.name="EnableTelemetry",this.type=93;var t=new Zn(0);this.password=t};(i["format.swf.tags.TagEnableTelemetry"]=_n).__name__=["format","swf","tags","TagEnableTelemetry"],_n.__interfaces__=[vi],_n.prototype={parse:function(t,e,i,n){null==n&&(n=!1),2<e&&(t.readByte(),t.readByte(),t.readBytes(this.password,0,e-2))},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.password)+2),t.writeByte(0),t.writeByte(0),0<J_.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)},__class__:_n};var un=function(){this.type=0,this.name="End",this.version=1,this.level=1};(i["format.swf.tags.TagEnd"]=un).__name__=["format","swf","tags","TagEnd"],un.__interfaces__=[vi],un.prototype={parse:function(t,e,i,n){null==n&&(n=!1)},publish:function(t,e){G.writeTagHeader(t,this.type,0)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)},__class__:un};var cn=function(){this.type=56,this.name="ExportAssets",this.version=5,this.level=1,this.symbols=[]};(i["format.swf.tags.TagExportAssets"]=cn).__name__=["format","swf","tags","TagExportAssets"],cn.__interfaces__=[vi],cn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);for(var s=0,r=G.readUI16(t);s<r;){s++;this.symbols.push(G.readSYMBOL(t))}},publish:function(t,e){var i=G._new(),n=this.symbols.length;G.writeUI16(i,n);for(var s=0,r=n;s<r;){var a=s++;G.writeSYMBOL(i,this.symbols[a])}G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t);if(0<this.symbols.length){e+="\n"+ns.repeat(t+2)+"Assets:";for(var i=0,n=this.symbols.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+4)+"["+s+"] "+this.symbols[s].toString()}}return e},__class__:cn};var fn=function(){this.useNetwork=!1,this.actionscript3=!0,this.hasMetadata=!1,this.useGPU=!1,this.useDirectBlit=!1,this.type=69,this.name="FileAttributes",this.version=8,this.level=1};(i["format.swf.tags.TagFileAttributes"]=fn).__name__=["format","swf","tags","TagFileAttributes"],fn.__interfaces__=[vi],fn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=G.readUI8(t);this.useDirectBlit=0!=(64&s),this.useGPU=0!=(32&s),this.hasMetadata=0!=(16&s),this.actionscript3=0!=(8&s),this.useNetwork=0!=(1&s),G.skipBytes(t,3)},publish:function(t,e){G.writeTagHeader(t,this.type,4);var i=0;this.useNetwork&&(i|=1),this.actionscript3&&(i|=8),this.hasMetadata&&(i|=16),this.useGPU&&(i|=32),this.useDirectBlit&&(i|=64),G.writeUI8(t,i),G.writeUI8(t,0),G.writeUI8(t,0),G.writeUI8(t,0)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"AS3: "+L.string(this.actionscript3)+", HasMetadata: "+L.string(this.hasMetadata)+", UseDirectBlit: "+L.string(this.useDirectBlit)+", UseGPU: "+L.string(this.useGPU)+", UseNetwork: "+L.string(this.useNetwork)},__class__:fn};var dn=function(){this.type=43,this.name="FrameLabel",this.version=3,this.level=1};(i["format.swf.tags.TagFrameLabel"]=dn).__name__=["format","swf","tags","TagFrameLabel"],dn.__interfaces__=[vi],dn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position;this.frameName=G.readSTRING(t),(0|t.position)-s<e&&(G.readUI8(t),this.namedAnchorFlag=!0)},publish:function(t,e){var i=G._new();G.writeSTRING(i,this.frameName),this.namedAnchorFlag&&G.writeUI8(t,1),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e="Name: "+this.frameName;return this.namedAnchorFlag&&(e+=", NamedAnchor = true"),wi.toStringCommon(this.type,this.name,t)+e},__class__:dn};var pn=function(){this.type=57,this.name="ImportAssets",this.version=5,this.level=1,this.symbols=[]};(i["format.swf.tags.TagImportAssets"]=pn).__name__=["format","swf","tags","TagImportAssets"],pn.__interfaces__=[vi],pn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.url=G.readSTRING(t);for(var s=0,r=G.readUI16(t);s<r;){s++;this.symbols.push(G.readSYMBOL(t))}},publish:function(t,e){var i=G._new();G.writeSTRING(i,this.url);var n=this.symbols.length;G.writeUI16(i,n);for(var s=0,r=n;s<r;){var a=s++;G.writeSYMBOL(i,this.symbols[a])}G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t);if(0<this.symbols.length){e+="\n"+ns.repeat(t+2)+"Assets:";for(var i=0,n=this.symbols.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+4)+"["+s+"] "+this.symbols[s].toString()}}return e},__class__:pn};var gn=function(){pn.call(this),this.type=71,this.name="ImportAssets2",this.version=8,this.level=2};(i["format.swf.tags.TagImportAssets2"]=gn).__name__=["format","swf","tags","TagImportAssets2"],gn.__interfaces__=[vi],gn.__super__=pn,gn.prototype=n(pn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.url=G.readSTRING(t),G.readUI8(t),G.readUI8(t);for(var s=0,r=G.readUI16(t);s<r;){s++;this.symbols.push(G.readSYMBOL(t))}},publish:function(t,e){var i=G._new();G.writeSTRING(i,this.url),G.writeUI8(i,1),G.writeUI8(i,0);var n=this.symbols.length;G.writeUI16(i,n);for(var s=0,r=n;s<r;){var a=s++;G.writeSYMBOL(i,this.symbols[a])}G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},__class__:gn});var mn=function(){this.type=8,this.name="JPEGTables",this.version=1,this.level=1;var t=new Zn(0);this.jpegTables=t};(i["format.swf.tags.TagJPEGTables"]=mn).__name__=["format","swf","tags","TagJPEGTables"],mn.__interfaces__=[vi],mn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),0<e&&t.readBytes(this.jpegTables,0,e)},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.jpegTables)),0<J_.get_length(this.jpegTables)&&t.writeBytes(this.jpegTables)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"Length: "+J_.get_length(this.jpegTables)},__class__:mn};var vn=function(){this.type=77,this.name="Metadata",this.version=1,this.level=1};(i["format.swf.tags.TagMetadata"]=vn).__name__=["format","swf","tags","TagMetadata"],vn.__interfaces__=[vi],vn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.xmlString=G.readSTRING(t)},publish:function(t,e){var i=G._new();G.writeSTRING(i,this.xmlString),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e,i=wi.toStringCommon(this.type,this.name,t);try{e=N.parse(this.xmlString),i+=" "+Rs.print(e)}catch(t){if((rs.lastException=t)instanceof Vs&&(t=t.val),!zs.__instanceof(t,vh))throw t;i+=" "+this.xmlString}return i},__class__:vn};var bn=function(){this.level=1,this.version=3,this.name="NameCharacter",this.type=40;var t=new Zn(0);this.binaryData=t};(i["format.swf.tags.TagNameCharacter"]=bn).__name__=["format","swf","tags","TagNameCharacter"],bn.__interfaces__=[vi],bn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),2<e&&t.readBytes(this.binaryData,0,e-2)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),0<J_.get_length(this.binaryData)&&i.writeBytes(this.binaryData),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},clone:function(){var t=new bn;return t.characterId=this.characterId,0<J_.get_length(this.binaryData)&&t.binaryData.writeBytes(this.binaryData),t},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;return 0<J_.get_length(this.binaryData)&&(this.binaryData.position=0,e+=", Name: "+this.binaryData.readUTFBytes(J_.get_length(this.binaryData)-1),this.binaryData.position=0),e},__class__:bn};var yn=function(){this.hasCacheAsBitmap=!1,this.type=4,this.name="PlaceObject",this.version=1,this.level=1,this.surfaceFilterList=[]};(i["format.swf.tags.TagPlaceObject"]=yn).__name__=["format","swf","tags","TagPlaceObject"],yn.__interfaces__=[yi],yn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position;this.characterId=G.readUI16(t),this.depth=G.readUI16(t),this.matrix=G.readMATRIX(t),this.hasCharacter=!0,this.hasMatrix=!0,(0|t.position)-s<e&&(this.colorTransform=G.readCXFORM(t),this.hasColorTransform=!0)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.characterId),G.writeUI16(i,this.depth),G.writeMATRIX(i,this.matrix),this.hasColorTransform&&G.writeCXFORM(i,this.colorTransform),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth;return this.hasCharacter&&(e+=", CharacterID: "+this.characterId),this.hasMatrix&&(e+=", Matrix: "+L.string(this.matrix)),this.hasColorTransform&&(e+=", ColorTransform: "+L.string(this.colorTransform)),e},__class__:yn};var wn=function(){yn.call(this),this.type=26,this.name="PlaceObject2",this.version=3,this.level=2};(i["format.swf.tags.TagPlaceObject2"]=wn).__name__=["format","swf","tags","TagPlaceObject2"],wn.__interfaces__=[yi],wn.__super__=yn,wn.prototype=n(yn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1);var s=G.readUI8(t);this.hasClipActions=0!=(128&s),this.hasClipDepth=0!=(64&s),this.hasName=0!=(32&s),this.hasRatio=0!=(16&s),this.hasColorTransform=0!=(8&s),this.hasMatrix=0!=(4&s),this.hasCharacter=0!=(2&s),this.hasMove=0!=(1&s),this.depth=G.readUI16(t),this.hasCharacter&&(this.characterId=G.readUI16(t)),this.hasMatrix&&(this.matrix=G.readMATRIX(t)),this.hasColorTransform&&(this.colorTransform=G.readCXFORMWITHALPHA(t)),this.hasRatio&&(this.ratio=G.readUI16(t)),this.hasName&&(this.instanceName=G.readSTRING(t)),this.hasClipDepth&&(this.clipDepth=G.readUI16(t)),this.hasClipActions&&(this.clipActions=G.readCLIPACTIONS(t,i))},publish:function(t,e){var i=0,n=G._new();this.hasMove&&(i|=1),this.hasCharacter&&(i|=2),this.hasMatrix&&(i|=4),this.hasColorTransform&&(i|=8),this.hasRatio&&(i|=16),this.hasName&&(i|=32),this.hasClipDepth&&(i|=64),this.hasClipActions&&(i|=128),G.writeUI8(n,i),G.writeUI16(n,this.depth),this.hasCharacter&&G.writeUI16(n,this.characterId),this.hasMatrix&&G.writeMATRIX(n,this.matrix),this.hasColorTransform&&G.writeCXFORM(n,this.colorTransform),this.hasRatio&&G.writeUI16(n,this.ratio),this.hasName&&G.writeSTRING(n,this.instanceName),this.hasClipDepth&&G.writeUI16(n,this.clipDepth),this.hasClipActions&&G.writeCLIPACTIONS(n,this.clipActions,e),G.writeTagHeader(t,this.type,G.get_length(n)),t.writeBytes(J_.fromBytes(n))},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth;return this.hasCharacter&&(e+=", CharacterID: "+this.characterId),this.hasMatrix&&(e+=", Matrix: "+this.matrix.toString()),this.hasColorTransform&&(e+=", ColorTransform: "+L.string(this.colorTransform)),this.hasRatio&&(e+=", Ratio: "+this.ratio),this.hasName&&(e+=", Name: "+this.instanceName),this.hasClipDepth&&(e+=", ClipDepth: "+this.clipDepth),this.hasClipActions&&null!=this.clipActions&&(e+="\n"+ns.repeat(t+2)+this.clipActions.toString(t+2)),e},__class__:wn});var xn=function(){wn.call(this),this.type=70,this.name="PlaceObject3",this.version=8,this.level=3};(i["format.swf.tags.TagPlaceObject3"]=xn).__name__=["format","swf","tags","TagPlaceObject3"],xn.__interfaces__=[yi],xn.__super__=wn,xn.prototype=n(wn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1);var s=G.readUI8(t);this.hasClipActions=0!=(128&s),this.hasClipDepth=0!=(64&s),this.hasName=0!=(32&s),this.hasRatio=0!=(16&s),this.hasColorTransform=0!=(8&s),this.hasMatrix=0!=(4&s),this.hasCharacter=0!=(2&s),this.hasMove=0!=(1&s);var r=G.readUI8(t);if(this.hasOpaqueBackground=0!=(64&r),this.hasVisible=0!=(32&r),this.hasImage=0!=(16&r),this.hasClassName=0!=(8&r),this.hasCacheAsBitmap=0!=(4&r),this.hasBlendMode=0!=(2&r),this.hasFilterList=0!=(1&r),this.depth=G.readUI16(t),this.hasClassName&&(this.className=G.readSTRING(t)),this.hasCharacter&&(this.characterId=G.readUI16(t)),this.hasMatrix&&(this.matrix=G.readMATRIX(t)),this.hasColorTransform&&(this.colorTransform=G.readCXFORMWITHALPHA(t)),this.hasRatio&&(this.ratio=G.readUI16(t)),this.hasName&&(this.instanceName=G.readSTRING(t)),this.hasClipDepth&&(this.clipDepth=G.readUI16(t)),this.hasFilterList)for(var a=0,o=G.readUI8(t);a<o;){a++;this.surfaceFilterList.push(G.readFILTER(t))}this.hasBlendMode&&(this.blendMode=G.readUI8(t)),this.hasCacheAsBitmap&&(this.bitmapCache=G.readUI8(t)),this.hasVisible&&(this.visible=G.readUI8(t)),this.hasOpaqueBackground&&(this.bitmapBackgroundColor=G.readRGBA(t)),this.hasClipActions&&(this.clipActions=G.readCLIPACTIONS(t,i))},prepareBody:function(){var t=G._new(),e=0;this.hasClipActions&&(e|=128),this.hasClipDepth&&(e|=64),this.hasName&&(e|=32),this.hasRatio&&(e|=16),this.hasColorTransform&&(e|=8),this.hasMatrix&&(e|=4),this.hasCharacter&&(e|=2),this.hasMove&&(e|=1),G.writeUI8(t,e);var i=0;if(this.hasOpaqueBackground&&(i|=64),this.hasVisible&&(i|=32),this.hasImage&&(i|=16),this.hasClassName&&(i|=8),this.hasCacheAsBitmap&&(i|=4),this.hasBlendMode&&(i|=2),this.hasFilterList&&(i|=1),G.writeUI8(t,i),G.writeUI16(t,this.depth),this.hasClassName&&G.writeSTRING(t,this.className),this.hasCharacter&&G.writeUI16(t,this.characterId),this.hasMatrix&&G.writeMATRIX(t,this.matrix),this.hasColorTransform&&G.writeCXFORM(t,this.colorTransform),this.hasRatio&&G.writeUI16(t,this.ratio),this.hasName&&G.writeSTRING(t,this.instanceName),this.hasClipDepth&&G.writeUI16(t,this.clipDepth),this.hasFilterList){var n=this.surfaceFilterList.length;G.writeUI8(t,n);for(var s=0,r=n;s<r;){var a=s++;G.writeFILTER(t,this.surfaceFilterList[a])}}return this.hasBlendMode&&G.writeUI8(t,this.blendMode),this.hasCacheAsBitmap&&G.writeUI8(t,this.bitmapCache),this.hasVisible&&G.writeUI8(t,this.visible),this.hasOpaqueBackground&&G.writeRGBA(t,this.bitmapBackgroundColor),this.hasClipActions&&G.writeCLIPACTIONS(t,this.clipActions,this.version),t},publish:function(t,e){var i=this.prepareBody();G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth;if(this.hasClassName&&(e+=", ClassName: "+this.className),this.hasCharacter&&(e+=", CharacterID: "+this.characterId),this.hasMatrix&&(e+=", Matrix: "+this.matrix.toString()),this.hasColorTransform&&(e+=", ColorTransform: "+L.string(this.colorTransform)),this.hasRatio&&(e+=", Ratio: "+this.ratio),this.hasName&&(e+=", Name: "+this.instanceName),this.hasClipDepth&&(e+=", ClipDepth: "+this.clipDepth),this.hasBlendMode&&(e+=", BlendMode: "+te.toString(this.blendMode)),this.hasCacheAsBitmap&&(e+=", CacheAsBitmap: "+this.bitmapCache),this.hasVisible&&(e+=", Visible: "+this.visible),this.hasOpaqueBackground&&(e+=", BackgroundColor: "+$n.rgbaToString(this.bitmapBackgroundColor)),this.hasFilterList){e+="\n"+ns.repeat(t+2)+"Filters:";for(var i=0,n=this.surfaceFilterList.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+4)+"["+s+"] "+this.surfaceFilterList[s].toString(t+4)}}return this.hasClipActions&&(e+="\n"+ns.repeat(t+2)+this.clipActions.toString(t+2)),e},__class__:xn});var Tn=function(){xn.call(this),this.type=94,this.name="PlaceObject4",this.version=19,this.level=4};(i["format.swf.tags.TagPlaceObject4"]=Tn).__name__=["format","swf","tags","TagPlaceObject4"],Tn.__interfaces__=[yi],Tn.__super__=xn,Tn.prototype=n(xn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),xn.prototype.parse.call(this,t,e,i,n)},publish:function(t,e){var i=this.prepareBody();G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=xn.prototype.toString.call(this,t);return null!=this.metaData&&(e+="\n"+ns.repeat(t+2)+"MetaData: yes"),e},__class__:Tn});var Sn=function(){this.type=41,this.name="ProductInfo",this.version=3,this.level=1};(i["format.swf.tags.TagProductInfo"]=Sn).__name__=["format","swf","tags","TagProductInfo"],Sn.__interfaces__=[vi],Sn.UINT_MAX_CARRY=function(){return G.MAX_FLOAT_VALUE+1},Sn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.productId=G.readUI32(t),this.edition=G.readUI32(t),this.majorVersion=G.readUI8(t),this.minorVersion=G.readUI8(t),this.build=G.readUI32(t)+G.readUI32(t)*(G.MAX_FLOAT_VALUE+1);var s=G.readUI32(t)+G.readUI32(t)*(G.MAX_FLOAT_VALUE+1);this.compileDate=new Date(s)},publish:function(t,e){var i=G._new();G.writeUI32(i,this.productId),G.writeUI32(i,this.edition),G.writeUI8(i,this.majorVersion),G.writeUI8(i,this.minorVersion),G.writeUI32(i,0|this.build),G.writeUI32(i,this.build/(G.MAX_FLOAT_VALUE+1)|0),G.writeUI32(i,0|this.compileDate.getTime()),G.writeUI32(i,this.compileDate.getTime()/(G.MAX_FLOAT_VALUE+1)|0),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"ProductID: "+this.productId+", Edition: "+this.edition+", Version: "+this.majorVersion+"."+this.minorVersion+" r"+this.build+", CompileDate: "+B.dateStr(this.compileDate)},__class__:Sn};var En=function(){this.type=24,this.name="Protect",this.version=2,this.level=1;var t=new Zn(0);this.password=t};(i["format.swf.tags.TagProtect"]=En).__name__=["format","swf","tags","TagProtect"],En.__interfaces__=[vi],En.prototype={parse:function(t,e,i,n){null==n&&(n=!1),0<e&&t.readBytes(this.password,0,e)},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.password)),0<J_.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)},__class__:En};var In=function(){this.characterId=0,this.type=5,this.name="RemoveObject",this.version=1,this.level=1};(i["format.swf.tags.TagRemoveObject"]=In).__name__=["format","swf","tags","TagRemoveObject"],In.__interfaces__=[yi],In.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=G.readUI16(t),this.depth=G.readUI16(t)},publish:function(t,e){G.writeTagHeader(t,this.type,4),G.writeUI16(t,this.characterId),G.writeUI16(t,this.depth)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"CharacterID: "+this.characterId+", Depth: "+this.depth},__class__:In};var Pn=function(){In.call(this),this.type=28,this.name="RemoveObject2",this.version=3,this.level=2};(i["format.swf.tags.TagRemoveObject2"]=Pn).__name__=["format","swf","tags","TagRemoveObject2"],Pn.__interfaces__=[yi],Pn.__super__=In,Pn.prototype=n(In.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.depth=G.readUI16(t)},publish:function(t,e){G.writeTagHeader(t,this.type,2),G.writeUI16(t,this.depth)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth},__class__:Pn});var Cn=function(){this.type=65,this.name="ScriptLimits",this.version=7,this.level=1};(i["format.swf.tags.TagScriptLimits"]=Cn).__name__=["format","swf","tags","TagScriptLimits"],Cn.__interfaces__=[vi],Cn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.maxRecursionDepth=G.readUI16(t),this.scriptTimeoutSeconds=G.readUI16(t)},publish:function(t,e){G.writeTagHeader(t,this.type,4),G.writeUI16(t,this.maxRecursionDepth),G.writeUI16(t,this.scriptTimeoutSeconds)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"MaxRecursionDepth: "+this.maxRecursionDepth+", ScriptTimeoutSeconds: "+this.scriptTimeoutSeconds},__class__:Cn};var Dn=function(){this.color=16777215,this.type=9,this.name="SetBackgroundColor",this.version=1,this.level=1};(i["format.swf.tags.TagSetBackgroundColor"]=Dn).__name__=["format","swf","tags","TagSetBackgroundColor"],Dn.__interfaces__=[vi],Dn.create=function(t){null==t&&(t=16777215);var e=new Dn;return e.color=t,e},Dn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.color=G.readRGB(t)},publish:function(t,e){G.writeTagHeader(t,this.type,3),G.writeRGB(t,this.color)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"Color: "+$n.rgbToString(this.color)},__class__:Dn};var An=function(){this.type=66,this.name="SetTabIndex",this.version=7,this.level=1};(i["format.swf.tags.TagSetTabIndex"]=An).__name__=["format","swf","tags","TagSetTabIndex"],An.__interfaces__=[vi],An.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.depth=G.readUI16(t),this.tabIndex=G.readUI16(t)},publish:function(t,e){G.writeTagHeader(t,this.type,4),G.writeUI16(t,this.depth),G.writeUI16(t,this.tabIndex)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth+", TabIndex: "+this.tabIndex},__class__:An};var Rn=function(){this.type=1,this.name="ShowFrame",this.version=1,this.level=1};(i["format.swf.tags.TagShowFrame"]=Rn).__name__=["format","swf","tags","TagShowFrame"],Rn.__interfaces__=[yi],Rn.prototype={parse:function(t,e,i,n){null==n&&(n=!1)},publish:function(t,e){G.writeTagHeader(t,this.type,0)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)},__class__:Rn};var Mn=function(){this.type=19,this.name="SoundStreamBlock",this.version=1,this.level=1;var t=new Zn(0);this.soundData=t};(i["format.swf.tags.TagSoundStreamBlock"]=Mn).__name__=["format","swf","tags","TagSoundStreamBlock"],Mn.__interfaces__=[vi],Mn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),t.readBytes(this.soundData,0,e)},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.soundData),!0),0<J_.get_length(this.soundData)&&t.writeBytes(this.soundData)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"Length: "+J_.get_length(this.soundData)},__class__:Mn};var Fn=function(){this.type=18,this.name="SoundStreamHead",this.version=1,this.level=1};(i["format.swf.tags.TagSoundStreamHead"]=Fn).__name__=["format","swf","tags","TagSoundStreamHead"],Fn.__interfaces__=[vi],Fn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),G.readUB(t,4),this.playbackSoundRate=G.readUB(t,2),this.playbackSoundSize=G.readUB(t,1),this.playbackSoundType=G.readUB(t,1),this.streamSoundCompression=G.readUB(t,4),this.streamSoundRate=G.readUB(t,2),this.streamSoundSize=G.readUB(t,1),this.streamSoundType=G.readUB(t,1),this.streamSoundSampleCount=G.readUI16(t),2==this.streamSoundCompression&&(this.latencySeek=G.readSI16(t))},publish:function(t,e){var i=G._new();G.writeUB(i,4,0),G.writeUB(i,2,this.playbackSoundRate),G.writeUB(i,1,this.playbackSoundSize),G.writeUB(i,1,this.playbackSoundType),G.writeUB(i,4,this.streamSoundCompression),G.writeUB(i,2,this.streamSoundRate),G.writeUB(i,1,this.streamSoundSize),G.writeUB(i,1,this.streamSoundType),G.writeUI16(i,this.streamSoundSampleCount),2==this.streamSoundCompression&&G.writeSI16(i,this.latencySeek),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t);return 0<this.streamSoundSampleCount&&(e+="Format: "+ae.toString(this.streamSoundCompression)+", Rate: "+oe.toString(this.streamSoundRate)+", Size: "+le.toString(this.streamSoundSize)+", Type: "+he.toString(this.streamSoundType)+", "),e+="Samples: "+this.streamSoundSampleCount+", ",e+="LatencySeek: "+this.latencySeek},__class__:Fn};var Bn=function(){Fn.call(this),this.type=45,this.name="SoundStreamHead2",this.version=3,this.level=2};(i["format.swf.tags.TagSoundStreamHead2"]=Bn).__name__=["format","swf","tags","TagSoundStreamHead2"],Bn.__interfaces__=[vi],Bn.__super__=Fn,Bn.prototype=n(Fn.prototype,{toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t);return 0<this.streamSoundSampleCount&&(e+="Format: "+ae.toString(this.streamSoundCompression)+", Rate: "+oe.toString(this.streamSoundRate)+", Size: "+le.toString(this.streamSoundSize)+", Type: "+he.toString(this.streamSoundType)+", "),e+="Samples: "+this.streamSoundSampleCount},__class__:Bn});var Ln=function(){this.type=15,this.name="StartSound",this.version=1,this.level=1};(i["format.swf.tags.TagStartSound"]=Ln).__name__=["format","swf","tags","TagStartSound"],Ln.__interfaces__=[vi],Ln.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.soundId=G.readUI16(t),this.soundInfo=G.readSOUNDINFO(t)},publish:function(t,e){var i=G._new();G.writeUI16(i,this.soundId),G.writeSOUNDINFO(i,this.soundInfo),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"SoundID: "+this.soundId+", SoundInfo: "+L.string(this.soundInfo)},__class__:Ln};var kn=function(){this.type=89,this.name="StartSound2",this.version=9,this.level=2};(i["format.swf.tags.TagStartSound2"]=kn).__name__=["format","swf","tags","TagStartSound2"],kn.__interfaces__=[vi],kn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.soundClassName=G.readSTRING(t),this.soundInfo=G.readSOUNDINFO(t)},publish:function(t,e){var i=G._new();G.writeSTRING(i,this.soundClassName),G.writeSOUNDINFO(i,this.soundInfo),G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"SoundClassName: "+this.soundClassName+", SoundInfo: "+L.string(this.soundInfo)},__class__:kn};var Nn=function(){this.type=76,this.name="SymbolClass",this.version=9,this.level=1,this.symbols=[]};(i["format.swf.tags.TagSymbolClass"]=Nn).__name__=["format","swf","tags","TagSymbolClass"],Nn.__interfaces__=[vi],Nn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);for(var s=0,r=G.readUI16(t);s<r;){s++;this.symbols.push(G.readSYMBOL(t))}},publish:function(t,e){var i=G._new(),n=this.symbols.length;G.writeUI16(i,n);for(var s=0,r=n;s<r;){var a=s++;G.writeSYMBOL(i,this.symbols[a])}G.writeTagHeader(t,this.type,G.get_length(i)),t.writeBytes(J_.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=wi.toStringCommon(this.type,this.name,t);if(0<this.symbols.length){e+="\n"+ns.repeat(t+2)+"Symbols:";for(var i=0,n=this.symbols.length;i<n;){var s=i++;e+="\n"+ns.repeat(t+4)+"["+s+"] "+this.symbols[s].toString()}}return e},__class__:Nn};var On=function(t){null==t&&(t=0),this.type=t,this.name="????",this.version=0,this.level=1};(i["format.swf.tags.TagUnknown"]=On).__name__=["format","swf","tags","TagUnknown"],On.__interfaces__=[vi],On.prototype={parse:function(t,e,i,n){null==n&&(n=!1),G.skipBytes(t,e)},publish:function(t,e){throw new Vs(new vh("No raw tag data available."))},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)},__class__:On};var Un=function(){this.type=61,this.name="VideoFrame",this.version=6,this.level=1;var t=new Zn(0);this.videoData=t};(i["format.swf.tags.TagVideoFrame"]=Un).__name__=["format","swf","tags","TagVideoFrame"],Un.__interfaces__=[vi],Un.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.streamId=G.readUI16(t),this.frameNum=G.readUI16(t),t.readBytes(this.videoData,0,e-4)},publish:function(t,e){G.writeTagHeader(t,this.type,J_.get_length(this.videoData)+4),G.writeUI16(t,this.streamId),G.writeUI16(t,this.frameNum),0<J_.get_length(this.videoData)&&t.writeBytes(this.videoData)},toString:function(t){return null==t&&(t=0),wi.toStringCommon(this.type,this.name,t)+"StreamID: "+this.streamId+", Frame: "+this.frameNum},__class__:Un};var Gn=function(t){null==t&&(t=0),On.call(this),this.type=253,this.name="SWFEncryptActions"};(i["format.swf.tags.etc.TagSWFEncryptActions"]=Gn).__name__=["format","swf","tags","etc","TagSWFEncryptActions"],Gn.__interfaces__=[vi],Gn.__super__=On,Gn.prototype=n(On.prototype,{__class__:Gn});var Xn=function(t){null==t&&(t=0),On.call(this),this.type=255,this.name="SWFEncryptSignature"};(i["format.swf.tags.etc.TagSWFEncryptSignature"]=Xn).__name__=["format","swf","tags","etc","TagSWFEncryptSignature"],Xn.__interfaces__=[vi],Xn.__super__=On,Xn.prototype=n(On.prototype,{__class__:Xn});var Vn=function(t,e){null==e&&(e=0),null==t&&(t=0),this.tagIndexEnd=0,this.tagIndexStart=0,this.frameNumber=0,this.frameNumber=t,this.tagIndexStart=e,this.objects=new fs,this.characters=[]};(i["format.swf.timeline.Frame"]=Vn).__name__=["format","swf","timeline","Frame"],Vn.prototype={getObjectsSortedByDepth:function(){var t=[];if(null==this._objectsSortedByDepth){for(var e=this.objects.keys();e.hasNext();){var i=e.next();t.push(i)}t.sort(Hu(this,this.sortNumeric)),this._objectsSortedByDepth=[];for(var n=0,s=t.length;n<s;){var r=n++;this._objectsSortedByDepth.push(this.objects.h[t[r]])}}return this._objectsSortedByDepth},sortNumeric:function(t,e){return t-e},get_tagCount:function(){return this.tagIndexEnd-this.tagIndexStart+1},placeObject:function(t,e){var i=this.objects.h[e.depth];if(null!=i)0==e.characterId?(i.lastModifiedAtIndex=t,i.isKeyframe=!1):((e.hasName||e.hasMatrix||e.hasColorTransform||e.hasFilterList)&&(i.lastModifiedAtIndex=t),i.isKeyframe=!0,e.characterId!=i.characterId&&(i.characterId=e.characterId,i.lastModifiedAtIndex=t));else{var n=this.objects,s=e.depth,r=new zn(e.depth,e.clipDepth,e.characterId,e.className,t,0,!0);n.h[s]=r}this._objectsSortedByDepth=null},removeObject:function(t){this.objects.remove(t.depth),this._objectsSortedByDepth=null},clone:function(){for(var t=new Vn,e=this.objects.keys();e.hasNext();){var i=e.next(),n=t.objects,s=this.objects.h[i].clone();n.h[i]=s}return t},toString:function(t){null==t&&(t=0);var e=ns.repeat(t)+"["+this.frameNumber+"] Start: "+this.tagIndexStart+", Length: "+this.get_tagCount();null!=this.label&&""!=this.label&&(e+=", Label: "+this.label),0<this.characters.length&&(e+="\n"+ns.repeat(t+2)+"Defined CharacterIDs: "+this.characters.join(", "));for(var i=this.objects.keys();i.hasNext();){var n=i.next();e+=this.objects.h[n].toString()}return e},__class__:Vn,__properties__:{get_tagCount:"get_tagCount"}};var zn=function(t,e,i,n,s,r,a){null==a&&(a=!1),null==r&&(r=0),this.layer=-1,this.depth=t,this.clipDepth=e,this.characterId=i,this.className=n,this.placedAtIndex=s,this.lastModifiedAtIndex=r,this.isKeyframe=a,this.layer=-1};(i["format.swf.timeline.FrameObject"]=zn).__name__=["format","swf","timeline","FrameObject"],zn.prototype={clone:function(){return new zn(this.depth,this.clipDepth,this.characterId,this.className,this.placedAtIndex,this.lastModifiedAtIndex,!1)},toString:function(){var t=ns.repeat(2)+"Depth: "+this.depth+(-1<this.layer?" (Layer "+this.layer+")":"")+", CharacterId: "+this.characterId+", ";return null!=this.className&&(t+="ClassName: "+this.className+", "),t+="PlacedAt: "+this.placedAtIndex,0<this.lastModifiedAtIndex&&(t+=", LastModifiedAt: "+this.lastModifiedAtIndex),this.isKeyframe&&(t+=", IsKeyframe"),t},__class__:zn};var Hn=function(t,e){this.frameCount=0,this.depth=0,this.depth=t,this.frameCount=e,this.frameStripMap=[],this.strips=[]};(i["format.swf.timeline.Layer"]=Hn).__name__=["format","swf","timeline","Layer"],Hn.prototype={appendStrip:function(t,e,i){if(0!=t){var n=this.strips.length;if(0==n&&0<e){for(var s=0,r=e;s<r;){var a=s++;this.frameStripMap[a]=n}this.strips[n++]=new Yn(1,0,e-1)}else if(0<n){var o=this.strips[n-1];if(o.endFrameIndex+1<e){for(var l=o.endFrameIndex+1,h=e;l<h;){var _=l++;this.frameStripMap[_]=n}this.strips[n++]=new Yn(1,o.endFrameIndex+1,e-1)}}for(var u=e,c=i+1;u<c;){var f=u++;this.frameStripMap[f]=n}this.strips[n]=new Yn(t,e,i)}},getStripsForFrameRegion:function(t,e){if(t>=this.frameStripMap.length||e<t)return[];var i=this.frameStripMap[t],n=e>=this.frameStripMap.length?this.strips.length-1:this.frameStripMap[e];return this.strips.slice(i,n+1)},toString:function(t){null==t&&(t=0);var e="Depth: "+this.depth+", Frames: "+this.frameCount;if(0<this.strips.length){e+="\n"+ns.repeat(t+2)+"Strips:";for(var i=0,n=this.strips.length;i<n;){var s=i++,r=this.strips[s];e+="\n"+ns.repeat(t+4)+"["+s+"] "+r.toString()}}return e},__class__:Hn};var Yn=function(t,e,i){this.endFrameIndex=0,this.startFrameIndex=0,this.type=0,this.type=t,this.startFrameIndex=e,this.endFrameIndex=i};(i["format.swf.timeline.LayerStrip"]=Yn).__name__=["format","swf","timeline","LayerStrip"],Yn.prototype={toString:function(){var t;switch(t=this.startFrameIndex==this.endFrameIndex?"Frame: "+this.startFrameIndex:"Frames: "+this.startFrameIndex+"-"+this.endFrameIndex,t+=", Type: ",this.type){case 0:t+="EMPTY";break;case 1:t+="SPACER";break;case 2:t+="STATIC";break;case 3:t+="MOTIONTWEEN";break;case 4:t+="SHAPETWEEN";break;default:t+="unknown"}return t},__class__:Yn};var Wn=function(t,e){this.frameNumber=0,this.frameNumber=t,this.name=e};(i["format.swf.timeline.Scene"]=Wn).__name__=["format","swf","timeline","Scene"],Wn.prototype={toString:function(t){return null==t&&(t=0),ns.repeat(t)+"Name: "+this.name+", Frame: "+this.frameNumber},__class__:Wn};var Kn=function(){var t=new Zn(0);this.data=t};(i["format.swf.timeline.SoundStream"]=Kn).__name__=["format","swf","timeline","SoundStream"],Kn.prototype={toString:function(){return"[SoundStream] StartFrame: "+this.startFrame+", Frames: "+this.numFrames+", Samples: "+this.numSamples+", Bytes: "+J_.get_length(this.data)},__class__:Kn};var jn=function(t){this.length=t.byteLength,this.b=new ec(t),(this.b.bufferValue=t).hxBytes=this,t.bytes=this.b};(i["haxe.io.Bytes"]=jn).__name__=["haxe","io","Bytes"],jn.alloc=function(t){return new jn(new Qu(t))},jn.ofString=function(t){for(var e=[],i=0;i<t.length;){var n=t.charCodeAt(i++);55296<=n&&n<=56319&&(n=n-55232<<10|1023&t.charCodeAt(i++)),n<=127?e.push(n):(n<=2047?e.push(192|n>>6):(n<=65535?e.push(224|n>>12):(e.push(240|n>>18),e.push(128|n>>12&63)),e.push(128|n>>6&63)),e.push(128|63&n))}return new jn(new ec(e).buffer)},jn.ofData=function(t){var e=t.hxBytes;return null!=e?e:new jn(t)},jn.fastGet=function(t,e){return t.bytes[e]},jn.prototype={blit:function(t,e,i,n){if(t<0||i<0||n<0||t+n>this.length||i+n>e.length)throw new Vs(ys.OutsideBounds);0==i&&n==e.b.byteLength?this.b.set(e.b,t):this.b.set(e.b.subarray(i,i+n),t)},sub:function(t,e){if(t<0||e<0||t+e>this.length)throw new Vs(ys.OutsideBounds);return new jn(this.b.buffer.slice(t+this.b.byteOffset,t+this.b.byteOffset+e))},getDouble:function(t){return null==this.data&&(this.data=new $u(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat64(t,!0)},getFloat:function(t){return null==this.data&&(this.data=new $u(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(t,!0)},setDouble:function(t,e){null==this.data&&(this.data=new $u(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat64(t,e,!0)},setFloat:function(t,e){null==this.data&&(this.data=new $u(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(t,e,!0)},setUInt16:function(t,e){null==this.data&&(this.data=new $u(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setUint16(t,e,!0)},getInt32:function(t){return null==this.data&&(this.data=new $u(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getInt32(t,!0)},setInt32:function(t,e){null==this.data&&(this.data=new $u(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(t,e,!0)},getInt64:function(t){return new os(this.getInt32(t+4),this.getInt32(t))},getString:function(t,e){if(t<0||e<0||t+e>this.length)throw new Vs(ys.OutsideBounds);for(var i="",n=this.b,s=String.fromCharCode,r=t,a=t+e;r<a;){var o=n[r++];if(o<128){if(0==o)break;i+=s(o)}else if(o<224)i+=s((63&o)<<6|127&n[r++]);else if(o<240){i+=s((31&o)<<12|(127&n[r++])<<6|127&n[r++])}else{var l=(15&o)<<18|(127&n[r++])<<12|(127&n[r++])<<6|127&n[r++];i+=s(55232+(l>>10)),i+=s(1023&l|56320)}}return i},toString:function(){return this.getString(0,this.length)},__class__:jn};function qn(){}(i["openfl.utils.IDataOutput"]=qn).__name__=["openfl","utils","IDataOutput"],qn.prototype={__class__:qn,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};function Jn(){}(i["openfl.utils.IDataInput"]=Jn).__name__=["openfl","utils","IDataInput"],Jn.prototype={__class__:Jn,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var Zn=function(t){null==t&&(t=0);var e=new jn(new Qu(t));jn.call(this,e.b.buffer),this.__length=t,this.__endian=0,this.position=0};(i["openfl.utils.ByteArrayData"]=Zn).__name__=["openfl","utils","ByteArrayData"],Zn.__interfaces__=[qn,Jn],Zn.fromBytes=function(t){var e=new Zn;return e.__fromBytes(t),e},Zn.__super__=jn,Zn.prototype=n(jn.prototype,{clear:function(){this.__length=0,this.position=0},compress:function(t){this.__length=this.length,this.position=this.__length},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw new Vs(new wh)},readByte:function(){var t=this.readUnsignedByte();return 0!=(128&t)?t-256:t},readBytes:function(t,e,i){if(null==i&&(i=0),null==e&&(e=0),0==i&&(i=this.__length-this.position),this.position+i>this.__length)throw new Vs(new wh);t.__length<e+i&&t.__resize(e+i),t.blit(e,this,this.position,i),this.position+=i},readDouble:function(){if(this.position+8>this.__length)throw new Vs(new wh);return this.position+=8,this.getDouble(this.position-8)},readFloat:function(){if(this.position+4>this.__length)throw new Vs(new wh);return this.position+=4,this.getFloat(this.position-4)},readInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|n},readMultiByte:function(t,e){return this.readUTFBytes(t)},readShort:function(){var t,e=this.readUnsignedByte(),i=this.readUnsignedByte();return 0!=(32768&(t=1==this.__endian?i<<8|e:e<<8|i))?t-65536:t},readUnsignedByte:function(){if(this.position<this.__length)return this.b[this.position++];throw new Vs(new wh)},readUnsignedInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|n},readUnsignedShort:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte();return 1==this.__endian?(e<<8)+t:t<<8|e},readUTF:function(){var t=this.readUnsignedShort();return this.readUTFBytes(t)},readUTFBytes:function(t){if(this.position+t>this.__length)throw new Vs(new wh);return this.position+=t,this.getString(this.position-t,t)},uncompress:function(t){this.__length=this.length,this.position=0},writeBoolean:function(t){this.writeByte(t?1:0)},writeByte:function(t){this.__resize(this.position+1),this.b[this.position++]=255&t},writeBytes:function(t,e,i){null==i&&(i=0),null==e&&(e=0),0!=J_.get_length(t)&&(0==i&&(i=J_.get_length(t)-e),this.__resize(this.position+i),this.blit(this.position,t,e,i),this.position=this.position+i)},writeDouble:function(t){this.__resize(this.position+8),this.setDouble(this.position,t),this.position+=8},writeFloat:function(t){this.__resize(this.position+4),this.setFloat(this.position,t),this.position+=4},writeInt:function(t){this.__resize(this.position+4),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>24&255):(this.b[this.position++]=t>>24&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeMultiByte:function(t,e){this.writeUTFBytes(t)},writeShort:function(t){this.__resize(this.position+2),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255):(this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeUnsignedInt:function(t){this.writeInt(t)},writeUTF:function(t){var e=jn.ofString(t);this.writeShort(e.length),this.writeBytes(J_.fromBytes(e))},writeUTFBytes:function(t){var e=jn.ofString(t);this.writeBytes(J_.fromBytes(e))},__fromBytes:function(t){this.b=t.b,this.length=t.length,this.data=t.data,this.__length=t.length},__resize:function(t){if(t>this.length){var e=new jn(new Qu(3*(t+1)>>1));e.blit(0,this,0,this.length),this.b=e.b,this.length=e.length,this.data=e.data}this.__length<t&&(this.__length=t)},__setData:function(t){this.b=t.b,this.length=t.length,this.data=t.data},get_bytesAvailable:function(){return this.__length-this.position},get_endian:function(){return this.__endian},set_endian:function(t){return this.__endian=t},__class__:Zn,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});var Qn=function(t){this.bitsPending=0,Zn.call(this,t)};(i["format.swf.utils.BitArray"]=Qn).__name__=["format","swf","utils","BitArray"],Qn.__super__=Zn,Qn.prototype=n(Zn.prototype,{readBits:function(t,e){if(null==e&&(e=0),0==t)return e;var i,n;if(0<this.bitsPending){var s=this.b[this.position-1]&255>>8-this.bitsPending;n=0|Math.min(this.bitsPending,t),this.bitsPending-=n,i=s>>this.bitsPending}else n=0|Math.min(8,t),this.bitsPending=8-n,i=this.readUnsignedByte()>>this.bitsPending;return e=e<<n|i,0<(t-=n)?this.readBits(t,e):e},writeBits:function(t,e){var i;0!=t&&(e&=-1>>>32-t,0<this.bitsPending?this.bitsPending>t?(this.b[this.position-1]=255&(this.b[this.position-1]|e<<this.bitsPending-t),i=t,this.bitsPending-=t):(i=this.bitsPending==t?(this.b[this.position-1]=255&(this.b[this.position-1]|e),t):(this.b[this.position-1]=255&(this.b[this.position-1]|e>>t-this.bitsPending),this.bitsPending),this.bitsPending=0):(i=0|Math.min(8,t),this.bitsPending=8-i,this.writeByte(e>>t-i<<this.bitsPending)),0<(t-=i)&&this.writeBits(t,e))},resetBitsPending:function(){this.bitsPending=0},calculateMaxBits:function(t,e){var i=0,n=0|G.MIN_FLOAT_VALUE;if(t)for(var s=0;s<e.length;){var r=e[s];++s,i|=0<=r?r:~r<<1,n<r&&(n=r)}else for(var a=0;a<e.length;){var o=e[a];++a,i|=o}var l=0;return 0<i&&(l=_s.encode(null==i?"null":""+i,"01").length,t&&0<n&&_s.encode(null==n?"null":""+n,"01").length>=l&&++l),l},__class__:Qn});var $n=function(){};(i["format.swf.utils.ColorUtils"]=$n).__name__=["format","swf","utils","ColorUtils"],$n.alpha=function(t){return(t>>>24)/255},$n.rgb=function(t){return 16777215&t},$n.r=function(t){return($n.rgb(t)>>16&255)/255},$n.g=function(t){return($n.rgb(t)>>8&255)/255},$n.b=function(t){return(255&$n.rgb(t))/255},$n.interpolate=function(t,e,i){var n=$n.r(t),s=$n.g(t),r=$n.b(t),a=$n.alpha(t),o=255*(n+($n.r(e)-n)*i)|0,l=255*(s+($n.g(e)-s)*i)|0;return 255*(r+($n.b(e)-r)*i)|0|l<<8|o<<16|(255*(a+($n.alpha(e)-a)*i)|0)<<24},$n.rgbToString=function(t){return ns.printf("#%06x",[16777215&t])},$n.rgbaToString=function(t){return ns.printf("#%06x(%02x)",[16777215&t,t>>>24])},$n.argbToString=function(t){return ns.printf("#(%02x)%06x",[t>>>24,16777215&t])};var ts=function(){};(i["format.swf.utils.HalfPrecisionWriter"]=ts).__name__=["format","swf","utils","HalfPrecisionWriter"],ts.write=function(t,e){var i,n,s,r,a,o;e.resetBitsPending();var l=0,h=e.position;e.writeDouble(t),e.position-=4,i=e.readUnsignedInt(),e.position=h,l=0==(2147483647&i)?i>>16:(n=-2147483648&i,r=1048575&i,0==(s=2146435072&i)?n>>16:2146435072==s?0==r?n>>16|31744:65024:(n>>=16,31<=(o=(s>>20)-1023+15)?r>>16|31744:o<=0?(21<10-o?a=0:(a=(r|=1048576)>>11-o,0<(r>>10-o&1)&&++a),n|a):(s=o<<10,a=r>>10,0<(512&r)?1+(n|s|a):n|s|a))),e.writeShort(l)};var es=function(){};(i["format.swf.utils.MatrixUtils"]=es).__name__=["format","swf","utils","MatrixUtils"],es.interpolate=function(t,e,i){var n=new bt;return n.scaleX=t.scaleX+(e.scaleX-t.scaleX)*i,n.scaleY=t.scaleY+(e.scaleY-t.scaleY)*i,n.rotateSkew0=t.rotateSkew0+(e.rotateSkew0-t.rotateSkew0)*i,n.rotateSkew1=t.rotateSkew1+(e.rotateSkew1-t.rotateSkew1)*i,n.translateX=t.translateX+(e.translateX-t.translateX)*i|0,n.translateY=t.translateY+(e.translateY-t.translateY)*i|0,n};var is=function(){};(i["format.swf.utils.NumberUtils"]=is).__name__=["format","swf","utils","NumberUtils"],is.roundPixels20=function(t){return Math.round(100*t)/100},is.roundPixels400=function(t){return Math.round(1e4*t)/1e4};var ns=function(){};(i["format.swf.utils.StringUtils"]=ns).__name__=["format","swf","utils","StringUtils"],ns.trim=function(t){return ns.ltrim(ns.rtrim(t))},ns.ltrim=function(t){if(null!=t)for(var e=0,i=t.length;e<i;){var n=e++;if(32<B.cca(t,n))return t.substring(n)}return""},ns.rtrim=function(t){if(null!=t)for(var e=t.length;0<e;){if(32<B.cca(t,e-1))return t.substring(0,e);--e}return""},ns.simpleEscape=function(t){return t=(t=(t=t.split("\n").join("\\n")).split("\r").join("\\r")).split("\t").join("\\t")},ns.strictEscape=function(t,e){if(null==e&&(e=!0),null!=t&&0<t.length){e&&(t=ns.trim(t));for(var i=(t=encodeURIComponent(t)).split(""),n=0,s=i.length;n<s;){var r=n++;switch(i[r]){case"!":i[r]="%21";break;case"'":i[r]="%27";break;case"(":i[r]="%28";break;case")":i[r]="%29";break;case"*":i[r]="%2A";break;case"-":i[r]="%2D";break;case".":i[r]="%2E";break;case"_":i[r]="%5F";break;case"~":i[r]="%7E"}}return i.join("")}return""},ns.repeat=function(t,e){null==e&&(e=" ");for(var i="",n=0,s=t;n<s;){n++;i+=e}return i},ns.printf=function(t,e){var i="",n=0,s=-1,r=0;try{for(;r<t.length;){var a=t.charAt(r);if("%"==a)if(++r<t.length)if("%"==(a=t.charAt(r)))i+=a;else{var o,l=!1,h=!1,_=!1,u=!1,c=-1,f=-1,d="",p=ns.getIndex(t);if(p<-1||0==p)throw ls.trace("ERR parsing index",{fileName:"StringUtils.hx",lineNumber:116,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(-1==p){if(1==s)throw ls.trace("ERR: indexed placeholder expected",{fileName:"StringUtils.hx",lineNumber:119,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=0),++n}else{if(0==s)throw ls.trace("ERR: non-indexed placeholder expected",{fileName:"StringUtils.hx",lineNumber:123,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=1),n=p}for(a=t.charAt(r);"+"==a||"-"==a||"#"==a||" "==a||"0"==a;){switch(a){case" ":_=!0;break;case"+":l=!0;break;case"-":h=!0;break;case"0":u=!0}if(++r==t.length)break;a=t.charAt(r)}if(r==t.length)throw"__break__";if("*"==a){var g=0;if(++r==t.length)throw"__break__";if((p=ns.getIndex(t))<-1||0==p)throw ls.trace("ERR parsing index for width",{fileName:"StringUtils.hx",lineNumber:152,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(-1==p){if(1==s)throw ls.trace("ERR: indexed placeholder expected for width",{fileName:"StringUtils.hx",lineNumber:155,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=0),g=n++}else{if(0==s)throw ls.trace("ERR: non-indexed placeholder expected for width",{fileName:"StringUtils.hx",lineNumber:159,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=1),g=p}if(--g,!(e.length>g&&0<=g))throw ls.trace("ERR index out of bounds while parsing width",{fileName:"StringUtils.hx",lineNumber:172,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(c=0|e[g],isNaN(c))throw c=-1,ls.trace("ERR NaN while parsing width",{fileName:"StringUtils.hx",lineNumber:168,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";a=t.charAt(r)}else{for(;"0"<=a&&a<="9"&&(-1==c&&(c=0),c=10*c+L.parseInt(a),++r!=t.length);)a=t.charAt(r);if(-1!=c&&r==t.length)throw ls.trace("ERR eof while parsing width",{fileName:"StringUtils.hx",lineNumber:184,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__"}if("."==a){if(++r==t.length)throw"__break__";if("*"==(a=t.charAt(r))){var m=0;if(++r==t.length)throw"__break__";if((p=ns.getIndex(t))<-1||0==p)throw ls.trace("ERR parsing index for precision",{fileName:"StringUtils.hx",lineNumber:200,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(-1==p){if(1==s)throw ls.trace("ERR: indexed placeholder expected for precision",{fileName:"StringUtils.hx",lineNumber:203,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=0),m=n++}else{if(0==s)throw ls.trace("ERR: non-indexed placeholder expected for precision",{fileName:"StringUtils.hx",lineNumber:207,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=1),m=p}if(--m,!(e.length>m&&0<=m))throw ls.trace("ERR index out of bounds while parsing precision",{fileName:"StringUtils.hx",lineNumber:220,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(f=0|e[m],isNaN(f))throw f=-1,ls.trace("ERR NaN while parsing precision",{fileName:"StringUtils.hx",lineNumber:216,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";a=t.charAt(r)}else{for(;"0"<=a&&a<="9"&&(-1==f&&(f=0),f=10*f+L.parseInt(a),++r!=t.length);)a=t.charAt(r);if(-1!=f&&r==t.length)throw ls.trace("ERR eof while parsing precision",{fileName:"StringUtils.hx",lineNumber:232,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__"}}switch(a){case"h":case"l":if(++r==t.length)throw ls.trace("ERR eof after length",{fileName:"StringUtils.hx",lineNumber:243,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";var v=t.charAt(r);if("h"==a&&"h"==v||"l"==a&&"l"==v){if(++r==t.length)throw ls.trace("ERR eof after length",{fileName:"StringUtils.hx",lineNumber:246,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";a=t.charAt(r)}else a=v;break;case"L":case"j":case"t":case"z":if(++r==t.length)throw ls.trace("ERR eof after length",{fileName:"StringUtils.hx",lineNumber:252,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";a=t.charAt(r)}if(!(0<="diufFeEgGxXoscpn".indexOf(a)))throw ls.trace("ERR unknown type: "+a,{fileName:"StringUtils.hx",lineNumber:262,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(d=a,!(e.length>=n&&0<n))throw ls.trace("ERR value index out of bounds ("+n+")",{fileName:"StringUtils.hx",lineNumber:269,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";o=e[n-1];var b,y,w="",x=0;switch(d){case"E":case"F":case"G":case"e":case"f":case"g":-1==f&&(f=6);var T=Math.pow(10,f);if(b="number"==typeof o?o:parseFloat(L.string(o)),w=L.string(Math.round(Math.abs(b)*T)/T),0<f){var S,E=w.indexOf(".");S=-1==E?(w+=".",f):f-(w.length-E-1),w+=ns.repeat(S,"0")}x=b<0?1:-1;break;case"c":w=L.string(o).charAt(0);break;case"d":case"i":y="number"==typeof o?o:L.parseInt(L.string(o)),w=L.string(Math.abs(y)),x=y<0?1:-1;break;case"o":w=_s.encode(L.string(0|o),"01234567");break;case"s":w=L.string(o),-1!=f&&(w=B.substr(w,0,f));break;case"u":w=L.string("number"==typeof o?o:L.parseInt(L.string(o)));break;case"X":case"p":case"x":w=Ps.hex("number"==typeof o?0|o:L.parseInt(o)),"X"==d&&(w=w.toUpperCase())}var I=1==x||l||_;if(-1<c){var P=c-w.length;if(I&&--P,0<P){var C=u&&!h?"0":" ";h||(C+=w),w+=ns.repeat(P,C)}}I&&(w=-1==x?(_?" ":"0")+w:"-"+w),i+=w}else i+=a;else i+=a;++r}}catch(t){if("__break__"!=t)throw t}return i},ns.getIndex=function(t){for(var e=0,i=!1,n="",s=ns.i;;){if(!("0"<=(n=t.charAt(ns.i))&&n<="9"))break;if(i=!0,e=10*e+L.parseInt(n),++ns.i==t.length)return-2}return i?"$"!=n?(ns.i=s,-1):++ns.i==t.length?-2:e:-1};var ss=i["haxe.StackItem"]={__ename__:!0,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};ss.CFunction=["CFunction",0],ss.CFunction.toString=f,(ss.CFunction.__enum__=ss).Module=function(t){var e=["Module",1,t];return e.__enum__=ss,e.toString=f,e},ss.FilePos=function(t,e,i){var n=["FilePos",2,t,e,i];return n.__enum__=ss,n.toString=f,n},ss.Method=function(t,e){var i=["Method",3,t,e];return i.__enum__=ss,i.toString=f,i},ss.LocalFunction=function(t){var e=["LocalFunction",4,t];return e.__enum__=ss,e.toString=f,e};var rs=function(){};(i["haxe.CallStack"]=rs).__name__=["haxe","CallStack"],rs.lastException=null,rs.getStack=function(t){if(null==t)return[];var e=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){for(var i=[],n=0;n<e.length;){var s=e[n];++n,null!=rs.wrapCallSite&&(s=rs.wrapCallSite(s));var r=null,a=s.getFunctionName();if(null!=a){var o=a.lastIndexOf(".");if(0<=o){var l=B.substr(a,0,o),h=B.substr(a,o+1,null);r=ss.Method(l,h)}}i.push(ss.FilePos(r,s.getFileName(),s.getLineNumber()))}return i};var i=rs.makeStack(t.stack);return Error.prepareStackTrace=e,i},rs.wrapCallSite=null,rs.callStack=function(){try{throw new Error}catch(t){(rs.lastException=t)instanceof Vs&&(t=t.val);var e=rs.getStack(t);return e.shift(),e}},rs.exceptionStack=function(){return rs.getStack(rs.lastException)},rs.toString=function(t){for(var e=new k,i=0;i<t.length;){var n=t[i];++i,e.b+="\nCalled from ",rs.itemToString(e,n)}return e.b},rs.itemToString=function(t,e){switch(e[1]){case 0:t.b+="a C function";break;case 1:var i=e[2];t.b+="module ",t.b+=null==i?"null":""+i;break;case 2:var n=e[4],s=e[3],r=e[2];null!=r&&(rs.itemToString(t,r),t.b+=" ("),t.b+=null==s?"null":""+s,t.b+=" line ",t.b+=null==n?"null":""+n,null!=r&&(t.b+=")");break;case 3:var a=e[3],o=e[2];t.b+=null==o?"null":""+o,t.b+=".",t.b+=null==a?"null":""+a;break;case 4:var l=e[2];t.b+="local function #",t.b+=null==l?"null":""+l}},rs.makeStack=function(t){if(null==t)return[];if("string"!=typeof t)return t;var e=t.split("\n");"Error"==e[0]&&e.shift();for(var i=[],n=new w("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),s=0;s<e.length;){var r=e[s];if(++s,n.match(r)){var a=n.matched(1).split("."),o=a.pop(),l=n.matched(2),h=L.parseInt(n.matched(3));i.push(ss.FilePos("Anonymous function"==o?ss.LocalFunction():"Global code"==o?null:ss.Method(a.join("."),o),l,h))}else i.push(ss.Module(Ps.trim(r)))}return i};function as(){}(i["haxe.IMap"]=as).__name__=["haxe","IMap"],as.prototype={__class__:as};var os=function(t,e){this.high=t,this.low=e};(i["haxe._Int64.___Int64"]=os).__name__=["haxe","_Int64","___Int64"],os.prototype={__class__:os};var ls=function(){};(i["haxe.Log"]=ls).__name__=["haxe","Log"],ls.trace=function(t,e){zs.__trace(t,e)};var hs=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};(i["haxe.Timer"]=hs).__name__=["haxe","Timer"],hs.delay=function(t,e){var i=new hs(e);return i.run=function(){i.stop(),t()},i},hs.measure=function(t,e){var i=Date.now()/1e3,n=t();return ls.trace(Date.now()/1e3-i+"s",e),n},hs.stamp=function(){return Date.now()/1e3},hs.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:hs};var _s=function(t){for(var e=t.length,i=1;1<<i<e;)++i;if(8<i||e!=1<<i)throw new Vs("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};(i["haxe.crypto.BaseCode"]=_s).__name__=["haxe","crypto","BaseCode"],_s.encode=function(t,e){return new _s(jn.ofString(e)).encodeString(t)},_s.prototype={encodeBytes:function(t){for(var e=this.nbits,i=this.base,n=8*t.length/e|0,s=new jn(new Qu(n+(8*t.length%e==0?0:1))),r=0,a=0,o=(1<<e)-1,l=0,h=0;h<n;){for(;a<e;)a+=8,r<<=8,r|=t.b[l++];a-=e,s.b[h++]=255&i.b[r>>a&o]}return 0<a&&(s.b[h++]=255&i.b[r<<e-a&o]),s},encodeString:function(t){return this.encodeBytes(jn.ofString(t)).toString()},__class__:_s};var us=function(){};(i["haxe.crypto.Crc32"]=us).__name__=["haxe","crypto","Crc32"],us.make=function(t){for(var e=-1,i=t.b.bufferValue,n=0,s=t.length;n<s;){for(var r=n++,a=255&(e^i.bytes[r]),o=0;o<8;){o++;1==(1&a)?a=a>>>1^-306674912:a>>>=1}e=e>>>8^a}return-1^e};function cs(){}(i["haxe.crypto.Md5"]=cs).__name__=["haxe","crypto","Md5"],cs.encode=function(t){var e=new cs,i=e.doEncode(cs.str2blks(t));return e.hex(i)},cs.str2blks=function(t){for(var e=jn.ofString(t),i=1+(e.length+8>>6),n=[],s=0,r=16*i;s<r;){n[s++]=0}for(var a=0,o=e.length,l=8*o;a<o;)n[a>>2]|=e.b[a]<<(l+a)%4*8,++a;n[a>>2]|=128<<(l+a)%4*8;var h=16*i-2;return n[h]=255&l,n[h]|=(l>>>8&255)<<8,n[h]|=(l>>>16&255)<<16,n[h]|=(l>>>24&255)<<24,n},cs.prototype={bitOR:function(t,e){return(t>>>1|e>>>1)<<1|(1&t|1&e)},bitXOR:function(t,e){return(t>>>1^e>>>1)<<1|1&t^1&e},bitAND:function(t,e){return(t>>>1&e>>>1)<<1|1&t&e},addme:function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},hex:function(t){for(var e="",i="0123456789abcdef",n=0;n<t.length;){var s=t[n];++n;for(var r=0;r<4;){var a=r++;e+=i.charAt(s>>8*a+4&15)+i.charAt(s>>8*a&15)}}return e},rol:function(t,e){return t<<e|t>>>32-e},cmn:function(t,e,i,n,s,r){return this.addme(this.rol(this.addme(this.addme(e,t),this.addme(n,r)),s),i)},ff:function(t,e,i,n,s,r,a){return this.cmn(this.bitOR(this.bitAND(e,i),this.bitAND(~e,n)),t,e,s,r,a)},gg:function(t,e,i,n,s,r,a){return this.cmn(this.bitOR(this.bitAND(e,n),this.bitAND(i,~n)),t,e,s,r,a)},hh:function(t,e,i,n,s,r,a){return this.cmn(this.bitXOR(this.bitXOR(e,i),n),t,e,s,r,a)},ii:function(t,e,i,n,s,r,a){return this.cmn(this.bitXOR(i,this.bitOR(e,~n)),t,e,s,r,a)},doEncode:function(t){for(var e=1732584193,i=-271733879,n=-1732584194,s=271733878,r=0;r<t.length;){var a=e,o=i,l=n,h=s;0,e=this.ff(e,i,n,s,t[r],7,-680876936),s=this.ff(s,e,i,n,t[r+1],12,-389564586),n=this.ff(n,s,e,i,t[r+2],17,606105819),i=this.ff(i,n,s,e,t[r+3],22,-1044525330),e=this.ff(e,i,n,s,t[r+4],7,-176418897),s=this.ff(s,e,i,n,t[r+5],12,1200080426),n=this.ff(n,s,e,i,t[r+6],17,-1473231341),i=this.ff(i,n,s,e,t[r+7],22,-45705983),e=this.ff(e,i,n,s,t[r+8],7,1770035416),s=this.ff(s,e,i,n,t[r+9],12,-1958414417),n=this.ff(n,s,e,i,t[r+10],17,-42063),i=this.ff(i,n,s,e,t[r+11],22,-1990404162),e=this.ff(e,i,n,s,t[r+12],7,1804603682),s=this.ff(s,e,i,n,t[r+13],12,-40341101),n=this.ff(n,s,e,i,t[r+14],17,-1502002290),i=this.ff(i,n,s,e,t[r+15],22,1236535329),e=this.gg(e,i,n,s,t[r+1],5,-165796510),s=this.gg(s,e,i,n,t[r+6],9,-1069501632),n=this.gg(n,s,e,i,t[r+11],14,643717713),i=this.gg(i,n,s,e,t[r],20,-373897302),e=this.gg(e,i,n,s,t[r+5],5,-701558691),s=this.gg(s,e,i,n,t[r+10],9,38016083),n=this.gg(n,s,e,i,t[r+15],14,-660478335),i=this.gg(i,n,s,e,t[r+4],20,-405537848),e=this.gg(e,i,n,s,t[r+9],5,568446438),s=this.gg(s,e,i,n,t[r+14],9,-1019803690),n=this.gg(n,s,e,i,t[r+3],14,-187363961),i=this.gg(i,n,s,e,t[r+8],20,1163531501),e=this.gg(e,i,n,s,t[r+13],5,-1444681467),s=this.gg(s,e,i,n,t[r+2],9,-51403784),n=this.gg(n,s,e,i,t[r+7],14,1735328473),i=this.gg(i,n,s,e,t[r+12],20,-1926607734),e=this.hh(e,i,n,s,t[r+5],4,-378558),s=this.hh(s,e,i,n,t[r+8],11,-2022574463),n=this.hh(n,s,e,i,t[r+11],16,1839030562),i=this.hh(i,n,s,e,t[r+14],23,-35309556),e=this.hh(e,i,n,s,t[r+1],4,-1530992060),s=this.hh(s,e,i,n,t[r+4],11,1272893353),n=this.hh(n,s,e,i,t[r+7],16,-155497632),i=this.hh(i,n,s,e,t[r+10],23,-1094730640),e=this.hh(e,i,n,s,t[r+13],4,681279174),s=this.hh(s,e,i,n,t[r],11,-358537222),n=this.hh(n,s,e,i,t[r+3],16,-722521979),i=this.hh(i,n,s,e,t[r+6],23,76029189),e=this.hh(e,i,n,s,t[r+9],4,-640364487),s=this.hh(s,e,i,n,t[r+12],11,-421815835),n=this.hh(n,s,e,i,t[r+15],16,530742520),i=this.hh(i,n,s,e,t[r+2],23,-995338651),e=this.ii(e,i,n,s,t[r],6,-198630844),s=this.ii(s,e,i,n,t[r+7],10,1126891415),n=this.ii(n,s,e,i,t[r+14],15,-1416354905),i=this.ii(i,n,s,e,t[r+5],21,-57434055),e=this.ii(e,i,n,s,t[r+12],6,1700485571),s=this.ii(s,e,i,n,t[r+3],10,-1894986606),n=this.ii(n,s,e,i,t[r+10],15,-1051523),i=this.ii(i,n,s,e,t[r+1],21,-2054922799),e=this.ii(e,i,n,s,t[r+8],6,1873313359),s=this.ii(s,e,i,n,t[r+15],10,-30611744),n=this.ii(n,s,e,i,t[r+6],15,-1560198380),i=this.ii(i,n,s,e,t[r+13],21,1309151649),e=this.ii(e,i,n,s,t[r+4],6,-145523070),s=this.ii(s,e,i,n,t[r+11],10,-1120210379),n=this.ii(n,s,e,i,t[r+2],15,718787259),i=this.ii(i,n,s,e,t[r+9],21,-343485551),e=this.addme(e,a),i=this.addme(i,o),n=this.addme(n,l),s=this.addme(s,h),r+=16}return[e,i,n,s]},__class__:cs};var fs=function(){this.h={}};(i["haxe.ds.IntMap"]=fs).__name__=["haxe","ds","IntMap"],fs.__interfaces__=[as],fs.prototype={set:function(t,e){this.h[t]=e},get:function(t){return this.h[t]},exists:function(t){return this.h.hasOwnProperty(t)},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return B.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t]}}},__class__:fs};var ds=function(){this.h={__keys__:{}}};(i["haxe.ds.ObjectMap"]=ds).__name__=["haxe","ds","ObjectMap"],ds.__interfaces__=[as],ds.assignId=function(t){return t.__id__=++ds.count},ds.getId=function(t){return t.__id__},ds.prototype={set:function(t,e){var i=t.__id__||(t.__id__=++ds.count);this.h[i]=e,this.h.__keys__[i]=t},get:function(t){return this.h[t.__id__]},exists:function(t){return null!=this.h.__keys__[t.__id__]},remove:function(t){var e=t.__id__;return null!=this.h.__keys__[e]&&(delete this.h[e],delete this.h.__keys__[e],!0)},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return B.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t.__id__]}}},__class__:ds};var ps=function(t,e){this.map=t,this.keys=e,this.index=0,this.count=e.length};(i["haxe.ds._StringMap.StringMapIterator"]=ps).__name__=["haxe","ds","_StringMap","StringMapIterator"],ps.prototype={hasNext:function(){return this.index<this.count},next:function(){var t=this.map,e=this.keys[this.index++];return null!=Zu[e]?t.getReserved(e):t.h[e]},__class__:ps};var gs=function(){this.h={}};(i["haxe.ds.StringMap"]=gs).__name__=["haxe","ds","StringMap"],gs.__interfaces__=[as],gs.prototype={set:function(t,e){null!=Zu[t]?this.setReserved(t,e):this.h[t]=e},get:function(t){return null!=Zu[t]?this.getReserved(t):this.h[t]},exists:function(t){return null!=Zu[t]?this.existsReserved(t):this.h.hasOwnProperty(t)},setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=Zu[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return B.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},iterator:function(){return new ps(this,this.arrayKeys())},__class__:gs};var ms={};(i["haxe.ds._Vector.Vector_Impl_"]=ms).__name__=["haxe","ds","_Vector","Vector_Impl_"],ms.blit=function(t,e,i,n,s){if(t==i){if(e<n)for(var r=e+s,a=n+s,o=0,l=s;o<l;){o++;--r,t[--a]=t[r]}else if(n<e)for(var h=e,_=n,u=0,c=s;u<c;){u++;t[_]=t[h],++h,++_}}else for(var f=0,d=s;f<d;){var p=f++;i[n+p]=t[e+p]}};var vs=function(){this.b=[]};(i["haxe.io.BytesBuffer"]=vs).__name__=["haxe","io","BytesBuffer"],vs.prototype={addInt32:function(t){this.b.push(255&t),this.b.push(t>>8&255),this.b.push(t>>16&255),this.b.push(t>>>24)},addInt64:function(t){this.addInt32(t.low),this.addInt32(t.high)},getBytes:function(){var t=new jn(new ec(this.b).buffer);return this.b=null,t},__class__:vs};function bs(){}(i["haxe.io.Eof"]=bs).__name__=["haxe","io","Eof"],bs.prototype={toString:function(){return"Eof"},__class__:bs};var ys=i["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};ys.Blocked=["Blocked",0],ys.Blocked.toString=f,(ys.Blocked.__enum__=ys).Overflow=["Overflow",1],ys.Overflow.toString=f,(ys.Overflow.__enum__=ys).OutsideBounds=["OutsideBounds",2],ys.OutsideBounds.toString=f,(ys.OutsideBounds.__enum__=ys).Custom=function(t){var e=["Custom",3,t];return e.__enum__=ys,e.toString=f,e};var ws=function(){};(i["haxe.io.FPHelper"]=ws).__name__=["haxe","io","FPHelper"],ws.i32ToFloat=function(t){var e=t>>>23&255,i=8388607&t;return 0==i&&0==e?0:(1-(t>>>31<<1))*(1+Math.pow(2,-23)*i)*Math.pow(2,e-127)},ws.floatToI32=function(t){if(0==t)return 0;var e=t<0?-t:t,i=Math.floor(Math.log(e)/.6931471805599453);i<-127?i=-127:128<i&&(i=128);var n=Math.round(8388608*(e/Math.pow(2,i)-1));return 8388608==n&&i<128&&(n=0,++i),(t<0?-2147483648:0)|i+127<<23|n},ws.i64ToDouble=function(t,e){var i=(e>>20&2047)-1023,n=4294967296*(1048575&e)+2147483648*(t>>>31)+(2147483647&t);return 0==n&&-1023==i?0:(1-(e>>>31<<1))*(1+Math.pow(2,-52)*n)*Math.pow(2,i)},ws.doubleToI64=function(t){var e=ws.i64tmp;if(0==t)e.low=0,e.high=0;else if(isFinite(t)){var i=t<0?-t:t,n=Math.floor(Math.log(i)/.6931471805599453),s=Math.round(4503599627370496*(i/Math.pow(2,n)-1)),r=0|s,a=s/4294967296|0;e.low=r,e.high=(t<0?-2147483648:0)|n+1023<<20|a}else 0<t?(e.low=0,e.high=2146435072):(e.low=0,e.high=-1048576);return e};var xs={};(i["haxe.io._Int32Array.Int32Array_Impl_"]=xs).__name__=["haxe","io","_Int32Array","Int32Array_Impl_"],xs.fromArray=function(t,e,i){if(null==e&&(e=0),null==i&&(i=t.length-e),e<0||i<0||e+i>t.length)throw new Vs(ys.OutsideBounds);if(0==e&&i==t.length)return new Int32Array(t);for(var n=new Int32Array(t.length),s=0,r=i;s<r;){var a=s++;n[a]=0|t[a+e]}return n},xs.fromBytes=function(t,e,i){return null==e&&(e=0),null==i&&(i=t.length-e>>2),new Int32Array(t.b.bufferValue,e,i)};function Ts(t){switch(t){case".":case"..":return this.dir=t,void(this.file="")}var e=t.lastIndexOf("/"),i=t.lastIndexOf("\\");e<i?(this.dir=B.substr(t,0,i),t=B.substr(t,i+1,null),this.backslash=!0):i<e?(this.dir=B.substr(t,0,e),t=B.substr(t,e+1,null)):this.dir=null;var n=t.lastIndexOf(".");-1!=n?(this.ext=B.substr(t,n+1,null),this.file=B.substr(t,0,n)):(this.ext=null,this.file=t)}(i["haxe.io.Path"]=Ts).__name__=["haxe","io","Path"],Ts.withoutExtension=function(t){var e=new Ts(t);return e.ext=null,e.toString()},Ts.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Ts};var Ss={};(i["haxe.io._UInt16Array.UInt16Array_Impl_"]=Ss).__name__=["haxe","io","_UInt16Array","UInt16Array_Impl_"],Ss.fromBytes=function(t,e,i){return null==e&&(e=0),null==i&&(i=t.length-e>>1),new Uint16Array(t.b.bufferValue,e,i)};var Es={};(i["haxe.io._UInt8Array.UInt8Array_Impl_"]=Es).__name__=["haxe","io","_UInt8Array","UInt8Array_Impl_"],Es.fromArray=function(t,e,i){if(null==e&&(e=0),null==i&&(i=t.length-e),e<0||i<0||e+i>t.length)throw new Vs(ys.OutsideBounds);if(0==e&&i==t.length)return new ec(t);for(var n=new ec(t.length),s=0,r=i;s<r;){var a=s++;n[a]=255&t[a+e]}return n},Es.fromBytes=function(t,e,i){return null==e&&(e=0),null==i&&(i=t.length-e),new ec(t.b.bufferValue,e,i)};var Is=function(){};(i["haxe.rtti.Meta"]=Is).__name__=["haxe","rtti","Meta"],Is.getType=function(t){var e=Is.getMeta(t);return null==e||null==e.obj?{}:e.obj},Is.getMeta=function(t){return t.__meta__};function Ds(t,e,i){this.xml=e,this.message=t,this.position=i,this.lineNumber=1;for(var n=this.positionAtLine=0,s=i;n<s;){var r=n++,a=e.charCodeAt(r);10==a?(this.lineNumber++,this.positionAtLine=0):13!=a&&this.positionAtLine++}}(i["haxe.xml.XmlParserException"]=Ds).__name__=["haxe","xml","XmlParserException"],Ds.prototype={toString:function(){return mi.getClassName(zs.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Ds};var As=function(){};(i["haxe.xml.Parser"]=As).__name__=["haxe","xml","Parser"],As.parse=function(t,e){null==e&&(e=!1);var i=N.createDocument();return As.doParse(t,e,0,i),i},As.doParse=function(t,e,i,n){null==i&&(i=0);for(var s=null,r=1,a=1,o=null,l=0,h=0,_=0,u=t.charCodeAt(i),c=new k,f=1,d=-1;u==u;){switch(r){case 0:switch(u){case 9:case 10:case 13:case 32:break;default:r=a;continue}break;case 1:if(60!=u){l=i,r=13;continue}r=0,a=2;break;case 2:switch(u){case 33:if(91==t.charCodeAt(i+1)){if(i+=2,"CDATA["!=B.substr(t,i,6).toUpperCase())throw new Vs(new Ds("Expected <![CDATA[",t,i));r=17,l=(i+=5)+1}else if(68==t.charCodeAt(i+1)||100==t.charCodeAt(i+1)){if("OCTYPE"!=B.substr(t,i+2,6).toUpperCase())throw new Vs(new Ds("Expected <!DOCTYPE",t,i));r=16,l=(i+=8)+1}else{if(45!=t.charCodeAt(i+1)||45!=t.charCodeAt(i+2))throw new Vs(new Ds("Expected \x3c!--",t,i));r=15,l=(i+=2)+1}break;case 47:if(null==n)throw new Vs(new Ds("Expected node name",t,i));l=i+1,r=0,a=10;break;case 63:r=14,l=i;break;default:r=3,l=i;continue}break;case 3:if(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)break;if(i==l)throw new Vs(new Ds("Expected node name",t,i));s=N.createElement(B.substr(t,l,i-l)),n.addChild(s),++h,r=0,a=4;continue;case 4:switch(u){case 47:r=11;break;case 62:r=9;break;default:r=5,l=i;continue}break;case 5:if(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)break;if(l==i)throw new Vs(new Ds("Expected attribute name",t,i));if(o=B.substr(t,l,i-l),s.exists(o))throw new Vs(new Ds("Duplicate attribute ["+o+"]",t,i));r=0,a=6;continue;case 6:if(61!=u)throw new Vs(new Ds("Expected =",t,i));r=0,a=7;break;case 7:switch(u){case 34:case 39:c=new k,r=8,l=i+1,d=u;break;default:throw new Vs(new Ds('Expected "',t,i))}break;case 8:switch(u){case 38:var p=i-l;c.b+=null==p?B.substr(t,l,null):B.substr(t,l,p),r=18,f=8,l=i+1;break;case 60:case 62:if(e)throw new Vs(new Ds("Invalid unescaped "+String.fromCharCode(u)+" in attribute value",t,i));if(u==d){var g=i-l;c.b+=null==g?B.substr(t,l,null):B.substr(t,l,g);var m=c.b;c=new k,s.set(o,m),r=0,a=4}break;default:if(u==d){var v=i-l;c.b+=null==v?B.substr(t,l,null):B.substr(t,l,v);var b=c.b;c=new k,s.set(o,b),r=0,a=4}}break;case 9:l=i=As.doParse(t,e,i,s),r=1;break;case 10:if(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)break;if(l==i)throw new Vs(new Ds("Expected node name",t,i));var y=B.substr(t,l,i-l);if(n.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+n.nodeType);if(y!=n.nodeName){if(n.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+n.nodeType);throw new Vs(new Ds("Expected </"+n.nodeName+">",t,i))}r=0,a=12;continue;case 11:if(62!=u)throw new Vs(new Ds("Expected >",t,i));r=1;break;case 12:if(62==u)return 0==h&&n.addChild(N.createPCData("")),i;throw new Vs(new Ds("Expected >",t,i));case 13:if(60==u){var w=i-l;c.b+=null==w?B.substr(t,l,null):B.substr(t,l,w);var x=N.createPCData(c.b);c=new k,n.addChild(x),++h,r=0,a=2}else if(38==u){var T=i-l;c.b+=null==T?B.substr(t,l,null):B.substr(t,l,T),r=18,f=13,l=i+1}break;case 14:if(63==u&&62==t.charCodeAt(i+1)){++i;var S=B.substr(t,l+1,i-l-2);n.addChild(N.createProcessingInstruction(S)),++h,r=1}break;case 15:45==u&&45==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(n.addChild(N.createComment(B.substr(t,l,i-l))),++h,i+=2,r=1);break;case 16:91==u?++_:93==u?--_:62==u&&0==_&&(n.addChild(N.createDocType(B.substr(t,l,i-l))),++h,r=1);break;case 17:if(93==u&&93==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)){var E=N.createCData(B.substr(t,l,i-l));n.addChild(E),++h,i+=2,r=1}break;case 18:if(59==u){var I=B.substr(t,l,i-l);if(35==I.charCodeAt(0)){var P=120==I.charCodeAt(1)?L.parseInt("0"+B.substr(I,1,I.length-1)):L.parseInt(B.substr(I,1,I.length-1));c.b+=String.fromCharCode(P)}else{var C=As.escapes;if(null!=Zu[I]?C.existsReserved(I):C.h.hasOwnProperty(I)){var D=As.escapes,A=null!=Zu[I]?D.getReserved(I):D.h[I];c.b+=L.string(A)}else{if(e)throw new Vs(new Ds("Undefined entity: "+I,t,i));c.b+=L.string("&"+I+";")}}l=i+1,r=f}else if(!(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)&&35!=u){if(e)throw new Vs(new Ds("Invalid character in entity: "+String.fromCharCode(u),t,i));c.b+="&";var R=i-l;c.b+=null==R?B.substr(t,l,null):B.substr(t,l,R),l=i--,r=f}}u=t.charCodeAt(++i)}if(1==r&&(l=i,r=13),13==r){if(i!=l||0==h){var M=i-l;c.b+=null==M?B.substr(t,l,null):B.substr(t,l,M),n.addChild(N.createPCData(c.b)),++h}return i}if(e||18!=r||13!=f)throw new Vs(new Ds("Unexpected end",t,i));c.b+="&";var F=i-l;return c.b+=null==F?B.substr(t,l,null):B.substr(t,l,F),n.addChild(N.createPCData(c.b)),++h,i};var Rs=function(t){this.output=new k,this.pretty=t};(i["haxe.xml.Printer"]=Rs).__name__=["haxe","xml","Printer"],Rs.print=function(t,e){null==e&&(e=!1);var i=new Rs(e);return i.writeNode(t,""),i.output.b},Rs.prototype={writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=L.string(e+"<"),t.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+t.nodeType);this.output.b+=L.string(t.nodeName);for(var i=t.attributes();i.hasNext();){var n=i.next();this.output.b+=L.string(" "+n+'="');var s=Ps.htmlEscape(t.get(n),!0);this.output.b+=L.string(s),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=N.Document&&t.nodeType!=N.Element)throw new Vs("Bad node type, expected Element or Document but found "+t.nodeType);for(var r=B.iter(t.children);r.hasNext();){var a=r.next();this.writeNode(a,this.pretty?e+"\t":e)}if(this.output.b+=L.string(e+"</"),t.nodeType!=N.Element)throw new Vs("Bad node type, expected Element but found "+t.nodeType);this.output.b+=L.string(t.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==N.Document||t.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+t.nodeType);var o=t.nodeValue;if(0!=o.length){var l=e+Ps.htmlEscape(o);this.output.b+=L.string(l),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=L.string(e+"<![CDATA["),t.nodeType==N.Document||t.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+t.nodeType);var h=Ps.trim(t.nodeValue);this.output.b+=L.string(h),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==N.Document||t.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+t.nodeType);var _=t.nodeValue,u=new RegExp("[\n\r\t]+","g".split("u").join(""));_="\x3c!--"+(_=_.replace(u,""))+"--\x3e",this.output.b+=null==e?"null":""+e;var c=Ps.trim(_);this.output.b+=L.string(c),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==N.Document||t.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+t.nodeType);this.output.b+=L.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==N.Document||t.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+t.nodeType);this.output.b+=L.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=N.Document&&t.nodeType!=N.Element)throw new Vs("Bad node type, expected Element or Document but found "+t.nodeType);for(var f=B.iter(t.children);f.hasNext();){var d=f.next();this.writeNode(d,e)}}},hasChildren:function(t){if(t.nodeType!=N.Document&&t.nodeType!=N.Element)throw new Vs("Bad node type, expected Element or Document but found "+t.nodeType);for(var e=B.iter(t.children);e.hasNext();){var i=e.next();switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==N.Document||i.nodeType==N.Element)throw new Vs("Bad node type, unexpected "+i.nodeType);if(0!=Ps.ltrim(i.nodeValue).length)return!0}}return!1},__class__:Rs};function Ms(t,e){this.from=t,this.to=e}(i["hxbit.ConvertField"]=Ms).__name__=["hxbit","ConvertField"],Ms.prototype={__class__:Ms};var Fs=function(t,e){for(var i=new gs,n=0,s=t.fieldsNames.length;n<s;){var r=n++,a=t.fieldsNames[r],o=t.fieldsTypes[r];null!=Zu[a]?i.setReserved(a,o):i.h[a]=o}if(this.read=[],t.isFinal!=e.isFinal)throw new Vs("TODO : handle final flag change");for(var l=new gs,h=0,_=e.fieldsNames.length;h<_;){var u=h++,c=e.fieldsTypes[u],f=e.fieldsNames[u],d=null!=Zu[f]?i.getReserved(f):i.h[f],p=new Ms(c,d);null!=d&&(Fs.sameType(c,d)?p.same=!0:p.defaultValue=Fs.getDefault(d)),p.index=this.read.length,this.read.push(p);var g=e.fieldsNames[u];null!=Zu[g]?l.setReserved(g,p):l.h[g]=p}this.write=[];for(var m=0,v=t.fieldsNames.length;m<v;){var b=m++,y=t.fieldsTypes[b],w=t.fieldsNames[b],x=null!=Zu[w]?l.getReserved(w):l.h[w];null==x&&((x=new Ms(null,y)).defaultValue=Fs.getDefault(y)),this.write.push(x)}};(i["hxbit.Convert"]=Fs).__name__=["hxbit","Convert"],Fs.sameType=function(t,e){switch(t[1]){case 0:switch(e[1]){case 10:var i=e[2];return Fs.sameType(t,i);case 16:return!0;default:return mi.enumEq(t,e)}break;case 7:switch(e[1]){case 7:var n=t[2],s=t[3],r=e[3],a=e[2];return!!Fs.sameType(n,a)&&Fs.sameType(s,r);case 10:var o=e[2];return Fs.sameType(t,o);default:return mi.enumEq(t,e)}break;case 8:switch(e[1]){case 8:var l=t[2],h=e[2];return Fs.sameType(l,h);case 10:var _=e[2];return Fs.sameType(t,_);default:return mi.enumEq(t,e)}break;case 9:switch(e[1]){case 9:var u=t[2],c=e[2];if(u.length!=c.length)return!1;for(var f=0,d=u.length;f<d;){var p=f++,g=u[p],m=c[p];if(g.name!=m.name||g.opt!=m.opt||!Fs.sameType(g.type,m.type))return!1}return!0;case 10:var v=e[2];return Fs.sameType(t,v);default:return mi.enumEq(t,e)}break;case 10:if(10==e[1]){var b=t[2],y=e[2];return Fs.sameType(b,y)}var w=t[2];return Fs.sameType(w,e);case 11:switch(e[1]){case 10:var x=e[2];return Fs.sameType(t,x);case 11:var T=t[2],S=e[2];return Fs.sameType(T,S);default:return mi.enumEq(t,e)}break;case 12:switch(e[1]){case 10:var E=e[2];return Fs.sameType(t,E);case 12:var I=t[2],P=e[2];return Fs.sameType(I,P);default:return mi.enumEq(t,e)}break;case 16:switch(e[1]){case 0:return!0;case 10:var C=e[2];return Fs.sameType(t,C);default:return mi.enumEq(t,e)}break;default:if(10!=e[1])return mi.enumEq(t,e);var D=e[2];return Fs.sameType(t,D)}},Fs.getDefault=function(t){switch(t[1]){case 1:return 0;case 2:return!1;case 7:switch(t[2][1]){case 0:return new fs;case 3:return new gs;default:return new ds}break;case 8:return[];case 3:case 4:case 5:case 6:case 9:case 12:case 13:case 14:return null;case 10:var e=t[2];return Fs.getDefault(e);case 11:return new Array(0);case 15:return new os(0,0);case 0:case 16:return 0}},Fs.prototype={toString:function(){for(var t=[],e=0,i=this.write.length;e<i;){var n=e++,s=this.write[n];t.push(null==s.from?"insert:"+L.string(s.defaultValue):s.same?n==s.index?"s":"@"+s.index:"@"+s.index+":"+L.string(s.to))}return t.toString()},__class__:Fs};var Bs=i["hxbit.RpcMode"]={__ename__:!0,__constructs__:["All","Client","Server","Owner"]};Bs.All=["All",0],Bs.All.toString=f,(Bs.All.__enum__=Bs).Client=["Client",1],Bs.Client.toString=f,(Bs.Client.__enum__=Bs).Server=["Server",2],Bs.Server.toString=f,(Bs.Server.__enum__=Bs).Owner=["Owner",3],Bs.Owner.toString=f,Bs.Owner.__enum__=Bs;var Ls=i["hxbit.PropTypeDesc"]={__ename__:!0,__constructs__:["PInt","PFloat","PBool","PString","PBytes","PSerializable","PEnum","PMap","PArray","PObj","PAlias","PVector","PNull","PUnknown","PDynamic","PInt64","PFlags"]};Ls.PInt=["PInt",0],Ls.PInt.toString=f,(Ls.PInt.__enum__=Ls).PFloat=["PFloat",1],Ls.PFloat.toString=f,(Ls.PFloat.__enum__=Ls).PBool=["PBool",2],Ls.PBool.toString=f,(Ls.PBool.__enum__=Ls).PString=["PString",3],Ls.PString.toString=f,(Ls.PString.__enum__=Ls).PBytes=["PBytes",4],Ls.PBytes.toString=f,(Ls.PBytes.__enum__=Ls).PSerializable=function(t){var e=["PSerializable",5,t];return e.__enum__=Ls,e.toString=f,e},Ls.PEnum=function(t){var e=["PEnum",6,t];return e.__enum__=Ls,e.toString=f,e},Ls.PMap=function(t,e){var i=["PMap",7,t,e];return i.__enum__=Ls,i.toString=f,i},Ls.PArray=function(t){var e=["PArray",8,t];return e.__enum__=Ls,e.toString=f,e},Ls.PObj=function(t){var e=["PObj",9,t];return e.__enum__=Ls,e.toString=f,e},Ls.PAlias=function(t){var e=["PAlias",10,t];return e.__enum__=Ls,e.toString=f,e},Ls.PVector=function(t){var e=["PVector",11,t];return e.__enum__=Ls,e.toString=f,e},Ls.PNull=function(t){var e=["PNull",12,t];return e.__enum__=Ls,e.toString=f,e},Ls.PUnknown=["PUnknown",13],Ls.PUnknown.toString=f,(Ls.PUnknown.__enum__=Ls).PDynamic=["PDynamic",14],Ls.PDynamic.toString=f,(Ls.PDynamic.__enum__=Ls).PInt64=["PInt64",15],Ls.PInt64.toString=f,(Ls.PInt64.__enum__=Ls).PFlags=function(t){var e=["PFlags",16,t];return e.__enum__=Ls,e.toString=f,e};function ks(){}(i["hxbit.Macros"]=ks).__name__=["hxbit","Macros"];var Ns=function(){this.__uid=$.SEQ<<24|++$.UID,this.fieldsNames=[],this.fieldsTypes=[]};(i["hxbit.Schema"]=Ns).__name__=["hxbit","Schema"],Ns.__interfaces__=[Q],Ns.prototype={get_checkSum:function(){var t=new $;t.begin();var e=this.__uid;this.__uid=0,t.addKnownRef(this),this.__uid=e;var i=t.end();return us.make(i)},getCLID:function(){return Ns.__clid},serialize:function(t){t.out.b.push(this.isFinal?1:0);var e=this.fieldsNames;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];if(++n,null==s)t.out.b.push(0);else{var r=jn.ofString(s),a=r.length+1;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));for(var o=t.out,l=(o.b,r.b),h=0,_=r.length;h<_;){var u=h++;o.b.push(l[u])}}}}var c=this.fieldsTypes;if(null==c)t.out.b.push(0);else{var f=c.length+1;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f));for(var d=0;d<c.length;){var p=c[d];++d,Xs.doSerialize(t,p)}}},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("isFinal"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("fieldsNames"),t.fieldsTypes.push(Ls.PArray(Ls.PString)),t.fieldsNames.push("fieldsTypes"),t.fieldsTypes.push(Ls.PArray(Ls.PEnum("hxbit.PropTypeDesc"))),t.isFinal=$.isClassFinal(Ns.__clid),t},unserializeInit:function(){},unserialize:function(t){var e;this.isFinal=0!=t.input.b[t.inPos++];var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s,r=i;if(0==r)n=null;else{for(var a=[],o=0,l=--r;o<l;){var h=o++,_=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4);var u=_;if(0==u)e=null;else{--u;var c=t.input.getString(t.inPos,u);t.inPos+=u,e=c}a[h]=e}n=a}this.fieldsNames=n;var f=t.input.b[t.inPos++];128==f&&(f=t.input.getInt32(t.inPos),t.inPos+=4);var d,p=f;if(0==p)d=null;else{for(var g=[],m=0,v=--p;m<v;){var b=m++;s=Xs.doUnserialize(t),g[b]=s}d=g}this.fieldsTypes=d},__class__:Ns,__properties__:{get_checkSum:"get_checkSum"}};function Os(){}(i["hxbit.SerializableEnum"]=Os).__name__=["hxbit","SerializableEnum"];var Us=function(){};(i["hxbit.enumSer.format_swf_exporters_core_FilterType"]=Us).__name__=["hxbit","enumSer","format_swf_exporters_core_FilterType"],Us.doSerialize=function(t,e){if(null==e)t.out.b.push(0);else switch(e[1]){case 0:var i=e[4],n=e[3],s=e[2];t.out.b.push(1),t.out.addInt32(ws.floatToI32(s)),t.out.addInt32(ws.floatToI32(n)),0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));break;case 1:var r=e[3],a=e[2];t.out.b.push(2),t.addKnownRef(a),t.addKnownRef(r);break;case 2:var o=e[12],l=e[11],h=e[10],_=e[9],u=e[8],c=e[7],f=e[6],d=e[5],p=e[4],g=e[3],m=e[2];t.out.b.push(3),t.out.addInt32(ws.floatToI32(m)),t.out.addInt32(ws.floatToI32(g)),0<=p&&p<128?t.out.b.push(p):(t.out.b.push(128),t.out.addInt32(p)),t.out.addInt32(ws.floatToI32(d)),t.out.addInt32(ws.floatToI32(f)),t.out.addInt32(ws.floatToI32(c)),t.out.addInt32(ws.floatToI32(u)),0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_)),t.out.b.push(h?1:0),t.out.b.push(l?1:0),t.out.b.push(o?1:0);break;case 3:var v=e[9],b=e[8],y=e[7],w=e[6],x=e[5],T=e[4],S=e[3],E=e[2];t.out.b.push(4),0<=E&&E<128?t.out.b.push(E):(t.out.b.push(128),t.out.addInt32(E)),t.out.addInt32(ws.floatToI32(S)),t.out.addInt32(ws.floatToI32(T)),t.out.addInt32(ws.floatToI32(x)),t.out.addInt32(ws.floatToI32(w)),0<=y&&y<128?t.out.b.push(y):(t.out.b.push(128),t.out.addInt32(y)),t.out.b.push(b?1:0),t.out.b.push(v?1:0);break;case 4:var I=e[12],P=e[11],C=e[10],D=e[9],A=e[8],R=e[7],M=e[6],F=e[5],B=e[4],L=e[3],k=e[2];if(t.out.b.push(5),t.out.addInt32(ws.floatToI32(k)),t.out.addInt32(ws.floatToI32(L)),null==B)t.out.b.push(0);else{var N=B.length+1;0<=N&&N<128?t.out.b.push(N):(t.out.b.push(128),t.out.addInt32(N));for(var O=0;O<B.length;){var U=B[O];++O,0<=U&&U<128?t.out.b.push(U):(t.out.b.push(128),t.out.addInt32(U))}}if(null==F)t.out.b.push(0);else{var G=F.length+1;0<=G&&G<128?t.out.b.push(G):(t.out.b.push(128),t.out.addInt32(G));for(var X=0;X<F.length;){var V=F[X];++X,t.out.addInt32(ws.floatToI32(V))}}if(null==M)t.out.b.push(0);else{var z=M.length+1;0<=z&&z<128?t.out.b.push(z):(t.out.b.push(128),t.out.addInt32(z));for(var H=0;H<M.length;){var Y=M[H];++H,t.out.addInt32(ws.floatToI32(Y))}}if(t.out.addInt32(ws.floatToI32(R)),t.out.addInt32(ws.floatToI32(A)),t.out.addInt32(ws.floatToI32(D)),0<=C&&C<128?t.out.b.push(C):(t.out.b.push(128),t.out.addInt32(C)),null==P)t.out.b.push(0);else{t.out.b.push(1);var W=P;0<=W&&W<128?t.out.b.push(W):(t.out.b.push(128),t.out.addInt32(W))}t.out.b.push(I?1:0);break;case 5:var K=e[13],j=e[12],q=e[11],J=e[10],Z=e[9],Q=e[8],$=e[7],tt=e[6],et=e[5],it=e[4],nt=e[3],st=e[2];if(t.out.b.push(6),t.out.addInt32(ws.floatToI32(st)),t.out.addInt32(ws.floatToI32(nt)),0<=it&&it<128?t.out.b.push(it):(t.out.b.push(128),t.out.addInt32(it)),t.out.addInt32(ws.floatToI32(et)),0<=tt&&tt<128?t.out.b.push(tt):(t.out.b.push(128),t.out.addInt32(tt)),t.out.addInt32(ws.floatToI32($)),t.out.addInt32(ws.floatToI32(Q)),t.out.addInt32(ws.floatToI32(Z)),t.out.addInt32(ws.floatToI32(J)),0<=q&&q<128?t.out.b.push(q):(t.out.b.push(128),t.out.addInt32(q)),null==j)t.out.b.push(0);else{t.out.b.push(1);var rt=j;0<=rt&&rt<128?t.out.b.push(rt):(t.out.b.push(128),t.out.addInt32(rt))}t.out.b.push(K?1:0);break;case 6:var at=e[12],ot=e[11],lt=e[10],ht=e[9],_t=e[8],ut=e[7],ct=e[6],ft=e[5],dt=e[4],pt=e[3],gt=e[2];if(t.out.b.push(7),t.out.addInt32(ws.floatToI32(gt)),t.out.addInt32(ws.floatToI32(pt)),null==dt)t.out.b.push(0);else{var mt=dt.length+1;0<=mt&&mt<128?t.out.b.push(mt):(t.out.b.push(128),t.out.addInt32(mt));for(var vt=0;vt<dt.length;){var bt=dt[vt];++vt,0<=bt&&bt<128?t.out.b.push(bt):(t.out.b.push(128),t.out.addInt32(bt))}}if(null==ft)t.out.b.push(0);else{var yt=ft.length+1;0<=yt&&yt<128?t.out.b.push(yt):(t.out.b.push(128),t.out.addInt32(yt));for(var wt=0;wt<ft.length;){var xt=ft[wt];++wt,t.out.addInt32(ws.floatToI32(xt))}}if(null==ct)t.out.b.push(0);else{var Tt=ct.length+1;0<=Tt&&Tt<128?t.out.b.push(Tt):(t.out.b.push(128),t.out.addInt32(Tt));for(var St=0;St<ct.length;){var Et=ct[St];++St,t.out.addInt32(ws.floatToI32(Et))}}if(t.out.addInt32(ws.floatToI32(ut)),t.out.addInt32(ws.floatToI32(_t)),t.out.addInt32(ws.floatToI32(ht)),0<=lt&&lt<128?t.out.b.push(lt):(t.out.b.push(128),t.out.addInt32(lt)),null==ot)t.out.b.push(0);else{t.out.b.push(1);var It=ot;0<=It&&It<128?t.out.b.push(It):(t.out.b.push(128),t.out.addInt32(It))}t.out.b.push(at?1:0)}},Us.doUnserialize=function(t){var e=t.input.b[t.inPos++];if(0==e)return null;switch(e){case 1:var i,n,s=t.input.getFloat(t.inPos);t.inPos+=4,i=s;var r,a=t.input.getFloat(t.inPos);t.inPos+=4,n=a;var o=t.input.b[t.inPos++];return 128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4),r=o,Ye.BlurFilter(i,n,r);case 2:var l=t.getRef($_,$_.__clid),h=t.getRef($_,$_.__clid);return Ye.ColorMatrixFilter(l,h);case 3:var _,u,c=t.input.getFloat(t.inPos);t.inPos+=4,_=c;var f,d=t.input.getFloat(t.inPos);t.inPos+=4,u=d;var p,g=t.input.b[t.inPos++];128==g&&(g=t.input.getInt32(t.inPos),t.inPos+=4),f=g;var m,v=t.input.getFloat(t.inPos);t.inPos+=4,p=v;var b,y=t.input.getFloat(t.inPos);t.inPos+=4,m=y;var w,x=t.input.getFloat(t.inPos);t.inPos+=4,b=x;var T,S=t.input.getFloat(t.inPos);t.inPos+=4,w=S;var E=t.input.b[t.inPos++];128==E&&(E=t.input.getInt32(t.inPos),t.inPos+=4),T=E;var I=0!=t.input.b[t.inPos++],P=0!=t.input.b[t.inPos++],C=0!=t.input.b[t.inPos++];return Ye.DropShadowFilter(_,u,f,p,m,b,w,T,I,P,C);case 4:var D,A,R=t.input.b[t.inPos++];128==R&&(R=t.input.getInt32(t.inPos),t.inPos+=4),D=R;var M,F=t.input.getFloat(t.inPos);t.inPos+=4,A=F;var B,L=t.input.getFloat(t.inPos);t.inPos+=4,M=L;var k,N=t.input.getFloat(t.inPos);t.inPos+=4,B=N;var O,U=t.input.getFloat(t.inPos);t.inPos+=4,k=U;var G=t.input.b[t.inPos++];128==G&&(G=t.input.getInt32(t.inPos),t.inPos+=4),O=G;var X=0!=t.input.b[t.inPos++],V=0!=t.input.b[t.inPos++];return Ye.GlowFilter(D,A,M,B,k,O,X,V);case 5:var z,H,Y=t.input.getFloat(t.inPos);t.inPos+=4,z=Y;var W,K,j=t.input.getFloat(t.inPos);t.inPos+=4,H=j;var q=t.input.b[t.inPos++];128==q&&(q=t.input.getInt32(t.inPos),t.inPos+=4);var J,Z,Q=q;if(0==Q)W=null;else{for(var $=[],tt=0,et=--Q;tt<et;){var it=tt++,nt=t.input.b[t.inPos++];128==nt&&(nt=t.input.getInt32(t.inPos),t.inPos+=4),K=nt,$[it]=K}W=$}var st=t.input.b[t.inPos++];128==st&&(st=t.input.getInt32(t.inPos),t.inPos+=4);var rt,at,ot=st;if(0==ot)J=null;else{for(var lt=[],ht=0,_t=--ot;ht<_t;){var ut=ht++,ct=t.input.getFloat(t.inPos);t.inPos+=4,Z=ct,lt[ut]=Z}J=lt}var ft=t.input.b[t.inPos++];128==ft&&(ft=t.input.getInt32(t.inPos),t.inPos+=4);var dt,pt=ft;if(0==pt)rt=null;else{for(var gt=[],mt=0,vt=--pt;mt<vt;){var bt=mt++,yt=t.input.getFloat(t.inPos);t.inPos+=4,at=yt,gt[bt]=at}rt=gt}var wt,xt=t.input.getFloat(t.inPos);t.inPos+=4,dt=xt;var Tt,St=t.input.getFloat(t.inPos);t.inPos+=4,wt=St;var Et,It=t.input.getFloat(t.inPos);t.inPos+=4,Tt=It;var Pt,Ct,Dt=t.input.b[t.inPos++];if(128==Dt&&(Dt=t.input.getInt32(t.inPos),t.inPos+=4),Et=Dt,0==t.input.b[t.inPos++])Ct=null;else{var At=t.input.b[t.inPos++];128==At&&(At=t.input.getInt32(t.inPos),t.inPos+=4),Ct=At}Pt=Ct;var Rt=0!=t.input.b[t.inPos++];return Ye.GradientGlowFilter(z,H,W,J,rt,dt,wt,Tt,Et,Pt,Rt);case 6:var Mt,Ft,Bt=t.input.getFloat(t.inPos);t.inPos+=4,Mt=Bt;var Lt,kt=t.input.getFloat(t.inPos);t.inPos+=4,Ft=kt;var Nt,Ot=t.input.b[t.inPos++];128==Ot&&(Ot=t.input.getInt32(t.inPos),t.inPos+=4),Lt=Ot;var Ut,Gt=t.input.getFloat(t.inPos);t.inPos+=4,Nt=Gt;var Xt,Vt=t.input.b[t.inPos++];128==Vt&&(Vt=t.input.getInt32(t.inPos),t.inPos+=4),Ut=Vt;var zt,Ht=t.input.getFloat(t.inPos);t.inPos+=4,Xt=Ht;var Yt,Wt=t.input.getFloat(t.inPos);t.inPos+=4,zt=Wt;var Kt,jt=t.input.getFloat(t.inPos);t.inPos+=4,Yt=jt;var qt,Jt=t.input.getFloat(t.inPos);t.inPos+=4,Kt=Jt;var Zt,Qt,$t=t.input.b[t.inPos++];if(128==$t&&($t=t.input.getInt32(t.inPos),t.inPos+=4),qt=$t,0==t.input.b[t.inPos++])Qt=null;else{var te=t.input.b[t.inPos++];128==te&&(te=t.input.getInt32(t.inPos),t.inPos+=4),Qt=te}Zt=Qt;var ee=0!=t.input.b[t.inPos++];return Ye.BevelFilter(Mt,Ft,Lt,Nt,Ut,Xt,zt,Yt,Kt,qt,Zt,ee);case 7:var ie,ne,se=t.input.getFloat(t.inPos);t.inPos+=4,ie=se;var re,ae,oe=t.input.getFloat(t.inPos);t.inPos+=4,ne=oe;var le=t.input.b[t.inPos++];128==le&&(le=t.input.getInt32(t.inPos),t.inPos+=4);var he,_e,ue=le;if(0==ue)re=null;else{for(var ce=[],fe=0,de=--ue;fe<de;){var pe=fe++,ge=t.input.b[t.inPos++];128==ge&&(ge=t.input.getInt32(t.inPos),t.inPos+=4),ae=ge,ce[pe]=ae}re=ce}var me=t.input.b[t.inPos++];128==me&&(me=t.input.getInt32(t.inPos),t.inPos+=4);var ve,be,ye=me;if(0==ye)he=null;else{for(var we=[],xe=0,Te=--ye;xe<Te;){var Se=xe++,Ee=t.input.getFloat(t.inPos);t.inPos+=4,_e=Ee,we[Se]=_e}he=we}var Ie=t.input.b[t.inPos++];128==Ie&&(Ie=t.input.getInt32(t.inPos),t.inPos+=4);var Pe,Ce=Ie;if(0==Ce)ve=null;else{for(var De=[],Ae=0,Re=--Ce;Ae<Re;){var Me=Ae++,Fe=t.input.getFloat(t.inPos);t.inPos+=4,be=Fe,De[Me]=be}ve=De}var Be,Le=t.input.getFloat(t.inPos);t.inPos+=4,Pe=Le;var ke,Ne=t.input.getFloat(t.inPos);t.inPos+=4,Be=Ne;var Oe,Ue=t.input.getFloat(t.inPos);t.inPos+=4,ke=Ue;var Ge,Xe,Ve=t.input.b[t.inPos++];if(128==Ve&&(Ve=t.input.getInt32(t.inPos),t.inPos+=4),Oe=Ve,0==t.input.b[t.inPos++])Xe=null;else{var ze=t.input.b[t.inPos++];128==ze&&(ze=t.input.getInt32(t.inPos),t.inPos+=4),Xe=ze}Ge=Xe;var He=0!=t.input.b[t.inPos++];return Ye.GradientBevelFilter(ie,ne,re,he,ve,Pe,Be,ke,Oe,Ge,He);default:throw new Vs("Invalid enum index "+e)}},Us.getSchema=function(){for(var t=new Ns,e=t.fieldsTypes,i=[],n=0,s=[Ls.PInt];n<s.length;){var r=s[n];++n,i.push({name:"",type:r,opt:!1})}e.push(Ls.PObj(i)),t.fieldsNames.push("BlurFilter");for(var a=t.fieldsTypes,o=[],l=0,h=[Ls.PSerializable("openfl.utils.Float32ArrayContainer")];l<h.length;){var _=h[l];++l,o.push({name:"",type:_,opt:!1})}a.push(Ls.PObj(o)),t.fieldsNames.push("ColorMatrixFilter");for(var u=t.fieldsTypes,c=[],f=0,d=[Ls.PBool];f<d.length;){var p=d[f];++f,c.push({name:"",type:p,opt:!1})}u.push(Ls.PObj(c)),t.fieldsNames.push("DropShadowFilter");for(var g=t.fieldsTypes,m=[],v=0,b=[Ls.PBool];v<b.length;){var y=b[v];++v,m.push({name:"",type:y,opt:!1})}g.push(Ls.PObj(m)),t.fieldsNames.push("GlowFilter");for(var w=t.fieldsTypes,x=[],T=0,S=[Ls.PBool];T<S.length;){var E=S[T];++T,x.push({name:"",type:E,opt:!1})}w.push(Ls.PObj(x)),t.fieldsNames.push("GradientGlowFilter");for(var I=t.fieldsTypes,P=[],C=0,D=[Ls.PBool];C<D.length;){var A=D[C];++C,P.push({name:"",type:A,opt:!1})}I.push(Ls.PObj(P)),t.fieldsNames.push("BevelFilter");for(var R=t.fieldsTypes,M=[],F=0,B=[Ls.PBool];F<B.length;){var L=B[F];++F,M.push({name:"",type:L,opt:!1})}return R.push(Ls.PObj(M)),t.fieldsNames.push("GradientBevelFilter"),t};var Gs=function(){};(i["hxbit.enumSer.format_swf_lite_timeline_FrameObjectType"]=Gs).__name__=["hxbit","enumSer","format_swf_lite_timeline_FrameObjectType"],Gs.doSerialize=function(t,e){if(null==e)t.out.b.push(0);else switch(e[1]){case 0:t.out.b.push(1);break;case 1:t.out.b.push(2);break;case 2:t.out.b.push(3);break;case 3:t.out.b.push(4)}},Gs.doUnserialize=function(t){var e=t.input.b[t.inPos++];if(0==e)return null;switch(e){case 1:return gi.CREATE;case 2:return gi.UPDATE;case 3:return gi.UPDATE_CHARACTER;case 4:return gi.DESTROY;default:throw new Vs("Invalid enum index "+e)}},Gs.getSchema=function(){var t=new Ns;return t.fieldsTypes.push(null),t.fieldsNames.push("CREATE"),t.fieldsTypes.push(null),t.fieldsNames.push("UPDATE"),t.fieldsTypes.push(null),t.fieldsNames.push("UPDATE_CHARACTER"),t.fieldsTypes.push(null),t.fieldsNames.push("DESTROY"),t};var Xs=function(){};(i["hxbit.enumSer.hxbit_PropTypeDesc"]=Xs).__name__=["hxbit","enumSer","hxbit_PropTypeDesc"],Xs.doSerialize=function(t,e){if(null==e)t.out.b.push(0);else switch(e[1]){case 0:t.out.b.push(1);break;case 1:t.out.b.push(2);break;case 2:t.out.b.push(3);break;case 3:t.out.b.push(4);break;case 4:t.out.b.push(5);break;case 5:var i=e[2];if(t.out.b.push(6),null==i)t.out.b.push(0);else{var n=jn.ofString(i),s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=t.out,a=(r.b,n.b),o=0,l=n.length;o<l;){var h=o++;r.b.push(a[h])}}break;case 6:var _=e[2];if(t.out.b.push(7),null==_)t.out.b.push(0);else{var u=jn.ofString(_),c=u.length+1;0<=c&&c<128?t.out.b.push(c):(t.out.b.push(128),t.out.addInt32(c));for(var f=t.out,d=(f.b,u.b),p=0,g=u.length;p<g;){var m=p++;f.b.push(d[m])}}break;case 7:var v=e[3],b=e[2];t.out.b.push(8),Xs.doSerialize(t,b),Xs.doSerialize(t,v);break;case 8:var y=e[2];t.out.b.push(9),Xs.doSerialize(t,y);break;case 9:var w=e[2];if(t.out.b.push(10),null==w)t.out.b.push(0);else{var x=w.length+1;0<=x&&x<128?t.out.b.push(x):(t.out.b.push(128),t.out.addInt32(x));for(var T=0;T<w.length;){var S=w[T];++T;var E=S;if(null==E)t.out.b.push(0);else{var I=0;null!=E.name&&(I|=1),null!=E.type&&(I|=2);var P=I+1;if(0<=P&&P<128?t.out.b.push(P):(t.out.b.push(128),t.out.addInt32(P)),0!=(1&I)){var C=E.name;if(null==C)t.out.b.push(0);else{var D=jn.ofString(C),A=D.length+1;0<=A&&A<128?t.out.b.push(A):(t.out.b.push(128),t.out.addInt32(A));for(var R=t.out,M=(R.b,D.b),F=0,B=D.length;F<B;){var L=F++;R.b.push(M[L])}}}t.out.b.push(E.opt?1:0),0!=(2&I)&&Xs.doSerialize(t,E.type)}}}break;case 10:var k=e[2];t.out.b.push(11),Xs.doSerialize(t,k);break;case 11:var N=e[2];t.out.b.push(12),Xs.doSerialize(t,N);break;case 12:var O=e[2];t.out.b.push(13),Xs.doSerialize(t,O);break;case 13:t.out.b.push(14);break;case 14:t.out.b.push(15);break;case 15:t.out.b.push(16);break;case 16:var U=e[2];t.out.b.push(17),Xs.doSerialize(t,U)}},Xs.doUnserialize=function(t){var e=t.input.b[t.inPos++];if(0==e)return null;switch(e){case 1:return Ls.PInt;case 2:return Ls.PFloat;case 3:return Ls.PBool;case 4:return Ls.PString;case 5:return Ls.PBytes;case 6:var i,n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4);var s=n;if(0==s)i=null;else{--s;var r=t.input.getString(t.inPos,s);t.inPos+=s,i=r}return Ls.PSerializable(i);case 7:var a,o=t.input.b[t.inPos++];128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4);var l=o;if(0==l)a=null;else{--l;var h=t.input.getString(t.inPos,l);t.inPos+=l,a=h}return Ls.PEnum(a);case 8:var _,u;return _=Xs.doUnserialize(t),u=Xs.doUnserialize(t),Ls.PMap(_,u);case 9:var c;return c=Xs.doUnserialize(t),Ls.PArray(c);case 10:var f,d,p=t.input.b[t.inPos++];128==p&&(p=t.input.getInt32(t.inPos),t.inPos+=4);var g=p;if(0==g)f=null;else{for(var m=[],v=0,b=--g;v<b;){var y=v++,w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4);var x=w;if(0==x)d=null;else{var T,S=null,E=null;if(0!=(1&--x)){var I=t.input.b[t.inPos++];128==I&&(I=t.input.getInt32(t.inPos),t.inPos+=4);var P=I;if(0==P)E=null;else{--P;var C=t.input.getString(t.inPos,P);t.inPos+=P,E=C}}if(T=0!=t.input.b[t.inPos++],0!=(2&x))S=Xs.doUnserialize(t);d={name:E,opt:T,type:S}}m[y]=d}f=m}return Ls.PObj(f);case 11:var D;return D=Xs.doUnserialize(t),Ls.PAlias(D);case 12:var A;return A=Xs.doUnserialize(t),Ls.PVector(A);case 13:var R;return R=Xs.doUnserialize(t),Ls.PNull(R);case 14:return Ls.PUnknown;case 15:return Ls.PDynamic;case 16:return Ls.PInt64;case 17:var M;return M=Xs.doUnserialize(t),Ls.PFlags(M);default:throw new Vs("Invalid enum index "+e)}},Xs.getSchema=function(){var t=new Ns;t.fieldsTypes.push(null),t.fieldsNames.push("PInt"),t.fieldsTypes.push(null),t.fieldsNames.push("PFloat"),t.fieldsTypes.push(null),t.fieldsNames.push("PBool"),t.fieldsTypes.push(null),t.fieldsNames.push("PString"),t.fieldsTypes.push(null),t.fieldsNames.push("PBytes");for(var e=t.fieldsTypes,i=[],n=0,s=[Ls.PString];n<s.length;){var r=s[n];++n,i.push({name:"",type:r,opt:!1})}e.push(Ls.PObj(i)),t.fieldsNames.push("PSerializable");for(var a=t.fieldsTypes,o=[],l=0,h=[Ls.PString];l<h.length;){var _=h[l];++l,o.push({name:"",type:_,opt:!1})}a.push(Ls.PObj(o)),t.fieldsNames.push("PEnum");for(var u=t.fieldsTypes,c=[],f=0,d=[Ls.PEnum("hxbit.PropTypeDesc")];f<d.length;){var p=d[f];++f,c.push({name:"",type:p,opt:!1})}u.push(Ls.PObj(c)),t.fieldsNames.push("PMap");for(var g=t.fieldsTypes,m=[],v=0,b=[Ls.PEnum("hxbit.PropTypeDesc")];v<b.length;){var y=b[v];++v,m.push({name:"",type:y,opt:!1})}g.push(Ls.PObj(m)),t.fieldsNames.push("PArray");for(var w=t.fieldsTypes,x=[],T=0,S=[Ls.PArray(Ls.PObj([{opt:!1,type:Ls.PString,name:"name"},{opt:!1,type:Ls.PBool,name:"opt"},{opt:!1,type:Ls.PEnum("hxbit.PropTypeDesc"),name:"type"}]))];T<S.length;){var E=S[T];++T,x.push({name:"",type:E,opt:!1})}w.push(Ls.PObj(x)),t.fieldsNames.push("PObj");for(var I=t.fieldsTypes,P=[],C=0,D=[Ls.PEnum("hxbit.PropTypeDesc")];C<D.length;){var A=D[C];++C,P.push({name:"",type:A,opt:!1})}I.push(Ls.PObj(P)),t.fieldsNames.push("PAlias");for(var R=t.fieldsTypes,M=[],F=0,B=[Ls.PEnum("hxbit.PropTypeDesc")];F<B.length;){var L=B[F];++F,M.push({name:"",type:L,opt:!1})}R.push(Ls.PObj(M)),t.fieldsNames.push("PVector");for(var k=t.fieldsTypes,N=[],O=0,U=[Ls.PEnum("hxbit.PropTypeDesc")];O<U.length;){var G=U[O];++O,N.push({name:"",type:G,opt:!1})}k.push(Ls.PObj(N)),t.fieldsNames.push("PNull"),t.fieldsTypes.push(null),t.fieldsNames.push("PUnknown"),t.fieldsTypes.push(null),t.fieldsNames.push("PDynamic"),t.fieldsTypes.push(null),t.fieldsNames.push("PInt64");for(var X=t.fieldsTypes,V=[],z=0,H=[Ls.PEnum("hxbit.PropTypeDesc")];z<H.length;){var Y=H[z];++z,V.push({name:"",type:Y,opt:!1})}return X.push(Ls.PObj(V)),t.fieldsNames.push("PFlags"),t};var Vs=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,Vs)};(i["js._Boot.HaxeError"]=Vs).__name__=["js","_Boot","HaxeError"],Vs.wrap=function(t){return t instanceof Error?t:new Vs(t)},Vs.__super__=Error,Vs.prototype=n(Error.prototype,{__class__:Vs});var zs=function(){};(i["js.Boot"]=zs).__name__=["js","Boot"],zs.__unhtml=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},zs.__trace=function(t,e){var i,n=null!=e?e.fileName+":"+e.lineNumber+": ":"";if(n+=zs.__string_rec(t,""),null!=e&&null!=e.customParams)for(var s=0,r=e.customParams;s<r.length;){var a=r[s];++s,n+=","+zs.__string_rec(a,"")}"undefined"!=typeof document&&null!=(i=document.getElementById("haxe:trace"))?i.innerHTML+=zs.__unhtml(n)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(n)},zs.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var i=zs.__nativeClassName(t);return null!=i?zs.__resolveNativeClass(i):null},zs.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var n=t[0]+"(";e+="\t";for(var s=2,r=t.length;s<r;){var a=s++;n+=2!=a?","+zs.__string_rec(t[a],e):zs.__string_rec(t[a],e)}return n+")"}var o="[";e+="\t";for(var l=0,h=t.length;l<h;){var _=l++;o+=(0<_?",":"")+zs.__string_rec(t[_],e)}return o+="]"}var u;try{u=t.toString}catch(t){return rs.lastException=t,"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var c=t.toString();if("[object Object]"!=c)return c}var f=null,d="{\n";e+="\t";var p=null!=t.hasOwnProperty;for(var f in t)p&&!t.hasOwnProperty(f)||"prototype"!=f&&"__class__"!=f&&"__super__"!=f&&"__interfaces__"!=f&&"__properties__"!=f&&(2!=d.length&&(d+=", \n"),d+=e+f+" : "+zs.__string_rec(t[f],e));return d+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},zs.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var n=0,s=i.length;n<s;){var r=i[n++];if(r==e||zs.__interfLoop(r,e))return!0}return zs.__interfLoop(t.__super__,e)},zs.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case ju:return"boolean"==typeof t;case Wu:return!0;case Ku:return"number"==typeof t;case Yu:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(zs.__interfLoop(zs.getClass(t),e))return!0}else if("object"==typeof e&&zs.__isNativeObj(e)&&t instanceof e)return!0;return e==qu&&null!=t.__name__||(e==Ju&&null!=t.__ename__||t.__enum__==e)}},zs.__cast=function(t,e){if(zs.__instanceof(t,e))return t;throw new Vs("Cannot cast "+L.string(t)+" to "+L.string(e))},zs.__nativeClassName=function(t){var e=zs.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},zs.__isNativeObj=function(t){return null!=zs.__nativeClassName(t)},zs.__resolveNativeClass=function(t){return e[t]};function Hs(){}(i["js.Browser"]=Hs).__name__=["js","Browser"],Hs.alert=function(t){window.alert(zs.__string_rec(t,""))};function Ys(){}(i["js.html._CanvasElement.CanvasUtil"]=Ys).__name__=["js","html","_CanvasElement","CanvasUtil"],Ys.getContextWebGL=function(t,e){for(var i=0,n=["webgl","experimental-webgl"];i<n.length;){var s=n[i];++i;var r=t.getContext(s,e);if(null!=r)return r}return null};function Ws(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var i=0,n=e;i<n;){var s=i++;this.a[s]=0}this.byteLength=e}}(i["js.html.compat.ArrayBuffer"]=Ws).__name__=["js","html","compat","ArrayBuffer"],Ws.sliceImpl=function(t,e){var i=new ec(this,t,null==e?null:e-t),n=new Qu(i.byteLength);return new ec(n).set(i),n},Ws.prototype={slice:function(t,e){return new Ws(this.a.slice(t,e))},__class__:Ws};function Ks(t,e,i){if(this.buf=t,this.offset=null==e?0:e,this.length=null==i?t.byteLength-this.offset:i,this.offset<0||this.length<0||this.offset+this.length>t.byteLength)throw new Vs(ys.OutsideBounds);this.byteLength=this.length,this.byteOffset=this.offset,this.buffer=this.buf}(i["js.html.compat.DataView"]=Ks).__name__=["js","html","compat","DataView"],Ks.prototype={getInt8:function(t){var e=this.buf.a[this.offset+t];return 128<=e?e-256:e},getUint8:function(t){return this.buf.a[this.offset+t]},getInt16:function(t,e){var i=this.getUint16(t,e);return 32768<=i?i-65536:i},getUint16:function(t,e){return e?this.buf.a[this.offset+t]|this.buf.a[this.offset+t+1]<<8:this.buf.a[this.offset+t]<<8|this.buf.a[this.offset+t+1]},getInt32:function(t,e){var i=this.offset+t,n=this.buf.a[i++],s=this.buf.a[i++],r=this.buf.a[i++],a=this.buf.a[i++];return e?n|s<<8|r<<16|a<<24:a|r<<8|s<<16|n<<24},getUint32:function(t,e){var i=this.getInt32(t,e);return i<0?i+4294967296:i},getFloat32:function(t,e){return ws.i32ToFloat(this.getInt32(t,e))},getFloat64:function(t,e){var i=this.getInt32(t,e),n=this.getInt32(t+4,e);return ws.i64ToDouble(e?i:n,e?n:i)},setInt8:function(t,e){this.buf.a[t+this.offset]=e<0?e+128&255:255&e},setUint8:function(t,e){this.buf.a[t+this.offset]=255&e},setInt16:function(t,e,i){this.setUint16(t,e<0?e+65536:e,i)},setUint16:function(t,e,i){var n=t+this.offset;i?(this.buf.a[n]=255&e,this.buf.a[n++]=e>>8&255):(this.buf.a[n++]=e>>8&255,this.buf.a[n]=255&e)},setInt32:function(t,e,i){this.setUint32(t,e,i)},setUint32:function(t,e,i){var n=t+this.offset;i?(this.buf.a[n++]=255&e,this.buf.a[n++]=e>>8&255,this.buf.a[n++]=e>>16&255,this.buf.a[n++]=e>>>24):(this.buf.a[n++]=e>>>24,this.buf.a[n++]=e>>16&255,this.buf.a[n++]=e>>8&255,this.buf.a[n++]=255&e)},setFloat32:function(t,e,i){this.setUint32(t,ws.floatToI32(e),i)},setFloat64:function(t,e,i){var n=ws.doubleToI64(e);i?(this.setUint32(t,n.low),this.setUint32(t,n.high)):(this.setUint32(t,n.high),this.setUint32(t,n.low))},__class__:Ks};function js(){}(i["js.html.compat.Float32Array"]=js).__name__=["js","html","compat","Float32Array"],js._new=function(t,e,i){var n;if("number"==typeof t){n=[];for(var s=0,r=t;s<r;){n[s++]=0}n.byteLength=n.length<<2;for(var a=[],o=n.byteOffset=0,l=n.length<<2;o<l;){o++;a.push(0)}n.buffer=new Ws(a)}else if(zs.__instanceof(t,Ws)){var h=t;null==e&&(e=0),null==i&&(i=h.byteLength-e>>2),n=[];for(var _=0,u=i;_<u;){_++;var c=h.a[e++]|h.a[e++]<<8|h.a[e++]<<16|h.a[e++]<<24;n.push(ws.i32ToFloat(c))}n.byteLength=n.length<<2,n.byteOffset=e,n.buffer=h}else{if(!(t instanceof Array&&null==t.__enum__))throw new Vs("TODO "+L.string(t));n=t.slice();for(var f=[],d=0;d<n.length;){var p=n[d];++d;var g=ws.floatToI32(p);f.push(255&g),f.push(g>>8&255),f.push(g>>16&255),f.push(g>>>24)}n.byteLength=n.length<<2,n.byteOffset=0,n.buffer=new Ws(f)}return n.subarray=js._subarray,n.set=js._set,n},js._set=function(t,e){if(zs.__instanceof(t.buffer,Ws)){var i=t;if(t.byteLength+e>this.byteLength)throw new Vs("set() outside of range");for(var n=0,s=t.byteLength;n<s;){var r=n++;this[r+e]=i[r]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new Vs("TODO");var a=t;if(a.length+e>this.byteLength)throw new Vs("set() outside of range");for(var o=0,l=a.length;o<l;){var h=o++;this[h+e]=a[h]}}},js._subarray=function(t,e){var i=js._new(this.slice(t,e));return i.byteOffset=4*t,i};function qs(){}(i["js.html.compat.Uint8Array"]=qs).__name__=["js","html","compat","Uint8Array"],qs._new=function(t,e,i){var n;if("number"==typeof t){n=[];for(var s=0,r=t;s<r;){n[s++]=0}n.byteLength=n.length,n.byteOffset=0,n.buffer=new Ws(n)}else if(zs.__instanceof(t,Ws)){var a=t;null==e&&(e=0),null==i&&(i=a.byteLength-e),(n=0==e?a.a:a.a.slice(e,e+i)).byteLength=n.length,n.byteOffset=e,n.buffer=a}else{if(!(t instanceof Array&&null==t.__enum__))throw new Vs("TODO "+L.string(t));(n=t.slice()).byteLength=n.length,n.byteOffset=0,n.buffer=new Ws(n)}return n.subarray=qs._subarray,n.set=qs._set,n},qs._set=function(t,e){if(zs.__instanceof(t.buffer,Ws)){var i=t;if(t.byteLength+e>this.byteLength)throw new Vs("set() outside of range");for(var n=0,s=t.byteLength;n<s;){var r=n++;this[r+e]=i[r]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new Vs("TODO");var a=t;if(a.length+e>this.byteLength)throw new Vs("set() outside of range");for(var o=0,l=a.length;o<l;){var h=o++;this[h+e]=a[h]}}},qs._subarray=function(t,e){var i=qs._new(this.slice(t,e));return i.byteOffset=t,i};function Js(){this.enabled=!0,this.audio=new gs,this.font=new gs,this.image=new gs,this.version=42373}(i["lime.AssetCache"]=Js).__name__=["lime","AssetCache"],Js.prototype={clear:function(t){if(null==t)this.audio=new gs,this.font=new gs,this.image=new gs;else{for(var e=this.audio.keys();e.hasNext();){var i=e.next();Ps.startsWith(i,t)&&this.audio.remove(i)}for(var n=this.font.keys();n.hasNext();){var s=n.next();Ps.startsWith(s,t)&&this.font.remove(s)}for(var r=this.image.keys();r.hasNext();){var a=r.next();Ps.startsWith(a,t)&&this.image.remove(a)}}},__class__:Js};var Zs=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Void_Void"]=Zs).__name__=["lime","app","Event_Void_Void"],Zs.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(){this.canceled=!1;for(var t=this.__listeners,e=this.__repeat,i=0;i<t.length&&(t[i](),e[i]?++i:this.remove(t[i]),!this.canceled););},__class__:Zs};var Qs=function(){};(i["lime.Assets"]=Qs).__name__=["lime","Assets"],Qs.exists=function(t,e){Qs.initialize(),null==e&&(e="BINARY");var i=t.substring(0,t.indexOf(":")),n=B.substr(t,t.indexOf(":")+1,null),s=Qs.getLibrary(i);return null!=s&&s.exists(n,e)},Qs.getAudioBuffer=function(t,e){var i;if(null==e&&(e=!0),Qs.initialize(),e&&Qs.cache.enabled){var n=Qs.cache.audio;i=null!=Zu[t]?n.existsReserved(t):n.h.hasOwnProperty(t)}else i=!1;if(i){var s=Qs.cache.audio,r=null!=Zu[t]?s.getReserved(t):s.h[t];if(Qs.isValidAudio(r))return r}var a=t.substring(0,t.indexOf(":")),o=B.substr(t,t.indexOf(":")+1,null),l=Qs.getLibrary(a);if(null!=l)if(l.exists(o,"SOUND")){if(l.isLocal(o,"SOUND")){var h=l.getAudioBuffer(o);if(e&&Qs.cache.enabled){var _=Qs.cache.audio;null!=Zu[t]?_.setReserved(t,h):_.h[t]=h}return h}ls.trace('[Assets] Audio asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:125,className:"lime.Assets",methodName:"getAudioBuffer"})}else ls.trace('[Assets] There is no audio asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:131,className:"lime.Assets",methodName:"getAudioBuffer"});else ls.trace('[Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:137,className:"lime.Assets",methodName:"getAudioBuffer"});return null},Qs.getBytes=function(t){Qs.initialize();var e=t.substring(0,t.indexOf(":")),i=B.substr(t,t.indexOf(":")+1,null),n=Qs.getLibrary(e);if(null!=n)if(n.exists(i,"BINARY")){if(n.isLocal(i,"BINARY"))return n.getBytes(i);ls.trace('[Assets] String or Bytes asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:174,className:"lime.Assets",methodName:"getBytes"})}else ls.trace('[Assets] There is no String or Bytes asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:180,className:"lime.Assets",methodName:"getBytes"});else ls.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:186,className:"lime.Assets",methodName:"getBytes"});return null},Qs.getFont=function(t,e){var i;if(null==e&&(e=!0),Qs.initialize(),e&&Qs.cache.enabled){var n=Qs.cache.font;i=null!=Zu[t]?n.existsReserved(t):n.h.hasOwnProperty(t)}else i=!1;if(i){var s=Qs.cache.font;return null!=Zu[t]?s.getReserved(t):s.h[t]}var r=t.substring(0,t.indexOf(":")),a=B.substr(t,t.indexOf(":")+1,null),o=Qs.getLibrary(r);if(null!=o)if(o.exists(a,"FONT")){if(o.isLocal(a,"FONT")){var l=o.getFont(a);if(e&&Qs.cache.enabled){var h=Qs.cache.font;null!=Zu[t]?h.setReserved(t,l):h.h[t]=l}return l}ls.trace('[Assets] Font asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:237,className:"lime.Assets",methodName:"getFont"})}else ls.trace('[Assets] There is no Font asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:243,className:"lime.Assets",methodName:"getFont"});else ls.trace('[Assets] There is no asset library named "'+r+'"',{fileName:"Assets.hx",lineNumber:249,className:"lime.Assets",methodName:"getFont"});return null},Qs.getImage=function(t,e){var i;if(null==e&&(e=!0),Qs.initialize(),e&&Qs.cache.enabled){var n=Qs.cache.image;i=null!=Zu[t]?n.existsReserved(t):n.h.hasOwnProperty(t)}else i=!1;if(i){var s=Qs.cache.image,r=null!=Zu[t]?s.getReserved(t):s.h[t];if(Qs.isValidImage(r))return r}var a=t.substring(0,t.indexOf(":")),o=B.substr(t,t.indexOf(":")+1,null),l=Qs.getLibrary(a);if(null!=l)if(l.exists(o,"IMAGE")){if(l.isLocal(o,"IMAGE")){var h=l.getImage(o);if(e&&Qs.cache.enabled){var _=Qs.cache.image;null!=Zu[t]?_.setReserved(t,h):_.h[t]=h}return h}ls.trace('[Assets] Image asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:307,className:"lime.Assets",methodName:"getImage"})}else ls.trace('[Assets] There is no Image asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:313,className:"lime.Assets",methodName:"getImage"});else ls.trace('[Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:319,className:"lime.Assets",methodName:"getImage"});return null},Qs.getLibrary=function(t){null!=t&&""!=t||(t="default");var e=Qs.libraries;return null!=Zu[t]?e.getReserved(t):e.h[t]},Qs.getExtraSoundOptions=function(t){Qs.initialize();var e=Qs.getLibrary("");if(null!=e){if(e.exists(t,null))return e.getExtraSoundOptions(t);ls.trace('[Assets] There is no asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:355,className:"lime.Assets",methodName:"getExtraSoundOptions"})}return null},Qs.getLogicalPath=function(t){Qs.initialize();var e=Qs.getLibrary("");if(null!=e)for(var i=e.getPathMap(),n=i.keys();n.hasNext();){var s=n.next();if((null!=Zu[s]?i.getReserved(s):i.h[s])==t)return s}return""},Qs.getPath=function(t){Qs.initialize();var e=t.substring(0,t.indexOf(":")),i=B.substr(t,t.indexOf(":")+1,null),n=Qs.getLibrary(e);if(null!=n){if(n.exists(i,null))return n.getPath(i);ls.trace('[Assets] There is no asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:411,className:"lime.Assets",methodName:"getPath"})}else ls.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:417,className:"lime.Assets",methodName:"getPath"});return null},Qs.getText=function(t){Qs.initialize();var e=t.substring(0,t.indexOf(":")),i=B.substr(t,t.indexOf(":")+1,null),n=Qs.getLibrary(e);if(null!=n)if(n.exists(i,"TEXT")){if(n.isLocal(i,"TEXT"))return n.getText(i);ls.trace('[Assets] String asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:454,className:"lime.Assets",methodName:"getText"})}else ls.trace('[Assets] There is no String asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:460,className:"lime.Assets",methodName:"getText"});else ls.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:466,className:"lime.Assets",methodName:"getText"});return null},Qs.initialize=function(){Qs.initialized||(Qs.registerLibrary("default",new b),Qs.initialized=!0)},Qs.isLocal=function(t,e,i){if(null==i&&(i=!0),Qs.initialize(),i&&Qs.cache.enabled){if("IMAGE"==e||null==e){var n=Qs.cache.image;if(null!=Zu[t]?n.existsReserved(t):n.h.hasOwnProperty(t))return!0}if("FONT"==e||null==e){var s=Qs.cache.font;if(null!=Zu[t]?s.existsReserved(t):s.h.hasOwnProperty(t))return!0}if("SOUND"==e||"MUSIC"==e||null==e){var r=Qs.cache.audio;if(null!=Zu[t]?r.existsReserved(t):r.h.hasOwnProperty(t))return!0}}var a=t.substring(0,t.indexOf(":")),o=B.substr(t,t.indexOf(":")+1,null),l=Qs.getLibrary(a);return null!=l&&l.isLocal(o,e)},Qs.isValidAudio=function(t){return null!=t},Qs.isValidImage=function(t){return!0},Qs.list=function(t){Qs.initialize();for(var e=[],i=Qs.libraries,n=new ps(i,i.arrayKeys());n.hasNext();){var s=n.next().list(t);null!=s&&(e=e.concat(s))}return e},Qs.loadAudioBuffer=function(i,t){null==t&&(t=!0),Qs.initialize();var e,n=new Er;if(t&&Qs.cache.enabled){var s=Qs.cache.audio;e=null!=Zu[i]?s.existsReserved(i):s.h.hasOwnProperty(i)}else e=!1;if(e){var r=Qs.cache.audio,a=null!=Zu[i]?r.getReserved(i):r.h[i];if(Qs.isValidAudio(a))return n.complete(a),n.future}var o=i.indexOf(":"),l=i.substring(0,o),h=i.indexOf(":")+1,_=B.substr(i,h,null),u=Qs.getLibrary(l);if(null!=u)if(u.exists(_,"SOUND")){var c=u.loadAudioBuffer(_);t&&Qs.cache.enabled&&c.onComplete(function(t){var e=Qs.cache.audio;null!=Zu[i]?e.setReserved(i,t):e.h[i]=t}),n.completeWith(c)}else n.error('[Assets] There is no audio asset with an ID of "'+i+'"');else n.error('[Assets] There is no asset library named "'+l+'"');return n.future},Qs.loadBytes=function(t){Qs.initialize();var e=new Er,i=t.substring(0,t.indexOf(":")),n=B.substr(t,t.indexOf(":")+1,null),s=Qs.getLibrary(i);return null!=s?s.exists(n,"BINARY")?e.completeWith(s.loadBytes(n)):e.error('[Assets] There is no String or Bytes asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+i+'"'),e.future},Qs.loadFont=function(t){Qs.initialize();var e=new Er,i=t.substring(0,t.indexOf(":")),n=B.substr(t,t.indexOf(":")+1,null),s=Qs.getLibrary(i);return null!=s?s.exists(n,"FONT")?e.completeWith(s.loadFont(n)):e.error('[Assets] There is no Font asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+i+'"'),e.future},Qs.loadImage=function(i,t){null==t&&(t=!0),Qs.initialize();var e,n=new Er;if(t&&Qs.cache.enabled){var s=Qs.cache.image;e=null!=Zu[i]?s.existsReserved(i):s.h.hasOwnProperty(i)}else e=!1;if(e){var r=Qs.cache.image,a=null!=Zu[i]?r.getReserved(i):r.h[i];if(Qs.isValidImage(a))return n.complete(a),n.future}var o=i.indexOf(":"),l=i.substring(0,o),h=i.indexOf(":")+1,_=B.substr(i,h,null),u=Qs.getLibrary(l);if(null!=u)if(u.exists(_,"IMAGE")){var c=u.loadImage(_);t&&Qs.cache.enabled&&c.onComplete(function(t){var e=Qs.cache.image;null!=Zu[i]?e.setReserved(i,t):e.h[i]=t}),n.completeWith(c)}else n.error('[Assets] There is no Image asset with an ID of "'+i+'"');else n.error('[Assets] There is no asset library named "'+l+'"');return n.future},Qs.loadLibrary=function(t){Qs.initialize();var e=new Er,i=Qs.getText("libraries/"+t+".json");if(null!=i&&""!=i){var n=JSON.parse(i),s=mi.createInstance(mi.resolveClass(n.type),n.args),r=Qs.libraries;null!=Zu[t]?r.setReserved(t,s):r.h[t]=s,s.onChange.add(Hu(Vu=Qs.onChange,Vu.dispatch)),e.completeWith(s.load())}else e.error('[Assets] There is no asset library named "'+t+'"');return e.future},Qs.loadText=function(t){Qs.initialize();var e=new Er,i=t.substring(0,t.indexOf(":")),n=B.substr(t,t.indexOf(":")+1,null),s=Qs.getLibrary(i);return null!=s?s.exists(n,"TEXT")?e.completeWith(s.loadText(n)):e.error('[Assets] There is no String asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+i+'"'),e.future},Qs.registerLibrary=function(t,e){var i=Qs.libraries;if(null!=Zu[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var n=Qs.libraries;if((null!=Zu[t]?n.getReserved(t):n.h[t])==e)return;Qs.unloadLibrary(t)}null!=e&&e.onChange.add(Qs.library_onChange);var s=Qs.libraries;null!=Zu[t]?s.setReserved(t,e):s.h[t]=e},Qs.unloadLibrary=function(t){Qs.initialize();var e=Qs.libraries,i=null!=Zu[t]?e.getReserved(t):e.h[t];null!=i&&(Qs.cache.clear(t+":"),i.onChange.remove(Qs.library_onChange),i.unload()),Qs.libraries.remove(t)},Qs.library_onChange=function(){Qs.cache.clear(),Qs.onChange.dispatch()};var $s=function(t){this.gameDeviceCache=new fs,this.parent=t,this.currentUpdate=0,this.lastUpdate=0,this.nextUpdate=0,this.framePeriod=-1,Ar.init(),$s.instance=this};(i["lime._backend.html5.HTML5Application"]=$s).__name__=["lime","_backend","html5","HTML5Application"],$s.instance=null,$s.staticHandleApplicationEvent=function(t){var e=performance.now();$s.instance.handleApplicationEvent(e)},$s.prototype={convertKeyCode:function(t){if(65<=t&&t<=90)return t+32;switch(t){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return t},create:function(t){},exec:function(){window.addEventListener("keydown",Hu(this,this.handleKeyEvent),!1),window.addEventListener("keyup",Hu(this,this.handleKeyEvent),!1),window.addEventListener("focus",Hu(this,this.handleWindowEvent),!1),window.addEventListener("blur",Hu(this,this.handleWindowEvent),!1),this.parent.windows[0].__resizable&&window.addEventListener("resize",Hu(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",Hu(this,this.handleWindowEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(t,e,i){return!1});for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-r)),s=window.setTimeout(function(){t(i+n)},n);return r=i+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestAnimFrame=window.requestAnimationFrame,this.requestAnimFrameFunc=window.requestAnimationFrame,this.handleApplicationEvent(0),0},exit:function(){Ar.shutdown()},getFrameRate:function(){return this.framePeriod<0?60:1e3==this.framePeriod?0:1e3/this.framePeriod},handleApplicationEvent:function(t){if(this.currentUpdate=t,this.currentUpdate>=this.nextUpdate){if(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=this.parent.renderers[0]&&(this.parent.render(this.parent.renderers[0]),this.parent.renderers[0].flip()),this.framePeriod<0)this.nextUpdate=this.currentUpdate;else for(;this.nextUpdate+=this.framePeriod,this.nextUpdate<this.currentUpdate;);this.lastUpdate=this.currentUpdate}$s.stopUpdating||this.requestAnimFrameFunc.call(window,$s.staticHandleApplicationEvent)},handleKeyEvent:function(t){if(null!=this.parent.windows[0]){8==t.keyCode&&t.preventDefault();var e=this.convertKeyCode(null!=t.keyCode?t.keyCode:t.which),i=(t.shiftKey?3:0)|(t.ctrlKey?192:0)|(t.altKey?768:0)|(t.metaKey?3072:0);"keydown"==t.type?this.parent.windows[0].onKeyDown.dispatch(e,i):this.parent.windows[0].onKeyUp.dispatch(e,i),this.parent.windows[0].backend.getEnableTextEvents()||t.preventDefault()}},handleWindowEvent:function(t){if(null!=this.parent.windows[0])switch(t.type){case"beforeunload":this.parent.windows[0].onClose.dispatch();break;case"blur":this.parent.windows[0].onFocusOut.dispatch(),this.parent.windows[0].onDeactivate.dispatch();break;case"focus":this.parent.windows[0].onFocusIn.dispatch(),this.parent.windows[0].onActivate.dispatch()}},setFrameRate:function(t){return this.framePeriod=60<=t?-1:0<t?1e3/t:1e3,t},updateGameDevices:function(){var t=Fa.__getDeviceData();if(null!=t)for(var e,i,n,s,r,a=0,o=t.length;a<o;){if(null!=(s=t[e=a++])){if(!this.gameDeviceCache.h.hasOwnProperty(e)){(r=new tr).id=e,r.connected=s.connected;for(var l=0,h=s.buttons.length;l<h;){var _=l++;r.buttons.push(s.buttons[_].value)}for(var u=0,c=s.axes.length;u<c;){var f=u++;r.axes.push(s.axes[f])}"standard"==s.mapping&&(r.isGamepad=!0),this.gameDeviceCache.h[e]=r,s.connected&&(Fa.__connect(e),r.isGamepad&&Aa.__connect(e))}if(r=this.gameDeviceCache.h[e],n=Fa.devices.h[e],i=Aa.devices.h[e],s.connected){for(var d,p,g=0,m=s.buttons.length;g<m;){var v=g++;if((p=s.buttons[v].value)!=r.buttons[v]){if(6==v)n.onAxisMove.dispatch(s.axes.length,p),null!=i&&i.onAxisMove.dispatch(4,p);else if(7==v)n.onAxisMove.dispatch(s.axes.length+1,p),null!=i&&i.onAxisMove.dispatch(5,p);else if(0<p?n.onButtonDown.dispatch(v):n.onButtonUp.dispatch(v),null!=i){switch(v){case 0:d=0;break;case 1:d=1;break;case 2:d=2;break;case 3:d=3;break;case 4:d=9;break;case 5:d=10;break;case 8:d=4;break;case 9:d=6;break;case 10:d=7;break;case 11:d=8;break;case 12:d=11;break;case 13:d=12;break;case 14:d=13;break;case 15:d=14;break;case 16:d=5;break;default:continue}0<p?i.onButtonDown.dispatch(d):i.onButtonUp.dispatch(d)}r.buttons[v]=p}}for(var b=0,y=s.axes.length;b<y;){var w=b++;s.axes[w]!=r.axes[w]&&(n.onAxisMove.dispatch(w,s.axes[w]),null!=i&&i.onAxisMove.dispatch(w,s.axes[w]),r.axes[w]=s.axes[w])}}else r.connected&&(r.connected=!1,Fa.__disconnect(e),Aa.__disconnect(e))}}},__class__:$s};var tr=function(){this.connected=!0,this.buttons=[],this.axes=[]};(i["lime._backend.html5.GameDeviceData"]=tr).__name__=["lime","_backend","html5","GameDeviceData"],tr.prototype={__class__:tr};function er(){}(i["lime._backend.html5.HTML5Mouse"]=er).__name__=["lime","_backend","html5","HTML5Mouse"],er.__cursor=null,er.__hidden=null,er.hide=function(){if(!er.__hidden){er.__hidden=!0;for(var t=0,e=sr.current.windows;t<e.length;){var i=e[t];++t,i.backend.element.style.cursor="none"}}},er.show=function(){if(er.__hidden){er.__hidden=!1;var t=er.__cursor;er.__cursor=null,er.set_cursor(t)}},er.warp=function(t,e,i){},er.get_cursor=function(){return null==er.__cursor?Oa.DEFAULT:er.__cursor},er.set_cursor=function(t){if(er.__cursor!=t){if(!er.__hidden)for(var e=0,i=sr.current.windows;e<i.length;){var n,s=i[e];switch(++e,t[1]){case 0:n="default";break;case 1:n="crosshair";break;case 3:n="move";break;case 4:n="pointer";break;case 5:n="nesw-resize";break;case 6:n="ns-resize";break;case 7:n="nwse-resize";break;case 8:n="ew-resize";break;case 9:n="text";break;case 10:case 11:n="wait";break;default:n="auto"}s.backend.element.style.cursor=n}er.__cursor=t}return er.__cursor},er.get_lock=function(){return!1},er.set_lock=function(t){return t};function ir(t){this.parent=t}(i["lime._backend.html5.HTML5Renderer"]=ir).__name__=["lime","_backend","html5","HTML5Renderer"],ir.prototype={create:function(){this.createContext(),0==this.parent.context[1]&&(this.parent.window.backend.canvas.addEventListener("webglcontextlost",Hu(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",Hu(this,this.handleEvent),!1))},createContext:function(){if(null!=this.parent.window.backend.canvas){var t,e={alpha:!1,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")&&0<this.parent.window.config.antialiasing,depth:!Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")||this.parent.window.config.depthBuffer,premultipliedAlpha:!1,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")&&this.parent.window.config.stencilBuffer,preserveDrawingBuffer:!1};if(null==(t=Ys.getContextWebGL(this.parent.window.backend.canvas,e)))throw new Vs("Only webgl supported");Zr.context=t,this.parent.context=Hr.OPENGL(new Ur),this.parent.type=Wr.OPENGL}},flip:function(){},handleEvent:function(t){switch(t.type){case"webglcontextlost":t.preventDefault(),this.parent.context=null,this.parent.onContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},readPixels:function(t){if(null!=this.parent.window.backend.canvas&&(null==t?t=new sa(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height):t.__contract(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height),0<t.width&&0<t.height)){var e=window.document.createElement("canvas");return e.width=0|t.width,e.height=0|t.height,e.getContext("2d").drawImage(this.parent.window.backend.canvas,-t.x,-t.y),Gr.fromCanvas(e)}return null},render:function(){},__class__:ir};function nr(t){this.unusedTouchesPool=new x,this.currentTouches=new fs,null!=(this.parent=t).config&&Object.prototype.hasOwnProperty.call(t.config,"element")&&(this.element=t.config.element),t.onFocusIn.add(Hu(this,this.focus))}(i["lime._backend.html5.HTML5Window"]=nr).__name__=["lime","_backend","html5","HTML5Window"],nr.textInput=null,nr.prototype={alert:function(t,e){null!=t&&Hs.alert(t)},close:function(){this.parent.application.removeWindow(this.parent)},create:function(t){if(this.setWidth=this.parent.__width,this.setHeight=this.parent.__height,this.parent.id=nr.windowID++,zs.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas"),null!=this.canvas){var e=this.canvas.style;e.setProperty("-webkit-transform","translateZ(0)",null),e.setProperty("transform","translateZ(0)",null)}else if(null!=this.div){var i=this.div.style;i.setProperty("-webkit-transform","translate3D(0,0,0)",null),i.setProperty("transform","translate3D(0,0,0)",null),i.position="relative",i.overflow="hidden",i.setProperty("-webkit-user-select","none",null),i.setProperty("-moz-user-select","none",null),i.setProperty("-ms-user-select","none",null),i.setProperty("-o-user-select","none",null)}if(this.parent.__resizable)if(this.parent.__originalWidth=this.parent.__width,this.parent.__originalHeight=this.parent.__height,null==this.element||0==this.element.clientWidth&&0==this.element.clientHeight)this.parent.resize(window.innerWidth,window.innerHeight);else{var n=0,s=0;0!=this.element.clientWidth&&0!=this.element.clientHeight?(n=this.element.clientWidth,s=this.element.clientHeight):0!=this.element.clientWidth?(n=this.element.clientWidth,s=Math.round(n*(this.parent.__originalHeight/this.parent.__originalWidth))):(s=this.element.clientHeight,n=Math.round(s*(this.parent.__originalWidth/this.parent.__originalHeight))),this.parent.resize(0|n,0|s)}else 0==this.parent.__width&&0==this.parent.__height&&(null!=this.element&&0!=this.element.clientWidth&&0!=this.element.clientHeight?this.parent.resize(this.element.clientWidth,this.element.clientHeight):this.parent.resize(window.innerWidth,window.innerHeight)),this.parent.__originalWidth=this.parent.__width,this.parent.__originalHeight=this.parent.__height;if(null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px"),null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);for(var r=["mousedown","mouseenter","mouseleave","mousemove","mouseup","wheel","contextmenu"],a=0;a<r.length;){var o=r[a];++a,this.element.addEventListener(o,Hu(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(t){return"img"!=t.target.nodeName.toLowerCase()||(t.preventDefault(),!1)},!1),this.element.addEventListener("touchstart",Hu(this,this.handleTouchEvent),!0),this.element.addEventListener("touchmove",Hu(this,this.handleTouchEvent),!0),this.element.addEventListener("touchend",Hu(this,this.handleTouchEvent),!0),this.element.addEventListener("gamepadconnected",Hu(this,this.handleGamepadEvent),!0),this.element.addEventListener("gamepaddisconnected",Hu(this,this.handleGamepadEvent),!0)}},focus:function(){},getDisplay:function(){return ya.getDisplay(0)},getEnableTextEvents:function(){return this.enableTextEvents},handleFocusEvent:function(t){this.enableTextEvents&&hs.delay(function(){nr.textInput.focus()},20)},handleGamepadEvent:function(t){switch(t.type){case"gamepadconnected":Fa.__connect(t.gamepad.index),"standard"==t.gamepad.mapping&&Aa.__connect(t.gamepad.index);break;case"gamepaddisconnected":Fa.__disconnect(t.gamepad.index),Aa.__disconnect(t.gamepad.index)}},handleInputEvent:function(t){""!=nr.textInput.value&&(this.parent.onTextInput.dispatch(nr.textInput.value),nr.textInput.value="")},handleMouseEvent:function(t){var e=0,i=0;if("wheel"!=t.type){if(null!=this.element)if(null!=this.canvas){var n=this.canvas.getBoundingClientRect();e=(t.clientX-n.left)*(this.parent.__width/n.width),i=(t.clientY-n.top)*(this.parent.__height/n.height)}else if(null!=this.div){var s=this.div.getBoundingClientRect();e=t.clientX-s.left,i=t.clientY-s.top}else{var r=this.element.getBoundingClientRect();e=(t.clientX-r.left)*(this.parent.__width/r.width),i=(t.clientY-r.top)*(this.parent.__height/r.height)}else e=t.clientX,i=t.clientY;switch(t.type){case"mousedown":this.parent.onMouseDown.dispatch(e,i,t.button);break;case"mouseenter":this.parent.onEnter.dispatch();break;case"contextmenu":case"mouseleave":this.parent.onLeave.dispatch();break;case"mousemove":this.parent.onMouseMove.dispatch(e,i);break;case"mouseup":this.parent.onMouseUp.dispatch(e,i,t.button)}}else this.parent.onMouseWheel.dispatch(t.deltaX,-t.deltaY)},handleTouchEvent:function(t){t.preventDefault();var e=null;null!=this.element&&(e=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var i=this.setWidth,n=this.setHeight;0!=i&&0!=n||(n=null!=e?(i=e.width,e.height):i=1);for(var s=0,r=t.changedTouches;s<r.length;){var a=r[s];++s;var o=0,l=0;switch(l=null!=e?(o=(a.clientX-e.left)*(this.parent.__width/e.width),(a.clientY-e.top)*(this.parent.__height/e.height)):(o=a.clientX,a.clientY),t.type){case"touchend":var h=this.currentTouches.get(a.identifier);if(null!=h){var _=h.x,u=h.y;h.x=o/i,h.y=l/n,h.dx=h.x-_,h.dy=h.y-u,h.pressure=a.force,Ua.onEnd.dispatch(h),this.currentTouches.remove(a.identifier),this.unusedTouchesPool.add(h),h==this.primaryTouch&&(this.parent.onMouseUp.dispatch(o,l,0),this.primaryTouch=null)}break;case"touchmove":var c=this.currentTouches.get(a.identifier);if(null!=c){var f=c.x,d=c.y;c.x=o/i,c.y=l/n,c.dx=c.x-f,c.dy=c.y-d,c.pressure=a.force,Ua.onMove.dispatch(c),c==this.primaryTouch&&this.parent.onMouseMove.dispatch(o,l)}break;case"touchstart":var p=this.unusedTouchesPool.pop();null==p?p=new Ua(o/i,l/n,a.identifier,0,0,a.force,this.parent.id):(p.x=o/i,p.y=l/n,p.id=a.identifier,p.dx=0,p.dy=0,p.pressure=a.force,p.device=this.parent.id),this.currentTouches.set(a.identifier,p),Ua.onStart.dispatch(p),null==this.primaryTouch&&(this.primaryTouch=p),p==this.primaryTouch&&this.parent.onMouseDown.dispatch(o,l,0)}}},move:function(t,e){},resize:function(t,e){if(null!=this.element&&(this.parent.__width=t,this.parent.__height=e,null!=this.canvas&&this.element!=this.canvas)){var i=this.parent.stage,n=t,s=e;null!=i&&(2!=i.get_scaleMode()&&(t=Math.ceil(i.stageWidth*i.get_scaleX()),e=Math.ceil(i.stageHeight*i.get_scaleY()),this.parent.__width=t,this.parent.__height=e),Math.floor((n-t)/2),Math.floor((s-e)/2))}},resizeViewport:function(t,e){this.canvas.width=t,this.canvas.height=e},setBorderless:function(t){return t},setEnableTextEvents:function(t){return t?(null==nr.textInput&&((nr.textInput=window.document.createElement("input")).type="text",nr.textInput.style.position="absolute",nr.textInput.style.opacity="0",nr.textInput.style.color="transparent",nr.textInput.value="",nr.textInput.autocapitalize="off",nr.textInput.autocorrect="off",nr.textInput.autocomplete="off",new w("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(nr.textInput.style.fontSize="0px",nr.textInput.style.width="0px",nr.textInput.style.height="0px",nr.textInput.style.left="0px",nr.textInput.style.top="50%"):(nr.textInput.style.width="1px",nr.textInput.style.height="1px",nr.textInput.style.left="-1000px",nr.textInput.style.top="0px"),nr.textInput.style.pointerEvents="none",nr.textInput.style.zIndex="-10000000",window.document.body.appendChild(nr.textInput)),this.enableTextEvents||(nr.textInput.addEventListener("input",Hu(this,this.handleInputEvent),!0),nr.textInput.addEventListener("blur",Hu(this,this.handleFocusEvent),!0)),nr.textInput.focus()):null!=nr.textInput&&(nr.textInput.removeEventListener("input",Hu(this,this.handleInputEvent),!0),nr.textInput.removeEventListener("blur",Hu(this,this.handleFocusEvent),!0),nr.textInput.blur()),this.enableTextEvents=t},setFullscreen:function(t){return!1},setIcon:function(t){},setMinimized:function(t){return!1},setResizable:function(t){return t},setTitle:function(t){return t},getScreenWidth:function(){return window.screen.width},getScreenHeight:function(){return window.screen.height},__class__:nr};var sr=function(){this.onUpdate=new cr,je.call(this),null==sr.current&&(sr.current=this),this.modules=[],this.renderers=[],this.windows=[],this.windowByID=new fs,this.backend=new $s(this),this.onExit.add(Hu(this,this.onModuleExit)),this.onUpdate.add(Hu(this,this.update)),Aa.onConnect.add(Hu(this,this.__onGamepadConnect)),Fa.onConnect.add(Hu(this,this.__onJoystickConnect)),Ua.onStart.add(Hu(this,this.onTouchStart)),Ua.onMove.add(Hu(this,this.onTouchMove)),Ua.onEnd.add(Hu(this,this.onTouchEnd))};(i["lime.app.Application"]=sr).__name__=["lime","app","Application"],sr.current=null,sr.__super__=je,sr.prototype=n(je.prototype,{addModule:function(t){if(this.modules.push(t),0<this.windows.length){for(var e=0,i=this.windows;e<i.length;){var n=i[e];++e,t.onWindowCreate(n)}null!=this.preloader&&!this.preloader.complete||t.onPreloadComplete()}},addRenderer:function(t){var e=Hu(this,this.render),i=t;t.onRender.add(function(){e(i)});var n=Hu(this,this.onRenderContextLost),s=t;t.onContextLost.add(function(){n(s)});var r=Hu(this,this.onRenderContextRestored),a=t;t.onContextRestored.add(function(t){r(a,t)}),this.renderers.push(t)},create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,i=t.windows;e<i.length;){var n=i[e];++e;var s=new Ga(n);this.createWindow(s);break}null!=this.preloader&&!this.preloader.complete||this.onPreloadComplete()}},createWindow:function(t){var e=Hu(this,this.onWindowActivate),i=t;t.onActivate.add(function(){e(i)});var n=Hu(this,this.onWindowClose),s=t;t.onClose.add(function(){n(s)});var r=Hu(this,this.onWindowCreate),a=t;t.onCreate.add(function(){r(a)});var o=Hu(this,this.onWindowDeactivate),l=t;t.onDeactivate.add(function(){o(l)});var h=Hu(this,this.onWindowEnter),_=t;t.onEnter.add(function(){h(_)});var u=Hu(this,this.onWindowFocusIn),c=t;t.onFocusIn.add(function(){u(c)});var f=Hu(this,this.onWindowFocusOut),d=t;t.onFocusOut.add(function(){f(d)});var p=Hu(this,this.onWindowFullscreen),g=t;t.onFullscreen.add(function(){p(g)});var m=Hu(this,this.onKeyDown),v=t;t.onKeyDown.add(function(t,e){m(v,t,e)});var b=Hu(this,this.onKeyUp),y=t;t.onKeyUp.add(function(t,e){b(y,t,e)});var w=Hu(this,this.onWindowLeave),x=t;t.onLeave.add(function(){w(x)});var T=Hu(this,this.onWindowMinimize),S=t;t.onMinimize.add(function(){T(S)});var E=Hu(this,this.onMouseDown),I=t;t.onMouseDown.add(function(t,e,i){E(I,t,e,i)});var P=Hu(this,this.onMouseMove),C=t;t.onMouseMove.add(function(t,e){P(C,t,e)});var D=Hu(this,this.onMouseMoveRelative),A=t;t.onMouseMoveRelative.add(function(t,e){D(A,t,e)});var R=Hu(this,this.onMouseUp),M=t;t.onMouseUp.add(function(t,e,i){R(M,t,e,i)});var F=Hu(this,this.onMouseWheel),B=t;t.onMouseWheel.add(function(t,e){F(B,t,e)});var L=Hu(this,this.onWindowMove),k=t;t.onMove.add(function(t,e){L(k,t,e)});var N=Hu(this,this.onWindowResize),O=t;t.onResize.add(function(t,e){N(O,t,e)});var U=Hu(this,this.onWindowRestore),G=t;t.onRestore.add(function(){U(G)});var X=Hu(this,this.onTextEdit),V=t;t.onTextEdit.add(function(t,e,i){X(V,t,e,i)});var z=Hu(this,this.onTextInput),H=t;if(t.onTextInput.add(function(t){z(H,t)}),null==t.renderer){var Y=new Yr(t);this.addRenderer(Y)}t.create(this),this.windows.push(t),(this.windowByID.h[t.id]=t).onCreate.dispatch()},exec:function(){return(sr.current=this).backend.exec()},onGamepadAxisMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onGamepadAxisMove(t,e,i)}},onGamepadButtonDown:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onGamepadButtonDown(t,e)}},onGamepadButtonUp:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onGamepadButtonUp(t,e)}},onGamepadConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onGamepadConnect(t)}},onGamepadDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onGamepadDisconnect(t)}},onJoystickAxisMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onJoystickAxisMove(t,e,i)}},onJoystickButtonDown:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onJoystickButtonDown(t,e)}},onJoystickButtonUp:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onJoystickButtonUp(t,e)}},onJoystickConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onJoystickConnect(t)}},onJoystickDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onJoystickDisconnect(t)}},onJoystickHatMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onJoystickHatMove(t,e,i)}},onJoystickTrackballMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onJoystickTrackballMove(t,e,i)}},onKeyDown:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onKeyDown(t,e,i)}},onKeyUp:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onKeyUp(t,e,i)}},onModuleExit:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onModuleExit(t)}this.backend.exit()},onMouseDown:function(t,e,i,n){for(var s=0,r=this.modules;s<r.length;){var a=r[s];++s,a.onMouseDown(t,e,i,n)}},onMouseMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onMouseMove(t,e,i)}},onMouseMoveRelative:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onMouseMoveRelative(t,e,i)}},onMouseUp:function(t,e,i,n){for(var s=0,r=this.modules;s<r.length;){var a=r[s];++s,a.onMouseUp(t,e,i,n)}},onMouseWheel:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onMouseWheel(t,e,i)}},onPreloadComplete:function(){for(var t=0,e=this.modules;t<e.length;){var i=e[t];++t,i.onPreloadComplete()}},onPreloadProgress:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onPreloadProgress(t,e,i)}},onRenderContextLost:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onRenderContextLost(t)}},onRenderContextRestored:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onRenderContextRestored(t,e)}},onTextEdit:function(t,e,i,n){for(var s=0,r=this.modules;s<r.length;){var a=r[s];++s,a.onTextEdit(t,e,i,n)}},onTextInput:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onTextInput(t,e)}},onTouchEnd:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onTouchEnd(t)}},onTouchMove:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onTouchMove(t)}},onTouchStart:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onTouchStart(t)}},onWindowActivate:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowActivate(t)}},onWindowClose:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowClose(t)}this.removeWindow(t)},onWindowCreate:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowCreate(t)}},onWindowDeactivate:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowDeactivate(t)}},onWindowEnter:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowEnter(t)}},onWindowFocusIn:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowFocusIn(t)}},onWindowFocusOut:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowFocusOut(t)}},onWindowFullscreen:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowFullscreen(t)}},onWindowLeave:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowLeave(t)}},onWindowMinimize:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowMinimize(t)}},onWindowMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onWindowMove(t,e,i)}},onWindowResize:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onWindowResize(t,e,i)}},onWindowRestore:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowRestore(t)}},removeModule:function(t){null!=t&&(t.onModuleExit(0),B.remove(this.modules,t))},removeRenderer:function(t){null!=t&&-1<this.renderers.indexOf(t)&&B.remove(this.renderers,t)},removeWindow:function(t){null!=t&&this.windowByID.h.hasOwnProperty(t.id)&&(B.remove(this.windows,t),this.windowByID.remove(t.id),t.close(),this.windows[0]==t&&(this.window=null))},render:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.render(t)}},setPreloader:function(t){null!=this.preloader&&(this.preloader.onProgress.remove(Hu(this,this.onPreloadProgress)),this.preloader.onComplete.remove(Hu(this,this.onPreloadComplete))),(this.preloader=t).complete?this.onPreloadComplete():(t.onProgress.add(Hu(this,this.onPreloadProgress)),t.onComplete.add(Hu(this,this.onPreloadComplete)))},update:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.update(t)}},__onGamepadConnect:function(t){this.onGamepadConnect(t);var i=Hu(this,this.onGamepadAxisMove),n=t;t.onAxisMove.add(function(t,e){i(n,t,e)});var e=Hu(this,this.onGamepadButtonDown),s=t;t.onButtonDown.add(function(t){e(s,t)});var r=Hu(this,this.onGamepadButtonUp),a=t;t.onButtonUp.add(function(t){r(a,t)});var o=Hu(this,this.onGamepadDisconnect),l=t;t.onDisconnect.add(function(){o(l)})},__onJoystickConnect:function(t){this.onJoystickConnect(t);var i=Hu(this,this.onJoystickAxisMove),n=t;t.onAxisMove.add(function(t,e){i(n,t,e)});var e=Hu(this,this.onJoystickButtonDown),s=t;t.onButtonDown.add(function(t){e(s,t)});var r=Hu(this,this.onJoystickButtonUp),a=t;t.onButtonUp.add(function(t){r(a,t)});var o=Hu(this,this.onJoystickDisconnect),l=t;t.onDisconnect.add(function(){o(l)});var h=Hu(this,this.onJoystickHatMove),_=t;t.onHatMove.add(function(t,e){h(_,t,e)});var u=Hu(this,this.onJoystickTrackballMove),c=t;t.onTrackballMove.add(function(t,e){u(c,t,e)})},stopUpdating:function(){$s.stopUpdating=!0},get_frameRate:function(){return this.backend.getFrameRate()},set_frameRate:function(t){return this.backend.setFrameRate(t)},get_renderer:function(){return this.renderers[0]},get_window:function(){return this.windows[0]},__class__:sr,__properties__:{get_window:"get_window",get_renderer:"get_renderer",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate"}});function rr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event"]=rr).__name__=["lime","app","Event"],rr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__class__:rr};function ar(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Dynamic_Void"]=ar).__name__=["lime","app","Event_Dynamic_Void"],ar.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:ar};function or(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Float_Float_Int_Void"]=or).__name__=["lime","app","Event_Float_Float_Int_Void"],or.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var n=this.__listeners,s=this.__repeat,r=0;r<n.length&&(n[r](t,e,i),s[r]?++r:this.remove(n[r]),!this.canceled););},__class__:or};function lr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Float_Float_Void"]=lr).__name__=["lime","app","Event_Float_Float_Void"],lr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:lr};function hr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Int_Float_Void"]=hr).__name__=["lime","app","Event_Int_Float_Void"],hr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:hr};function _r(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Int_Int_Dynamic_Void"]=_r).__name__=["lime","app","Event_Int_Int_Dynamic_Void"],_r.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var n=this.__listeners,s=this.__repeat,r=0;r<n.length&&(n[r](t,e,i),s[r]?++r:this.remove(n[r]),!this.canceled););},__class__:_r};function ur(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Int_Int_Void"]=ur).__name__=["lime","app","Event_Int_Int_Void"],ur.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:ur};var cr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Int_Void"]=cr).__name__=["lime","app","Event_Int_Void"],cr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:cr};function fr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=fr).__name__=["lime","app","Event_Int_lime_ui_JoystickHatPosition_Void"],fr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:fr};function dr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_String_Int_Int_Void"]=dr).__name__=["lime","app","Event_String_Int_Int_Void"],dr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var n=this.__listeners,s=this.__repeat,r=0;r<n.length&&(n[r](t,e,i),s[r]?++r:this.remove(n[r]),!this.canceled););},__class__:dr};function pr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_String_Void"]=pr).__name__=["lime","app","Event_String_Void"],pr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:pr};function gr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_graphics_RenderContext_Void"]=gr).__name__=["lime","app","Event_lime_graphics_RenderContext_Void"],gr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:gr};function mr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=mr).__name__=["lime","app","Event_lime_ui_GamepadAxis_Float_Void"],mr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:mr};function vr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_GamepadButton_Void"]=vr).__name__=["lime","app","Event_lime_ui_GamepadButton_Void"],vr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:vr};function br(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_Gamepad_Void"]=br).__name__=["lime","app","Event_lime_ui_Gamepad_Void"],br.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:br};function yr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_Joystick_Void"]=yr).__name__=["lime","app","Event_lime_ui_Joystick_Void"],yr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:yr};function wr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=wr).__name__=["lime","app","Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"],wr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:wr};function xr(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_Touch_Void"]=xr).__name__=["lime","app","Event_lime_ui_Touch_Void"],xr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,At.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)At.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:xr};var Tr=function(t){if(null!=t){null==Tr.__threadPool&&(Tr.__threadPool=new wa,Tr.__threadPool.doWork.add(Tr.threadPool_doWork),Tr.__threadPool.onComplete.add(Tr.threadPool_onComplete),Tr.__threadPool.onError.add(Tr.threadPool_onError));var e=new Er;e.future=this,Tr.__threadPool.queue({promise:e,work:t})}};(i["lime.app.Future"]=Tr).__name__=["lime","app","Future"],Tr.__threadPool=null,Tr.threadPool_doWork=function(e){try{var t=e.work();Tr.__threadPool.sendComplete({promise:e.promise,result:t})}catch(t){(rs.lastException=t)instanceof Vs&&(t=t.val),Tr.__threadPool.sendError({promise:e.promise,error:t})}},Tr.threadPool_onComplete=function(t){t.promise.complete(t.result)},Tr.threadPool_onError=function(t){t.promise.error(t.error)},Tr.prototype={onComplete:function(t){return null!=t&&(this.__completed?t(this.value):this.__errored||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(t))),this},onError:function(t){return null!=t&&(this.__errored?t(this.__errorMessage):this.__completed||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(t))),this},onProgress:function(t){return null!=t&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(t)),this},then:function(i){if(this.__completed)return i(this.value);if(this.__errored){var t=new Tr;return t.onError(this.__errorMessage),t}var n=new Er;return this.onError(Hu(n,n.error)),this.onProgress(Hu(n,n.progress)),this.onComplete(function(t){var e=i(t);e.onError(Hu(n,n.error)),e.onComplete(Hu(n,n.complete))}),n.future},get_isCompleted:function(){return!!this.__completed||this.__errored},__class__:Tr,__properties__:{get_isCompleted:"get_isCompleted"}};var Sr=function(){this.total=0,this.loaded=0,this.onError=new pr,this.onProgress=new _r,this.onComplete=new Zs,this.onProgress.add(Hu(this,this.update))};(i["lime.app.Preloader"]=Sr).__name__=["lime","app","Preloader"],Sr.prototype={create:function(t){},load:function(t,e){for(var i=null,n=Qs.cache.version,s=0,r=t.length;s<r;){var a=s++;switch(i=t[a],e[a]){case"BINARY":if(!Sr.loaders.exists(i)){var o=new _a;Sr.loaders.set(i,o),this.total++}break;case"FONT":this.total++,this.loadFont(i);break;case"IMAGE":if(!Sr.images.exists(i)){var l=new Image;Sr.images.set(i,l),l.crossOrigin="Anonymous",l.onload=Hu(this,this.image_onLoad),l.onerror=Hu(this,this.image_onError),l.src=i+"?"+n,this.total++}break;case"TEXT":if(!Sr.loaders.exists(i)){var h=new _a;h.responseType="text",Sr.loaders.set(i,h),this.total++}}}for(var _=Sr.loaders.keys();_.hasNext();){var u=_.next(),c=Sr.loaders;(null!=Zu[u]?c.getReserved(u):c.h[u]).load(u+"?"+n).onComplete(Hu(this,this.loader_onComplete)).onError(Hu(this,this.loader_onError))}0==this.total&&this.start()},loadFont:function(e){var i=this;if(window.document.fonts&&Hu(Vu=window.document.fonts,Vu.load))window.document.fonts.load("1em '"+e+"'").then(function(t){i.loaded++,i.onProgress.dispatch(i.loaded,i.total,e),i.loaded==i.total&&i.start()});else{var t=window.document.createElement("span");t.innerHTML="giItT1WQy@!-/#";var n=t.style;n.position="absolute",n.left="-10000px",n.top="-10000px",n.fontSize="300px",n.fontFamily="Blank",n.fontVariant="normal",n.fontStyle="normal",n.fontWeight="normal",n.letterSpacing="0",window.document.body.appendChild(t);var s=t.offsetWidth;n.fontFamily="'"+e+"', Blank";var r=null,a=!1,o=0,l=function(){return o+=1,(t.offsetWidth!=s||200<o)&&(a?(i.loaded++,null!=r&&window.clearInterval(r),t.parentNode.removeChild(t),t=null,i.onProgress.dispatch(i.loaded,i.total,null),i.loaded==i.total&&i.start(),!0):!(a=!0))};l()||(r=window.setInterval(l,50))}},start:function(){this.complete=!0,this.onComplete.dispatch()},update:function(t,e,i){},image_onLoad:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total,t),this.loaded==this.total&&this.start()},image_onError:function(t){this.onError.dispatch(t.target.src),e.console.error("Error loading image: "+t.target.src),this.loaded++},loader_onComplete:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total,null),this.loaded==this.total&&this.start()},loader_onError:function(t){this.onError.dispatch(t)},__class__:Sr};var Er=function(){this.future=new Tr};(i["lime.app.Promise"]=Er).__name__=["lime","app","Promise"],Er.prototype={complete:function(t){if(!this.future.__errored&&(this.future.__completed=!0,this.future.value=t,null!=this.future.__completeListeners)){for(var e=0,i=this.future.__completeListeners;e<i.length;){var n=i[e];++e,n(t)}this.future.__completeListeners=null}return this},completeWith:function(t){return t.onComplete(Hu(this,this.complete)),t.onError(Hu(this,this.error)),t.onProgress(Hu(this,this.progress)),this},error:function(t){if(!this.future.__completed&&(this.future.__errored=!0,this.future.__errorMessage=t,null!=this.future.__errorListeners)){for(var e=0,i=this.future.__errorListeners;e<i.length;){var n=i[e];++e,n(t)}this.future.__errorListeners=null}return this},progress:function(t){if(!this.future.__errored&&!this.future.__completed&&null!=this.future.__progressListeners)for(var e=0,i=this.future.__progressListeners;e<i.length;){var n=i[e];++e,n(t)}return this},get_isCompleted:function(){return this.future.get_isCompleted()},__class__:Er,__properties__:{get_isCompleted:"get_isCompleted"}};function Ir(){this.EXPONENT_DISTANCE_CLAMPED=53254,this.EXPONENT_DISTANCE=53253,this.LINEAR_DISTANCE_CLAMPED=53252,this.LINEAR_DISTANCE=53251,this.INVERSE_DISTANCE_CLAMPED=53250,this.INVERSE_DISTANCE=53249,this.DISTANCE_MODEL=53248,this.DOPPLER_VELOCITY=49153,this.SPEED_OF_SOUND=49155,this.DOPPLER_FACTOR=49152,this.EXTENSIONS=45060,this.RENDERER=45059,this.VERSION=45058,this.VENDOR=45057,this.OUT_OF_MEMORY=40965,this.INVALID_OPERATION=40964,this.INVALID_VALUE=40963,this.INVALID_ENUM=40962,this.INVALID_NAME=40961,this.NO_ERROR=0,this.SIZE=8196,this.CHANNELS=8195,this.BITS=8194,this.FREQUENCY=8193,this.FORMAT_STEREO16=4355,this.FORMAT_STEREO8=4354,this.FORMAT_MONO16=4353,this.FORMAT_MONO8=4352,this.UNDETERMINED=4144,this.STREAMING=4137,this.STATIC=4136,this.SOURCE_TYPE=4135,this.BYTE_OFFSET=4134,this.SAMPLE_OFFSET=4133,this.SEC_OFFSET=4132,this.MAX_DISTANCE=4131,this.CONE_OUTER_GAIN=4130,this.ROLLOFF_FACTOR=4129,this.REFERENCE_DISTANCE=4128,this.BUFFERS_PROCESSED=4118,this.BUFFERS_QUEUED=4117,this.STOPPED=4116,this.PAUSED=4115,this.PLAYING=4114,this.INITIAL=4113,this.SOURCE_STATE=4112,this.ORIENTATION=4111,this.MAX_GAIN=4110,this.MIN_GAIN=4109,this.GAIN=4106,this.BUFFER=4105,this.LOOPING=4103,this.VELOCITY=4102,this.DIRECTION=4101,this.POSITION=4100,this.PITCH=4099,this.CONE_OUTER_ANGLE=4098,this.CONE_INNER_ANGLE=4097,this.SOURCE_RELATIVE=514,this.TRUE=1,this.FALSE=0,this.NONE=0}(i["lime.audio.ALAudioContext"]=Ir).__name__=["lime","audio","ALAudioContext"],Ir.prototype={bufferData:function(t,e,i,n,s){Lr.bufferData(t,e,i,n,s)},buffer3f:function(t,e,i,n,s){Lr.buffer3f(t,e,i,n,s)},buffer3i:function(t,e,i,n,s){Lr.buffer3i(t,e,i,n,s)},bufferf:function(t,e,i){Lr.bufferf(t,e,i)},bufferfv:function(t,e,i){Lr.bufferfv(t,e,i)},bufferi:function(t,e,i){Lr.bufferi(t,e,i)},bufferiv:function(t,e,i){Lr.bufferiv(t,e,i)},deleteBuffer:function(t){Lr.deleteBuffer(t)},deleteBuffers:function(t){Lr.deleteBuffers(t)},deleteSource:function(t){Lr.deleteSource(t)},deleteSources:function(t){Lr.deleteSources(t)},disable:function(t){Lr.disable(t)},distanceModel:function(t){Lr.distanceModel(t)},dopplerFactor:function(t){Lr.dopplerFactor(t)},dopplerVelocity:function(t){Lr.dopplerVelocity(t)},enable:function(t){Lr.enable(t)},genSource:function(){return Lr.genSource()},genSources:function(t){return Lr.genSources(t)},genBuffer:function(){return Lr.genBuffer()},genBuffers:function(t){return Lr.genBuffers(t)},getBoolean:function(t){return Lr.getBoolean(t)},getBooleanv:function(t,e){return null==e&&(e=1),Lr.getBooleanv(t,e)},getBuffer3f:function(t,e){return Lr.getBuffer3f(t,e)},getBuffer3i:function(t,e){return Lr.getBuffer3i(t,e)},getBufferf:function(t,e){return Lr.getBufferf(t,e)},getBufferfv:function(t,e,i){return null==i&&(i=1),Lr.getBufferfv(t,e,i)},getBufferi:function(t,e){return Lr.getBufferi(t,e)},getBufferiv:function(t,e,i){return null==i&&(i=1),Lr.getBufferiv(t,e,i)},getDouble:function(t){return Lr.getDouble(t)},getDoublev:function(t,e){return null==e&&(e=1),Lr.getDoublev(t,e)},getEnumValue:function(t){return Lr.getEnumValue(t)},getError:function(){return Lr.getError()},getErrorString:function(){return Lr.getErrorString()},getFloat:function(t){return Lr.getFloat(t)},getFloatv:function(t,e){return null==e&&(e=1),Lr.getFloatv(t,e)},getInteger:function(t){return Lr.getInteger(t)},getIntegerv:function(t,e){return null==e&&(e=1),Lr.getIntegerv(t,e)},getListener3f:function(t){return Lr.getListener3f(t)},getListener3i:function(t){return Lr.getListener3i(t)},getListenerf:function(t){return Lr.getListenerf(t)},getListenerfv:function(t,e){return null==e&&(e=1),Lr.getListenerfv(t,e)},getListeneri:function(t){return Lr.getListeneri(t)},getListeneriv:function(t,e){return null==e&&(e=1),Lr.getListeneriv(t,e)},getProcAddress:function(t){return Lr.getProcAddress(t)},getSource3f:function(t,e){return Lr.getSource3f(t,e)},getSourcef:function(t,e){return Lr.getSourcef(t,e)},getSource3i:function(t,e){return Lr.getSource3i(t,e)},getSourcefv:function(t,e,i){return null==i&&(i=1),Lr.getSourcefv(t,e)},getSourcei:function(t,e){return Lr.getSourcei(t,e)},getSourceiv:function(t,e,i){return null==i&&(i=1),Lr.getSourceiv(t,e,i)},getString:function(t){return Lr.getString(t)},isBuffer:function(t){return Lr.isBuffer(t)},isEnabled:function(t){return Lr.isEnabled(t)},isExtensionPresent:function(t){return Lr.isExtensionPresent(t)},isSource:function(t){return Lr.isSource(t)},listener3f:function(t,e,i,n){Lr.listener3f(t,e,i,n)},listener3i:function(t,e,i,n){Lr.listener3i(t,e,i,n)},listenerf:function(t,e){Lr.listenerf(t,e)},listenerfv:function(t,e){Lr.listenerfv(t,e)},listeneri:function(t,e){Lr.listeneri(t,e)},listeneriv:function(t,e){Lr.listeneriv(t,e)},source3f:function(t,e,i,n,s){Lr.source3f(t,e,i,n,s)},source3i:function(t,e,i,n,s){Lr.source3i(t,e,i,n,s)},sourcef:function(t,e,i){Lr.sourcef(t,e,i)},sourcefv:function(t,e,i){Lr.sourcefv(t,e,i)},sourcei:function(t,e,i){Lr.sourcei(t,e,i)},sourceiv:function(t,e,i){Lr.sourceiv(t,e,i)},sourcePlay:function(t){Lr.sourcePlay(t)},sourcePlayv:function(t){Lr.sourcePlayv(t)},sourceStop:function(t){Lr.sourceStop(t)},sourceStopv:function(t){Lr.sourceStopv(t)},sourceRewind:function(t){Lr.sourceRewind(t)},sourceRewindv:function(t){Lr.sourceRewindv(t)},sourcePause:function(t){Lr.sourcePause(t)},sourcePausev:function(t){Lr.sourcePausev(t)},sourceQueueBuffer:function(t,e){Lr.sourceQueueBuffer(t,e)},sourceQueueBuffers:function(t,e,i){Lr.sourceQueueBuffers(t,e,i)},sourceUnqueueBuffer:function(t){return Lr.sourceUnqueueBuffer(t)},sourceUnqueueBuffers:function(t,e){return Lr.sourceUnqueueBuffers(t,e)},speedOfSound:function(t){Lr.speedOfSound(t)},__class__:Ir};function Pr(){this.ALL_DEVICES_SPECIFIER=4115,this.DEFAULT_ALL_DEVICES_SPECIFIER=4114,this.ENUMERATE_ALL_EXT=1,this.EXTENSIONS=4102,this.DEVICE_SPECIFIER=4101,this.DEFAULT_DEVICE_SPECIFIER=4100,this.ALL_ATTRIBUTES=4099,this.ATTRIBUTES_SIZE=4098,this.OUT_OF_MEMORY=40965,this.INVALID_VALUE=40964,this.INVALID_ENUM=40963,this.INVALID_CONTEXT=40962,this.INVALID_DEVICE=40961,this.NO_ERROR=0,this.STEREO_SOURCES=4113,this.MONO_SOURCES=4112,this.SYNC=4105,this.REFRESH=4104,this.FREQUENCY=4103,this.TRUE=1,this.FALSE=0}(i["lime.audio.ALCAudioContext"]=Pr).__name__=["lime","audio","ALCAudioContext"],Pr.prototype={closeDevice:function(t){return kr.closeDevice(t)},createContext:function(t,e){return kr.createContext(t,e)},destroyContext:function(t){kr.destroyContext(t)},getContextsDevice:function(t){return kr.getContextsDevice(t)},getCurrentContext:function(){return kr.getCurrentContext()},getError:function(t){return kr.getError(t)},getErrorString:function(t){return kr.getErrorString(t)},getIntegerv:function(t,e,i){return null==i&&(i=1),kr.getIntegerv(t,e,i)},getString:function(t,e){return kr.getString(t,e)},makeContextCurrent:function(t){return kr.makeContextCurrent(t)},openDevice:function(t){return kr.openDevice(t)},processContext:function(t){kr.processContext(t)},suspendContext:function(t){kr.suspendContext(t)},__class__:Pr};function Cr(){this.id=0}(i["lime.audio.AudioBuffer"]=Cr).__name__=["lime","audio","AudioBuffer"],Cr.fromBytes=function(t){return null},Cr.fromFile=function(t){return null},Cr.fromURL=function(t,e){null!=t&&-1==t.indexOf("http://")&&-1==t.indexOf("https://")&&e(Cr.fromFile(t))},Cr.prototype={dispose:function(){},__class__:Cr};var Dr=i["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};Dr.OPENAL=function(t,e){var i=["OPENAL",0,t,e];return i.__enum__=Dr,i.toString=f,i},Dr.HTML5=function(t){var e=["HTML5",1,t];return e.__enum__=Dr,e.toString=f,e},Dr.WEB=function(t){var e=["WEB",2,t];return e.__enum__=Dr,e.toString=f,e},Dr.FLASH=function(t){var e=["FLASH",3,t];return e.__enum__=Dr,e.toString=f,e},Dr.CUSTOM=function(t){var e=["CUSTOM",4,t];return e.__enum__=Dr,e.toString=f,e};var Ar=function(){};(i["lime.audio.AudioManager"]=Ar).__name__=["lime","audio","AudioManager"],Ar.context=null,Ar.init=function(t){if(null==Ar.context)if(null==t)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,Ar.context=Dr.WEB(new AudioContext)}catch(t){rs.lastException=t,Ar.context=Dr.HTML5(new Br)}else Ar.context=t},Ar.resume=function(){if(null!=Ar.context){var t=Ar.context;if(0==t[1]){var e=t[2];e.processContext(e.getCurrentContext())}}},Ar.shutdown=function(){if(null!=Ar.context){var t=Ar.context;switch(t[1]){case 0:var e=t[2],i=e.getCurrentContext();if(null!=i){var n=e.getContextsDevice(i);e.makeContextCurrent(null),e.destroyContext(i),e.closeDevice(n)}break;case 2:t[2].close()}Ar.context=null}},Ar.suspend=function(){if(null!=Ar.context){var t=Ar.context;if(0==t[1]){var e=t[2];e.suspendContext(e.getCurrentContext())}}};function Rr(t,e,i,n){null==n&&(n=0),null==e&&(e=0),this.onComplete=new Zs,this.buffer=t,this.offset=e,null!=i&&0!=i&&this.set_length(i),this.set_loops(n),this.id=0,null!=t&&this.init()}(i["lime.audio.AudioSource"]=Rr).__name__=["lime","audio","AudioSource"],Rr.prototype={dispose:function(){var t=Ar.context;if(0==t[1]){var e=t[3];0!=this.id&&e.deleteSource(this.id)}},init:function(){var t=Ar.context;if(0==t[1]){var e=t[3];if(0==this.buffer.id){this.buffer.id=e.genBuffer();var i=0;1==this.buffer.channels?8==this.buffer.bitsPerSample?i=e.FORMAT_MONO8:16==this.buffer.bitsPerSample&&(i=e.FORMAT_MONO16):2==this.buffer.channels&&(8==this.buffer.bitsPerSample?i=e.FORMAT_STEREO8:16==this.buffer.bitsPerSample&&(i=e.FORMAT_STEREO16)),e.bufferData(this.buffer.id,i,this.buffer.data,this.buffer.data.length,this.buffer.sampleRate)}this.id=e.genSource(),e.sourcei(this.id,e.BUFFER,this.buffer.id)}},play:function(){},pause:function(){},stop:function(){},timer_onRun:function(){},get_currentTime:function(){return 0},set_currentTime:function(t){return this.pauseTime=t},get_gain:function(){return 1},set_gain:function(t){return 1},get_length:function(){return null!=this.__length?this.__length:0},set_length:function(t){return this.__length=t},get_loops:function(){return this.__loops},set_loops:function(t){return this.__loops=t},__class__:Rr,__properties__:{set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};function Mr(t,e,i){this.start=t,this.duration=e,this.preload=i}(i["lime.audio.ExtraSoundOptions"]=Mr).__name__=["lime","audio","ExtraSoundOptions"],Mr.prototype={__class__:Mr};function Fr(){}(i["lime.audio.FlashAudioContext"]=Fr).__name__=["lime","audio","FlashAudioContext"],Fr.prototype={createBuffer:function(t,e){return null},getBytesLoaded:function(t){return 0},getBytesTotal:function(t){return 0},getID3:function(t){return null},getIsBuffering:function(t){return!1},getIsURLInaccessible:function(t){return!1},getLength:function(t){return 0},getURL:function(t){return null},close:function(t){},extract:function(t,e,i,n){return null==n&&(n=-1),0},load:function(t,e,i){},loadCompressedDataFromByteArray:function(t,e,i){},loadPCMFromByteArray:function(t,e,i,n,s,r){null==r&&(r=44100),null==s&&(s=!0)},play:function(t,e,i,n){return null==i&&(i=0),null==e&&(e=0),null},__class__:Fr};var Br=function(){this.NETWORK_NO_SOURCE=3,this.NETWORK_LOADING=2,this.NETWORK_IDLE=1,this.NETWORK_EMPTY=0,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.HAVE_CURRENT_DATA=2};(i["lime.audio.HTML5AudioContext"]=Br).__name__=["lime","audio","HTML5AudioContext"],Br.prototype={canPlayType:function(t,e){return null!=t.src?t.src.canPlayType(e):null},createBuffer:function(t){var e=new Cr;return e.src=new Audio,e.src.src=t,e},getAutoplay:function(t){return null!=t.src&&t.src.autoplay},getBuffered:function(t){return null!=t.src?t.src.buffered:null},getCurrentSrc:function(t){return null!=t.src?t.src.currentSrc:null},getCurrentTime:function(t){return null!=t.src?t.src.currentTime:0},getDefaultPlaybackRate:function(t){return null!=t.src?t.src.defaultPlaybackRate:1},getDuration:function(t){return null!=t.src?t.src.duration:0},getEnded:function(t){return null!=t.src&&t.src.ended},getError:function(t){return null!=t.src?t.src.error:null},getLoop:function(t){return null!=t.src&&t.src.loop},getMuted:function(t){return null!=t.src&&t.src.muted},getNetworkState:function(t){return null!=t.src?t.src.networkState:0},getPaused:function(t){return null!=t.src&&t.src.paused},getPlaybackRate:function(t){return null!=t.src?t.src.playbackRate:1},getPlayed:function(t){return null!=t.src?t.src.played:null},getPreload:function(t){return null!=t.src?t.src.preload:null},getReadyState:function(t){return null!=t.src?t.src.readyState:0},getSeekable:function(t){return null!=t.src?t.src.seekable:null},getSeeking:function(t){return null!=t.src&&t.src.seeking},getSrc:function(t){return null!=t.src?t.src.src:null},getStartTime:function(t){return null!=t.src?t.src.playbackRate:0},getVolume:function(t){return null!=t.src?t.src.volume:1},load:function(t){null==t.src||t.src.load()},pause:function(t){null==t.src||t.src.pause()},play:function(t){null==t.src||t.src.play()},setAutoplay:function(t,e){null!=t.src&&(t.src.autoplay=e)},setCurrentTime:function(t,e){null!=t.src&&(t.src.currentTime=e)},setDefaultPlaybackRate:function(t,e){null!=t.src&&(t.src.defaultPlaybackRate=e)},setLoop:function(t,e){null!=t.src&&(t.src.loop=e)},setMuted:function(t,e){null!=t.src&&(t.src.muted=e)},setPlaybackRate:function(t,e){null!=t.src&&(t.src.playbackRate=e)},setPreload:function(t,e){null!=t.src&&(t.src.preload=e)},setSrc:function(t,e){null!=t.src&&(t.src.src=e)},setVolume:function(t,e){null!=t.src&&(t.src.volume=e)},__class__:Br};var Lr=function(){};(i["lime.audio.openal.AL"]=Lr).__name__=["lime","audio","openal","AL"],Lr.bufferData=function(t,e,i,n,s){},Lr.buffer3f=function(t,e,i,n,s){},Lr.buffer3i=function(t,e,i,n,s){},Lr.bufferf=function(t,e,i){},Lr.bufferfv=function(t,e,i){},Lr.bufferi=function(t,e,i){},Lr.bufferiv=function(t,e,i){},Lr.deleteBuffer=function(t){},Lr.deleteBuffers=function(t){},Lr.deleteSource=function(t){},Lr.deleteSources=function(t){},Lr.disable=function(t){},Lr.distanceModel=function(t){},Lr.dopplerFactor=function(t){},Lr.dopplerVelocity=function(t){},Lr.enable=function(t){},Lr.genSource=function(){return 0},Lr.genSources=function(t){return null},Lr.genBuffer=function(){return 0},Lr.genBuffers=function(t){return null},Lr.getBoolean=function(t){return!1},Lr.getBooleanv=function(t,e){return null==e&&(e=1),null},Lr.getBuffer3f=function(t,e){return null},Lr.getBuffer3i=function(t,e){return null},Lr.getBufferf=function(t,e){return 0},Lr.getBufferfv=function(t,e,i){return null==i&&(i=1),null},Lr.getBufferi=function(t,e){return 0},Lr.getBufferiv=function(t,e,i){return null==i&&(i=1),null},Lr.getDouble=function(t){return 0},Lr.getDoublev=function(t,e){return null==e&&(e=1),null},Lr.getEnumValue=function(t){return 0},Lr.getError=function(){return 0},Lr.getErrorString=function(){switch(Lr.getError()){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},Lr.getFloat=function(t){return 0},Lr.getFloatv=function(t,e){return null==e&&(e=1),null},Lr.getInteger=function(t){return 0},Lr.getIntegerv=function(t,e){return null==e&&(e=1),null},Lr.getListener3f=function(t){return null},Lr.getListener3i=function(t){return null},Lr.getListenerf=function(t){return 0},Lr.getListenerfv=function(t,e){return null==e&&(e=1),null},Lr.getListeneri=function(t){return 0},Lr.getListeneriv=function(t,e){return null==e&&(e=1),null},Lr.getProcAddress=function(t){return null},Lr.getSource3f=function(t,e){return null},Lr.getSourcef=function(t,e){return 0},Lr.getSource3i=function(t,e){return null},Lr.getSourcefv=function(t,e,i){return null==i&&(i=1),null},Lr.getSourcei=function(t,e){return 0},Lr.getSourceiv=function(t,e,i){return null==i&&(i=1),null},Lr.getString=function(t){return null},Lr.isBuffer=function(t){return!1},Lr.isEnabled=function(t){return!1},Lr.isExtensionPresent=function(t){return!1},Lr.isSource=function(t){return!1},Lr.listener3f=function(t,e,i,n){},Lr.listener3i=function(t,e,i,n){},Lr.listenerf=function(t,e){},Lr.listenerfv=function(t,e){},Lr.listeneri=function(t,e){},Lr.listeneriv=function(t,e){},Lr.source3f=function(t,e,i,n,s){},Lr.source3i=function(t,e,i,n,s){},Lr.sourcef=function(t,e,i){},Lr.sourcefv=function(t,e,i){},Lr.sourcei=function(t,e,i){},Lr.sourceiv=function(t,e,i){},Lr.sourcePlay=function(t){},Lr.sourcePlayv=function(t){},Lr.sourceStop=function(t){},Lr.sourceStopv=function(t){},Lr.sourceRewind=function(t){},Lr.sourceRewindv=function(t){},Lr.sourcePause=function(t){},Lr.sourcePausev=function(t){},Lr.sourceQueueBuffer=function(t,e){},Lr.sourceQueueBuffers=function(t,e,i){},Lr.sourceUnqueueBuffer=function(t){return 0},Lr.sourceUnqueueBuffers=function(t,e){return null},Lr.speedOfSound=function(t){};var kr=function(){};(i["lime.audio.openal.ALC"]=kr).__name__=["lime","audio","openal","ALC"],kr.closeDevice=function(t){return!1},kr.createContext=function(t,e){return null},kr.destroyContext=function(t){},kr.getContextsDevice=function(t){return null},kr.getCurrentContext=function(){return null},kr.getError=function(t){return 0},kr.getErrorString=function(t){switch(kr.getError(t)){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},kr.getIntegerv=function(t,e,i){return null},kr.getString=function(t,e){return null},kr.makeContextCurrent=function(t){return!1},kr.openDevice=function(t){return null},kr.processContext=function(t){},kr.suspendContext=function(t){};var Nr={};(i["lime.audio.openal._ALContext.ALContext_Impl_"]=Nr).__name__=["lime","audio","openal","_ALContext","ALContext_Impl_"],Nr._new=function(t){return t};var Or={};(i["lime.audio.openal._ALDevice.ALDevice_Impl_"]=Or).__name__=["lime","audio","openal","_ALDevice","ALDevice_Impl_"],Or._new=function(t){return t};var Ur=function(){this.BROWSER_DEFAULT_WEBGL=37444,this.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,this.CONTEXT_LOST_WEBGL=37442,this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,this.UNPACK_FLIP_Y_WEBGL=37440,this.INVALID_FRAMEBUFFER_OPERATION=1286,this.MAX_RENDERBUFFER_SIZE=34024,this.RENDERBUFFER_BINDING=36007,this.FRAMEBUFFER_BINDING=36006,this.FRAMEBUFFER_UNSUPPORTED=36061,this.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,this.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,this.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,this.FRAMEBUFFER_COMPLETE=36053,this.NONE=0,this.DEPTH_STENCIL_ATTACHMENT=33306,this.STENCIL_ATTACHMENT=36128,this.DEPTH_ATTACHMENT=36096,this.COLOR_ATTACHMENT0=36064,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,this.RENDERBUFFER_STENCIL_SIZE=36181,this.RENDERBUFFER_DEPTH_SIZE=36180,this.RENDERBUFFER_ALPHA_SIZE=36179,this.RENDERBUFFER_BLUE_SIZE=36178,this.RENDERBUFFER_GREEN_SIZE=36177,this.RENDERBUFFER_RED_SIZE=36176,this.RENDERBUFFER_INTERNAL_FORMAT=36164,this.RENDERBUFFER_HEIGHT=36163,this.RENDERBUFFER_WIDTH=36162,this.DEPTH_STENCIL=34041,this.STENCIL_INDEX8=36168,this.STENCIL_INDEX=6401,this.DEPTH_COMPONENT16=33189,this.RGB565=36194,this.RGB5_A1=32855,this.RGBA4=32854,this.RENDERBUFFER=36161,this.FRAMEBUFFER=36160,this.HIGH_INT=36341,this.MEDIUM_INT=36340,this.LOW_INT=36339,this.HIGH_FLOAT=36338,this.MEDIUM_FLOAT=36337,this.LOW_FLOAT=36336,this.COMPILE_STATUS=35713,this.POINT_SPRITE=34913,this.VERTEX_PROGRAM_POINT_SIZE=34370,this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,this.VERTEX_ATTRIB_ARRAY_POINTER=34373,this.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,this.VERTEX_ATTRIB_ARRAY_TYPE=34341,this.VERTEX_ATTRIB_ARRAY_STRIDE=34340,this.VERTEX_ATTRIB_ARRAY_SIZE=34339,this.VERTEX_ATTRIB_ARRAY_ENABLED=34338,this.SAMPLER_CUBE=35680,this.SAMPLER_2D=35678,this.FLOAT_MAT4=35676,this.FLOAT_MAT3=35675,this.FLOAT_MAT2=35674,this.BOOL_VEC4=35673,this.BOOL_VEC3=35672,this.BOOL_VEC2=35671,this.BOOL=35670,this.INT_VEC4=35669,this.INT_VEC3=35668,this.INT_VEC2=35667,this.FLOAT_VEC4=35666,this.FLOAT_VEC3=35665,this.FLOAT_VEC2=35664,this.MIRRORED_REPEAT=33648,this.CLAMP_TO_EDGE=33071,this.REPEAT=10497,this.ACTIVE_TEXTURE=34016,this.TEXTURE31=34015,this.TEXTURE30=34014,this.TEXTURE29=34013,this.TEXTURE28=34012,this.TEXTURE27=34011,this.TEXTURE26=34010,this.TEXTURE25=34009,this.TEXTURE24=34008,this.TEXTURE23=34007,this.TEXTURE22=34006,this.TEXTURE21=34005,this.TEXTURE20=34004,this.TEXTURE19=34003,this.TEXTURE18=34002,this.TEXTURE17=34001,this.TEXTURE16=34e3,this.TEXTURE15=33999,this.TEXTURE14=33998,this.TEXTURE13=33997,this.TEXTURE12=33996,this.TEXTURE11=33995,this.TEXTURE10=33994,this.TEXTURE9=33993,this.TEXTURE8=33992,this.TEXTURE7=33991,this.TEXTURE6=33990,this.TEXTURE5=33989,this.TEXTURE4=33988,this.TEXTURE3=33987,this.TEXTURE2=33986,this.TEXTURE1=33985,this.TEXTURE0=33984,this.MAX_CUBE_MAP_TEXTURE_SIZE=34076,this.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,this.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,this.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,this.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,this.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,this.TEXTURE_CUBE_MAP_POSITIVE_X=34069,this.TEXTURE_BINDING_CUBE_MAP=34068,this.TEXTURE_CUBE_MAP=34067,this.TEXTURE=5890,this.TEXTURE_2D=3553,this.TEXTURE_WRAP_T=10243,this.TEXTURE_WRAP_S=10242,this.TEXTURE_MIN_FILTER=10241,this.TEXTURE_MAG_FILTER=10240,this.LINEAR_MIPMAP_LINEAR=9987,this.NEAREST_MIPMAP_LINEAR=9986,this.LINEAR_MIPMAP_NEAREST=9985,this.NEAREST_MIPMAP_NEAREST=9984,this.LINEAR=9729,this.NEAREST=9728,this.VERSION=7938,this.RENDERER=7937,this.VENDOR=7936,this.DECR_WRAP=34056,this.INCR_WRAP=34055,this.INVERT=5386,this.DECR=7683,this.INCR=7682,this.REPLACE=7681,this.KEEP=7680,this.ALWAYS=519,this.GEQUAL=518,this.NOTEQUAL=517,this.GREATER=516,this.LEQUAL=515,this.EQUAL=514,this.LESS=513,this.NEVER=512,this.CURRENT_PROGRAM=35725,this.SHADING_LANGUAGE_VERSION=35724,this.ACTIVE_ATTRIBUTES=35721,this.ACTIVE_UNIFORMS=35718,this.ATTACHED_SHADERS=35717,this.VALIDATE_STATUS=35715,this.LINK_STATUS=35714,this.DELETE_STATUS=35712,this.SHADER_TYPE=35663,this.MAX_FRAGMENT_UNIFORM_VECTORS=36349,this.MAX_TEXTURE_IMAGE_UNITS=34930,this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,this.MAX_VARYING_VECTORS=36348,this.MAX_VERTEX_UNIFORM_VECTORS=36347,this.MAX_VERTEX_ATTRIBS=34921,this.VERTEX_SHADER=35633,this.FRAGMENT_SHADER=35632,this.UNSIGNED_SHORT_5_6_5=33635,this.UNSIGNED_SHORT_5_5_5_1=32820,this.UNSIGNED_SHORT_4_4_4_4=32819,this.LUMINANCE_ALPHA=6410,this.LUMINANCE=6409,this.BGRA_EXT=32993,this.BGR_EXT=32992,this.RGBA=6408,this.RGB=6407,this.ALPHA=6406,this.DEPTH_COMPONENT=6402,this.FLOAT=5126,this.UNSIGNED_INT=5125,this.INT=5124,this.UNSIGNED_SHORT=5123,this.SHORT=5122,this.UNSIGNED_BYTE=5121,this.BYTE=5120,this.GENERATE_MIPMAP_HINT=33170,this.NICEST=4354,this.FASTEST=4353,this.DONT_CARE=4352,this.COMPRESSED_TEXTURE_FORMATS=34467,this.SAMPLE_COVERAGE_INVERT=32939,this.SAMPLE_COVERAGE_VALUE=32938,this.SAMPLES=32937,this.SAMPLE_BUFFERS=32936,this.TEXTURE_BINDING_2D=32873,this.POLYGON_OFFSET_FACTOR=32824,this.POLYGON_OFFSET_UNITS=10752,this.STENCIL_BITS=3415,this.DEPTH_BITS=3414,this.ALPHA_BITS=3413,this.BLUE_BITS=3412,this.GREEN_BITS=3411,this.RED_BITS=3410,this.SUBPIXEL_BITS=3408,this.MAX_VIEWPORT_DIMS=3386,this.MAX_TEXTURE_SIZE=3379,this.PACK_ALIGNMENT=3333,this.UNPACK_ALIGNMENT=3317,this.COLOR_WRITEMASK=3107,this.COLOR_CLEAR_VALUE=3106,this.SCISSOR_BOX=3088,this.VIEWPORT=2978,this.STENCIL_BACK_WRITEMASK=36005,this.STENCIL_BACK_VALUE_MASK=36004,this.STENCIL_BACK_REF=36003,this.STENCIL_BACK_PASS_DEPTH_PASS=34819,this.STENCIL_BACK_PASS_DEPTH_FAIL=34818,this.STENCIL_BACK_FAIL=34817,this.STENCIL_BACK_FUNC=34816,this.STENCIL_WRITEMASK=2968,this.STENCIL_VALUE_MASK=2963,this.STENCIL_REF=2967,this.STENCIL_PASS_DEPTH_PASS=2966,this.STENCIL_PASS_DEPTH_FAIL=2965,this.STENCIL_FAIL=2964,this.STENCIL_FUNC=2962,this.STENCIL_CLEAR_VALUE=2961,this.DEPTH_FUNC=2932,this.DEPTH_CLEAR_VALUE=2931,this.DEPTH_WRITEMASK=2930,this.DEPTH_RANGE=2928,this.FRONT_FACE=2886,this.CULL_FACE_MODE=2885,this.ALIASED_LINE_WIDTH_RANGE=33902,this.ALIASED_POINT_SIZE_RANGE=33901,this.LINE_WIDTH=2849,this.CCW=2305,this.CW=2304,this.OUT_OF_MEMORY=1285,this.INVALID_OPERATION=1282,this.INVALID_VALUE=1281,this.INVALID_ENUM=1280,this.NO_ERROR=0,this.SAMPLE_COVERAGE=32928,this.SAMPLE_ALPHA_TO_COVERAGE=32926,this.POLYGON_OFFSET_FILL=32823,this.SCISSOR_TEST=3089,this.DEPTH_TEST=2929,this.STENCIL_TEST=2960,this.DITHER=3024,this.BLEND=3042,this.CULL_FACE=2884,this.FRONT_AND_BACK=1032,this.BACK=1029,this.FRONT=1028,this.CURRENT_VERTEX_ATTRIB=34342,this.BUFFER_USAGE=34661,this.BUFFER_SIZE=34660,this.DYNAMIC_DRAW=35048,this.STATIC_DRAW=35044,this.STREAM_DRAW=35040,this.ELEMENT_ARRAY_BUFFER_BINDING=34965,this.ARRAY_BUFFER_BINDING=34964,this.ELEMENT_ARRAY_BUFFER=34963,this.ARRAY_BUFFER=34962,this.BLEND_COLOR=32773,this.ONE_MINUS_CONSTANT_ALPHA=32772,this.CONSTANT_ALPHA=32771,this.ONE_MINUS_CONSTANT_COLOR=32770,this.CONSTANT_COLOR=32769,this.BLEND_SRC_ALPHA=32971,this.BLEND_DST_ALPHA=32970,this.BLEND_SRC_RGB=32969,this.BLEND_DST_RGB=32968,this.FUNC_REVERSE_SUBTRACT=32779,this.FUNC_SUBTRACT=32778,this.BLEND_EQUATION_ALPHA=34877,this.BLEND_EQUATION_RGB=32777,this.BLEND_EQUATION=32777,this.FUNC_ADD=32774,this.SRC_ALPHA_SATURATE=776,this.ONE_MINUS_DST_COLOR=775,this.DST_COLOR=774,this.ONE_MINUS_DST_ALPHA=773,this.DST_ALPHA=772,this.ONE_MINUS_SRC_ALPHA=771,this.SRC_ALPHA=770,this.ONE_MINUS_SRC_COLOR=769,this.SRC_COLOR=768,this.ONE=1,this.ZERO=0,this.TRIANGLE_FAN=6,this.TRIANGLE_STRIP=5,this.TRIANGLES=4,this.LINE_STRIP=3,this.LINE_LOOP=2,this.LINES=1,this.POINTS=0,this.COLOR_BUFFER_BIT=16384,this.STENCIL_BUFFER_BIT=1024,this.DEPTH_BUFFER_BIT=256};(i["lime.graphics.GLRenderContext"]=Ur).__name__=["lime","graphics","GLRenderContext"],Ur.prototype={activeTexture:function(t){t!=Zr.currentActiveTexture&&(Zr.context.activeTexture(t),Zr.currentActiveTexture=t)},attachShader:function(t,e){Zr.context.attachShader(t,e)},bindAttribLocation:function(t,e,i){Zr.context.bindAttribLocation(t,e,i)},bindBuffer:function(t,e){Zr.context.bindBuffer(t,e)},bindFramebuffer:function(t,e){Zr.context.bindFramebuffer(t,e)},bindRenderbuffer:function(t,e){Zr.context.bindRenderbuffer(t,e)},bindTexture:function(t,e){Zr.currentBoundTexture[Zr.currentActiveTexture]!=e&&(Zr.context.bindTexture(t,e),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=e)||Zr.textureStateCache.exists(e)||Zr.textureStateCache.set(e,new fs))},blendColor:function(t,e,i,n){Zr.context.blendColor(t,e,i,n)},blendEquation:function(t){Zr.context.blendEquation(t)},blendEquationSeparate:function(t,e){Zr.context.blendEquationSeparate(t,e)},blendFunc:function(t,e){Zr.context.blendFunc(t,e)},blendFuncSeparate:function(t,e,i,n){Zr.context.blendFuncSeparate(t,e,i,n)},bufferData:function(t,e,i){Zr.context.bufferData(t,e,i)},bufferSubData:function(t,e,i){Zr.context.bufferSubData(t,e,i)},checkFramebufferStatus:function(t){return Zr.context.checkFramebufferStatus(t)},clear:function(t){Zr.context.clear(t)},clearColor:function(t,e,i,n){Zr.context.clearColor(t,e,i,n)},clearDepth:function(t){Zr.context.clearDepth(t)},clearStencil:function(t){Zr.context.clearStencil(t)},colorMask:function(t,e,i,n){Zr.context.colorMask(t,e,i,n)},compileShader:function(t){Zr.context.compileShader(t)},compressedTexImage2D:function(t,e,i,n,s,r,a){Zr.context.compressedTexImage2D(t,e,i,n,s,r,a)},compressedTexSubImage2D:function(t,e,i,n,s,r,a,o){Zr.context.compressedTexSubImage2D(t,e,i,n,s,r,a,o)},copyTexImage2D:function(t,e,i,n,s,r,a,o){Zr.context.copyTexImage2D(t,e,i,n,s,r,a,o)},copyTexSubImage2D:function(t,e,i,n,s,r,a,o){Zr.context.copyTexSubImage2D(t,e,i,n,s,r,a,o)},createBuffer:function(){return Zr.context.createBuffer()},createFramebuffer:function(){return Zr.context.createFramebuffer()},createProgram:function(){return Zr.context.createProgram()},createRenderbuffer:function(){return Zr.context.createRenderbuffer()},createShader:function(t){return Zr.context.createShader(t)},createTexture:function(){return Zr.context.createTexture()},cullFace:function(t){Zr.context.cullFace(t)},deleteBuffer:function(t){Zr.context.deleteBuffer(t)},deleteFramebuffer:function(t){Zr.context.deleteFramebuffer(t)},deleteProgram:function(t){Zr.context.deleteProgram(t)},deleteRenderbuffer:function(t){Zr.context.deleteRenderbuffer(t)},deleteShader:function(t){Zr.context.deleteShader(t)},deleteTexture:function(t){Zr.textureStateCache.remove(t),Zr.context.deleteTexture(t)},depthFunc:function(t){Zr.context.depthFunc(t)},depthMask:function(t){Zr.context.depthMask(t)},depthRange:function(t,e){Zr.context.depthRange(t,e)},detachShader:function(t,e){Zr.context.detachShader(t,e)},disable:function(t){Zr.context.disable(t)},disableVertexAttribArray:function(t){Zr.context.disableVertexAttribArray(t)},drawArrays:function(t,e,i){Zr.context.drawArrays(t,e,i)},drawElements:function(t,e,i,n){Zr.context.drawElements(t,e,i,n)},enable:function(t){Zr.context.enable(t)},enableVertexAttribArray:function(t){Zr.context.enableVertexAttribArray(t)},finish:function(){Zr.context.finish()},flush:function(){Zr.context.flush()},framebufferRenderbuffer:function(t,e,i,n){Zr.context.framebufferRenderbuffer(t,e,i,n)},framebufferTexture2D:function(t,e,i,n,s){Zr.context.framebufferTexture2D(t,e,i,n,s)},frontFace:function(t){Zr.context.frontFace(t)},generateMipmap:function(t){Zr.context.generateMipmap(t)},getActiveAttrib:function(t,e){return Zr.context.getActiveAttrib(t,e)},getActiveUniform:function(t,e){return Zr.context.getActiveUniform(t,e)},getAttachedShaders:function(t){return Zr.context.getAttachedShaders(t)},getAttribLocation:function(t,e){return Zr.context.getAttribLocation(t,e)},getBufferParameter:function(t,e){return Zr.context.getBufferParameter(t,e)},getContextAttributes:function(){return Zr.context.getContextAttributes()},getError:function(){return Zr.context.getError()},getExtension:function(t){return Zr.context.getExtension(t)},getFramebufferAttachmentParameter:function(t,e,i){return Zr.context.getFramebufferAttachmentParameter(t,e,i)},getParameter:function(t){return Zr.context.getParameter(t)},getProgramInfoLog:function(t){return Zr.context.getProgramInfoLog(t)},getProgramParameter:function(t,e){return Zr.context.getProgramParameter(t,e)},getRenderbufferParameter:function(t,e){return Zr.context.getRenderbufferParameter(t,e)},getShaderInfoLog:function(t){return Zr.context.getShaderInfoLog(t)},getShaderParameter:function(t,e){return Zr.context.getShaderParameter(t,e)},getShaderPrecisionFormat:function(t,e){return Zr.context.getShaderPrecisionFormat(t,e)},getShaderSource:function(t){return Zr.context.getShaderSource(t)},getSupportedExtensions:function(){return Zr.context.getSupportedExtensions()},getTexParameter:function(t,e){return Zr.context.getTexParameter(t,e)},getUniform:function(t,e){return Zr.context.getUniform(t,e)},getUniformLocation:function(t,e){return Zr.context.getUniformLocation(t,e)},getVertexAttrib:function(t,e){return Zr.context.getVertexAttrib(t,e)},getVertexAttribOffset:function(t,e){return Zr.context.getVertexAttribOffset(t,e)},hint:function(t,e){Zr.context.hint(t,e)},isBuffer:function(t){return Zr.context.isBuffer(t)},isContextLost:function(){return Zr.context.isContextLost()},isEnabled:function(t){return Zr.context.isEnabled(t)},isFramebuffer:function(t){return Zr.context.isFramebuffer(t)},isProgram:function(t){return Zr.context.isProgram(t)},isRenderbuffer:function(t){return Zr.context.isRenderbuffer(t)},isShader:function(t){return Zr.context.isShader(t)},isTexture:function(t){return Zr.context.isTexture(t)},lineWidth:function(t){Zr.context.lineWidth(t)},linkProgram:function(t){Zr.context.linkProgram(t)},pixelStorei:function(t,e){Zr.context.pixelStorei(t,e)},polygonOffset:function(t,e){Zr.context.polygonOffset(t,e)},readPixels:function(t,e,i,n,s,r,a){Zr.context.readPixels(t,e,i,n,s,r,a)},renderbufferStorage:function(t,e,i,n){Zr.context.renderbufferStorage(t,e,i,n)},sampleCoverage:function(t,e){Zr.context.sampleCoverage(t,e)},scissor:function(t,e,i,n){Zr.context.scissor(t,e,i,n)},shaderSource:function(t,e){Zr.context.shaderSource(t,e)},stencilFunc:function(t,e,i){Zr.context.stencilFunc(t,e,i)},stencilFuncSeparate:function(t,e,i,n){Zr.context.stencilFuncSeparate(t,e,i,n)},stencilMask:function(t){Zr.context.stencilMask(t)},stencilMaskSeparate:function(t,e){Zr.context.stencilMaskSeparate(t,e)},stencilOp:function(t,e,i){Zr.context.stencilOp(t,e,i)},stencilOpSeparate:function(t,e,i,n){Zr.context.stencilOpSeparate(t,e,i,n)},texImage2D:function(t,e,i,n,s,r,a,o,l){Zr.context.texImage2D(t,e,i,n,s,r,a,o,l)},texImage2DWeb:function(t,e,i,n,s,r){Zr.context.texImage2D(t,e,i,n,s,r)},texParameterf:function(t,e,i){Zr.context.texParameterf(t,e,i)},texParameteri:function(t,e,i){var n=Zr.currentBoundTexture[Zr.currentActiveTexture],s=Zr.textureStateCache.get(n);s.h[e]!=i&&(Zr.context.texParameteri(t,e,i),s.h[e]=i)},texSubImage2D:function(t,e,i,n,s,r,a,o,l){Zr.context.texSubImage2D(t,e,i,n,s,r,a,o,l)},uniform1f:function(t,e){Zr.context.uniform1f(t,e)},uniform1fv:function(t,e){Zr.context.uniform1fv(t,e)},uniform1i:function(t,e){Zr.context.uniform1i(t,e)},uniform1iv:function(t,e){Zr.context.uniform1iv(t,e)},uniform2f:function(t,e,i){Zr.context.uniform2f(t,e,i)},uniform2fv:function(t,e){Zr.context.uniform2fv(t,e)},uniform2i:function(t,e,i){Zr.context.uniform2i(t,e,i)},uniform2iv:function(t,e){Zr.context.uniform2iv(t,e)},uniform3f:function(t,e,i,n){Zr.context.uniform3f(t,e,i,n)},uniform3fv:function(t,e){Zr.context.uniform3fv(t,e)},uniform3i:function(t,e,i,n){Zr.context.uniform3i(t,e,i,n)},uniform3iv:function(t,e){Zr.context.uniform3iv(t,e)},uniform4f:function(t,e,i,n,s){Zr.context.uniform4f(t,e,i,n,s)},uniform4fv:function(t,e){Zr.context.uniform4fv(t,e)},uniform4i:function(t,e,i,n,s){Zr.context.uniform4i(t,e,i,n,s)},uniform4iv:function(t,e){Zr.context.uniform4iv(t,e)},uniformMatrix2fv:function(t,e,i){Zr.context.uniformMatrix2fv(t,e,i)},uniformMatrix3fv:function(t,e,i){Zr.context.uniformMatrix3fv(t,e,i)},uniformMatrix4fv:function(t,e,i){Zr.context.uniformMatrix4fv(t,e,i)},useProgram:function(t){var e=t;e!=Zr.currentProgram&&(Zr.context.useProgram(e),e=Zr.currentProgram)},validateProgram:function(t){Zr.context.validateProgram(t)},vertexAttrib1f:function(t,e){Zr.context.vertexAttrib1f(t,e)},vertexAttrib1fv:function(t,e){Zr.context.vertexAttrib1fv(t,e)},vertexAttrib2f:function(t,e,i){Zr.context.vertexAttrib2f(t,e,i)},vertexAttrib2fv:function(t,e){Zr.context.vertexAttrib2fv(t,e)},vertexAttrib3f:function(t,e,i,n){Zr.context.vertexAttrib3f(t,e,i,n)},vertexAttrib3fv:function(t,e){Zr.context.vertexAttrib3fv(t,e)},vertexAttrib4f:function(t,e,i,n,s){Zr.context.vertexAttrib4f(t,e,i,n,s)},vertexAttrib4fv:function(t,e){Zr.context.vertexAttrib4fv(t,e)},vertexAttribPointer:function(t,e,i,n,s,r){Zr.context.vertexAttribPointer(t,e,i,n,s,r)},viewport:function(t,e,i,n){Zr.context.viewport(t,e,i,n)},get_version:function(){return 2},__class__:Ur,__properties__:{get_version:"get_version"}};var Gr=function(t,e,i,n,s,r,a){if(null==s&&(s=-1),null==n&&(n=-1),null==i&&(i=0),null==e&&(e=0),this.offsetX=e,this.offsetY=i,this.width=n,this.height=s,null==a)if(null!=sr.current&&null!=sr.current.renderers[0]){sr.current.renderers[0].context;this.type=zr.DATA}else this.type=zr.DATA;else this.type=a;if(null==t){if(0<n&&0<s)switch(this.type[1]){case 0:this.buffer=new Xr(null,n,s),Qr.createCanvas(this,n,s),null!=r&&this.fillRect(new sa(0,0,n,s),r);break;case 1:var o,l=n*s*4;o=null!=l?new ec(l):null,this.buffer=new Xr(o,n,s),null!=r&&this.fillRect(new sa(0,0,n,s),r)}}else this.__fromImageBuffer(t)};(i["lime.graphics.Image"]=Gr).__name__=["lime","graphics","Image"],Gr.__base64Encoder=null,Gr.fromBase64=function(t,e,i){if(null==t)return null;var n=new Gr;return n.__fromBase64(t,e,i),n},Gr.fromBitmapData=function(t){return null==t?null:At.getProperty(t,"image")},Gr.fromBytes=function(t,e){if(null==t)return null;var i=new Gr;return i.__fromBytes(t,e),i},Gr.fromCanvas=function(t){if(null==t)return null;var e=new Xr(null,t.width,t.height);return e.set_src(t),new Gr(e)},Gr.fromFile=function(t,e,i){var n=new Gr;return n.__fromFile(t,e,i),n},Gr.fromImageElement=function(t){if(null==t)return null;var e=new Xr(null,t.width,t.height);return e.set_src(t),new Gr(e)},Gr.__base64Encode=function(t){var e;switch(t.length%3){case 1:e="==";break;case 2:e="=";break;default:e=""}return null==Gr.__base64Encoder&&(Gr.__base64Encoder=new _s(jn.ofString(Gr.__base64Chars))),Gr.__base64Encoder.encodeBytes(t).toString()+e},Gr.__isJPG=function(t){return 255==t.b[0]&&216==t.b[1]},Gr.__isPNG=function(t){return 137==t.b[0]&&80==t.b[1]&&78==t.b[2]&&71==t.b[3]&&13==t.b[4]&&10==t.b[5]&&26==t.b[6]&&10==t.b[7]},Gr.__isGIF=function(t){if(71!=t.b[0]||73!=t.b[1]||70!=t.b[2]||56!=t.b[3])return!1;var e=t.b[4];return(55==e||57==e)&&97==t.b[5]},Gr.prototype={clone:function(){if(null==this.buffer)return new Gr(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type);this.type==zr.CANVAS&&null==this.buffer.__srcImage&&(Qr.convertToCanvas(this),Qr.sync(this,!0));var t=new Gr(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return t.dirty=this.dirty,t},colorTransform:function(t,e){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type[1]){case 0:Qr.colorTransform(this,t,e);break;case 1:Qr.convertToData(this),$r.colorTransform(this,t,e);break;case 2:t.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(t.__toFlashRectangle(),ea.__toFlashColorTransform(e))}},copyChannel:function(t,e,i,n,s){if((e=this.__clipRect(e),null!=this.buffer&&null!=e)&&((s!=Vr.ALPHA||this.get_transparent())&&!(e.width<=0||e.height<=0)))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),this.type[1]){case 0:Qr.copyChannel(this,t,e,i,n,s);break;case 1:Qr.convertToData(this),Qr.convertToData(t),$r.copyChannel(this,t,e,i,n,s);break;case 2:var r,a;switch(n[1]){case 0:r=1;break;case 1:r=2;break;case 2:r=4;break;case 3:r=8}switch(s[1]){case 0:a=1;break;case 1:a=2;break;case 2:a=4;break;case 3:a=8}e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.copyChannel(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),r,a)}},copyPixels:function(t,e,i,n,s,r){if((null==r&&(r=!1),null!=this.buffer&&null!=t)&&!(e.width<=0||e.height<=0||this.width<=0||this.height<=0))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),i.x+e.width>this.width&&(e.width=this.width-i.x),i.y+e.height>this.height&&(e.height=this.height-i.y),i.x<0&&(e.width+=i.x,e.x=-i.x,i.x=0),i.y<0&&(e.height+=i.y,e.y=-i.y,i.y=0),this.type[1]){case 0:Qr.convertToCanvas(this),Qr.copyPixels(this,t,e,i,n,s,r);break;case 1:Qr.convertToData(this),Qr.convertToData(t),$r.copyPixels(this,t,e,i,n,s,r);break;case 2:e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),null!=n&&null!=s&&s.offset(n.offsetX,n.offsetY),this.buffer.__srcBitmapData.copyPixels(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),null!=n?n.buffer.get_src():null,null!=s?s.__toFlashPoint():null,r)}},encode:function(t,e){switch(null==e&&(e=90),null==t&&(t="png"),t){case"bmp":return Kr.encode(this);case"jpeg":case"jpg":return qr.encode(this,e);case"png":return Jr.encode(this)}return null},fillRect:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t){switch(this.type[1]){case 0:Qr.fillRect(this,t,e,i);break;case 1:if(Qr.convertToData(this),0==this.buffer.data.length)return;$r.fillRect(this,t,e,i);break;case 2:var n;if(t.offset(this.offsetX,this.offsetY),null==i){n=(255&e)<<24|(255&e>>24)<<16|(255&e>>16)<<8|255&e>>8}else switch(i){case 1:n=e;break;case 2:n=(255&e)<<24|(255&e>>8)<<16|(255&e>>16)<<8|255&e>>24;break;default:n=(255&e)<<24|(255&e>>24)<<16|(255&e>>16)<<8|255&e>>8}this.buffer.__srcBitmapData.fillRect(t.__toFlashRectangle(),n)}this.dirty=!0}},floodFill:function(t,e,i,n){if(null!=this.buffer)switch(this.type[1]){case 0:Qr.floodFill(this,t,e,i,n);break;case 1:Qr.convertToData(this),$r.floodFill(this,t,e,i,n);break;case 2:var s;if(null==n){s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}else switch(n){case 1:s=i;break;case 2:s=(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;break;default:s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}this.buffer.__srcBitmapData.floodFill(t+this.offsetX,e+this.offsetY,s)}},getColorBoundsRect:function(t,e,i,n){if(null==i&&(i=!0),null==this.buffer)return null;switch(this.type[1]){case 0:return Qr.convertToData(this),$r.getColorBoundsRect(this,t,e,i,n);case 1:return $r.getColorBoundsRect(this,t,e,i,n);case 2:var s=this.buffer.__srcBitmapData.getColorBoundsRect(t,e,i);return new sa(s.x,s.y,s.width,s.height);default:return null}},getPixel:function(t,e,i){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;switch(this.type[1]){case 0:return Qr.getPixel(this,t,e,i);case 1:return Qr.convertToData(this),$r.getPixel(this,t,e,i);case 2:var n=this.buffer.__srcBitmapData.getPixel(t+this.offsetX,e+this.offsetY);if(null==i){return(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24}switch(i){case 1:return n;case 2:return(255&n)<<24|(255&n>>8)<<16|(255&n>>16)<<8|255&n>>24;default:return(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24}break;default:return 0}},getPixel32:function(t,e,i){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;switch(this.type[1]){case 0:return Qr.getPixel32(this,t,e,i);case 1:return Qr.convertToData(this),$r.getPixel32(this,t,e,i);case 2:var n=this.buffer.__srcBitmapData.getPixel32(t+this.offsetX,e+this.offsetY);if(null==i){return(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24}switch(i){case 1:return n;case 2:return(255&n)<<24|(255&n>>8)<<16|(255&n>>16)<<8|255&n>>24;default:return(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24}break;default:return 0}},getPixels:function(t,e){if(null==this.buffer)return null;switch(this.type[1]){case 0:return Qr.getPixels(this,t,e);case 1:return Qr.convertToData(this),$r.getPixels(this,t,e);case 2:default:return null}},merge:function(t,e,i,n,s,r,a){if(null!=this.buffer&&null!=t)switch(this.type[1]){case 0:Qr.convertToCanvas(this),Qr.merge(this,t,e,i,n,s,r,a);break;case 1:Qr.convertToData(this),Qr.convertToData(t),$r.merge(this,t,e,i,n,s,r,a);break;case 2:e.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),n,s,r,a);break;default:return}},resize:function(t,e){switch(this.type[1]){case 0:Qr.resize(this,t,e);break;case 1:$r.resize(this,t,e)}this.buffer.width=t,this.buffer.height=e,this.offsetX=0,this.offsetY=0,this.width=t,this.height=e},scroll:function(t,e){if(null!=this.buffer)switch(this.type[1]){case 0:Qr.scroll(this,t,e);break;case 1:this.copyPixels(this,this.get_rect(),new ra(t,e));break;case 2:this.buffer.__srcBitmapData.scroll(t+this.offsetX,e+this.offsetX)}},setPixel:function(t,e,i,n){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height))switch(this.type[1]){case 0:Qr.setPixel(this,t,e,i,n);break;case 1:Qr.convertToData(this),$r.setPixel(this,t,e,i,n);break;case 2:var s;if(null==n){s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}else switch(n){case 1:s=i;break;case 2:s=(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;break;default:s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}this.buffer.__srcBitmapData.setPixel(t+this.offsetX,e+this.offsetX,s)}},setPixel32:function(t,e,i,n){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height))switch(this.type[1]){case 0:Qr.setPixel32(this,t,e,i,n);break;case 1:Qr.convertToData(this),$r.setPixel32(this,t,e,i,n);break;case 2:var s;if(null==n){s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}else switch(n){case 1:s=i;break;case 2:s=(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;break;default:s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}this.buffer.__srcBitmapData.setPixel32(t+this.offsetX,e+this.offsetY,s)}},setPixels:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type[1]){case 0:Qr.setPixels(this,t,e,i);break;case 1:Qr.convertToData(this),$r.setPixels(this,t,e,i)}},threshold:function(t,e,i,n,s,r,a,o,l){if(null==o&&(o=!1),null==a&&(a=-1),null==r&&(r=0),null==this.buffer||null==t||null==e)return 0;switch(this.type[1]){case 0:case 1:return Qr.convertToData(this),$r.threshold(this,t,e,i,n,s,r,a,o,l);case 2:var h,_;if(null==l){h=(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8}else switch(l){case 1:h=r;break;case 2:h=(255&r)<<24|(255&r>>8)<<16|(255&r>>16)<<8|255&r>>24;break;default:h=(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8}if(null==l){_=(255&a)<<24|(255&a>>24)<<16|(255&a>>16)<<8|255&a>>8}else switch(l){case 1:_=a;break;case 2:_=(255&a)<<24|(255&a>>8)<<16|(255&a>>16)<<8|255&a>>24;break;default:_=(255&a)<<24|(255&a>>24)<<16|(255&a>>16)<<8|255&a>>8}return e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.threshold(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),n,s,h,_,o)}return 0},__clipRect:function(t){return null==t?null:t.x<0&&(t.width-=-t.x,t.x=0,t.x+t.width<=0)?null:t.y<0&&(t.height-=-t.y,t.y=0,t.y+t.height<=0)?null:t.x+t.width>=this.width&&(t.width-=t.x+t.width-this.width,t.width<=0)?null:t.y+t.height>=this.height&&(t.height-=t.y+t.height-this.height,t.height<=0)?null:t},__fromBase64:function(t,e,i){var n=this,s=new Image;s.crossOrigin="Anonymous";s.addEventListener("load",function(t){n.buffer=new Xr(null,s.width,s.height),n.buffer.__srcImage=s,n.offsetX=0,n.offsetY=0,n.width=n.buffer.width,n.height=n.buffer.height,null!=i&&i(n)},!1),s.src="data:"+e+";base64,"+t},__fromBytes:function(t,e){var i="";if(Gr.__isPNG(t))i="image/png";else if(Gr.__isJPG(t))i="image/jpeg";else{if(!Gr.__isGIF(t))throw new Vs("Image tried to read PNG/JPG Bytes, but found an invalid header.");i="image/gif"}this.__fromBase64(Gr.__base64Encode(t),i,e)},__fromFile:function(t,e,i){var n=this,s=new Image;s.crossOrigin="Anonymous",s.onload=function(t){n.buffer=new Xr(null,s.width,s.height),n.buffer.__srcImage=s,n.width=s.width,n.height=s.height,null!=e&&e(n)},s.onerror=function(t){null!=i&&i()},s.src=t;s.complete},__fromImageBuffer:function(t){null!=(this.buffer=t)&&(-1==this.width&&(this.width=t.width),-1==this.height&&(this.height=t.height))},get_data:function(){return null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&(Qr.convertToCanvas(this),Qr.sync(this,!1),Qr.createImageData(this)),this.buffer.data},set_data:function(t){return this.buffer.data=t},get_format:function(){return this.buffer.format},set_format:function(t){this.buffer.format!=t&&1==this.type[1]&&$r.setFormat(this,t);return this.buffer.format=t},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&1+~this.buffer.width)==this.buffer.width&&(0!=this.buffer.height&&(this.buffer.height&1+~this.buffer.height)==this.buffer.height)},set_powerOfTwo:function(t){if(t!=this.get_powerOfTwo()){for(var e=1,i=1;e<this.buffer.width;)e<<=1;for(;i<this.buffer.height;)i<<=1;switch(this.type[1]){case 0:break;case 1:$r.resizeBuffer(this,e,i)}}return t},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(t){if(t&&!this.buffer.premultiplied)1==this.type[1]&&(Qr.convertToData(this),$r.multiplyAlpha(this));else if(!t&&this.buffer.premultiplied){1==this.type[1]&&(Qr.convertToData(this),$r.unmultiplyAlpha(this))}return t},get_rect:function(){return new sa(0,0,this.width,this.height)},get_src:function(){return null==this.buffer.__srcCanvas&&Qr.convertToCanvas(this),this.buffer.get_src()},set_src:function(t){return this.buffer.set_src(t)},get_transparent:function(){return null!=this.buffer&&this.buffer.transparent},set_transparent:function(t){return null!=this.buffer&&(this.buffer.transparent=t)},__class__:Gr,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var Xr=function(t,e,i,n,s){null==n&&(n=32),null==i&&(i=0),null==e&&(e=0),this.data=t,this.width=e,this.height=i,this.bitsPerPixel=n,this.format=null==s?0:s,this.transparent=!0};(i["lime.graphics.ImageBuffer"]=Xr).__name__=["lime","graphics","ImageBuffer"],Xr.prototype={clone:function(){var t=new Xr(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var e,i=this.data.byteLength;e=null!=i?new ec(i):null,t.data=e;var n=this.data,s=null!=n?new ec(n):null;t.data.set(s)}else if(null!=this.__srcImageData){t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcImageData.width,t.__srcCanvas.height=this.__srcImageData.height,t.__srcImageData=t.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height);var r=new Uint8ClampedArray(this.__srcImageData.data);t.__srcImageData.data.set(r)}else null!=this.__srcCanvas?(t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcCanvas.width,t.__srcCanvas.height=this.__srcCanvas.height,t.__srcContext.drawImage(this.__srcCanvas,0,0)):t.__srcImage=this.__srcImage;return t.bitsPerPixel=this.bitsPerPixel,t.format=this.format,t.premultiplied=this.premultiplied,t.transparent=this.transparent,t},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(t){return t instanceof HTMLImageElement?this.__srcImage=t:t instanceof HTMLCanvasElement&&(this.__srcCanvas=t,this.__srcContext=this.__srcCanvas.getContext("2d")),t},get_stride:function(){return 4*this.width},get_glCompatibleBuffer:function(){return null!=this.__srcImageData?this.__srcImageData:null!=this.__srcImage?this.__srcImage:null!=this.__srcCanvas?this.__srcCanvas:null},__class__:Xr,__properties__:{get_glCompatibleBuffer:"get_glCompatibleBuffer",get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var Vr=i["lime.graphics.ImageChannel"]={__ename__:!0,__constructs__:["RED","GREEN","BLUE","ALPHA"]};Vr.RED=["RED",0],Vr.RED.toString=f,(Vr.RED.__enum__=Vr).GREEN=["GREEN",1],Vr.GREEN.toString=f,(Vr.GREEN.__enum__=Vr).BLUE=["BLUE",2],Vr.BLUE.toString=f,(Vr.BLUE.__enum__=Vr).ALPHA=["ALPHA",3],Vr.ALPHA.toString=f,Vr.ALPHA.__enum__=Vr;var zr=i["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};zr.CANVAS=["CANVAS",0],zr.CANVAS.toString=f,(zr.CANVAS.__enum__=zr).DATA=["DATA",1],zr.DATA.toString=f,(zr.DATA.__enum__=zr).FLASH=["FLASH",2],zr.FLASH.toString=f,(zr.FLASH.__enum__=zr).CUSTOM=["CUSTOM",3],zr.CUSTOM.toString=f,zr.CUSTOM.__enum__=zr;var Hr=i["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:["OPENGL","CUSTOM","NONE"]};Hr.OPENGL=function(t){var e=["OPENGL",0,t];return e.__enum__=Hr,e.toString=f,e},Hr.CUSTOM=function(t){var e=["CUSTOM",1,t];return e.__enum__=Hr,e.toString=f,e},Hr.NONE=["NONE",2],Hr.NONE.toString=f,Hr.NONE.__enum__=Hr;var Yr=function(t){this.onRender=new Zs,this.onContextRestored=new gr,this.onContextLost=new Zs,this.window=t,this.backend=new ir(this),this.window.renderer=this};(i["lime.graphics.Renderer"]=Yr).__name__=["lime","graphics","Renderer"],Yr.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},readPixels:function(t){return this.backend.readPixels(t)},render:function(){this.backend.render()},__class__:Yr};var Wr=i["lime.graphics.RendererType"]={__ename__:!0,__constructs__:["OPENGL","CUSTOM"]};Wr.OPENGL=["OPENGL",0],Wr.OPENGL.toString=f,(Wr.OPENGL.__enum__=Wr).CUSTOM=["CUSTOM",1],Wr.CUSTOM.toString=f,Wr.CUSTOM.__enum__=Wr;var Kr=function(){};(i["lime.graphics.format.BMP"]=Kr).__name__=["lime","graphics","format","BMP"],Kr.encode=function(t,e){!t.get_premultiplied()&&0==t.get_format()||((t=t.clone()).set_premultiplied(!1),t.set_format(0)),null==e&&(e=jr.RGB);var i=14,n=40,s=t.width*t.height*4;if(null!=e)switch(e[1]){case 0:s=3*t.width+3*t.width%4+3*t.height+3*t.height;break;case 1:n=108;break;case 2:i=0,s+=t.width*t.height}var r=new jn(new Qu(i+n+s)),a=0;if(0<i&&(r.b[a++]=66,r.b[a++]=77,r.setInt32(a,r.length),a+=4,r.setUInt16(a,0),a+=2,r.setUInt16(a,0),a+=2,r.setInt32(a,i+n),a+=4),r.setInt32(a,n),a+=4,r.setInt32(a,t.width),a+=4,r.setInt32(a,e==jr.ICO?2*t.height:t.height),a+=4,r.setUInt16(a,1),a+=2,r.setUInt16(a,e==jr.RGB?24:32),a+=2,r.setInt32(a,e==jr.BITFIELD?3:0),a+=4,r.setInt32(a,s),a+=4,r.setInt32(a,11824),a+=4,r.setInt32(a,11824),a+=4,r.setInt32(a,0),a+=4,r.setInt32(a,0),a+=4,e==jr.BITFIELD){r.setInt32(a,16711680),a+=4,r.setInt32(a,65280),a+=4,r.setInt32(a,255),a+=4,r.setInt32(a,-16777216),a+=4,r.b[a++]=32,r.b[a++]=110,r.b[a++]=105,r.b[a++]=87;for(var o=0;o<48;){o++;r.b[a++]=0}}var l,h,_,u,c=t.getPixels(new sa(0,0,t.width,t.height),1),f=0;if(null!=e)switch(e[1]){case 0:for(var d=0,p=t.height;d<p;){var g=d++;f=4*(t.height-1-g)*t.width;for(var m=0,v=t.width;m<v;){m++;l=c.b[f++],h=c.b[f++],_=c.b[f++],u=c.b[f++],r.b[a++]=255&u,r.b[a++]=255&_,r.b[a++]=255&h}for(var b=0,y=3*t.width%4;b<y;){b++;r.b[a++]=0}}break;case 1:for(var w=0,x=t.height;w<x;){var T=w++;f=4*(t.height-1-T)*t.width;for(var S=0,E=t.width;S<E;){S++;l=c.b[f++],h=c.b[f++],_=c.b[f++],u=c.b[f++],r.b[a++]=255&u,r.b[a++]=255&_,r.b[a++]=255&h,r.b[a++]=255&l}}break;case 2:for(var I=new jn(new Qu(t.width*t.height)),P=0,C=0,D=t.height;C<D;){var A=C++;f=4*(t.height-1-A)*t.width;for(var R=0,M=t.width;R<M;){R++;l=c.b[f++],h=c.b[f++],_=c.b[f++],u=c.b[f++],r.b[a++]=255&u,r.b[a++]=255&_,r.b[a++]=255&h,r.b[a++]=255&l,I.b[P++]=0}}r.blit(a,I,0,t.width*t.height)}return r};var jr=i["lime.graphics.format.BMPType"]={__ename__:!0,__constructs__:["RGB","BITFIELD","ICO"]};jr.RGB=["RGB",0],jr.RGB.toString=f,(jr.RGB.__enum__=jr).BITFIELD=["BITFIELD",1],jr.BITFIELD.toString=f,(jr.BITFIELD.__enum__=jr).ICO=["ICO",2],jr.ICO.toString=f,jr.ICO.__enum__=jr;var qr=function(){};(i["lime.graphics.format.JPEG"]=qr).__name__=["lime","graphics","format","JPEG"],qr.decodeBytes=function(t,e){return null==e&&(e=!0),null},qr.decodeFile=function(t,e){return null==e&&(e=!0),null},qr.encode=function(t,e){if(!t.get_premultiplied()&&0==t.get_format()||((t=t.clone()).set_premultiplied(!1),t.set_format(0)),Qr.sync(t,!1),null==t.buffer.__srcCanvas)return null;for(var i=t.buffer.__srcCanvas.toDataURL("image/jpeg",e/100),n=window.atob(i.split(";base64,")[1]),s=new jn(new Qu(n.length)),r=0,a=n.length;r<a;){var o=r++,l=B.cca(n,o);s.b[o]=255&l}return s};var Jr=function(){};(i["lime.graphics.format.PNG"]=Jr).__name__=["lime","graphics","format","PNG"],Jr.decodeBytes=function(t,e){return null==e&&(e=!0),null},Jr.decodeFile=function(t,e){return null==e&&(e=!0),null},Jr.encode=function(t){return!t.get_premultiplied()&&0==t.get_format()||((t=t.clone()).set_premultiplied(!1),t.set_format(0)),null};var Zr=function(){};(i["lime.graphics.opengl.GL"]=Zr).__name__=["lime","graphics","opengl","GL"],Zr.__properties__={get_version:"get_version"},Zr.version=null,Zr.context=null,Zr.currentProgram=null,Zr.currentActiveTexture=null,Zr.activeTexture=function(t){t!=Zr.currentActiveTexture&&(Zr.context.activeTexture(t),Zr.currentActiveTexture=t)},Zr.attachShader=function(t,e){Zr.context.attachShader(t,e)},Zr.bindAttribLocation=function(t,e,i){Zr.context.bindAttribLocation(t,e,i)},Zr.bindBuffer=function(t,e){Zr.context.bindBuffer(t,e)},Zr.bindFramebuffer=function(t,e){Zr.context.bindFramebuffer(t,e)},Zr.bindRenderbuffer=function(t,e){Zr.context.bindRenderbuffer(t,e)},Zr.bindTexture=function(t,e){Zr.currentBoundTexture[Zr.currentActiveTexture]!=e&&(Zr.context.bindTexture(t,e),null!=(Zr.currentBoundTexture[Zr.currentActiveTexture]=e)&&null==Zr.textureStateCache.h.__keys__[e.__id__]&&Zr.textureStateCache.set(e,new fs))},Zr.blendColor=function(t,e,i,n){Zr.context.blendColor(t,e,i,n)},Zr.blendEquation=function(t){Zr.context.blendEquation(t)},Zr.blendEquationSeparate=function(t,e){Zr.context.blendEquationSeparate(t,e)},Zr.blendFunc=function(t,e){Zr.context.blendFunc(t,e)},Zr.blendFuncSeparate=function(t,e,i,n){Zr.context.blendFuncSeparate(t,e,i,n)},Zr.bufferData=function(t,e,i){Zr.context.bufferData(t,e,i)},Zr.bufferSubData=function(t,e,i){Zr.context.bufferSubData(t,e,i)},Zr.checkFramebufferStatus=function(t){return Zr.context.checkFramebufferStatus(t)},Zr.clear=function(t){Zr.context.clear(t)},Zr.clearColor=function(t,e,i,n){Zr.context.clearColor(t,e,i,n)},Zr.clearDepth=function(t){Zr.context.clearDepth(t)},Zr.clearStencil=function(t){Zr.context.clearStencil(t)},Zr.colorMask=function(t,e,i,n){Zr.context.colorMask(t,e,i,n)},Zr.compileShader=function(t){Zr.context.compileShader(t)},Zr.compressedTexImage2D=function(t,e,i,n,s,r,a){Zr.context.compressedTexImage2D(t,e,i,n,s,r,a)},Zr.compressedTexSubImage2D=function(t,e,i,n,s,r,a,o){Zr.context.compressedTexSubImage2D(t,e,i,n,s,r,a,o)},Zr.copyTexImage2D=function(t,e,i,n,s,r,a,o){Zr.context.copyTexImage2D(t,e,i,n,s,r,a,o)},Zr.copyTexSubImage2D=function(t,e,i,n,s,r,a,o){Zr.context.copyTexSubImage2D(t,e,i,n,s,r,a,o)},Zr.createBuffer=function(){return Zr.context.createBuffer()},Zr.createFramebuffer=function(){return Zr.context.createFramebuffer()},Zr.createProgram=function(){return Zr.context.createProgram()},Zr.createRenderbuffer=function(){return Zr.context.createRenderbuffer()},Zr.createShader=function(t){return Zr.context.createShader(t)},Zr.createTexture=function(){return Zr.context.createTexture()},Zr.cullFace=function(t){Zr.context.cullFace(t)},Zr.deleteBuffer=function(t){Zr.context.deleteBuffer(t)},Zr.deleteFramebuffer=function(t){Zr.context.deleteFramebuffer(t)},Zr.deleteProgram=function(t){Zr.context.deleteProgram(t)},Zr.deleteRenderbuffer=function(t){Zr.context.deleteRenderbuffer(t)},Zr.deleteShader=function(t){Zr.context.deleteShader(t)},Zr.deleteTexture=function(t){Zr.textureStateCache.remove(t),Zr.context.deleteTexture(t)},Zr.depthFunc=function(t){Zr.context.depthFunc(t)},Zr.depthMask=function(t){Zr.context.depthMask(t)},Zr.depthRange=function(t,e){Zr.context.depthRange(t,e)},Zr.detachShader=function(t,e){Zr.context.detachShader(t,e)},Zr.disable=function(t){Zr.context.disable(t)},Zr.disableVertexAttribArray=function(t){Zr.context.disableVertexAttribArray(t)},Zr.drawArrays=function(t,e,i){Zr.context.drawArrays(t,e,i)},Zr.drawElements=function(t,e,i,n){Zr.context.drawElements(t,e,i,n)},Zr.enable=function(t){Zr.context.enable(t)},Zr.enableVertexAttribArray=function(t){Zr.context.enableVertexAttribArray(t)},Zr.finish=function(){Zr.context.finish()},Zr.flush=function(){Zr.context.flush()},Zr.framebufferRenderbuffer=function(t,e,i,n){Zr.context.framebufferRenderbuffer(t,e,i,n)},Zr.framebufferTexture2D=function(t,e,i,n,s){Zr.context.framebufferTexture2D(t,e,i,n,s)},Zr.frontFace=function(t){Zr.context.frontFace(t)},Zr.generateMipmap=function(t){Zr.context.generateMipmap(t)},Zr.getActiveAttrib=function(t,e){return Zr.context.getActiveAttrib(t,e)},Zr.getActiveUniform=function(t,e){return Zr.context.getActiveUniform(t,e)},Zr.getAttachedShaders=function(t){return Zr.context.getAttachedShaders(t)},Zr.getAttribLocation=function(t,e){return Zr.context.getAttribLocation(t,e)},Zr.getBufferParameter=function(t,e){return Zr.context.getBufferParameter(t,e)},Zr.getContextAttributes=function(){return Zr.context.getContextAttributes()},Zr.getError=function(){return Zr.context.getError()},Zr.getExtension=function(t){return Zr.context.getExtension(t)},Zr.getFramebufferAttachmentParameter=function(t,e,i){return Zr.context.getFramebufferAttachmentParameter(t,e,i)},Zr.getParameter=function(t){return Zr.context.getParameter(t)},Zr.getProgramInfoLog=function(t){return Zr.context.getProgramInfoLog(t)},Zr.getProgramParameter=function(t,e){return Zr.context.getProgramParameter(t,e)},Zr.getRenderbufferParameter=function(t,e){return Zr.context.getRenderbufferParameter(t,e)},Zr.getShaderInfoLog=function(t){return Zr.context.getShaderInfoLog(t)},Zr.getShaderParameter=function(t,e){return Zr.context.getShaderParameter(t,e)},Zr.getShaderPrecisionFormat=function(t,e){return Zr.context.getShaderPrecisionFormat(t,e)},Zr.getShaderSource=function(t){return Zr.context.getShaderSource(t)},Zr.getSupportedExtensions=function(){return Zr.context.getSupportedExtensions()},Zr.getTexParameter=function(t,e){return Zr.context.getTexParameter(t,e)},Zr.getUniform=function(t,e){return Zr.context.getUniform(t,e)},Zr.getUniformLocation=function(t,e){return Zr.context.getUniformLocation(t,e)},Zr.getVertexAttrib=function(t,e){return Zr.context.getVertexAttrib(t,e)},Zr.getVertexAttribOffset=function(t,e){return Zr.context.getVertexAttribOffset(t,e)},Zr.hint=function(t,e){Zr.context.hint(t,e)},Zr.isBuffer=function(t){return Zr.context.isBuffer(t)},Zr.isContextLost=function(){return Zr.context.isContextLost()},Zr.isEnabled=function(t){return Zr.context.isEnabled(t)},Zr.isFramebuffer=function(t){return Zr.context.isFramebuffer(t)},Zr.isProgram=function(t){return Zr.context.isProgram(t)},Zr.isRenderbuffer=function(t){return Zr.context.isRenderbuffer(t)},Zr.isShader=function(t){return Zr.context.isShader(t)},Zr.isTexture=function(t){return Zr.context.isTexture(t)},Zr.lineWidth=function(t){Zr.context.lineWidth(t)},Zr.linkProgram=function(t){Zr.context.linkProgram(t)},Zr.pixelStorei=function(t,e){Zr.context.pixelStorei(t,e)},Zr.polygonOffset=function(t,e){Zr.context.polygonOffset(t,e)},Zr.readPixels=function(t,e,i,n,s,r,a){Zr.context.readPixels(t,e,i,n,s,r,a)},Zr.renderbufferStorage=function(t,e,i,n){Zr.context.renderbufferStorage(t,e,i,n)},Zr.sampleCoverage=function(t,e){Zr.context.sampleCoverage(t,e)},Zr.scissor=function(t,e,i,n){Zr.context.scissor(t,e,i,n)},Zr.shaderSource=function(t,e){Zr.context.shaderSource(t,e)},Zr.stencilFunc=function(t,e,i){Zr.context.stencilFunc(t,e,i)},Zr.stencilFuncSeparate=function(t,e,i,n){Zr.context.stencilFuncSeparate(t,e,i,n)},Zr.stencilMask=function(t){Zr.context.stencilMask(t)},Zr.stencilMaskSeparate=function(t,e){Zr.context.stencilMaskSeparate(t,e)},Zr.stencilOp=function(t,e,i){Zr.context.stencilOp(t,e,i)},Zr.stencilOpSeparate=function(t,e,i,n){Zr.context.stencilOpSeparate(t,e,i,n)},Zr.texImage2D=function(t,e,i,n,s,r,a,o,l){Zr.context.texImage2D(t,e,i,n,s,r,a,o,l)},Zr.texImage2DWeb=function(t,e,i,n,s,r){Zr.context.texImage2D(t,e,i,n,s,r)},Zr.texParameterf=function(t,e,i){Zr.context.texParameterf(t,e,i)},Zr.texParameteri=function(t,e,i){var n=Zr.currentBoundTexture[Zr.currentActiveTexture],s=Zr.textureStateCache.h[n.__id__];s.h[e]!=i&&(Zr.context.texParameteri(t,e,i),s.h[e]=i)},Zr.texSubImage2D=function(t,e,i,n,s,r,a,o,l){Zr.context.texSubImage2D(t,e,i,n,s,r,a,o,l)},Zr.uniform1f=function(t,e){Zr.context.uniform1f(t,e)},Zr.uniform1fv=function(t,e){Zr.context.uniform1fv(t,e)},Zr.uniform1i=function(t,e){Zr.context.uniform1i(t,e)},Zr.uniform1iv=function(t,e){Zr.context.uniform1iv(t,e)},Zr.uniform2f=function(t,e,i){Zr.context.uniform2f(t,e,i)},Zr.uniform2fv=function(t,e){Zr.context.uniform2fv(t,e)},Zr.uniform2i=function(t,e,i){Zr.context.uniform2i(t,e,i)},Zr.uniform2iv=function(t,e){Zr.context.uniform2iv(t,e)},Zr.uniform3f=function(t,e,i,n){Zr.context.uniform3f(t,e,i,n)},Zr.uniform3fv=function(t,e){Zr.context.uniform3fv(t,e)},Zr.uniform3i=function(t,e,i,n){Zr.context.uniform3i(t,e,i,n)},Zr.uniform3iv=function(t,e){Zr.context.uniform3iv(t,e)},Zr.uniform4f=function(t,e,i,n,s){Zr.context.uniform4f(t,e,i,n,s)},Zr.uniform4fv=function(t,e){Zr.context.uniform4fv(t,e)},Zr.uniform4i=function(t,e,i,n,s){Zr.context.uniform4i(t,e,i,n,s)},Zr.uniform4iv=function(t,e){Zr.context.uniform4iv(t,e)},Zr.uniformMatrix2fv=function(t,e,i){Zr.context.uniformMatrix2fv(t,e,i)},Zr.uniformMatrix3fv=function(t,e,i){Zr.context.uniformMatrix3fv(t,e,i)},Zr.uniformMatrix4fv=function(t,e,i){Zr.context.uniformMatrix4fv(t,e,i)},Zr.useProgram=function(t){t!=Zr.currentProgram&&(Zr.context.useProgram(t),t=Zr.currentProgram)},Zr.validateProgram=function(t){Zr.context.validateProgram(t)},Zr.vertexAttrib1f=function(t,e){Zr.context.vertexAttrib1f(t,e)},Zr.vertexAttrib1fv=function(t,e){Zr.context.vertexAttrib1fv(t,e)},Zr.vertexAttrib2f=function(t,e,i){Zr.context.vertexAttrib2f(t,e,i)},Zr.vertexAttrib2fv=function(t,e){Zr.context.vertexAttrib2fv(t,e)},Zr.vertexAttrib3f=function(t,e,i,n){Zr.context.vertexAttrib3f(t,e,i,n)},Zr.vertexAttrib3fv=function(t,e){Zr.context.vertexAttrib3fv(t,e)},Zr.vertexAttrib4f=function(t,e,i,n,s){Zr.context.vertexAttrib4f(t,e,i,n,s)},Zr.vertexAttrib4fv=function(t,e){Zr.context.vertexAttrib4fv(t,e)},Zr.vertexAttribPointer=function(t,e,i,n,s,r){Zr.context.vertexAttribPointer(t,e,i,n,s,r)},Zr.viewport=function(t,e,i,n){Zr.context.viewport(t,e,i,n)},Zr.get_version=function(){return 2};var Qr=function(){};(i["lime.graphics.utils.ImageCanvasUtil"]=Qr).__name__=["lime","graphics","utils","ImageCanvasUtil"],Qr.colorTransform=function(t,e,i){Qr.convertToCanvas(t),Qr.createImageData(t),$r.colorTransform(t,e,i)},Qr.convertToCanvas=function(t){var e=t.buffer;if(t.type==zr.DATA&&null!=e.data)return Qr.createCanvas(t,e.width,e.height),Qr.createImageData(t),e.__srcContext.putImageData(e.__srcImageData,0,0),void(t.type=zr.CANVAS);null!=e.__srcImage?(null==e.__srcCanvas&&(Qr.createCanvas(t,e.__srcImage.width,e.__srcImage.height),e.__srcContext.drawImage(e.__srcImage,0,0)),e.__srcImage=null):null!=e.data&&null==e.__srcCanvas?(Qr.createCanvas(t,e.width,e.height),Qr.createImageData(t),e.__srcContext.putImageData(e.__srcImageData,0,0)):null==e.data&&null!=e.__srcImageData&&(e.data=e.__srcImageData.data)},Qr.convertToData=function(t){null==t.buffer.data&&(Qr.convertToCanvas(t),Qr.sync(t,!1),Qr.createImageData(t),t.buffer.__srcCanvas=null,t.buffer.__srcContext=null)},Qr.copyChannel=function(t,e,i,n,s,r){Qr.convertToCanvas(e),Qr.createImageData(e),Qr.convertToCanvas(t),Qr.createImageData(t),$r.copyChannel(t,e,i,n,s,r)},Qr.copyPixels=function(t,e,i,n,s,r,a){if(null==a&&(a=!1),!(null==n||n.x>=t.width||n.y>=t.height||null==i||i.width<1||i.height<1)){if(null!=s&&s.get_transparent()){null==r&&(r=new ra);var o=t.clone();o.copyChannel(s,new sa(r.x,r.y,i.width,i.height),new ra(i.x,i.y),Vr.ALPHA,Vr.ALPHA),e=o}Qr.sync(t,!0),a||t.get_transparent()&&e.get_transparent()&&t.buffer.__srcContext.clearRect(n.x+t.offsetX,n.y+t.offsetY,i.width+t.offsetX,i.height+t.offsetY),Qr.sync(e,!1),Qr.convertToCanvas(e),null!=e.buffer.get_src()&&(t.buffer.__srcContext.drawImage(e.buffer.get_src(),i.x+e.offsetX|0,i.y+e.offsetY|0,0|i.width,0|i.height,n.x+t.offsetX|0,n.y+t.offsetY|0,0|i.width,0|i.height),t.dirty=!0)}},Qr.createCanvas=function(t,e,i){var n=t.buffer;null==n.__srcCanvas&&(n.__srcCanvas=window.document.createElement("canvas"),n.__srcCanvas.width=e,n.__srcCanvas.height=i,t.get_transparent()?n.__srcContext=n.__srcCanvas.getContext("2d"):(t.get_transparent()||n.__srcCanvas.setAttribute("moz-opaque","true"),n.__srcContext=n.__srcCanvas.getContext("2d",{alpha:!1})),n.__srcContext.mozImageSmoothingEnabled=!1,n.__srcContext.msImageSmoothingEnabled=!1,n.__srcContext.imageSmoothingEnabled=!1)},Qr.createImageData=function(t){var e=t.buffer;if(null==e.__srcImageData){null==e.data?e.__srcImageData=e.__srcContext.getImageData(0,0,e.width,e.height):(e.__srcImageData=e.__srcContext.createImageData(e.width,e.height),e.__srcImageData.data.set(e.data));var i,n=e.__srcImageData.data.buffer;i=null!=n?new ec(n):null,e.data=i}},Qr.fillRect=function(t,e,i,n){var s,r,a,o;(Qr.convertToCanvas(t),Qr.sync(t,!0),0==e.x&&0==e.y&&e.width==t.width&&e.height==t.height&&t.get_transparent()&&0==(255&i))?t.buffer.__srcCanvas.width=t.buffer.width:(o=1==n?(s=i>>16&255,r=i>>8&255,a=255&i,t.get_transparent()?i>>24&255:255):(s=i>>24&255,r=i>>16&255,a=i>>8&255,t.get_transparent()?255&i:255),t.buffer.__srcContext.fillStyle="rgba("+s+", "+r+", "+a+", "+o/255+")",t.buffer.__srcContext.fillRect(e.x+t.offsetX,e.y+t.offsetY,e.width+t.offsetX,e.height+t.offsetY))},Qr.floodFill=function(t,e,i,n,s){Qr.convertToCanvas(t),Qr.createImageData(t),$r.floodFill(t,e,i,n,s)},Qr.getPixel=function(t,e,i,n){return Qr.convertToCanvas(t),Qr.createImageData(t),$r.getPixel(t,e,i,n)},Qr.getPixel32=function(t,e,i,n){return Qr.convertToCanvas(t),Qr.createImageData(t),$r.getPixel32(t,e,i,n)},Qr.getPixels=function(t,e,i){return Qr.convertToCanvas(t),Qr.createImageData(t),$r.getPixels(t,e,i)},Qr.merge=function(t,e,i,n,s,r,a,o){Qr.convertToCanvas(e),Qr.createImageData(e),Qr.convertToCanvas(t),Qr.createImageData(t),$r.merge(t,e,i,n,s,r,a,o)},Qr.resize=function(t,e,i){var n=t.buffer;if(null==n.__srcCanvas)Qr.createCanvas(t,e,i),n.__srcContext.drawImage(n.get_src(),0,0,e,i);else{Qr.sync(t,!0);var s=n.__srcCanvas;n.__srcCanvas=null,Qr.createCanvas(t,e,i),n.__srcContext.drawImage(s,0,0,e,i)}},Qr.scroll=function(t,e,i){e%t.width==0&&i%t.height==0||(Qr.convertToCanvas(t),Qr.sync(t,!0),t.buffer.__srcContext.clearRect(e,i,t.width,t.height),t.buffer.__srcContext.drawImage(t.buffer.__srcCanvas,e,i))},Qr.setPixel=function(t,e,i,n,s){Qr.convertToCanvas(t),Qr.createImageData(t),$r.setPixel(t,e,i,n,s)},Qr.setPixel32=function(t,e,i,n,s){Qr.convertToCanvas(t),Qr.createImageData(t),$r.setPixel32(t,e,i,n,s)},Qr.setPixels=function(t,e,i,n){Qr.convertToCanvas(t),Qr.createImageData(t),$r.setPixels(t,e,i,n)},Qr.sync=function(t,e){t.dirty&&null!=t.buffer.__srcImageData&&t.type!=zr.DATA&&(t.buffer.__srcContext.putImageData(t.buffer.__srcImageData,0,0),t.buffer.data=null,t.dirty=!1),e&&(t.buffer.__srcImageData=null,t.buffer.data=null)};var $r=function(){};(i["lime.graphics.utils.ImageDataUtil"]=$r).__name__=["lime","graphics","utils","ImageDataUtil"],$r.colorTransform=function(t,e,i){var n=t.buffer.data;if(null!=n){for(var s,r,a,o=t.buffer.format,l=t.buffer.premultiplied,h=new ta(t,e),_=ea.getAlphaTable(i),u=ea.getRedTable(i),c=ea.getGreenTable(i),f=ea.getBlueTable(i),d=0,p=h.height;d<p;){var g=d++;s=h.offset+h.stride*g;for(var m=0,v=h.width;m<v;){switch(r=s+4*m++,o){case 0:a=(255&n[r])<<24|(255&n[r+1])<<16|(255&n[r+2])<<8|255&n[r+3];break;case 1:a=(255&n[r+1])<<24|(255&n[r+2])<<16|(255&n[r+3])<<8|255&n[r];break;case 2:a=(255&n[r+2])<<24|(255&n[r+1])<<16|(255&n[r])<<8|255&n[r+3]}switch(l&&0!=(255&a)&&255!=(255&a)&&(ha.unmult=255/(255&a),a=(255&ha.__clamp[Math.round((a>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((a>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((a>>8&255)*ha.unmult)])<<8|255&a),a=(255&u[a>>24&255])<<24|(255&c[a>>16&255])<<16|(255&f[a>>8&255])<<8|255&_[255&a],l&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(ha.a16=ha.__alpha16[255&a],a=((a>>24&255)*ha.a16>>16&255)<<24|((a>>16&255)*ha.a16>>16&255)<<16|((a>>8&255)*ha.a16>>16&255)<<8|255&a)),o){case 0:n[r]=a>>24&255,n[r+1]=a>>16&255,n[r+2]=a>>8&255,n[r+3]=255&a;break;case 1:n[r]=255&a,n[r+1]=a>>24&255,n[r+2]=a>>16&255,n[r+3]=a>>8&255;break;case 2:n[r]=a>>8&255,n[r+1]=a>>16&255,n[r+2]=a>>24&255,n[r+3]=255&a}}}t.dirty=!0}},$r.copyChannel=function(t,e,i,n,s,r){var a,o;switch(r[1]){case 0:a=0;break;case 1:a=1;break;case 2:a=2;break;case 3:a=3}switch(s[1]){case 0:o=0;break;case 1:o=1;break;case 2:o=2;break;case 3:o=3}var l=e.buffer.data,h=t.buffer.data;if(null!=l&&null!=h){for(var _,u,c,f,d=new ta(e,i),p=new ta(t,new sa(n.x,n.y,d.width,d.height)),g=e.buffer.format,m=t.buffer.format,v=e.buffer.premultiplied,b=t.buffer.premultiplied,y=0,w=0,x=p.height;w<x;){var T=w++;_=d.offset+d.stride*T,u=p.offset+p.stride*T;for(var S=0,E=p.width;S<E;){S++;switch(g){case 0:c=(255&l[_])<<24|(255&l[_+1])<<16|(255&l[_+2])<<8|255&l[_+3];break;case 1:c=(255&l[_+1])<<24|(255&l[_+2])<<16|(255&l[_+3])<<8|255&l[_];break;case 2:c=(255&l[_+2])<<24|(255&l[_+1])<<16|(255&l[_])<<8|255&l[_+3]}switch(v&&0!=(255&c)&&255!=(255&c)&&(ha.unmult=255/(255&c),c=(255&ha.__clamp[Math.round((c>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((c>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((c>>8&255)*ha.unmult)])<<8|255&c),m){case 0:f=(255&h[u])<<24|(255&h[u+1])<<16|(255&h[u+2])<<8|255&h[u+3];break;case 1:f=(255&h[u+1])<<24|(255&h[u+2])<<16|(255&h[u+3])<<8|255&h[u];break;case 2:f=(255&h[u+2])<<24|(255&h[u+1])<<16|(255&h[u])<<8|255&h[u+3]}switch(b&&0!=(255&f)&&255!=(255&f)&&(ha.unmult=255/(255&f),f=(255&ha.__clamp[Math.round((f>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((f>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((f>>8&255)*ha.unmult)])<<8|255&f),o){case 0:y=c>>24&255;break;case 1:y=c>>16&255;break;case 2:y=c>>8&255;break;case 3:y=255&c}switch(a){case 0:f=(255&y)<<24|(255&f>>16)<<16|(255&f>>8)<<8|255&f;break;case 1:f=(255&f>>24)<<24|(255&y)<<16|(255&f>>8)<<8|255&f;break;case 2:f=(255&f>>24)<<24|(255&f>>16)<<16|(255&y)<<8|255&f;break;case 3:f=(255&f>>24)<<24|(255&f>>16)<<16|(255&f>>8)<<8|255&y}switch(b&&(0==(255&f)?0!=f&&(f=0):255!=(255&f)&&(ha.a16=ha.__alpha16[255&f],f=((f>>24&255)*ha.a16>>16&255)<<24|((f>>16&255)*ha.a16>>16&255)<<16|((f>>8&255)*ha.a16>>16&255)<<8|255&f)),m){case 0:h[u]=f>>24&255,h[u+1]=f>>16&255,h[u+2]=f>>8&255,h[u+3]=255&f;break;case 1:h[u]=255&f,h[u+1]=f>>24&255,h[u+2]=f>>16&255,h[u+3]=f>>8&255;break;case 2:h[u]=f>>8&255,h[u+1]=f>>16&255,h[u+2]=f>>24&255,h[u+3]=255&f}_+=4,u+=4}}t.dirty=!0}},$r.copyPixels=function(t,e,i,n,s,r,a){null==a&&(a=!1);var o=e.buffer.data,l=t.buffer.data;if(null!=o&&null!=l){var h,_,u,c,f,d,p,g,m=new ta(e,i),v=new ta(t,new sa(n.x,n.y,m.width,m.height)),b=e.buffer.format,y=t.buffer.format,w=e.buffer.premultiplied,x=t.buffer.premultiplied;if(a&&e.get_transparent())if(null==s)for(var T=0,S=v.height;T<S;){var E=T++;h=m.offset+m.stride*E,_=v.offset+v.stride*E;for(var I=0,P=v.width;I<P;){I++;switch(b){case 0:u=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:u=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:u=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}switch(w&&0!=(255&u)&&255!=(255&u)&&(ha.unmult=255/(255&u),u=(255&ha.__clamp[Math.round((u>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((u>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((u>>8&255)*ha.unmult)])<<8|255&u),y){case 0:g=(255&l[_])<<24|(255&l[_+1])<<16|(255&l[_+2])<<8|255&l[_+3];break;case 1:g=(255&l[_+1])<<24|(255&l[_+2])<<16|(255&l[_+3])<<8|255&l[_];break;case 2:g=(255&l[_+2])<<24|(255&l[_+1])<<16|(255&l[_])<<8|255&l[_+3]}if(x&&0!=(255&g)&&255!=(255&g)&&(ha.unmult=255/(255&g),g=(255&ha.__clamp[Math.round((g>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((g>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((g>>8&255)*ha.unmult)])<<8|255&g),0==(p=(c=(255&u)/255)+(f=(255&g)/255)*(d=1-c)))g=0;else g=(255&(g=(255&(g=(255&(g=(255&ha.__clamp[Math.round(((u>>24&255)*c+(g>>24&255)*f*d)/p)])<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&ha.__clamp[Math.round(((u>>16&255)*c+(g>>16&255)*f*d)/p)])<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&ha.__clamp[Math.round(((u>>8&255)*c+(g>>8&255)*f*d)/p)])<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&ha.__clamp[Math.round(255*p)];switch(x&&(0==(255&g)?0!=g&&(g=0):255!=(255&g)&&(ha.a16=ha.__alpha16[255&g],g=((g>>24&255)*ha.a16>>16&255)<<24|((g>>16&255)*ha.a16>>16&255)<<16|((g>>8&255)*ha.a16>>16&255)<<8|255&g)),y){case 0:l[_]=g>>24&255,l[_+1]=g>>16&255,l[_+2]=g>>8&255,l[_+3]=255&g;break;case 1:l[_]=255&g,l[_+1]=g>>24&255,l[_+2]=g>>16&255,l[_+3]=g>>8&255;break;case 2:l[_]=g>>8&255,l[_+1]=g>>16&255,l[_+2]=g>>24&255,l[_+3]=255&g}h+=4,_+=4}}else{null==r&&(r=new ra);for(var C,D,A=s.buffer.data,R=s.buffer.format,M=s.buffer.premultiplied,F=new ta(s,new sa(r.x,r.y,v.width,v.height)),B=0,L=F.height;B<L;){var k=B++;h=m.offset+m.stride*k,_=v.offset+v.stride*k,C=F.offset+F.stride*k;for(var N=0,O=F.width;N<O;){N++;switch(b){case 0:u=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:u=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:u=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}switch(w&&0!=(255&u)&&255!=(255&u)&&(ha.unmult=255/(255&u),u=(255&ha.__clamp[Math.round((u>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((u>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((u>>8&255)*ha.unmult)])<<8|255&u),y){case 0:g=(255&l[_])<<24|(255&l[_+1])<<16|(255&l[_+2])<<8|255&l[_+3];break;case 1:g=(255&l[_+1])<<24|(255&l[_+2])<<16|(255&l[_+3])<<8|255&l[_];break;case 2:g=(255&l[_+2])<<24|(255&l[_+1])<<16|(255&l[_])<<8|255&l[_+3]}switch(x&&0!=(255&g)&&255!=(255&g)&&(ha.unmult=255/(255&g),g=(255&ha.__clamp[Math.round((g>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((g>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((g>>8&255)*ha.unmult)])<<8|255&g),R){case 0:D=(255&A[C])<<24|(255&A[C+1])<<16|(255&A[C+2])<<8|255&A[C+3];break;case 1:D=(255&A[C+1])<<24|(255&A[C+2])<<16|(255&A[C+3])<<8|255&A[C];break;case 2:D=(255&A[C+2])<<24|(255&A[C+1])<<16|(255&A[C])<<8|255&A[C+3]}if(M&&0!=(255&D)&&255!=(255&D)&&(ha.unmult=255/(255&D),D=(255&ha.__clamp[Math.round((D>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((D>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((D>>8&255)*ha.unmult)])<<8|255&D),0==(p=(c=(255&D)/255)+(f=(255&g)/255)*(d=1-c)))g=0;else g=(255&(g=(255&(g=(255&(g=(255&ha.__clamp[Math.round(((u>>24&255)*c+(g>>24&255)*f*d)/p)])<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&ha.__clamp[Math.round(((u>>16&255)*c+(g>>16&255)*f*d)/p)])<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&ha.__clamp[Math.round(((u>>8&255)*c+(g>>8&255)*f*d)/p)])<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&ha.__clamp[Math.round(255*p)];switch(x&&(0==(255&g)?0!=g&&(g=0):255!=(255&g)&&(ha.a16=ha.__alpha16[255&g],g=((g>>24&255)*ha.a16>>16&255)<<24|((g>>16&255)*ha.a16>>16&255)<<16|((g>>8&255)*ha.a16>>16&255)<<8|255&g)),y){case 0:l[_]=g>>24&255,l[_+1]=g>>16&255,l[_+2]=g>>8&255,l[_+3]=255&g;break;case 1:l[_]=255&g,l[_+1]=g>>24&255,l[_+2]=g>>16&255,l[_+3]=g>>8&255;break;case 2:l[_]=g>>8&255,l[_+1]=g>>16&255,l[_+2]=g>>24&255,l[_+3]=255&g}h+=4,_+=4}}}else for(var U=0,G=v.height;U<G;){var X=U++;h=m.offset+m.stride*X,_=v.offset+v.stride*X;for(var V=0,z=v.width;V<z;){V++;switch(b){case 0:u=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:u=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:u=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}switch(w&&0!=(255&u)&&255!=(255&u)&&(ha.unmult=255/(255&u),u=(255&ha.__clamp[Math.round((u>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((u>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((u>>8&255)*ha.unmult)])<<8|255&u),x&&(0==(255&u)?0!=u&&(u=0):255!=(255&u)&&(ha.a16=ha.__alpha16[255&u],u=((u>>24&255)*ha.a16>>16&255)<<24|((u>>16&255)*ha.a16>>16&255)<<16|((u>>8&255)*ha.a16>>16&255)<<8|255&u)),y){case 0:l[_]=u>>24&255,l[_+1]=u>>16&255,l[_+2]=u>>8&255,l[_+3]=255&u;break;case 1:l[_]=255&u,l[_+1]=u>>24&255,l[_+2]=u>>16&255,l[_+3]=u>>8&255;break;case 2:l[_]=u>>8&255,l[_+1]=u>>16&255,l[_+2]=u>>24&255,l[_+3]=255&u}h+=4,_+=4}}t.dirty=!0}},$r.fillRect=function(t,e,i,n){var s;switch(n){case 1:s=(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24;break;case 2:s=(255&i>>8)<<24|(255&i>>16)<<16|(255&i>>24)<<8|255&i;break;default:s=i}t.get_transparent()||(s=(255&s>>24)<<24|(255&s>>16)<<16|(255&s>>8)<<8|255);var r=t.buffer.data;if(null!=r){for(var a,o=t.buffer.format,l=t.buffer.premultiplied,h=new ta(t,e),_=0,u=h.height;_<u;){var c=_++;a=h.offset+h.stride*c;for(var f=0,d=h.width;f<d;){var p=a+4*f++;switch(l&&(0==(255&s)?0!=s&&(s=0):255!=(255&s)&&(ha.a16=ha.__alpha16[255&s],s=((s>>24&255)*ha.a16>>16&255)<<24|((s>>16&255)*ha.a16>>16&255)<<16|((s>>8&255)*ha.a16>>16&255)<<8|255&s)),o){case 0:r[p]=s>>24&255,r[p+1]=s>>16&255,r[p+2]=s>>8&255,r[p+3]=255&s;break;case 1:r[p]=255&s,r[p+1]=s>>24&255,r[p+2]=s>>16&255,r[p+3]=s>>8&255;break;case 2:r[p]=s>>8&255,r[p+1]=s>>16&255,r[p+2]=s>>24&255,r[p+3]=255&s}}}t.dirty=!0}},$r.floodFill=function(t,e,i,n,s){var r=t.buffer.data;if(null!=r){1==s&&(n=(16777215&n)<<8|n>>24&255);var a,o=t.buffer.format,l=t.buffer.premultiplied,h=n,_=(i+t.offsetY)*(4*t.buffer.width)+4*(e+t.offsetX);switch(o){case 0:a=(255&r[_])<<24|(255&r[1+_])<<16|(255&r[2+_])<<8|255&r[3+_];break;case 1:a=(255&r[1+_])<<24|(255&r[2+_])<<16|(255&r[3+_])<<8|255&r[_];break;case 2:a=(255&r[2+_])<<24|(255&r[1+_])<<16|(255&r[_])<<8|255&r[3+_]}if(l&&0!=(255&a)&&255!=(255&a)&&(ha.unmult=255/(255&a),a=(255&ha.__clamp[Math.round((a>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((a>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((a>>8&255)*ha.unmult)])<<8|255&a),t.get_transparent()||(h=(255&h>>24)<<24|(255&h>>16)<<16|(255&h>>8)<<8|255,a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255),h!=a){var u,c,f,d,p,g,m=[0,-1,1,0],v=[-1,0,0,1],b=-t.offsetX,y=-t.offsetY,w=b+t.width,x=y+t.height,T=[];for(T.push(e),T.push(i);0<T.length;){c=T.pop(),u=T.pop();for(var S=0;S<4;){var E=S++;if(d=c+v[E],!((f=u+m[E])<b||d<y||w<=f||x<=d)){switch(p=4*(d*t.width+f),o){case 0:g=(255&r[p])<<24|(255&r[1+p])<<16|(255&r[2+p])<<8|255&r[3+p];break;case 1:g=(255&r[1+p])<<24|(255&r[2+p])<<16|(255&r[3+p])<<8|255&r[p];break;case 2:g=(255&r[2+p])<<24|(255&r[1+p])<<16|(255&r[p])<<8|255&r[3+p]}if(l&&0!=(255&g)&&255!=(255&g)&&(ha.unmult=255/(255&g),g=(255&ha.__clamp[Math.round((g>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((g>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((g>>8&255)*ha.unmult)])<<8|255&g),g==a){switch(l&&(0==(255&h)?0!=h&&(h=0):255!=(255&h)&&(ha.a16=ha.__alpha16[255&h],h=((h>>24&255)*ha.a16>>16&255)<<24|((h>>16&255)*ha.a16>>16&255)<<16|((h>>8&255)*ha.a16>>16&255)<<8|255&h)),o){case 0:r[p]=h>>24&255,r[1+p]=h>>16&255,r[2+p]=h>>8&255,r[3+p]=255&h;break;case 1:r[p]=255&h,r[1+p]=h>>24&255,r[2+p]=h>>16&255,r[3+p]=h>>8&255;break;case 2:r[p]=h>>8&255,r[1+p]=h>>16&255,r[2+p]=h>>24&255,r[3+p]=255&h}T.push(f),T.push(d)}}}}t.dirty=!0}}},$r.getColorBoundsRect=function(t,e,i,n,s){null==n&&(n=!0);var r,a,o,l,h=t.width+1,_=0,u=t.height+1,c=0;switch(s){case 1:r=(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24;a=(255&e>>16)<<24|(255&e>>8)<<16|(255&e)<<8|255&e>>24;break;case 2:r=(255&i>>8)<<24|(255&i>>16)<<16|(255&i>>24)<<8|255&i;a=(255&e>>8)<<24|(255&e>>16)<<16|(255&e>>24)<<8|255&e;break;default:r=i,a=e}t.get_transparent()||(r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255,a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255);for(var f,d=0,p=t.width;d<p;){var g=d++;l=!1;for(var m=0,v=t.height;m<v;){var b=m++;if(o=t.getPixel32(g,b,0),l=n?(o&a)==r:(o&a)!=r){g<h&&(h=g);break}}if(l)break}for(var y=0,w=t.width;y<w;){var x=y++;f=t.width-1-x,l=!1;for(var T=0,S=t.height;T<S;){var E=T++;if(o=t.getPixel32(f,E,0),l=n?(o&a)==r:(o&a)!=r){_<f&&(_=f);break}}if(l)break}for(var I,P=0,C=t.height;P<C;){var D=P++;l=!1;for(var A=0,R=t.width;A<R;){var M=A++;if(o=t.getPixel32(M,D,0),l=n?(o&a)==r:(o&a)!=r){D<u&&(u=D);break}}if(l)break}for(var F=0,B=t.height;F<B;){var L=F++;I=t.height-1-L,l=!1;for(var k=0,N=t.width;k<N;){var O=k++;if(o=t.getPixel32(O,I,0),l=n?(o&a)==r:(o&a)!=r){c<I&&(c=I);break}}if(l)break}var U=_-h,G=c-u;return 0<U&&++U,0<G&&++G,U<0&&(U=0),G<0&&(G=0),h==_&&(U=1),u==c&&(G=1),h>t.width&&(h=0),u>t.height&&(u=0),new sa(h,u,U,G)},$r.getPixel=function(t,e,i,n){var s,r=t.buffer.data,a=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),o=t.buffer.premultiplied;switch(t.buffer.format){case 0:s=(255&r[a])<<24|(255&r[1+a])<<16|(255&r[2+a])<<8|255&r[3+a];break;case 1:s=(255&r[1+a])<<24|(255&r[2+a])<<16|(255&r[3+a])<<8|255&r[a];break;case 2:s=(255&r[2+a])<<24|(255&r[1+a])<<16|(255&r[a])<<8|255&r[3+a]}switch(o&&0!=(255&s)&&255!=(255&s)&&(ha.unmult=255/(255&s),s=(255&ha.__clamp[Math.round((s>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((s>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((s>>8&255)*ha.unmult)])<<8|255&s),s=(255&s>>24)<<24|(255&s>>16)<<16|(255&s>>8)<<8|0,n){case 1:return(255&s)<<24|(255&s>>24)<<16|(255&s>>16)<<8|255&s>>8;case 2:return(255&s>>8)<<24|(255&s>>16)<<16|(255&s>>24)<<8|255&s;default:return s}},$r.getPixel32=function(t,e,i,n){var s,r=t.buffer.data,a=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),o=t.buffer.premultiplied;switch(t.buffer.format){case 0:s=(255&r[a])<<24|(255&r[1+a])<<16|(255&r[2+a])<<8|255&r[3+a];break;case 1:s=(255&r[1+a])<<24|(255&r[2+a])<<16|(255&r[3+a])<<8|255&r[a];break;case 2:s=(255&r[2+a])<<24|(255&r[1+a])<<16|(255&r[a])<<8|255&r[3+a]}switch(o&&0!=(255&s)&&255!=(255&s)&&(ha.unmult=255/(255&s),s=(255&ha.__clamp[Math.round((s>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((s>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((s>>8&255)*ha.unmult)])<<8|255&s),n){case 1:return(255&s)<<24|(255&s>>24)<<16|(255&s>>16)<<8|255&s>>8;case 2:return(255&s>>8)<<24|(255&s>>16)<<16|(255&s>>24)<<8|255&s;default:return s}},$r.getPixels=function(t,e,i){if(null==t.buffer.data)return null;for(var n,s,r=e.width*e.height|0,a=new jn(new Qu(4*r)),o=t.buffer.data,l=t.buffer.format,h=t.buffer.premultiplied,_=new ta(t,e),u=0,c=0,f=_.height;c<f;){var d=c++;n=_.offset+_.stride*d;for(var p=0,g=_.width;p<g;){p++;switch(l){case 0:s=(255&o[n])<<24|(255&o[n+1])<<16|(255&o[n+2])<<8|255&o[n+3];break;case 1:s=(255&o[n+1])<<24|(255&o[n+2])<<16|(255&o[n+3])<<8|255&o[n];break;case 2:s=(255&o[n+2])<<24|(255&o[n+1])<<16|(255&o[n])<<8|255&o[n+3]}switch(h&&0!=(255&s)&&255!=(255&s)&&(ha.unmult=255/(255&s),s=(255&ha.__clamp[Math.round((s>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((s>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((s>>8&255)*ha.unmult)])<<8|255&s),i){case 1:s=(255&s)<<24|(255&s>>24)<<16|(255&s>>16)<<8|255&s>>8;break;case 2:s=(255&s>>8)<<24|(255&s>>16)<<16|(255&s>>24)<<8|255&s}a.b[u++]=255&s>>24,a.b[u++]=255&s>>16,a.b[u++]=255&s>>8,a.b[u++]=255&s,n+=4}}return a},$r.merge=function(t,e,i,n,s,r,a,o){if(null!=t.buffer.data&&null!=e.buffer.data){for(var l,h,_,u,c=new ta(e,i),f=new ta(t,new sa(n.x,n.y,c.width,c.height)),d=e.buffer.data,p=t.buffer.data,g=e.buffer.format,m=t.buffer.format,v=e.buffer.premultiplied,b=t.buffer.premultiplied,y=0,w=f.height;y<w;){var x=y++;l=c.offset+c.stride*x,h=f.offset+f.stride*x;for(var T=0,S=f.width;T<S;){T++;switch(g){case 0:_=(255&d[l])<<24|(255&d[l+1])<<16|(255&d[l+2])<<8|255&d[l+3];break;case 1:_=(255&d[l+1])<<24|(255&d[l+2])<<16|(255&d[l+3])<<8|255&d[l];break;case 2:_=(255&d[l+2])<<24|(255&d[l+1])<<16|(255&d[l])<<8|255&d[l+3]}switch(v&&0!=(255&_)&&255!=(255&_)&&(ha.unmult=255/(255&_),_=(255&ha.__clamp[Math.round((_>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((_>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((_>>8&255)*ha.unmult)])<<8|255&_),m){case 0:u=(255&p[h])<<24|(255&p[h+1])<<16|(255&p[h+2])<<8|255&p[h+3];break;case 1:u=(255&p[h+1])<<24|(255&p[h+2])<<16|(255&p[h+3])<<8|255&p[h];break;case 2:u=(255&p[h+2])<<24|(255&p[h+1])<<16|(255&p[h])<<8|255&p[h+3]}switch(b&&0!=(255&u)&&255!=(255&u)&&(ha.unmult=255/(255&u),u=(255&ha.__clamp[Math.round((u>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((u>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((u>>8&255)*ha.unmult)])<<8|255&u),u=(255&(u=(255&(u=(255&(u=(255&(((_>>24&255)*s+(u>>24&255)*(256-s))/256|0))<<24|(255&u>>16)<<16|(255&u>>8)<<8|255&u)>>24)<<24|(255&(((_>>16&255)*r+(u>>16&255)*(256-r))/256|0))<<16|(255&u>>8)<<8|255&u)>>24)<<24|(255&u>>16)<<16|(255&(((_>>8&255)*a+(u>>8&255)*(256-a))/256|0))<<8|255&u)>>24)<<24|(255&u>>16)<<16|(255&u>>8)<<8|255&(((255&_)*o+(255&u)*(256-o))/256|0),b&&(0==(255&u)?0!=u&&(u=0):255!=(255&u)&&(ha.a16=ha.__alpha16[255&u],u=((u>>24&255)*ha.a16>>16&255)<<24|((u>>16&255)*ha.a16>>16&255)<<16|((u>>8&255)*ha.a16>>16&255)<<8|255&u)),m){case 0:p[h]=u>>24&255,p[h+1]=u>>16&255,p[h+2]=u>>8&255,p[h+3]=255&u;break;case 1:p[h]=255&u,p[h+1]=u>>24&255,p[h+2]=u>>16&255,p[h+3]=u>>8&255;break;case 2:p[h]=u>>8&255,p[h+1]=u>>16&255,p[h+2]=u>>24&255,p[h+3]=255&u}l+=4,h+=4}}t.dirty=!0}},$r.multiplyAlpha=function(t){var e=t.buffer.data;if(null!=e&&t.buffer.transparent){for(var i,n=t.buffer.format,s=0,r=e.length/4|0;s<r;){var a=s++,o=4*a;switch(n){case 0:i=(255&e[o])<<24|(255&e[1+o])<<16|(255&e[2+o])<<8|255&e[3+o];break;case 1:i=(255&e[1+o])<<24|(255&e[2+o])<<16|(255&e[3+o])<<8|255&e[o];break;case 2:i=(255&e[2+o])<<24|(255&e[1+o])<<16|(255&e[o])<<8|255&e[3+o]}var l=4*a;switch(0==(255&i)?0!=i&&(i=0):255!=(255&i)&&(ha.a16=ha.__alpha16[255&i],i=((i>>24&255)*ha.a16>>16&255)<<24|((i>>16&255)*ha.a16>>16&255)<<16|((i>>8&255)*ha.a16>>16&255)<<8|255&i),n){case 0:e[l]=i>>24&255,e[1+l]=i>>16&255,e[2+l]=i>>8&255,e[3+l]=255&i;break;case 1:e[l]=255&i,e[1+l]=i>>24&255,e[2+l]=i>>16&255,e[3+l]=i>>8&255;break;case 2:e[l]=i>>8&255,e[1+l]=i>>16&255,e[2+l]=i>>24&255,e[3+l]=255&i}}t.buffer.premultiplied=!0,t.dirty=!0}},$r.resize=function(t,e,i){var n=t.buffer;if(n.width!=e||n.height!=i){var s,r=e*i*4;s=null!=r?new ec(r):null;for(var a,o,l,h,_,u,c,f,d,p,g,m,v,b=new Xr(s,e,i),y=t.width,w=t.height,x=t.get_data(),T=b.data,S=0,E=i;S<E;)for(var I=S++,P=0,C=e;P<C;){var D=P++;a=4*((c=0|(d=(.5+I)/i*w-.5))*y+(u=0|(f=(.5+D)/e*y-.5))),l=c<w-1?a+4*y:a,h=(o=u<y-1?4+a:a)!=a?l+4:l,m=1-(p=f-u),v=1-(g=d-c),T[_=4*(I*e+D)]=(Rt.toFloat(x[a])*m+Rt.toFloat(x[o])*p)*v+(Rt.toFloat(x[l])*m+Rt.toFloat(x[h])*p)*g|0,T[1+_]=(Rt.toFloat(x[1+a])*m+Rt.toFloat(x[o+1])*p)*v+(Rt.toFloat(x[l+1])*m+Rt.toFloat(x[h+1])*p)*g|0,T[2+_]=(Rt.toFloat(x[2+a])*m+Rt.toFloat(x[o+2])*p)*v+(Rt.toFloat(x[l+2])*m+Rt.toFloat(x[h+2])*p)*g|0,0==x[o+3]||0==x[l+3]||0==x[h+3]?T[3+_]=0:T[3+_]=x[3+a]}n.data=b.data,n.width=e,n.height=i}},$r.resizeBuffer=function(t,e,i){for(var n,s,r=t.buffer,a=t.get_data(),o=e*i*4,l=null!=o?new ec(o):null,h=0,_=r.height;h<_;)for(var u=h++,c=0,f=r.width;c<f;){var d=c++;n=4*(u*r.width+d),l[s=4*(u*e+d)]=a[n],l[1+s]=a[1+n],l[2+s]=a[2+n],l[3+s]=a[3+n]}r.data=l,r.width=e,r.height=i},$r.setFormat=function(t,e){var i=t.buffer.data;if(null!=i){var n,s,r,a,o,l,h,_,u,c,f,d,p,g=i.length/4|0;switch(t.get_format()){case 0:s=0,r=1,a=2,o=3;break;case 1:s=1,r=2,a=3,o=0;break;case 2:s=2,r=1,a=0,o=3}switch(e){case 0:l=0,h=1,_=2,u=3;break;case 1:l=1,h=2,_=3,u=0;break;case 2:l=2,h=1,_=0,u=3}for(var m=0,v=g;m<v;){c=i[(n=4*m++)+s],f=i[n+r],d=i[n+a],p=i[n+o],i[n+l]=c,i[n+h]=f,i[n+_]=d,i[n+u]=p}t.buffer.format=e,t.dirty=!0}},$r.setPixel=function(t,e,i,n,s){var r;switch(s){case 1:r=(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24;break;case 2:r=(255&n>>8)<<24|(255&n>>16)<<16|(255&n>>24)<<8|255&n;break;default:r=n}var a=0,o=t.buffer.data,l=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),h=t.buffer.premultiplied;switch(t.buffer.format){case 0:a=(255&o[l])<<24|(255&o[1+l])<<16|(255&o[2+l])<<8|255&o[3+l];break;case 1:a=(255&o[1+l])<<24|(255&o[2+l])<<16|(255&o[3+l])<<8|255&o[l];break;case 2:a=(255&o[2+l])<<24|(255&o[1+l])<<16|(255&o[l])<<8|255&o[3+l]}h&&0!=(255&a)&&255!=(255&a)&&(ha.unmult=255/(255&a),a=(255&ha.__clamp[Math.round((a>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((a>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((a>>8&255)*ha.unmult)])<<8|255&a),r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255&(255&a);var _=t.buffer.data,u=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(ha.a16=ha.__alpha16[255&r],r=((r>>24&255)*ha.a16>>16&255)<<24|((r>>16&255)*ha.a16>>16&255)<<16|((r>>8&255)*ha.a16>>16&255)<<8|255&r)),t.buffer.format){case 0:_[u]=r>>24&255,_[1+u]=r>>16&255,_[2+u]=r>>8&255,_[3+u]=255&r;break;case 1:_[u]=255&r,_[1+u]=r>>24&255,_[2+u]=r>>16&255,_[3+u]=r>>8&255;break;case 2:_[u]=r>>8&255,_[1+u]=r>>16&255,_[2+u]=r>>24&255,_[3+u]=255&r}t.dirty=!0},$r.setPixel32=function(t,e,i,n,s){var r;switch(s){case 1:r=(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24;break;case 2:r=(255&n>>8)<<24|(255&n>>16)<<16|(255&n>>24)<<8|255&n;break;default:r=n}t.get_transparent()||(r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255);var a=t.buffer.data,o=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(ha.a16=ha.__alpha16[255&r],r=((r>>24&255)*ha.a16>>16&255)<<24|((r>>16&255)*ha.a16>>16&255)<<16|((r>>8&255)*ha.a16>>16&255)<<8|255&r)),t.buffer.format){case 0:a[o]=r>>24&255,a[1+o]=r>>16&255,a[2+o]=r>>8&255,a[3+o]=255&r;break;case 1:a[o]=255&r,a[1+o]=r>>24&255,a[2+o]=r>>16&255,a[3+o]=r>>8&255;break;case 2:a[o]=r>>8&255,a[1+o]=r>>16&255,a[2+o]=r>>24&255,a[3+o]=255&r}t.dirty=!0},$r.setPixels=function(t,e,i,n){if(null!=t.buffer.data){for(var s,r,a,o=t.buffer.data,l=t.buffer.format,h=t.buffer.premultiplied,_=new ta(t,e),u=t.get_transparent(),c=0,f=0,d=_.height;f<d;){var p=f++;s=_.offset+_.stride*p;for(var g=0,m=_.width;g<m;){var v=g++;switch(r=i.b[c+3]|i.b[c+2]<<8|i.b[c+1]<<16|i.b[c]<<24,c+=4,n){case 1:a=(255&r>>16)<<24|(255&r>>8)<<16|(255&r)<<8|255&r>>24;break;case 2:a=(255&r>>8)<<24|(255&r>>16)<<16|(255&r>>24)<<8|255&r;break;default:a=r}u||(a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255);var b=s+4*v;switch(h&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(ha.a16=ha.__alpha16[255&a],a=((a>>24&255)*ha.a16>>16&255)<<24|((a>>16&255)*ha.a16>>16&255)<<16|((a>>8&255)*ha.a16>>16&255)<<8|255&a)),l){case 0:o[b]=a>>24&255,o[b+1]=a>>16&255,o[b+2]=a>>8&255,o[b+3]=255&a;break;case 1:o[b]=255&a,o[b+1]=a>>24&255,o[b+2]=a>>16&255,o[b+3]=a>>8&255;break;case 2:o[b]=a>>8&255,o[b+1]=a>>16&255,o[b+2]=a>>24&255,o[b+3]=255&a}}}t.dirty=!0}},$r.threshold=function(t,e,i,n,s,r,a,o,l,h){var _,u,c,f;switch(h){case 1:_=(255&a>>16)<<24|(255&a>>8)<<16|(255&a)<<8|255&a>>24;u=(255&o>>16)<<24|(255&o>>8)<<16|(255&o)<<8|255&o>>24;c=(255&r>>16)<<24|(255&r>>8)<<16|(255&r)<<8|255&r>>24;break;case 2:_=(255&a>>8)<<24|(255&a>>16)<<16|(255&a>>24)<<8|255&a;u=(255&o>>8)<<24|(255&o>>16)<<16|(255&o>>24)<<8|255&o;c=(255&r>>8)<<24|(255&r>>16)<<16|(255&r>>24)<<8|255&r;break;default:_=a,u=o,c=r}switch(s){case"!=":f=0;break;case"<":f=2;break;case"<=":f=3;break;case"==":f=1;break;case">":f=4;break;case">=":f=5;break;default:f=-1}if(-1==f)return 0;var d=e.buffer.data,p=t.buffer.data;if(null==d||null==p)return 0;for(var g,m,v,b,y,w,x=0,T=new ta(e,i),S=new ta(t,new sa(n.x,n.y,T.width,T.height)),E=e.buffer.format,I=t.buffer.format,P=e.buffer.premultiplied,C=t.buffer.premultiplied,D=0,A=S.height;D<A;){var R=D++;g=T.offset+T.stride*R,m=S.offset+S.stride*R;for(var M=0,F=S.width;M<F;){var B,L;M++;switch(E){case 0:v=(255&d[g])<<24|(255&d[g+1])<<16|(255&d[g+2])<<8|255&d[g+3];break;case 1:v=(255&d[g+1])<<24|(255&d[g+2])<<16|(255&d[g+3])<<8|255&d[g];break;case 2:v=(255&d[g+2])<<24|(255&d[g+1])<<16|(255&d[g])<<8|255&d[g+3]}switch(P&&0!=(255&v)&&255!=(255&v)&&(ha.unmult=255/(255&v),v=(255&ha.__clamp[Math.round((v>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((v>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((v>>8&255)*ha.unmult)])<<8|255&v),w=(B=(b=v&u)>>24&255)!=(L=c>>24&255)?L<B?1:-1:(B=b>>16&255)!=(L=c>>16&255)?L<B?1:-1:(B=b>>8&255)!=(L=c>>8&255)?L<B?1:-1:(B=255&b)!=(L=255&c)?L<B?1:-1:0,f){case 0:y=0!=w;break;case 1:y=0==w;break;case 2:y=-1==w;break;case 3:y=0==w||-1==w;break;case 4:y=1==w;break;case 5:y=0==w||1==w;break;default:y=!1}if(y){switch(C&&(0==(255&_)?0!=_&&(_=0):255!=(255&_)&&(ha.a16=ha.__alpha16[255&_],_=((_>>24&255)*ha.a16>>16&255)<<24|((_>>16&255)*ha.a16>>16&255)<<16|((_>>8&255)*ha.a16>>16&255)<<8|255&_)),I){case 0:p[m]=_>>24&255,p[m+1]=_>>16&255,p[m+2]=_>>8&255,p[m+3]=255&_;break;case 1:p[m]=255&_,p[m+1]=_>>24&255,p[m+2]=_>>16&255,p[m+3]=_>>8&255;break;case 2:p[m]=_>>8&255,p[m+1]=_>>16&255,p[m+2]=_>>24&255,p[m+3]=255&_}++x}else if(l)switch(C&&(0==(255&v)?0!=v&&(v=0):255!=(255&v)&&(ha.a16=ha.__alpha16[255&v],v=((v>>24&255)*ha.a16>>16&255)<<24|((v>>16&255)*ha.a16>>16&255)<<16|((v>>8&255)*ha.a16>>16&255)<<8|255&v)),I){case 0:p[m]=v>>24&255,p[m+1]=v>>16&255,p[m+2]=v>>8&255,p[m+3]=255&v;break;case 1:p[m]=255&v,p[m+1]=v>>24&255,p[m+2]=v>>16&255,p[m+3]=v>>8&255;break;case 2:p[m]=v>>8&255,p[m+1]=v>>16&255,p[m+2]=v>>24&255,p[m+3]=255&v}g+=4,m+=4}}return 0<x&&(t.dirty=!0),x},$r.unmultiplyAlpha=function(t){var e=t.buffer.data;if(null!=e){for(var i,n=t.buffer.format,s=0,r=e.length/4|0;s<r;){var a=s++,o=4*a;switch(n){case 0:i=(255&e[o])<<24|(255&e[1+o])<<16|(255&e[2+o])<<8|255&e[3+o];break;case 1:i=(255&e[1+o])<<24|(255&e[2+o])<<16|(255&e[3+o])<<8|255&e[o];break;case 2:i=(255&e[2+o])<<24|(255&e[1+o])<<16|(255&e[o])<<8|255&e[3+o]}0!=(255&i)&&255!=(255&i)&&(ha.unmult=255/(255&i),i=(255&ha.__clamp[Math.round((i>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((i>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((i>>8&255)*ha.unmult)])<<8|255&i);var l=4*a;switch(n){case 0:e[l]=i>>24&255,e[1+l]=i>>16&255,e[2+l]=i>>8&255,e[3+l]=255&i;break;case 1:e[l]=255&i,e[1+l]=i>>24&255,e[2+l]=i>>16&255,e[3+l]=i>>8&255;break;case 2:e[l]=i>>8&255,e[1+l]=i>>16&255,e[2+l]=i>>24&255,e[3+l]=255&i}}t.buffer.premultiplied=!1,t.dirty=!0}},$r.__pixelCompare=function(t,e){var i,n;return(i=t>>24&255)!=(n=e>>24&255)?n<i?1:-1:(i=t>>16&255)!=(n=e>>16&255)?n<i?1:-1:(i=t>>8&255)!=(n=e>>8&255)?n<i?1:-1:(i=255&t)!=(n=255&e)?n<i?1:-1:0};var ta=function(t,e){this.image=t,null==e?this.rect=t.get_rect():(e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.width<0&&(e.width=0),e.height<0&&(e.height=0),this.rect=e),this.stride=t.buffer.get_stride(),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+t.offsetY)+4*(this.x+t.offsetX)};(i["lime.graphics.utils._ImageDataUtil.ImageDataView"]=ta).__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"],ta.prototype={clip:function(t,e,i,n){this.rect.__contract(t,e,i,n),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},row:function(t){return this.offset+this.stride*t},__class__:ta};var ea={};(i["lime.math._ColorMatrix.ColorMatrix_Impl_"]=ea).__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"],ea.__properties__={set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"},ea._new=function(t){var e;if(null!=t&&20==t.length)e=t;else{var i=ea.__identity;e=null!=i?new tc(i):null}return e},ea.clone=function(t){var e;return e=null!=t?new tc(t):null,ea._new(e)},ea.concat=function(t,e){t[0]+=e[0],t[6]+=e[6],t[12]+=e[12],t[18]+=e[18]},ea.copyFrom=function(t,e){t.set(e)},ea.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=1,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=1,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=1,t[19]=0},ea.getAlphaTable=function(t){for(var e,i=new ec(256),n=t[18],s=255*t[19],r=0;r<256;){var a=r++;255<(e=Math.floor(a*n+s))&&(e=255),e<0&&(e=0),i[a]=e}return i},ea.getBlueTable=function(t){for(var e,i=new ec(256),n=t[12],s=255*t[14],r=0;r<256;){var a=r++;255<(e=Math.floor(a*n+s))&&(e=255),e<0&&(e=0),i[a]=e}return i},ea.getGreenTable=function(t){for(var e,i=new ec(256),n=t[6],s=255*t[9],r=0;r<256;){var a=r++;255<(e=Math.floor(a*n+s))&&(e=255),e<0&&(e=0),i[a]=e}return i},ea.getRedTable=function(t){for(var e,i=new ec(256),n=t[0],s=255*t[4],r=0;r<256;){var a=r++;255<(e=Math.floor(a*n+s))&&(e=255),e<0&&(e=0),i[a]=e}return i},ea.__toFlashColorTransform=function(t){return null},ea.get_alphaMultiplier=function(t){return t[18]},ea.set_alphaMultiplier=function(t,e){return t[18]=e},ea.get_alphaOffset=function(t){return 255*t[19]},ea.set_alphaOffset=function(t,e){return t[19]=e/255},ea.get_blueMultiplier=function(t){return t[12]},ea.set_blueMultiplier=function(t,e){return t[12]=e},ea.get_blueOffset=function(t){return 255*t[14]},ea.set_blueOffset=function(t,e){return t[14]=e/255},ea.get_color=function(t){return(255*t[4]|0)<<16|(255*t[9]|0)<<8|255*t[14]|0},ea.set_color=function(t,e){return t[4]=(e>>16&255)/255,t[9]=(e>>8&255)/255,t[14]=(255&e)/255,t[0]=0,t[6]=0,t[12]=0,ea.get_color(t)},ea.get_greenMultiplier=function(t){return t[6]},ea.set_greenMultiplier=function(t,e){return t[6]=e},ea.get_greenOffset=function(t){return 255*t[9]},ea.set_greenOffset=function(t,e){return t[9]=e/255},ea.get_redMultiplier=function(t){return t[0]},ea.set_redMultiplier=function(t,e){return t[0]=e},ea.get_redOffset=function(t){return 255*t[4]},ea.set_redOffset=function(t,e){return t[4]=e/255},ea.get=function(t,e){return t[e]},ea.set=function(t,e,i){return t[e]=i};function ia(t,e,i,n,s,r){null==r&&(r=0),null==s&&(s=0),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r}(i["lime.math.Matrix3"]=ia).__name__=["lime","math","Matrix3"],ia.prototype={clone:function(){return new ia(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var n=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=n},copyColumnFrom:function(t,e){if(2<t)throw new Vs("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw new Vs("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=0):1==t?(e.x=this.b,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw new Vs("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(2<t)throw new Vs("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):(e.x=0,e.y=0,e.z=1)},createBox:function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=0),null==i&&(i=0),this.a=t,this.d=e,this.b=i,this.tx=n,this.ty=s},createGradientBox:function(t,e,i,n,s){if(null==s&&(s=0),null==n&&(n=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var r=Math.cos(i),a=Math.sin(i);this.b=a*this.d,this.c=-a*this.a,this.a*=r,this.d*=r}else this.b=0,this.c=0;this.tx=n+t/2,this.ty=s+e/2},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},deltaTransformVector2:function(t){return new ra(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}return this},mult:function(t){var e=new ia(this.a,this.b,this.c,this.d,this.tx,this.ty);return e.concat(t),e},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a*e-this.b*i;this.b=this.a*i+this.b*e,this.a=n;var s=this.c*e-this.d*i;this.d=this.c*i+this.d*e,this.c=s;var r=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e,this.tx=r},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,n,s,r){this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r},to3DString:function(t){return null==t&&(t=!1),t?"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformVector2:function(t){return new ra(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__transformX:function(t){return t.x*this.a+t.y*this.c+this.tx},__transformY:function(t){return t.x*this.b+t.y*this.d+this.ty},__translateTransformed:function(t){this.tx=t.x*this.a+t.y*this.c+this.tx,this.ty=t.x*this.b+t.y*this.d+this.ty},__class__:ia};var na={};(i["lime.math._Matrix4.Matrix4_Impl_"]=na).__name__=["lime","math","_Matrix4","Matrix4_Impl_"],na.__properties__={set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"},na._new=function(t){var e;if(null!=t&&16==t.length)e=t;else{var i=na.__identity;e=null!=i?new tc(i):null}return e},na.append=function(t,e){var i=t[0],n=t[4],s=t[8],r=t[12],a=t[1],o=t[5],l=t[9],h=t[13],_=t[2],u=t[6],c=t[10],f=t[14],d=t[3],p=t[7],g=t[11],m=t[15],v=na.get(e,0),b=na.get(e,4),y=na.get(e,8),w=na.get(e,12),x=na.get(e,1),T=na.get(e,5),S=na.get(e,9),E=na.get(e,13),I=na.get(e,2),P=na.get(e,6),C=na.get(e,10),D=na.get(e,14),A=na.get(e,3),R=na.get(e,7),M=na.get(e,11),F=na.get(e,15);t[0]=i*v+a*b+_*y+d*w,t[1]=i*x+a*T+_*S+d*E,t[2]=i*I+a*P+_*C+d*D,t[3]=i*A+a*R+_*M+d*F,t[4]=n*v+o*b+u*y+p*w,t[5]=n*x+o*T+u*S+p*E,t[6]=n*I+o*P+u*C+p*D,t[7]=n*A+o*R+u*M+p*F,t[8]=s*v+l*b+c*y+g*w,t[9]=s*x+l*T+c*S+g*E,t[10]=s*I+l*P+c*C+g*D,t[11]=s*A+l*R+c*M+g*F,t[12]=r*v+h*b+f*y+m*w,t[13]=r*x+h*T+f*S+m*E,t[14]=r*I+h*P+f*C+m*D,t[15]=r*A+h*R+f*M+m*F},na.appendRotation=function(t,e,i,n){var s=na.getAxisRotation(i.x,i.y,i.z,e);if(null!=n){var r=n;na.appendTranslation(s,r.x,r.y,r.z)}na.append(t,s)},na.appendScale=function(t,e,i,n){var s,r=[e,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1];s=null!=r?new tc(r):null,na.append(t,na._new(s))},na.appendTranslation=function(t,e,i,n){t[12]+=e,t[13]+=i,t[14]+=n},na.clone=function(t){var e;return e=null!=t?new tc(t):null,na._new(e)},na.copyColumnFrom=function(t,e,i){switch(e){case 0:t[0]=i.x,t[1]=i.y,t[2]=i.z,t[3]=i.w;break;case 1:t[4]=i.x,t[5]=i.y,t[6]=i.z,t[7]=i.w;break;case 2:t[8]=i.x,t[9]=i.y,t[10]=i.z,t[11]=i.w;break;case 3:t[12]=i.x,t[13]=i.y,t[14]=i.z,t[15]=i.w;break;default:throw new Vs("Error, Column "+e+" out of bounds [0, ..., 3]")}},na.copyColumnTo=function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[1],i.z=t[2],i.w=t[3];break;case 1:i.x=t[4],i.y=t[5],i.z=t[6],i.w=t[7];break;case 2:i.x=t[8],i.y=t[9],i.z=t[10],i.w=t[11];break;case 3:i.x=t[12],i.y=t[13],i.z=t[14],i.w=t[15];break;default:throw new Vs("Error, Column "+e+" out of bounds [0, ..., 3]")}},na.copyFrom=function(t,e){t.set(e)},na.copythisFrom=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=0),n&&na.transpose(t);for(var s=0,r=e.length-i;s<r;){var a=s++;t[a]=e[a+i]}n&&na.transpose(t)},na.copythisTo=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=0),n&&na.transpose(t);for(var s=0,r=t.length;s<r;){var a=s++;e[a+i]=t[a]}n&&na.transpose(t)},na.copyRowFrom=function(t,e,i){switch(e){case 0:t[0]=i.x,t[4]=i.y,t[8]=i.z,t[12]=i.w;break;case 1:t[1]=i.x,t[5]=i.y,t[9]=i.z,t[13]=i.w;break;case 2:t[2]=i.x,t[6]=i.y,t[10]=i.z,t[14]=i.w;break;case 3:t[3]=i.x,t[7]=i.y,t[11]=i.z,t[15]=i.w;break;default:throw new Vs("Error, Row "+L.string(Rt.toFloat(e))+" out of bounds [0, ..., 3]")}},na.create2D=function(t,e,i,n){null==n&&(n=0),null==i&&(i=1);var s,r=n*Math.PI/180,a=Math.cos(r),o=Math.sin(r),l=[a*i,-o*i,0,0,o*i,a*i,0,0,0,0,1,0,t,e,0,1];return s=null!=l?new tc(l):null,na._new(s)},na.createABCD=function(t,e,i,n,s,r){var a,o=[t,e,0,0,i,n,0,0,0,0,1,0,s,r,0,1];return a=null!=o?new tc(o):null,na._new(a)},na.createOrtho=function(t,e,i,n,s,r){var a,o=1/(e-t),l=1/(n-i),h=1/(r-s),_=[2*o,0,0,0,0,2*l,0,0,0,0,-2*h,0,-(t+e)*o,-(i+n)*l,-(s+r)*h,1];return a=null!=_?new tc(_):null,na._new(a)},na.copyRowTo=function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[4],i.z=t[8],i.w=t[12];break;case 1:i.x=t[1],i.y=t[5],i.z=t[9],i.w=t[13];break;case 2:i.x=t[2],i.y=t[6],i.z=t[10],i.w=t[14];break;case 3:i.x=t[3],i.y=t[7],i.z=t[11],i.w=t[15];break;default:throw new Vs("Error, Row "+e+" out of bounds [0, ..., 3]")}},na.copyToMatrix4=function(t,e){zs.__cast(e,tc).set(t)},na.deltaTransformVector=function(t,e){var i=e.x,n=e.y,s=e.z;return new aa(i*t[0]+n*t[4]+s*t[8]+t[3],i*t[1]+n*t[5]+s*t[9]+t[7],i*t[2]+n*t[6]+s*t[10]+t[11],0)},na.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1},na.interpolate=function(t,e,i){for(var n=na._new(),s=0;s<16;){var r=s++;na.set(n,r,na.get(t,r)+(na.get(e,r)-na.get(t,r))*i)}return n},na.interpolateTo=function(t,e,i){for(var n=0;n<16;){var s=n++;t[s]+=(na.get(e,s)-t[s])*i}},na.invert=function(t){var e=na.get_determinant(t),i=1e-11<Math.abs(e);if(i){e=1/e;var n=t[0],s=t[4],r=t[8],a=t[12],o=t[1],l=t[5],h=t[9],_=t[13],u=t[2],c=t[6],f=t[10],d=t[14],p=t[3],g=t[7],m=t[11],v=t[15];t[0]=e*(l*(f*v-d*m)-h*(c*v-d*g)+_*(c*m-f*g)),t[1]=-e*(o*(f*v-d*m)-h*(u*v-d*p)+_*(u*m-f*p)),t[2]=e*(o*(c*v-d*g)-l*(u*v-d*p)+_*(u*g-c*p)),t[3]=-e*(o*(c*m-f*g)-l*(u*m-f*p)+h*(u*g-c*p)),t[4]=-e*(s*(f*v-d*m)-r*(c*v-d*g)+a*(c*m-f*g)),t[5]=e*(n*(f*v-d*m)-r*(u*v-d*p)+a*(u*m-f*p)),t[6]=-e*(n*(c*v-d*g)-s*(u*v-d*p)+a*(u*g-c*p)),t[7]=e*(n*(c*m-f*g)-s*(u*m-f*p)+r*(u*g-c*p)),t[8]=e*(s*(h*v-_*m)-r*(l*v-_*g)+a*(l*m-h*g)),t[9]=-e*(n*(h*v-_*m)-r*(o*v-_*p)+a*(o*m-h*p)),t[10]=e*(n*(l*v-_*g)-s*(o*v-_*p)+a*(o*g-l*p)),t[11]=-e*(n*(l*m-h*g)-s*(o*m-h*p)+r*(o*g-l*p)),t[12]=-e*(s*(h*d-_*f)-r*(l*d-_*c)+a*(l*f-h*c)),t[13]=e*(n*(h*d-_*f)-r*(o*d-_*u)+a*(o*f-h*u)),t[14]=-e*(n*(l*d-_*c)-s*(o*d-_*u)+a*(o*c-l*u)),t[15]=e*(n*(l*f-h*c)-s*(o*f-h*u)+r*(o*c-l*u))}return i},na.pointAt=function(t,e,i,n){null==i&&(i=new aa(0,0,-1)),null==n&&(n=new aa(0,-1,0));var s,r=new aa(i.x-e.x,i.y-e.y,i.z-e.z),a=new aa(n.x,n.y,n.z,n.w),o=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z);0!=o&&(r.x/=o,r.y/=o,r.z/=o);var l=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);0!=l&&(a.x/=l,a.y/=l,a.z/=l);var h=new aa(r.x,r.y,r.z,r.w),_=a.x*r.x+a.y*r.y+a.z*r.z;if(h.x*=_,h.y*=_,h.z*=_,a=new aa(a.x-h.x,a.y-h.y,a.z-h.z),0<Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z)){var u=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);0!=u&&(a.x/=u,a.y/=u,a.z/=u)}else a=0!=r.x?new aa(-r.y,r.x,0):new aa(1,0,0);s=new aa(a.y*r.z-a.z*r.y,a.z*r.x-a.x*r.z,a.x*r.y-a.y*r.x,1);var c=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z);0!=c&&(s.x/=c,s.y/=c,s.z/=c),t[0]=s.x,t[4]=s.y,t[8]=s.z,t[12]=0,t[1]=a.x,t[5]=a.y,t[9]=a.z,t[13]=0,t[2]=r.x,t[6]=r.y,t[10]=r.z,t[14]=0,t[3]=e.x,t[7]=e.y,t[11]=e.z,t[15]=1},na.prepend=function(t,e){var i=na.get(e,0),n=na.get(e,4),s=na.get(e,8),r=na.get(e,12),a=na.get(e,1),o=na.get(e,5),l=na.get(e,9),h=na.get(e,13),_=na.get(e,2),u=na.get(e,6),c=na.get(e,10),f=na.get(e,14),d=na.get(e,3),p=na.get(e,7),g=na.get(e,11),m=na.get(e,15),v=t[0],b=t[4],y=t[8],w=t[12],x=t[1],T=t[5],S=t[9],E=t[13],I=t[2],P=t[6],C=t[10],D=t[14],A=t[3],R=t[7],M=t[11],F=t[15];t[0]=i*v+a*b+_*y+d*w,t[1]=i*x+a*T+_*S+d*E,t[2]=i*I+a*P+_*C+d*D,t[3]=i*A+a*R+_*M+d*F,t[4]=n*v+o*b+u*y+p*w,t[5]=n*x+o*T+u*S+p*E,t[6]=n*I+o*P+u*C+p*D,t[7]=n*A+o*R+u*M+p*F,t[8]=s*v+l*b+c*y+g*w,t[9]=s*x+l*T+c*S+g*E,t[10]=s*I+l*P+c*C+g*D,t[11]=s*A+l*R+c*M+g*F,t[12]=r*v+h*b+f*y+m*w,t[13]=r*x+h*T+f*S+m*E,t[14]=r*I+h*P+f*C+m*D,t[15]=r*A+h*R+f*M+m*F},na.prependRotation=function(t,e,i,n){var s=na.getAxisRotation(i.x,i.y,i.z,e);if(null!=n){var r=n;na.appendTranslation(s,r.x,r.y,r.z)}na.prepend(t,s)},na.prependScale=function(t,e,i,n){var s,r=[e,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1];s=null!=r?new tc(r):null,na.prepend(t,na._new(s))},na.prependTranslation=function(t,e,i,n){var s=na._new();na.set_position(s,new aa(e,i,n)),na.prepend(t,s)},na.transformVector=function(t,e){var i=e.x,n=e.y,s=e.z;return new aa(i*t[0]+n*t[4]+s*t[8]+t[12],i*t[1]+n*t[5]+s*t[9]+t[13],i*t[2]+n*t[6]+s*t[10]+t[14],i*t[3]+n*t[7]+s*t[11]+t[15])},na.transformVectors=function(t,e,i){for(var n=0;n+3<=e.length;){var s=e[n],r=e[n+1],a=e[n+2];i[n]=s*t[0]+r*t[4]+a*t[8]+t[12],i[n+1]=s*t[1]+r*t[5]+a*t[9]+t[13],i[n+2]=s*t[2]+r*t[6]+a*t[10]+t[14],n+=3}},na.transpose=function(t){var e=null!=t?new tc(t):null;t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11]},na.getAxisRotation=function(t,e,i,n){var s=na._new(),r=new aa(t,e,i),a=-n*(Math.PI/180),o=Math.cos(a),l=Math.sin(a),h=1-o;na.set(s,0,o+r.x*r.x*h),na.set(s,5,o+r.y*r.y*h),na.set(s,10,o+r.z*r.z*h);var _=r.x*r.y*h,u=r.z*l;return na.set(s,4,_+u),na.set(s,1,_-u),_=r.x*r.z*h,u=r.y*l,na.set(s,8,_-u),na.set(s,2,_+u),_=r.y*r.z*h,u=r.x*l,na.set(s,9,_+u),na.set(s,6,_-u),s},na.get_determinant=function(t){return(t[0]*t[5]-t[4]*t[1])*(t[10]*t[15]-t[14]*t[11])-(t[0]*t[9]-t[8]*t[1])*(t[6]*t[15]-t[14]*t[7])+(t[0]*t[13]-t[12]*t[1])*(t[6]*t[11]-t[10]*t[7])+(t[4]*t[9]-t[8]*t[5])*(t[2]*t[15]-t[14]*t[3])-(t[4]*t[13]-t[12]*t[5])*(t[2]*t[11]-t[10]*t[3])+(t[8]*t[13]-t[12]*t[9])*(t[2]*t[7]-t[6]*t[3])},na.get_position=function(t){return new aa(t[12],t[13],t[14])},na.set_position=function(t,e){return t[12]=e.x,t[13]=e.y,t[14]=e.z,e},na.get=function(t,e){return t[e]},na.set=function(t,e,i){return t[e]=i};var sa=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=i,this.height=n};(i["lime.math.Rectangle"]=sa).__name__=["lime","math","Rectangle"],sa.prototype={clone:function(){return new sa(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e=this.x<t.x?t.x:this.x,i=this.get_right()>t.get_right()?t.get_right():this.get_right();if(i<=e)return new sa;var n=this.y<t.y?t.y:this.y,s=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom();return s<=n?new sa:new sa(e,n,i-e,s-n)},intersects:function(t){var e=this.x<t.x?t.x:this.x;return!((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)&&(this.y<t.y?t.y:this.y)<(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},transform:function(t){var e=t.a*this.x+t.c*this.y,i=e,n=t.b*this.x+t.d*this.y,s=n,r=t.a*(this.x+this.width)+t.c*this.y,a=t.b*(this.x+this.width)+t.d*this.y;return r<e&&(e=r),a<n&&(n=a),i<r&&(i=r),s<a&&(s=a),(r=t.a*(this.x+this.width)+t.c*(this.y+this.height))<e&&(e=r),(a=t.b*(this.x+this.width)+t.d*(this.y+this.height))<n&&(n=a),i<r&&(i=r),s<a&&(s=a),(r=t.a*this.x+t.c*(this.y+this.height))<e&&(e=r),(a=t.b*this.x+t.d*(this.y+this.height))<n&&(n=a),i<r&&(i=r),s<a&&(s=a),new sa(e+t.tx,n+t.ty,i-e,s-n)},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e=this.x>t.x?t.x:this.x,i=this.get_right()<t.get_right()?t.get_right():this.get_right(),n=this.y>t.y?t.y:this.y,s=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom();return new sa(e,n,i-e,s-n)},__contract:function(t,e,i,n){0==this.width&&0==this.height||(this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+i&&(this.width=t+i-this.x),this.get_bottom()>e+n&&(this.height=e+n-this.y))},__expand:function(t,e,i,n){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=i,void(this.height=n);var s=this.get_right(),r=this.get_bottom();this.x>t&&(this.x=t),this.y>e&&(this.y=e),s<t+i&&(this.width=t+i-this.x),r<e+n&&(this.height=e+n-this.y)},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new ra(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new ra(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t},get_topLeft:function(){return new ra(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},__class__:sa,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var ra=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};(i["lime.math.Vector2"]=ra).__name__=["lime","math","Vector2"],ra.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},ra.interpolate=function(t,e,i){return new ra(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y))},ra.polar=function(t,e){return new ra(t*Math.cos(e),t*Math.sin(e))},ra.prototype={add:function(t){return new ra(t.x+this.x,t.y+this.y)},clone:function(){return new ra(this.x,this.y)},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new ra(this.x-t.x,this.y-t.y)},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:ra,__properties__:{get_length:"get_length"}};var aa=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=n,this.x=t,this.y=e,this.z=i};(i["lime.math.Vector4"]=aa).__name__=["lime","math","Vector4"],aa.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},aa.X_AXIS=null,aa.Y_AXIS=null,aa.Z_AXIS=null,aa.angleBetween=function(t,e){var i=new aa(t.x,t.y,t.z,t.w),n=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z);0!=n&&(i.x/=n,i.y/=n,i.z/=n);var s=new aa(e.x,e.y,e.z,e.w),r=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z);return 0!=r&&(s.x/=r,s.y/=r,s.z/=r),Math.acos(i.x*s.x+i.y*s.y+i.z*s.z)},aa.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y,s=e.z-t.z;return Math.sqrt(i*i+n*n+s*s)},aa.get_X_AXIS=function(){return new aa(1,0,0)},aa.get_Y_AXIS=function(){return new aa(0,1,0)},aa.get_Z_AXIS=function(){return new aa(0,0,1)},aa.prototype={add:function(t){return new aa(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new aa(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new aa(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t){return new aa(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:aa,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var oa={};(i["lime.math.color._ARGB.ARGB_Impl_"]=oa).__name__=["lime","math","color","_ARGB","ARGB_Impl_"],oa.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},oa.a16=null,oa.unmult=null,oa._new=function(t){return null==t&&(t=0),t},oa.create=function(t,e,i,n){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&n},oa.multiplyAlpha=function(t){0==(t>>24&255)?t=0:255!=(t>>24&255)&&(oa.a16=ha.__alpha16[t>>24&255],t=(255&t>>24)<<24|((t>>16&255)*oa.a16>>16&255)<<16|((t>>8&255)*oa.a16>>16&255)<<8|(255&t)*oa.a16>>16&255)},oa.readUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),n){case 0:t=(255&e[i+1])<<24|(255&e[i+2])<<16|(255&e[i+3])<<8|255&e[i];break;case 1:t=(255&e[i+2])<<24|(255&e[i+3])<<16|(255&e[i])<<8|255&e[i+1];break;case 2:t=(255&e[i+1])<<24|(255&e[i])<<16|(255&e[i+3])<<8|255&e[i+2]}s&&0!=(t>>24&255)&&255!=(t>>24&255)&&(oa.unmult=255/(t>>24&255),t=(255&t>>24)<<24|(255&ha.__clamp[Math.floor((t>>16&255)*oa.unmult)])<<16|(255&ha.__clamp[Math.floor((t>>8&255)*oa.unmult)])<<8|255&ha.__clamp[Math.floor((255&t)*oa.unmult)])},oa.set=function(t,e,i,n,s){(255&e)<<24|(255&i)<<16|(255&n)<<8|255&s},oa.unmultiplyAlpha=function(t){0!=(t>>24&255)&&255!=(t>>24&255)&&(oa.unmult=255/(t>>24&255),t=(255&t>>24)<<24|(255&ha.__clamp[Math.floor((t>>16&255)*oa.unmult)])<<16|(255&ha.__clamp[Math.floor((t>>8&255)*oa.unmult)])<<8|255&ha.__clamp[Math.floor((255&t)*oa.unmult)])},oa.writeUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),s&&(0==(t>>24&255)?t=0:255!=(t>>24&255)&&(oa.a16=ha.__alpha16[t>>24&255],t=(255&t>>24)<<24|((t>>16&255)*oa.a16>>16&255)<<16|((t>>8&255)*oa.a16>>16&255)<<8|(255&t)*oa.a16>>16&255)),n){case 0:e[i]=t>>16&255,e[i+1]=t>>8&255,e[i+2]=255&t,e[i+3]=t>>24&255;break;case 1:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t;break;case 2:e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255}},oa.__fromBGRA=function(t){return(255&t)<<24|(255&t>>8)<<16|(255&t>>16)<<8|255&t>>24},oa.__fromRGBA=function(t){return(255&t)<<24|(255&t>>24)<<16|(255&t>>16)<<8|255&t>>8},oa.get_a=function(t){return t>>24&255},oa.set_a=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e},oa.get_b=function(t){return 255&t},oa.set_b=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},oa.get_g=function(t){return t>>8&255},oa.set_g=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e},oa.get_r=function(t){return t>>16&255},oa.set_r=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e};var la={};(i["lime.math.color._BGRA.BGRA_Impl_"]=la).__name__=["lime","math","color","_BGRA","BGRA_Impl_"],la.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},la.a16=null,la.unmult=null,la._new=function(t){return null==t&&(t=0),t},la.create=function(t,e,i,n){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&n},la.multiplyAlpha=function(t){0==(255&t)?t=0:255!=(255&t)&&(la.a16=ha.__alpha16[255&t],t=((t>>24&255)*la.a16>>16&255)<<24|((t>>16&255)*la.a16>>16&255)<<16|((t>>8&255)*la.a16>>16&255)<<8|255&t)},la.readUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),n){case 0:t=(255&e[i+2])<<24|(255&e[i+1])<<16|(255&e[i])<<8|255&e[i+3];break;case 1:t=(255&e[i+3])<<24|(255&e[i+2])<<16|(255&e[i+1])<<8|255&e[i];break;case 2:t=(255&e[i])<<24|(255&e[i+1])<<16|(255&e[i+2])<<8|255&e[i+3]}s&&0!=(255&t)&&255!=(255&t)&&(la.unmult=255/(255&t),t=(255&ha.__clamp[Math.floor((t>>24&255)*la.unmult)])<<24|(255&ha.__clamp[Math.floor((t>>16&255)*la.unmult)])<<16|(255&ha.__clamp[Math.floor((t>>8&255)*la.unmult)])<<8|255&t)},la.set=function(t,e,i,n,s){(255&e)<<24|(255&i)<<16|(255&n)<<8|255&s},la.unmultiplyAlpha=function(t){0!=(255&t)&&255!=(255&t)&&(la.unmult=255/(255&t),t=(255&ha.__clamp[Math.floor((t>>24&255)*la.unmult)])<<24|(255&ha.__clamp[Math.floor((t>>16&255)*la.unmult)])<<16|(255&ha.__clamp[Math.floor((t>>8&255)*la.unmult)])<<8|255&t)},la.writeUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),s&&(0==(255&t)?t=0:255!=(255&t)&&(la.a16=ha.__alpha16[255&t],t=((t>>24&255)*la.a16>>16&255)<<24|((t>>16&255)*la.a16>>16&255)<<16|((t>>8&255)*la.a16>>16&255)<<8|255&t)),n){case 0:e[i]=t>>8&255,e[i+1]=t>>16&255,e[i+2]=t>>24&255,e[i+3]=255&t;break;case 1:e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255;break;case 2:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t}},la.__fromARGB=function(t){return(255&t)<<24|(255&t>>8)<<16|(255&t>>16)<<8|255&t>>24},la.__fromRGBA=function(t){return(255&t>>8)<<24|(255&t>>16)<<16|(255&t>>24)<<8|255&t},la.get_a=function(t){return 255&t},la.set_a=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},la.get_b=function(t){return t>>24&255},la.set_b=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e},la.get_g=function(t){return t>>16&255},la.set_g=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e},la.get_r=function(t){return t>>8&255},la.set_r=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e};var ha={};(i["lime.math.color._RGBA.RGBA_Impl_"]=ha).__name__=["lime","math","color","_RGBA","RGBA_Impl_"],ha.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},ha.__alpha16=null,ha.__clamp=null,ha.a16=null,ha.unmult=null,ha._new=function(t){return null==t&&(t=0),t},ha.create=function(t,e,i,n){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&n},ha.multiplyAlpha=function(t){0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(ha.a16=ha.__alpha16[255&t],t=((t>>24&255)*ha.a16>>16&255)<<24|((t>>16&255)*ha.a16>>16&255)<<16|((t>>8&255)*ha.a16>>16&255)<<8|255&t)},ha.readUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),n){case 0:t=(255&e[i])<<24|(255&e[i+1])<<16|(255&e[i+2])<<8|255&e[i+3];break;case 1:t=(255&e[i+1])<<24|(255&e[i+2])<<16|(255&e[i+3])<<8|255&e[i];break;case 2:t=(255&e[i+2])<<24|(255&e[i+1])<<16|(255&e[i])<<8|255&e[i+3]}s&&0!=(255&t)&&255!=(255&t)&&(ha.unmult=255/(255&t),t=(255&ha.__clamp[Math.round((t>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((t>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((t>>8&255)*ha.unmult)])<<8|255&t)},ha.set=function(t,e,i,n,s){(255&e)<<24|(255&i)<<16|(255&n)<<8|255&s},ha.unmultiplyAlpha=function(t){0!=(255&t)&&255!=(255&t)&&(ha.unmult=255/(255&t),t=(255&ha.__clamp[Math.round((t>>24&255)*ha.unmult)])<<24|(255&ha.__clamp[Math.round((t>>16&255)*ha.unmult)])<<16|(255&ha.__clamp[Math.round((t>>8&255)*ha.unmult)])<<8|255&t)},ha.writeUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),s&&(0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(ha.a16=ha.__alpha16[255&t],t=((t>>24&255)*ha.a16>>16&255)<<24|((t>>16&255)*ha.a16>>16&255)<<16|((t>>8&255)*ha.a16>>16&255)<<8|255&t)),n){case 0:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t;break;case 1:e[i]=255&t,e[i+1]=t>>24&255,e[i+2]=t>>16&255,e[i+3]=t>>8&255;break;case 2:e[i]=t>>8&255,e[i+1]=t>>16&255,e[i+2]=t>>24&255,e[i+3]=255&t}},ha.__fromARGB=function(t){return(255&t>>16)<<24|(255&t>>8)<<16|(255&t)<<8|255&t>>24},ha.__fromBGRA=function(t){return(255&t>>8)<<24|(255&t>>16)<<16|(255&t>>24)<<8|255&t},ha.get_a=function(t){return 255&t},ha.set_a=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},ha.get_b=function(t){return t>>8&255},ha.set_b=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e},ha.get_g=function(t){return t>>16&255},ha.set_g=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e},ha.get_r=function(t){return t>>24&255},ha.set_r=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e};var _a=function(){this.responseType="arraybuffer",this.response={bytes:null,text:null},this.promise=new Er};(i["lime.net.HTTPRequest"]=_a).__name__=["lime","net","HTTPRequest"],_a.prototype={load:function(t){var e=this;this.bytesLoaded=0,this.bytesTotal=0;var i=new XMLHttpRequest;return i.addEventListener("progress",Hu(this,this.request_onProgress),!1),i.onreadystatechange=function(){4==i.readyState&&(null!=i.status&&200<=i.status&&i.status<=400?("arraybuffer"==i.responseType?e.response.bytes=Va.ofData(i.response):e.response.text=i.response,e.promise.complete(e.response)):e.promise.error(i.responseURL))},i.open("GET",t,!0),i.responseType=this.responseType,i.send(""),this.promise.future},curl_onProgress:function(t,e,i,n){return(n>this.bytesLoaded||e>this.bytesLoaded||i>this.bytesTotal||t>this.bytesTotal)&&(n>this.bytesLoaded&&(this.bytesLoaded=0|n),e>this.bytesLoaded&&(this.bytesLoaded=0|e),i>this.bytesTotal&&(this.bytesTotal=0|i),t>this.bytesTotal&&(this.bytesTotal=0|t),this.promise.progress(this.bytesLoaded/this.bytesTotal)),0},curl_onWrite:function(t,e,i){var n=this.response.bytes;return this.response.bytes=Va.alloc(this.response.bytes.length+t.length),this.response.bytes.blit(0,n,0,n.length),this.response.bytes.blit(n.length,t,0,t.length),e*i},request_onProgress:function(t){this.promise.progress(t.loaded/t.total)},__class__:_a};var ua={};(i["lime.net.curl._CURL.CURL_Impl_"]=ua).__name__=["lime","net","curl","_CURL","CURL_Impl_"],ua.getDate=function(t,e){return 0},ua.globalCleanup=function(){},ua.globalInit=function(t){return 0},ua.version=function(){return null},ua.versionInfo=function(t){return null},ua.intGt=function(t,e){return e<t};function ca(){}(i["lime.net.curl.CURLEasy"]=ca).__name__=["lime","net","curl","CURLEasy"],ca.cleanup=function(t){},ca.duphandle=function(t){return 0},ca.escape=function(t,e,i){return null},ca.getinfo=function(t,e){return null},ca.init=function(){return 0},ca.pause=function(t,e){return 0},ca.perform=function(t){return 0},ca.reset=function(t){},ca.setopt=function(t,e,i){return 0},ca.strerror=function(t){return null},ca.unescape=function(t,e,i,n){return null},ca.__writeCallback=function(t,e,i,n){return 0};function fa(){this.onProgress=new ar,this.onError=new ar,this.onComplete=new ar,this.doWork=new ar}(i["lime.system.BackgroundWorker"]=fa).__name__=["lime","system","BackgroundWorker"],fa.prototype={cancel:function(){this.canceled=!0},run:function(t){this.canceled=!1,this.__runMessage=t,this.__doWork()},sendComplete:function(t){this.canceled||(this.canceled=!0,this.onComplete.dispatch(t))},sendError:function(t){this.canceled||(this.canceled=!0,this.onError.dispatch(t))},sendProgress:function(t){this.canceled||this.onProgress.dispatch(t)},__doWork:function(){this.doWork.dispatch(this.__runMessage)},__update:function(t){},__class__:fa};function da(){}(i["lime.system.CFFI"]=da).__name__=["lime","system","CFFI"],da.available=null,da.enabled=null,da.load=function(t,e,i,n){if(null==n&&(n=!1),null==i&&(i=0),!da.enabled)return At.makeVarArgs(function(t){return{}});return null},da.__findHaxelib=function(t){return""},da.__loaderTrace=function(t){},da.__sysName=function(){return null},da.__tryLoad=function(t,e,i,n){return null};var pa={};(i["lime.system._CFFIPointer.CFFIPointer_Impl_"]=pa).__name__=["lime","system","_CFFIPointer","CFFIPointer_Impl_"],pa._new=function(t){return t},pa.get=function(t){return 0},pa.equals=function(t,e){return pa.get(t)==e},pa.equalsPointer=function(t,e){return pa.get(t)==pa.get(e)},pa.greaterThan=function(t,e){return pa.get(t)>e},pa.greaterThanPointer=function(t,e){return pa.get(t)>pa.get(e)},pa.greaterThanOrEqual=function(t,e){return pa.get(t)>=e},pa.greaterThanOrEqualPointer=function(t,e){return pa.get(t)>=pa.get(e)},pa.lessThan=function(t,e){return pa.get(t)<e},pa.lessThanPointer=function(t,e){return pa.get(t)<pa.get(e)},pa.lessThanOrEqual=function(t,e){return pa.get(t)<=e},pa.lessThanOrEqualPointer=function(t,e){return pa.get(t)<=pa.get(e)},pa.notEquals=function(t,e){return pa.get(t)!=e},pa.notEqualsPointer=function(t,e){return pa.get(t)!=pa.get(e)};var ga=function(){};(i["lime.system.Clipboard"]=ga).__name__=["lime","system","Clipboard"],ga.__properties__={set_text:"set_text",get_text:"get_text"},ga.get_text=function(){return null},ga.set_text=function(t){try{clipboard.copy(t)}catch(t){rs.lastException=t,ls.trace("Failed to copy text.",{fileName:"Clipboard.hx",lineNumber:56,className:"lime.system.Clipboard",methodName:"set_text"})}return t};function ma(){}(i["lime.system.Display"]=ma).__name__=["lime","system","Display"],ma.prototype={__class__:ma};function va(t,e,i,n){this.width=t,this.height=e,this.refreshRate=i,this.pixelFormat=n}(i["lime.system.DisplayMode"]=va).__name__=["lime","system","DisplayMode"],va.prototype={__class__:va};var ba=i["lime.system.Endian"]={__ename__:!0,__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"]};ba.LITTLE_ENDIAN=["LITTLE_ENDIAN",0],ba.LITTLE_ENDIAN.toString=f,(ba.LITTLE_ENDIAN.__enum__=ba).BIG_ENDIAN=["BIG_ENDIAN",1],ba.BIG_ENDIAN.toString=f,ba.BIG_ENDIAN.__enum__=ba;var ya=function(){};(i["lime.system.System"]=ya).__name__=["lime","system","System"],ya.__properties__={get_userDirectory:"get_userDirectory",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"},ya.applicationDirectory=null,ya.applicationStorageDirectory=null,ya.desktopDirectory=null,ya.disableCFFI=null,ya.documentsDirectory=null,ya.endianness=null,ya.fontsDirectory=null,ya.numDisplays=null,ya.userDirectory=null,ya.embed=t.lime.embed=function(t,e,i,n,s){var r=null;r="string"==typeof t?window.document.getElementById(zs.__cast(t,String)):null==t?window.document.createElement("div"):t;var a=null;null!=n&&(a=-1<(n=Ps.replace(n,"#","")).indexOf("0x")?L.parseInt(n):L.parseInt("0x"+n)),null==e&&(e=0),null==i&&(i=0),_t.config.windows[0].background=a,_t.config.windows[0].element=r,_t.config.windows[0].width=e,_t.config.windows[0].height=i,_t.config.assetsPrefix=s,_t.create()},ya.exit=function(t){},ya.getDisplay=function(t){if(0!=t)return null;var e=new ma;return e.id=0,e.name="Generic Display",e.dpi=96,e.currentMode=new va(window.screen.width,window.screen.height,60,1),e.supportedModes=[e.currentMode],e.bounds=new sa(0,0,e.currentMode.width,e.currentMode.height),e},ya.getTimer=function(){return Date.now()},ya.load=function(t,e,i,n){return null==n&&(n=!1),null==i&&(i=0),da.load(t,e,i,n)},ya.get_allowScreenTimeout=function(){return!0},ya.set_allowScreenTimeout=function(t){return!0},ya.get_applicationDirectory=function(){return null},ya.get_applicationStorageDirectory=function(){return null!=sr.current&&null!=sr.current.config&&(null!=sr.current.config.company&&sr.current.config.company,null!=sr.current.config.file&&sr.current.config.file),null},ya.get_desktopDirectory=function(){return null},ya.get_documentsDirectory=function(){return null},ya.get_fontsDirectory=function(){return null},ya.get_numDisplays=function(){return 1},ya.get_userDirectory=function(){return null},ya.get_endianness=function(){return ba.LITTLE_ENDIAN};var wa=function(t,e){null==e&&(e=1),null==t&&(t=0),this.onProgress=new ar,this.onError=new ar,this.onComplete=new ar,this.doWork=new ar,this.minThreads=t,this.maxThreads=e,this.currentThreads=0};(i["lime.system.ThreadPool"]=wa).__name__=["lime","system","ThreadPool"],wa.prototype={queue:function(t){this.doWork.dispatch(t)},sendComplete:function(t){this.onComplete.dispatch(t)},sendError:function(t){this.onError.dispatch(t)},sendProgress:function(t){this.onProgress.dispatch(t)},__class__:wa};var xa=i["lime.system._ThreadPool.ThreadPoolMessageType"]={__ename__:!0,__constructs__:["COMPLETE","ERROR","EXIT","PROGRESS","WORK"]};xa.COMPLETE=["COMPLETE",0],xa.COMPLETE.toString=f,(xa.COMPLETE.__enum__=xa).ERROR=["ERROR",1],xa.ERROR.toString=f,(xa.ERROR.__enum__=xa).EXIT=["EXIT",2],xa.EXIT.toString=f,(xa.EXIT.__enum__=xa).PROGRESS=["PROGRESS",3],xa.PROGRESS.toString=f,(xa.PROGRESS.__enum__=xa).WORK=["WORK",4],xa.WORK.toString=f,xa.WORK.__enum__=xa;function Ta(t,e){this.type=t,this.state=e}(i["lime.system._ThreadPool.ThreadPoolMessage"]=Ta).__name__=["lime","system","_ThreadPool","ThreadPoolMessage"],Ta.prototype={__class__:Ta};var Sa={};(i["lime.text._Glyph.Glyph_Impl_"]=Sa).__name__=["lime","text","_Glyph","Glyph_Impl_"],Sa._new=function(t){return t};function Ea(){}(i["lime.text.GlyphMetrics"]=Ea).__name__=["lime","text","GlyphMetrics"],Ea.prototype={__class__:Ea};function Ia(t,e,i){this.glyph=t,this.advance=e,this.offset=null!=i?i:new ra}(i["lime.text.GlyphPosition"]=Ia).__name__=["lime","text","GlyphPosition"],Ia.prototype={__class__:Ia};var Pa={};(i["lime.text._TextDirection.TextDirection_Impl_"]=Pa).__name__=["lime","text","_TextDirection","TextDirection_Impl_"],Pa.__properties__={get_vertical:"get_vertical",get_horizontal:"get_horizontal",get_forward:"get_forward",get_backward:"get_backward"},Pa.reverse=function(t){1},Pa.toString=function(t){switch(t){case 4:return"leftToRight";case 5:return"rightToLeft";case 6:return"topToBottom";case 7:return"bottomToTop";default:return""}},Pa.get_backward=function(t){return 5==(-3&t)},Pa.get_forward=function(t){return 4==(-3&t)},Pa.get_horizontal=function(t){return 4==(-2&t)},Pa.get_vertical=function(t){return 6==(-2&t)};function Ca(t,e,i,n,s,r){null==r&&(r="en"),null==s&&(s="Zyyy"),null==n&&(n=4),null==i&&(i=12),null==t&&(t=""),this.set_text(t),this.set_font(e),this.set_size(i),this.__direction=n,this.__script=s,this.__language=r,this.positions=[],this.__dirty=!0}(i["lime.text.TextLayout"]=Ca).__name__=["lime","text","TextLayout"],Ca.prototype={__position:function(){this.positions=[]},get_positions:function(){return this.__dirty&&(this.__dirty=!1,this.__position()),this.positions},get_direction:function(){return this.__direction},set_direction:function(t){return t==this.__direction||(this.__direction=t,this.__dirty=!0),t},set_font:function(t){return t==this.font||(this.font=t,this.__dirty=!0),t},get_glyphs:function(){for(var t=[],e=0,i=this.get_positions();e<i.length;){var n=i[e];++e,t.push(n.glyph)}return t},get_language:function(){return this.__language},set_language:function(t){return t==this.__language||(this.__language=t,this.__dirty=!0),t},get_script:function(){return this.__script},set_script:function(t){return t==this.__script||(this.__script=t,this.__dirty=!0),t},set_size:function(t){return t==this.size||(this.size=t,this.__dirty=!0),t},set_text:function(t){return t==this.text||(this.text=t,this.__dirty=!0),t},__class__:Ca,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",get_direction:"get_direction"}};var Da={};(i["lime.text._TextScript.TextScript_Impl_"]=Da).__name__=["lime","text","_TextScript","TextScript_Impl_"],Da.__properties__={get_rightToLeft:"get_rightToLeft"},Da.get_rightToLeft=function(t){switch(t){case"Arab":case"Armi":case"Avst":case"Cprt":case"Hebr":case"Khar":case"Lydi":case"Mand":case"Nkoo":case"Orkh":case"Phli":case"Phlp":case"Phnx":case"Samr":case"Sarb":case"Syrc":case"Thaa":return!0;default:return!1}};var Aa=function(t){this.onDisconnect=new Zs,this.onButtonUp=new vr,this.onButtonDown=new vr,this.onAxisMove=new mr,this.id=t,this.connected=!0};(i["lime.ui.Gamepad"]=Aa).__name__=["lime","ui","Gamepad"],Aa.addMappings=function(t){},Aa.__connect=function(t){if(!Aa.devices.h.hasOwnProperty(t)){var e=new Aa(t);Aa.devices.h[t]=e,Aa.onConnect.dispatch(e)}},Aa.__disconnect=function(t){var e=Aa.devices.h[t];null!=e&&(e.connected=!1),Aa.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},Aa.prototype={get_guid:function(){return Fa.__getDeviceData()[this.id].id},get_name:function(){return Fa.__getDeviceData()[this.id].id},__class__:Aa,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var Ra={};(i["lime.ui._GamepadAxis.GamepadAxis_Impl_"]=Ra).__name__=["lime","ui","_GamepadAxis","GamepadAxis_Impl_"],Ra.toString=function(t){switch(t){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"TRIGGER_LEFT";case 5:return"TRIGGER_RIGHT";default:return"UNKNOWN ("+t+")"}};var Ma={};(i["lime.ui._GamepadButton.GamepadButton_Impl_"]=Ma).__name__=["lime","ui","_GamepadButton","GamepadButton_Impl_"],Ma.toString=function(t){switch(t){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"BACK";case 5:return"GUIDE";case 6:return"START";case 7:return"LEFT_STICK";case 8:return"RIGHT_STICK";case 9:return"LEFT_SHOULDER";case 10:return"RIGHT_SHOULDER";case 11:return"DPAD_UP";case 12:return"DPAD_DOWN";case 13:return"DPAD_LEFT";case 14:return"DPAD_RIGHT";default:return"UNKNOWN ("+t+")"}};var Fa=function(t){this.onTrackballMove=new hr,this.onHatMove=new fr,this.onDisconnect=new Zs,this.onButtonUp=new cr,this.onButtonDown=new cr,this.onAxisMove=new hr,this.id=t,this.connected=!0};(i["lime.ui.Joystick"]=Fa).__name__=["lime","ui","Joystick"],Fa.__connect=function(t){if(!Fa.devices.h.hasOwnProperty(t)){var e=new Fa(t);Fa.devices.h[t]=e,Fa.onConnect.dispatch(e)}},Fa.__disconnect=function(t){var e=Fa.devices.h[t];null!=e&&(e.connected=!1),Fa.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},Fa.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null},Fa.prototype={get_guid:function(){return Fa.__getDeviceData()[this.id].id},get_name:function(){return Fa.__getDeviceData()[this.id].id},get_numAxes:function(){return Fa.__getDeviceData()[this.id].axes.length},get_numButtons:function(){return Fa.__getDeviceData()[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:Fa,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var Ba={};(i["lime.ui._JoystickHatPosition.JoystickHatPosition_Impl_"]=Ba).__name__=["lime","ui","_JoystickHatPosition","JoystickHatPosition_Impl_"],Ba.__properties__={set_up:"set_up",get_up:"get_up",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_down:"set_down",get_down:"get_down",set_center:"set_center",get_center:"get_center"},Ba._new=function(t){return t},Ba.get_center=function(t){return 0==t},Ba.set_center=function(t,e){return e&&0,e},Ba.get_down=function(t){return 0<(4&t)},Ba.set_down=function(t,e){return e?4:268435451,e},Ba.get_left=function(t){return 0<(8&t)},Ba.set_left=function(t,e){return e?8:268435447,e},Ba.get_right=function(t){return 0<(2&t)},Ba.set_right=function(t,e){return e?2:268435453,e},Ba.get_up=function(t){return 0<(1&t)},Ba.set_up=function(t,e){return e?1:268435454,e};var La={};(i["lime.ui._KeyCode.KeyCode_Impl_"]=La).__name__=["lime","ui","_KeyCode","KeyCode_Impl_"],La.gt=function(t,e){return e<t},La.gte=function(t,e){return e<=t},La.lt=function(t,e){return t<e},La.lte=function(t,e){return t<=e},La.plus=function(t,e){return t+e};var ka={};(i["lime.ui._KeyModifier.KeyModifier_Impl_"]=ka).__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"],ka.__properties__={set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"},ka.get_altKey=function(t){return!((256&t)<=0)||0<(512&t)},ka.set_altKey=function(t,e){return e?768:268434687,e},ka.get_capsLock=function(t){return!((8192&t)<=0)||0<(8192&t)},ka.set_capsLock=function(t,e){return e?8192:268427263,e},ka.get_ctrlKey=function(t){return!((64&t)<=0)||0<(128&t)},ka.set_ctrlKey=function(t,e){return e?192:268435263,e},ka.get_metaKey=function(t){return!((1024&t)<=0)||0<(2048&t)},ka.set_metaKey=function(t,e){return e?3072:268432383,e},ka.get_numLock=function(t){return!((4096&t)<=0)||0<(4096&t)},ka.set_numLock=function(t,e){return e?4096:268431359,e},ka.get_shiftKey=function(t){return!((1&t)<=0)||0<(2&t)},ka.set_shiftKey=function(t,e){return e?3:268435452,e};function Na(){}(i["lime.ui.Mouse"]=Na).__name__=["lime","ui","Mouse"],Na.__properties__={set_lock:"set_lock",get_lock:"get_lock",set_cursor:"set_cursor",get_cursor:"get_cursor"},Na.hide=function(){er.hide()},Na.show=function(){er.show()},Na.warp=function(t,e,i){er.warp(t,e,i)},Na.get_cursor=function(){return er.get_cursor()},Na.set_cursor=function(t){return er.set_cursor(t)},Na.get_lock=function(){return er.get_lock()},Na.set_lock=function(t){return er.set_lock(t)};var Oa=i["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:["ARROW","CROSSHAIR","DEFAULT","MOVE","POINTER","RESIZE_NESW","RESIZE_NS","RESIZE_NWSE","RESIZE_WE","TEXT","WAIT","WAIT_ARROW","CUSTOM"]};Oa.ARROW=["ARROW",0],Oa.ARROW.toString=f,(Oa.ARROW.__enum__=Oa).CROSSHAIR=["CROSSHAIR",1],Oa.CROSSHAIR.toString=f,(Oa.CROSSHAIR.__enum__=Oa).DEFAULT=["DEFAULT",2],Oa.DEFAULT.toString=f,(Oa.DEFAULT.__enum__=Oa).MOVE=["MOVE",3],Oa.MOVE.toString=f,(Oa.MOVE.__enum__=Oa).POINTER=["POINTER",4],Oa.POINTER.toString=f,(Oa.POINTER.__enum__=Oa).RESIZE_NESW=["RESIZE_NESW",5],Oa.RESIZE_NESW.toString=f,(Oa.RESIZE_NESW.__enum__=Oa).RESIZE_NS=["RESIZE_NS",6],Oa.RESIZE_NS.toString=f,(Oa.RESIZE_NS.__enum__=Oa).RESIZE_NWSE=["RESIZE_NWSE",7],Oa.RESIZE_NWSE.toString=f,(Oa.RESIZE_NWSE.__enum__=Oa).RESIZE_WE=["RESIZE_WE",8],Oa.RESIZE_WE.toString=f,(Oa.RESIZE_WE.__enum__=Oa).TEXT=["TEXT",9],Oa.TEXT.toString=f,(Oa.TEXT.__enum__=Oa).WAIT=["WAIT",10],Oa.WAIT.toString=f,(Oa.WAIT.__enum__=Oa).WAIT_ARROW=["WAIT_ARROW",11],Oa.WAIT_ARROW.toString=f,(Oa.WAIT_ARROW.__enum__=Oa).CUSTOM=["CUSTOM",12],Oa.CUSTOM.toString=f,Oa.CUSTOM.__enum__=Oa;var Ua=function(t,e,i,n,s,r,a){this.x=t,this.y=e,this.id=i,this.dx=n,this.dy=s,this.pressure=r,this.device=a};(i["lime.ui.Touch"]=Ua).__name__=["lime","ui","Touch"],Ua.prototype={__class__:Ua};var Ga=function(t){this.onTextInput=new pr,this.onTextEdit=new dr,this.onRestore=new Zs,this.onResize=new ur,this.onMove=new lr,this.onMouseWheel=new lr,this.onMouseUp=new or,this.onMouseMoveRelative=new lr,this.onMouseMove=new lr,this.onMouseDown=new or,this.onMinimize=new Zs,this.onLeave=new Zs,this.onKeyUp=new wr,this.onKeyDown=new wr,this.onFullscreen=new Zs,this.onFocusOut=new Zs,this.onFocusIn=new Zs,this.onEnter=new Zs,this.onDeactivate=new Zs,this.onCreate=new Zs,this.onClose=new Zs,this.onActivate=new Zs,this.config=t,this.__width=0,this.__height=0,this.__fullscreen=!1,this.__scale=1,this.__x=0,this.__y=0,this.__title="",this.id=-1,null!=t&&(Object.prototype.hasOwnProperty.call(t,"width")&&(this.__width=t.width,this.__originalWidth=t.width),Object.prototype.hasOwnProperty.call(t,"height")&&(this.__height=t.height,this.__originalHeight=t.height),Object.prototype.hasOwnProperty.call(t,"x")&&(this.__x=t.x),Object.prototype.hasOwnProperty.call(t,"y")&&(this.__y=t.y),Object.prototype.hasOwnProperty.call(t,"fullscreen")&&(this.__fullscreen=t.fullscreen),Object.prototype.hasOwnProperty.call(t,"borderless")&&(this.__borderless=t.borderless),Object.prototype.hasOwnProperty.call(t,"resizable")&&(this.__resizable=t.resizable),Object.prototype.hasOwnProperty.call(t,"title")&&(this.__title=t.title)),this.backend=new nr(this)};(i["lime.ui.Window"]=Ga).__name__=["lime","ui","Window"],Ga.prototype={alert:function(t,e){this.backend.alert(t,e)},close:function(){this.backend.close()},create:function(t){this.application=t,this.backend.create(t),null!=this.renderer&&this.renderer.create()},focus:function(){this.backend.focus()},move:function(t,e){this.backend.move(t,e),this.__x=t,this.__y=e},resize:function(t,e){this.__width=t,this.__height=e,this.backend.resize(t,e)},resizeViewport:function(t,e){this.backend.resizeViewport(t,e)},setIcon:function(t){null!=t&&this.backend.setIcon(t)},toString:function(){return"[object Window]"},get_display:function(){return this.backend.getDisplay()},get_borderless:function(){return this.__borderless},set_borderless:function(t){return this.__borderless=this.backend.setBorderless(t)},get_originalWidth:function(){return this.__originalWidth},get_originalHeight:function(){return this.__originalHeight},get_enableTextEvents:function(){return this.backend.getEnableTextEvents()},set_enableTextEvents:function(t){return this.backend.setEnableTextEvents(t)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(t){return this.__fullscreen=this.backend.setFullscreen(t)},get_height:function(){return this.__height},set_height:function(t){return this.resize(this.__width,t),this.__height},get_minimized:function(){return this.__minimized},set_minimized:function(t){return this.__minimized=this.backend.setMinimized(t)},get_resizable:function(){return this.__resizable},set_resizable:function(t){return this.__resizable=this.backend.setResizable(t),this.__resizable},get_scale:function(){return this.__scale},get_screenWidth:function(){return this.backend.getScreenWidth()},get_screenHeight:function(){return this.backend.getScreenHeight()},get_title:function(){return this.__title},set_title:function(t){return this.__title=this.backend.setTitle(this.__title)},get_width:function(){return this.__width},set_width:function(t){return this.resize(t,this.__height),this.__width},get_x:function(){return this.__x},set_x:function(t){return this.move(t,this.__y),this.__x},get_y:function(){return this.__y},set_y:function(t){return this.move(this.__x,t),this.__y},__class__:Ga,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",get_screenHeight:"get_screenHeight",get_screenWidth:"get_screenWidth",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",get_originalHeight:"get_originalHeight",get_originalWidth:"get_originalWidth",set_minimized:"set_minimized",get_minimized:"get_minimized",set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_enableTextEvents:"set_enableTextEvents",get_enableTextEvents:"get_enableTextEvents",get_display:"get_display",set_borderless:"set_borderless",get_borderless:"get_borderless"}};var Xa=i["lime.utils.TAError"]={__ename__:!0,__constructs__:["RangeError"]};Xa.RangeError=["RangeError",0],Xa.RangeError.toString=f,Xa.RangeError.__enum__=Xa;var Va=function(t,e){jn.call(this,e)};(i["lime.utils.Bytes"]=Va).__name__=["lime","utils","Bytes"],Va.alloc=function(t){var e=new jn(new Qu(t));return new Va(e.length,e.b.bufferValue)},Va.fastGet=function(t,e){return t.bytes[e]},Va.ofData=function(t){var e=jn.ofData(t);return new Va(e.length,e.b.bufferValue)},Va.ofString=function(t){var e=jn.ofString(t);return new Va(e.length,e.b.bufferValue)},Va.readFile=function(t){return null},Va.lime_bytes_from_data_pointer=function(t,e){return Va.cffi_lime_bytes_from_data_pointer(t,e)},Va.lime_bytes_get_data_pointer=function(t){return Va.cffi_lime_bytes_get_data_pointer(t)},Va.lime_bytes_read_file=function(t){return Va.cffi_lime_bytes_read_file(t)},Va.__super__=jn,Va.prototype=n(jn.prototype,{__class__:Va});var za={};(i["lime.utils._Float32Array.Float32Array_Impl_"]=za).__name__=["lime","utils","_Float32Array","Float32Array_Impl_"],za.__set=function(t,e,i){return t[e]=i},za.__get=function(t,e){return t[e]},za.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new tc(t.b.bufferValue):null==i?new tc(t.b.bufferValue,e):new tc(t.b.bufferValue,e,i)},za.toBytes=function(t){return new jn(new ec(t.buffer))},za.toString=function(t){return null!=t?"Float32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};function Ha(){}(i["lime.utils.GLUtils"]=Ha).__name__=["lime","utils","GLUtils"],Ha.compileShader=function(t,e){var i=Zr.context.createShader(e);if(Zr.context.shaderSource(i,t),Zr.context.compileShader(i),0==Zr.context.getShaderParameter(i,35713))switch(e){case 35632:throw new Vs("Error compiling fragment shader");case 35633:throw new Vs("Error compiling vertex shader");default:throw new Vs("Error compiling unknown shader type")}return i},Ha.createProgram=function(t,e){var i=Ha.compileShader(t,35633),n=Ha.compileShader(e,35632),s=Zr.context.createProgram();if(Zr.context.attachShader(s,i),Zr.context.attachShader(s,n),Zr.context.linkProgram(s),0==Zr.context.getProgramParameter(s,35714))throw new Vs("Unable to initialize the shader program.");return s};var Ya={};(i["lime.utils._Int16Array.Int16Array_Impl_"]=Ya).__name__=["lime","utils","_Int16Array","Int16Array_Impl_"],Ya.__set=function(t,e,i){return t[e]=i},Ya.__get=function(t,e){return t[e]},Ya.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Int16Array(t.b.bufferValue):null==i?new Int16Array(t.b.bufferValue,e):new Int16Array(t.b.bufferValue,e,i)},Ya.toBytes=function(t){return new jn(new ec(t.buffer))},Ya.toString=function(t){return null!=t?"Int16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Wa={};(i["lime.utils._Int32Array.Int32Array_Impl_"]=Wa).__name__=["lime","utils","_Int32Array","Int32Array_Impl_"],Wa.__set=function(t,e,i){return t[e]=i},Wa.__get=function(t,e){return t[e]},Wa.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Int32Array(t.b.bufferValue):null==i?new Int32Array(t.b.bufferValue,e):new Int32Array(t.b.bufferValue,e,i)},Wa.toBytes=function(t){return new jn(new ec(t.buffer))},Wa.toString=function(t){return null!=t?"Int32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};function Ka(){}(i["lime.utils.LZMA"]=Ka).__name__=["lime","utils","LZMA"],Ka.decode=function(t){return null},Ka.encode=function(t){return null};var ja={};(i["lime.utils._UInt16Array.UInt16Array_Impl_"]=ja).__name__=["lime","utils","_UInt16Array","UInt16Array_Impl_"],ja.__set=function(t,e,i){return t[e]=i},ja.__get=function(t,e){return t[e]},ja.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Uint16Array(t.b.bufferValue):null==i?new Uint16Array(t.b.bufferValue,e):new Uint16Array(t.b.bufferValue,e,i)},ja.toBytes=function(t){return new jn(new ec(t.buffer))},ja.toString=function(t){return null!=t?"UInt16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var qa={};(i["lime.utils._UInt32Array.UInt32Array_Impl_"]=qa).__name__=["lime","utils","_UInt32Array","UInt32Array_Impl_"],qa.__set=function(t,e,i){return t[e]=i},qa.__get=function(t,e){return t[e]},qa.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Uint32Array(t.b.bufferValue):null==i?new Uint32Array(t.b.bufferValue,e):new Uint32Array(t.b.bufferValue,e,i)},qa.toBytes=function(t){return new jn(new ec(t.buffer))},qa.toString=function(t){return null!=t?"UInt32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Ja={};(i["lime.utils._UInt8Array.UInt8Array_Impl_"]=Ja).__name__=["lime","utils","_UInt8Array","UInt8Array_Impl_"],Ja.__set=function(t,e,i){return t[e]=i},Ja.__get=function(t,e){return t[e]},Ja.fromBytes=function(t,e,i){return null==e?new ec(t.b.bufferValue):null==i?new ec(t.b.bufferValue,e):new ec(t.b.bufferValue,e,i)},Ja.toBytes=function(t){return new jn(new ec(t.buffer))},Ja.toString=function(t){return null!=t?"UInt8Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};function Za(){}(i["openfl.IAssetCache"]=Za).__name__=["openfl","IAssetCache"],Za.prototype={__class__:Za,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};function Qa(){this.__enabled=!0,this.bitmapData=new gs,this.font=new gs,this.sound=new gs}(i["openfl.AssetCache"]=Qa).__name__=["openfl","AssetCache"],Qa.__interfaces__=[Za],Qa.prototype={clear:function(t){if(null==t)this.bitmapData=new gs,this.font=new gs,this.sound=new gs;else{for(var e=this.bitmapData.keys();e.hasNext();){var i=e.next();Ps.startsWith(i,t)&&this.bitmapData.remove(i)}for(var n=this.font.keys();n.hasNext();){var s=n.next();Ps.startsWith(s,t)&&this.font.remove(s)}for(var r=this.sound.keys();r.hasNext();){var a=r.next();Ps.startsWith(a,t)&&this.sound.remove(a)}}},getBitmapData:function(t){var e=this.bitmapData;return null!=Zu[t]?e.getReserved(t):e.h[t]},getFont:function(t){var e=this.font;return null!=Zu[t]?e.getReserved(t):e.h[t]},getSound:function(t){var e=this.sound;return null!=Zu[t]?e.getReserved(t):e.h[t]},hasBitmapData:function(t){var e=this.bitmapData;return null!=Zu[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},hasFont:function(t){var e=this.font;return null!=Zu[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},hasSound:function(t){var e=this.sound;return null!=Zu[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},removeBitmapData:function(t){return this.bitmapData.remove(t)},removeFont:function(t){return this.font.remove(t)},removeSound:function(t){return this.sound.remove(t)},setBitmapData:function(t,e){var i=this.bitmapData;null!=Zu[t]?i.setReserved(t,e):i.h[t]=e},setFont:function(t,e){var i=this.font;null!=Zu[t]?i.setReserved(t,e):i.h[t]=e},setSound:function(t,e){var i=this.sound;null!=Zu[t]?i.setReserved(t,e):i.h[t]=e},get_enabled:function(){return this.__enabled},set_enabled:function(t){return this.__enabled=t},__class__:Qa,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var $a=function(){};(i["openfl.Assets"]=$a).__name__=["openfl","Assets"],$a.addEventListener=function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),Qs.onChange.has($a.LimeAssets_onChange)||Qs.onChange.add($a.LimeAssets_onChange),$a.dispatcher.addEventListener(t,e,i,n,s)},$a.dispatchEvent=function(t){return $a.dispatcher.dispatchEvent(t)},$a.exists=function(t,e){return Qs.exists(t,e)},$a.getBitmapData=function(t,e){if(null==e&&(e=!0),e&&$a.cache.get_enabled()&&$a.cache.hasBitmapData(t)){var i=$a.cache.getBitmapData(t);if($a.isValidBitmapData(i))return i}var n=Qs.getImage(t,!1);if(null==n)return null;var s=_l.fromImage(n);return e&&$a.cache.get_enabled()&&$a.cache.setBitmapData(t,s),s},$a.getBitmapDataFromSymbol=function(t,e){return null==e&&(e=!0),_l.isSpritesheetImage(t.path)?_l.getFromSpritesheet(t.id,t.path):$a.getBitmapData(t.path,e)},$a.getBytes=function(t){return J_.fromBytes(Qs.getBytes(t))},$a.getFont=function(t,e){if(null==e&&(e=!0),e&&$a.cache.get_enabled()&&$a.cache.hasFont(t))return $a.cache.getFont(t);var i=Qs.getFont(t,!1);if(null==i)return new pt;var n=pt.__fromLimeFont(i);return e&&$a.cache.get_enabled()&&$a.cache.setFont(t,n),n},$a.getLibrary=function(t){return Qs.getLibrary(t)},$a.getMovieClip=function(t){var e=t.substring(0,t.indexOf(":")),i=B.substr(t,t.indexOf(":")+1,null),n=$a.getLibrary(e);if(null!=n)if(n.exists(i,"MOVIE_CLIP")){if(n.isLocal(i,"MOVIE_CLIP"))return n.getMovieClip(i);ls.trace('[openfl.Assets] MovieClip asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:232,className:"openfl.Assets",methodName:"getMovieClip"})}else ls.trace('[openfl.Assets] There is no MovieClip asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:238,className:"openfl.Assets",methodName:"getMovieClip"});else ls.trace('[openfl.Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:244,className:"openfl.Assets",methodName:"getMovieClip"});return null},$a.getMusic=function(t,e){null==e&&(e=!0);var i=Qs.getPath(t);return null!=i?new T_(new D_(i)):null},$a.getPath=function(t){return Qs.getPath(t)},$a.getSound=function(t,e){if(null==e&&(e=!0),e&&$a.cache.get_enabled()&&$a.cache.hasSound(t)){var i=$a.cache.getSound(t);if($a.isValidSound(i))return i}var n=Qs.getPath(t);return null!=n?new T_(new D_(n)):null},$a.getText=function(t){return Qs.getText(t)},$a.hasEventListener=function(t){return $a.dispatcher.hasEventListener(t)},$a.isLocal=function(t,e,i){if(null==i&&(i=!0),i&&$a.cache.get_enabled()){if(("IMAGE"==e||null==e)&&$a.cache.hasBitmapData(t))return!0;if(("FONT"==e||null==e)&&$a.cache.hasFont(t))return!0;if(("SOUND"==e||"MUSIC"==e||null==e)&&$a.cache.hasSound(t))return!0}var n=t.substring(0,t.indexOf(":")),s=B.substr(t,t.indexOf(":")+1,null),r=$a.getLibrary(n);return null!=r&&r.isLocal(s,e)},$a.isValidBitmapData=function(t){return null!=t&&null!=t.get_bd().get_image()},$a.isValidSound=function(t){return!0},$a.list=function(t){return Qs.list(t)},$a.loadBitmapData=function(i,n,e){null==n&&(n=!0),null==n&&(n=!0);var s=new Er;if(null!=e&&(s.future.onComplete(e),s.future.onError(function(t){e(null)})),n&&$a.cache.get_enabled()&&$a.cache.hasBitmapData(i)){var t=$a.cache.getBitmapData(i);if($a.isValidBitmapData(t))return s.complete(t),s.future}return Qs.loadImage(i,!1).onComplete(function(t){if(null!=t){var e=_l.fromImage(t);n&&$a.cache.get_enabled()&&$a.cache.setBitmapData(i,e),s.complete(e)}else s.error('[Assets] Could not load Image "'+i+'"')}).onError(Hu(s,s.error)).onProgress(Hu(s,s.progress)),s.future},$a.loadBytes=function(t,e){var i=new Er,n=Qs.loadBytes(t);return null!=e&&(i.future.onComplete(e),i.future.onError(function(t){e(null)}),n.onComplete(function(t){i.complete(J_.fromBytes(t))}),n.onProgress(function(t){i.progress(t)}),n.onError(function(t){i.error(t)})),i.future},$a.loadFont=function(i,n,e){null==n&&(n=!0),null==n&&(n=!0);var s=new Er;if(null!=e&&(s.future.onComplete(e),s.future.onError(function(t){e(null)})),n&&$a.cache.get_enabled()&&$a.cache.hasFont(i)){var t=$a.cache.getFont(i);return s.complete(t),s.future}return Qs.loadFont(i).onComplete(function(t){var e=pt.__fromLimeFont(t);n&&$a.cache.get_enabled()&&$a.cache.setFont(i,e),s.complete(e)}).onError(Hu(s,s.error)).onProgress(Hu(s,s.progress)),s.future},$a.loadLibrary=function(t,e){var i=Qs.loadLibrary(t);return null!=e&&(i.onComplete(e),i.onError(function(t){e(null)})),i},$a.loadMusic=function(t,e,i){return null==e&&(e=!0),null==e&&(e=!0),new Tr(function(){return $a.getMusic(t,e)})},$a.loadMovieClip=function(t,e){var i=new Er;null!=e&&(i.future.onComplete(e),i.future.onError(function(t){e(null)}));var n=t.substring(0,t.indexOf(":")),s=B.substr(t,t.indexOf(":")+1,null),r=$a.getLibrary(n);return null!=r?r.exists(s,"MOVIE_CLIP")?i.completeWith(r.loadMovieClip(s)):i.error('[Assets] There is no MovieClip asset with an ID of "'+t+'"'):i.error('[Assets] There is no asset library named "'+n+'"'),i.future},$a.loadSound=function(t,e,i){return null==e&&(e=!0),null==e&&(e=!0),new Tr(function(){return $a.getSound(t,e)})},$a.loadText=function(t,e){var i=Qs.loadText(t);return null!=e&&(i.onComplete(e),i.onError(function(t){e(null)})),i},$a.registerLibrary=function(t,e){Qs.registerLibrary(t,e)},$a.removeEventListener=function(t,e,i){null==i&&(i=!1),$a.dispatcher.removeEventListener(t,e,i)},$a.resolveClass=function(t){return mi.resolveClass(t)},$a.resolveEnum=function(t){return mi.resolveEnum(t)},$a.unloadLibrary=function(t){Qs.unloadLibrary(t)},$a.LimeAssets_onChange=function(){$a.dispatchEvent(new Ae("change"))};var to=function(t,e,i,n,s,r,a,o){null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),null==s&&(s=0),null==n&&(n=1),null==i&&(i=1),null==e&&(e=1),null==t&&(t=1),this.__uid=$.SEQ<<24|++$.UID,this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=i,this.alphaMultiplier=n,this.redOffset=s,this.greenOffset=r,this.blueOffset=a,this.alphaOffset=o};(i["openfl.geom.ColorTransform"]=to).__name__=["openfl","geom","ColorTransform"],to.__interfaces__=[Q],to.prototype={concat:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset=t.redMultiplier*this.redOffset+t.redOffset,this.greenOffset=t.greenMultiplier*this.greenOffset+t.greenOffset,this.blueOffset=t.blueMultiplier*this.blueOffset+t.blueOffset,this.alphaOffset=t.alphaMultiplier*this.alphaOffset+t.alphaOffset},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new to(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset+=t.redOffset,this.greenOffset+=t.greenOffset,this.blueOffset+=t.blueOffset,this.alphaOffset+=t.alphaOffset},__equals:function(t,e){return null==e&&(e=!1),!(null==t||this.redMultiplier!=t.redMultiplier||this.greenMultiplier!=t.greenMultiplier||this.blueMultiplier!=t.blueMultiplier||!e&&this.alphaMultiplier!=t.alphaMultiplier||this.redOffset!=t.redOffset||this.greenOffset!=t.greenOffset||this.blueOffset!=t.blueOffset)&&this.alphaOffset==t.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},reset:function(){var t=!this.__isDefault();return t&&(this.redMultiplier=this.greenMultiplier=this.blueMultiplier=this.alphaMultiplier=1,this.redOffset=this.greenOffset=this.blueOffset=this.alphaOffset=0),t},setFromCombination:function(t,e){this.redMultiplier=t.redMultiplier*e.redMultiplier,this.greenMultiplier=t.greenMultiplier*e.greenMultiplier,this.blueMultiplier=t.blueMultiplier*e.blueMultiplier,this.alphaMultiplier=t.alphaMultiplier*e.alphaMultiplier,this.redOffset=t.redOffset+e.redOffset,this.greenOffset=t.greenOffset+e.greenOffset,this.blueOffset=t.blueOffset+e.blueOffset,this.alphaOffset=t.alphaOffset+e.alphaOffset},copyFrom:function(t){this.redMultiplier=t.redMultiplier,this.greenMultiplier=t.greenMultiplier,this.blueMultiplier=t.blueMultiplier,this.alphaMultiplier=t.alphaMultiplier,this.redOffset=t.redOffset,this.greenOffset=t.greenOffset,this.blueOffset=t.blueOffset,this.alphaOffset=t.alphaOffset},get_color:function(){return(0|this.redOffset)<<16|(0|this.greenOffset)<<8|0|this.blueOffset},set_color:function(t){return this.redOffset=t>>16&255,this.greenOffset=t>>8&255,this.blueOffset=255&t,this.redMultiplier=0,this.greenMultiplier=0,this.blueMultiplier=0,this.get_color()},__toLimeColorMatrix:function(){var t=[this.redMultiplier,0,0,0,this.redOffset/255,0,this.greenMultiplier,0,0,this.greenOffset/255,0,0,this.blueMultiplier,0,this.blueOffset/255,0,0,0,this.alphaMultiplier,this.alphaOffset/255];return null!=t?new tc(t):null},getCLID:function(){return to.__clid},serialize:function(t){t.out.addInt32(ws.floatToI32(this.alphaMultiplier)),t.out.addInt32(ws.floatToI32(this.alphaOffset)),t.out.addInt32(ws.floatToI32(this.blueMultiplier)),t.out.addInt32(ws.floatToI32(this.blueOffset)),t.out.addInt32(ws.floatToI32(this.greenMultiplier)),t.out.addInt32(ws.floatToI32(this.greenOffset)),t.out.addInt32(ws.floatToI32(this.redMultiplier)),t.out.addInt32(ws.floatToI32(this.redOffset))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("alphaMultiplier"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("alphaOffset"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("blueMultiplier"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("blueOffset"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("greenMultiplier"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("greenOffset"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("redMultiplier"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("redOffset"),t.fieldsTypes.push(Ls.PFloat),t.isFinal=$.isClassFinal(to.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.alphaMultiplier=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.alphaOffset=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.blueMultiplier=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.blueOffset=s;var r=t.input.getFloat(t.inPos);t.inPos+=4,this.greenMultiplier=r;var a=t.input.getFloat(t.inPos);t.inPos+=4,this.greenOffset=a;var o=t.input.getFloat(t.inPos);t.inPos+=4,this.redMultiplier=o;var l=t.input.getFloat(t.inPos);t.inPos+=4,this.redOffset=l},__class__:to,__properties__:{set_color:"set_color",get_color:"get_color"}};var eo=function(t,e,i,n,s,r){null==r&&(r=0),null==s&&(s=0),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.__uid=$.SEQ<<24|++$.UID,this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r};(i["openfl.geom.Matrix"]=eo).__name__=["openfl","geom","Matrix"],eo.__interfaces__=[Q],eo.prototype={clone:function(){return new eo(this.a,this.b,this.c,this.d,this.tx,this.ty)},preTransform:function(t){this.tx=t.tx*this.a+t.ty*this.c+this.tx,this.ty=t.tx*this.b+t.ty*this.d+this.ty;var e=t.a*this.a+t.b*this.c;this.c=t.c*this.a+t.d*this.c,this.a=e;var i=t.a*this.b+t.b*this.d;this.d=t.c*this.b+t.d*this.d,this.b=i},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var n=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=n},copyColumnFrom:function(t,e){if(2<t)throw new Vs("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw new Vs("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=0):1==t?(e.x=this.b,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw new Vs("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(2<t)throw new Vs("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):e.setTo(0,0,1)},createBox:function(t,e,i,n,s){if(null==s&&(s=0),null==n&&(n=0),null==i&&(i=0),0!=i){var r=Math.cos(i),a=Math.sin(i);this.a=r*t,this.b=a*e,this.c=-a*t,this.d=r*e}else this.a=t,this.b=0,this.c=0,this.d=e;this.tx=n,this.ty=s},createGradientBox:function(t,e,i,n,s){if(null==s&&(s=0),null==n&&(n=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var r=Math.cos(i),a=Math.sin(i);this.b=a*this.d,this.c=-a*this.a,this.a*=r,this.d*=r}else this.b=0,this.c=0;this.tx=n+t/2,this.ty=s+e/2},deltaTransformPoint:function(t){return new io(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}return this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a*e-this.b*i;this.b=this.a*i+this.b*e,this.a=n;var s=this.c*e-this.d*i;this.d=this.c*i+this.d*e,this.c=s;var r=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e,this.tx=r},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,n,s,r){this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r},to3DString:function(t){return null==t&&(t=!1),t?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(t){return new io(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},toArray:function(t){if(null==t&&(t=!1),null==this.__array){var e=new tc(9);this.__array=e}return t?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0),this.__array[8]=1,this.__array},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){return new ia(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(t){var e=this.a*this.d-this.b*this.c;if(0==e)t.x=-this.tx,t.y=-this.ty;else{var i=1/e*(this.c*(this.ty-t.y)+this.d*(t.x-this.tx));t.y=1/e*(this.a*(t.y-this.ty)+this.b*(this.tx-t.x)),t.x=i}},__transformInverseX:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.tx:1/i*(this.c*(this.ty-e)+this.d*(t-this.tx))},__transformInverseY:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.ty:1/i*(this.a*(e-this.ty)+this.b*(this.tx-t))},__transformPoint:function(t){var e=t.x,i=t.y;t.x=e*this.a+i*this.c+this.tx,t.y=e*this.b+i*this.d+this.ty},__transformX:function(t,e){return t*this.a+e*this.c+this.tx},__transformY:function(t,e){return t*this.b+e*this.d+this.ty},__translateTransformed:function(t,e){this.tx=t*this.a+e*this.c+this.tx,this.ty=t*this.b+e*this.d+this.ty},getCLID:function(){return eo.__clid},serialize:function(t){t.out.addInt32(ws.floatToI32(this.a)),t.out.addInt32(ws.floatToI32(this.b)),t.out.addInt32(ws.floatToI32(this.c)),t.out.addInt32(ws.floatToI32(this.d)),t.out.addInt32(ws.floatToI32(this.tx)),t.out.addInt32(ws.floatToI32(this.ty))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("a"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("b"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("c"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("d"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("tx"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("ty"),t.fieldsTypes.push(Ls.PFloat),t.isFinal=$.isClassFinal(eo.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.a=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.b=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.c=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.d=s;var r=t.input.getFloat(t.inPos);t.inPos+=4,this.tx=r;var a=t.input.getFloat(t.inPos);t.inPos+=4,this.ty=a},__class__:eo};var io=function(t,e){null==e&&(e=0),null==t&&(t=0),this.__uid=$.SEQ<<24|++$.UID,this.x=t,this.y=e};(i["openfl.geom.Point"]=io).__name__=["openfl","geom","Point"],io.__interfaces__=[Q],io.squareDistance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},io.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},io.interpolate=function(t,e,i){return new io(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y))},io.polar=function(t,e){return new io(t*Math.cos(e),t*Math.sin(e))},io.prototype={add:function(t){return new io(t.x+this.x,t.y+this.y)},clone:function(){return new io(this.x,this.y)},copyFrom:function(t){this.x=t.x,this.y=t.y},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new io(this.x-t.x,this.y-t.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){return new ra(this.x,this.y)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},getCLID:function(){return io.__clid},serialize:function(t){t.out.addInt32(ws.floatToI32(this.x)),t.out.addInt32(ws.floatToI32(this.y))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("x"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("y"),t.fieldsTypes.push(Ls.PFloat),t.isFinal=$.isClassFinal(io.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.x=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.y=i},__class__:io,__properties__:{get_length:"get_length"}};var no=function(){};(i["openfl.Lib"]=no).__name__=["openfl","Lib"],no.application=null,no.as=function(t,e){return zs.__instanceof(t,e)?t:null},no.attach=function(t){return new l},no.embed=t.openfl.embed=function(t,e,i,n,s){ya.embed(t,e,i,n,s)},no.getTimer=function(){return Date.now()},no.getURL=function(t,e){null==e&&(e="_blank"),window.open(t.url,e)},no.notImplemented=function(t){var e=no.__sentWarnings;if(!(null!=Zu[t]?e.existsReserved(t):e.h.hasOwnProperty(t))){var i=no.__sentWarnings;null!=Zu[t]?i.setReserved(t,!0):i.h[t]=!0,ls.trace("Warning: "+t+" is not implemented",{fileName:"Lib.hx",lineNumber:113,className:"openfl.Lib",methodName:"notImplemented"})}},no.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},no.trace=function(t){ls.trace(t,{fileName:"Lib.hx",lineNumber:144,className:"openfl.Lib",methodName:"trace"})};var so={};(i["openfl._Vector.Vector_Impl_"]=so).__name__=["openfl","_Vector","Vector_Impl_"],so.__properties__={set_fixed:"set_fixed",get_fixed:"get_fixed",set_length:"set_length",get_length:"get_length"},so._new=function(t,e){null==e&&(e=!1),null==t&&(t=0);var i=new De,n=new Array(t);return i.data=n,i.length=t,i.fixed=e,i},so.concat=function(t,e){var i=new De;i.length=null!=e?t.length+e.length:t.length,i.fixed=!1;var n=i.length,s=new Array(n);return i.data=s,ms.blit(t.data,0,i.data,0,t.length),null!=e&&ms.blit(e.data,0,i.data,t.length,e.length),i},so.copy=function(t){var e=new De;e.length=t.length,e.fixed=t.fixed;var i=t.length,n=new Array(i);return e.data=n,ms.blit(t.data,0,e.data,0,t.length),e},so.iterator=function(t){return new ro(t)},so.join=function(t,e){for(var i="",n=0,s=t.length;n<s;){var r=n++;0<r&&(i+=e),i+=L.string(t.data[r])}return i},so.pop=function(t){var e=null;return t.fixed||0<t.length&&(t.length--,e=t.data[t.length]),e},so.push=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var i=t.data.length+10,n=new Array(i);ms.blit(t.data,0,n,0,t.data.length),t.data=n}t.data[t.length-1]=e}return t.length},so.reverse=function(t){for(var e=t.length,i=new Array(e),n=0,s=t.length;n<s;){var r=n++;i[t.length-1-r]=t.data[r]}t.data=i},so.shift=function(t){if(!t.fixed&&0<t.length){t.length--;var e=t.data[0];return ms.blit(t.data,1,t.data,0,t.length),e}return null},so.unshift=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var i=t.length+10,n=new Array(i);ms.blit(t.data,0,n,1,t.data.length),t.data=n}else ms.blit(t.data,0,t.data,1,t.length-1);t.data[0]=e}},so.slice=function(t,e,i){null==i&&(i=0),null==e&&(e=0),e<0&&(e+=t.length),i<=0&&(i+=t.length),i>t.length&&(i=t.length);var n=i-e;(n<=0||n>t.length)&&(n=t.length);var s=new De;s.length=i-e,s.fixed=!0;var r=new Array(n);return s.data=r,ms.blit(t.data,e,s.data,0,n),s},so.sort=function(t,e){var i=t.data.slice(0);i.sort(e),t.data=i.slice(0)},so.splice=function(t,e,i){e<0&&(e+=t.length),e+i>t.length&&(i=t.length-e),i<0&&(i=0);var n=new De;n.length=i,n.fixed=!1;var s=new Array(i);return n.data=s,ms.blit(t.data,e,n.data,0,i),0<i&&(t.length-=i,ms.blit(t.data,e+i,t.data,e,t.length-e)),n},so.toString=function(t){return t.data.slice(0).toString()},so.indexOf=function(t,e,i){null==i&&(i=0);for(var n=-1,s=i,r=t.length;s<r;){var a=s++;if(t.data[a]==e){n=a;break}}return n},so.lastIndexOf=function(t,e,i){null==i&&(i=0);for(var n=-1,s=t.length-1;i<=s;){if(t.data[s]==e){n=s;break}--s}return n},so.ofArray=function(t){var e=new De;return e.length=t.length,e.fixed=!0,e.data=t.slice(0),e},so.convert=function(t){return t},so.get=function(t,e){return t.data[e]},so.set=function(t,e,i){if(!t.fixed&&(e>=t.length&&(t.length=e+1),t.data.length<t.length)){var n=t.data.length+10,s=new Array(n);ms.blit(t.data,0,s,0,t.data.length),t.data=s}return t.data[e]=i},so.fromArray=function(t){var e=new De;return e.length=t.length,e.fixed=!0,e.data=t.slice(0),e},so.toArray=function(t){for(var e=[],i=0,n=t.data.length;i<n;){var s=i++;e.push(t.data[s])}return e},so.fromHaxeVector=function(t){var e=new De;return e.length=t.length,e.fixed=!0,e.data=t,e},so.toHaxeVector=function(t){return t.data},so.fromVectorData=function(t){return t},so.toVectorData=function(t){return t},so.get_length=function(t){return t.length},so.set_length=function(t,e){if(!t.fixed){if(e>t.length){var i=new Array(e);ms.blit(t.data,0,i,0,0|Math.min(t.data.length,e)),t.data=i}t.length=e}return e},so.get_fixed=function(t){return t.fixed},so.set_fixed=function(t,e){return t.fixed=e};var ro=function(t){this.index=0,this.vectorData=t};(i["openfl.VectorDataIterator"]=ro).__name__=["openfl","VectorDataIterator"],ro.prototype={hasNext:function(){return this.index<this.vectorData.length},next:function(){return this.vectorData.data[this.index++]},__class__:ro};function ao(t){this.renderSession=t}(i["openfl._internal.renderer.AbstractMaskManager"]=ao).__name__=["openfl","_internal","renderer","AbstractMaskManager"],ao.prototype={pushMask:function(t){},pushRect:function(t,e){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:ao};function oo(t,e){this.width=t,this.height=e}(i["openfl._internal.renderer.AbstractRenderer"]=oo).__name__=["openfl","_internal","renderer","AbstractRenderer"],oo.prototype={render:function(t){},renderShape:function(t){},setViewport:function(t,e,i,n,s){null==s&&(s=!1)},resize:function(t,e){},__class__:oo};function lo(){this.__uid=$.SEQ<<24|++$.UID;var t=new Gt;t._items=[],t._length=t._items.length,this.cf=t;var e=new Gt;e._items=[],e._length=e._items.length,this.bd=e;var i=new Gt;i._items=[],i._length=i._items.length,this.bd_ids=i;var n=new Gt;n._items=[],n._length=n._items.length,this.vi=n;var s=new Gt;s._items=[],s._length=s._items.length,this.vf=s;var r=new Gt;r._items=[],r._length=r._items.length,this.m=r;var a=new Gt;a._items=[],a._length=a._items.length,this.ii=a;var o=new Gt;o._items=[],o._length=o._items.length,this.i=o;var l=new Gt;l._items=[],l._length=l._items.length,this.ff=l;var h=new Gt;h._items=[],h._length=h._items.length,this.t=h;var _=new Gt;_._items=[],_._length=_._items.length,this.b=_;var u=new Gt;u._items=[],u._length=u._items.length,this.types=u}(i["openfl._internal.renderer.DrawCommandBuffer"]=lo).__name__=["openfl","_internal","renderer","DrawCommandBuffer"],lo.__interfaces__=[Q],lo.prototype={pushClampedFloat:function(t){var e=this.cf;e._items[e._length++]=255*t|0},pushTwip:function(t){var e=this.t;e._items[e._length++]=20*t|0},append:function(t){for(var e=new ho(t),i=0,n=t.types;i<n._length;){var s=i>=n._length?null:n._items[i];switch(++i,s){case 0:e.advance(),e.prev=0;var r=e,a=r.buffer.bd,o=r.bdPos,l=r.buffer.m,h=r.mPos,_=r.buffer.b,u=r.bPos,c=r.buffer.b,f=r.bPos+1;this.beginBitmapFill(o>=a._length?null:a._items[o],h>=l._length?null:l._items[h],u>=_._length?null:_._items[u],f>=c._length?null:c._items[f]);break;case 1:e.advance(),e.prev=1;var d=e,p=d.buffer.i,g=d.iPos;this.beginFill(g>=p._length?null:p._items[g],d.buffer.clampedFloats[d.cfPos]/255);break;case 2:e.advance(),e.prev=2;var m=e,v=m.buffer.i,b=m.iPos,y=m.buffer.ii,w=m.iiPos,x=m.buffer.ff,T=m.ffPos,S=m.buffer.ii,E=m.iiPos+1,I=m.buffer.m,P=m.mPos,C=m.buffer.i,D=m.iPos+1,A=m.buffer.i,R=m.iPos+2;this.beginGradientFill(b>=v._length?null:v._items[b],w>=y._length?null:y._items[w],T>=x._length?null:x._items[T],E>=S._length?null:S._items[E],P>=I._length?null:I._items[P],D>=C._length?null:C._items[D],R>=A._length?null:A._items[R],m.buffer.twips[m.fPos]/20);break;case 3:e.advance(),e.prev=3;var M=e;this.cubicCurveTo(M.buffer.twips[M.fPos]/20,M.buffer.twips[M.fPos+1]/20,M.buffer.twips[M.fPos+2]/20,M.buffer.twips[M.fPos+3]/20,M.buffer.twips[M.fPos+4]/20,M.buffer.twips[M.fPos+5]/20);break;case 4:e.advance(),e.prev=4;var F=e;this.curveTo(F.buffer.twips[F.fPos]/20,F.buffer.twips[F.fPos+1]/20,F.buffer.twips[F.fPos+2]/20,F.buffer.twips[F.fPos+3]/20);break;case 5:e.advance(),e.prev=5;var B=e;this.drawCircle(B.buffer.twips[B.fPos]/20,B.buffer.twips[B.fPos+1]/20,B.buffer.twips[B.fPos+2]/20);break;case 6:e.advance(),e.prev=6;var L=e;this.drawArc(L.buffer.twips[L.fPos]/20,L.buffer.twips[L.fPos+1]/20,L.buffer.twips[L.fPos+2]/20,L.buffer.twips[L.fPos+3]/20,L.buffer.twips[L.fPos+4]/20);break;case 7:e.advance(),e.prev=7;var k=e;this.drawEllipse(k.buffer.twips[k.fPos]/20,k.buffer.twips[k.fPos+1]/20,k.buffer.twips[k.fPos+2]/20,k.buffer.twips[k.fPos+3]/20);break;case 8:e.advance(),e.prev=8;var N=e,O=N.buffer.bd,U=N.bdPos,G=N.buffer.m,X=N.mPos,V=N.buffer.b,z=N.bPos;this.drawImage(U>=O._length?null:O._items[U],X>=G._length?null:G._items[X],z>=V._length?null:V._items[z]);break;case 9:e.advance(),e.prev=9;var H=e,Y=H.buffer.vi,W=H.viPos,K=H.buffer.vf,j=H.vfPos,q=H.buffer.i,J=H.iPos;this.drawPath(W>=Y._length?null:Y._items[W],j>=K._length?null:K._items[j],J>=q._length?null:q._items[J]);break;case 10:e.advance(),e.prev=10;var Z=e;this.drawRect(Z.buffer.twips[Z.fPos]/20,Z.buffer.twips[Z.fPos+1]/20,Z.buffer.twips[Z.fPos+2]/20,Z.buffer.twips[Z.fPos+3]/20);break;case 11:e.advance(),e.prev=11;var Q=e;this.drawRoundRect(Q.buffer.twips[Q.fPos]/20,Q.buffer.twips[Q.fPos+1]/20,Q.buffer.twips[Q.fPos+2]/20,Q.buffer.twips[Q.fPos+3]/20,Q.buffer.twips[Q.fPos+4]/20,Q.buffer.twips[Q.fPos+5]/20);break;case 13:e.advance(),e.prev=13;var $=e,tt=$.buffer.vf,et=$.vfPos,it=$.buffer.vi,nt=$.viPos+1,st=$.buffer.vf,rt=$.vfPos+2,at=$.buffer.i,ot=$.iPos+3;this.drawTriangles(et>=tt._length?null:tt._items[et],nt>=it._length?null:it._items[nt],rt>=st._length?null:st._items[rt],ot>=at._length?null:at._items[ot]);break;case 14:e.advance(),e.prev=14;this.endFill();break;case 15:e.advance(),e.prev=15;var lt=e,ht=lt.buffer.bd,_t=lt.bdPos,ut=lt.buffer.m,ct=lt.mPos,ft=lt.buffer.b,dt=lt.bPos,pt=lt.buffer.b,gt=lt.bPos+1;this.lineBitmapStyle(_t>=ht._length?null:ht._items[_t],ct>=ut._length?null:ut._items[ct],dt>=ft._length?null:ft._items[dt],gt>=pt._length?null:pt._items[gt]);break;case 16:e.advance(),e.prev=16;var mt=e,vt=mt.buffer.i,bt=mt.iPos,yt=mt.buffer.ii,wt=mt.iiPos,xt=mt.buffer.ff,Tt=mt.ffPos,St=mt.buffer.ii,Et=mt.iiPos+1,It=mt.buffer.m,Pt=mt.mPos,Ct=mt.buffer.i,Dt=mt.iPos+1,At=mt.buffer.i,Rt=mt.iPos+2;this.lineGradientStyle(bt>=vt._length?null:vt._items[bt],wt>=yt._length?null:yt._items[wt],Tt>=xt._length?null:xt._items[Tt],Et>=St._length?null:St._items[Et],Pt>=It._length?null:It._items[Pt],Dt>=Ct._length?null:Ct._items[Dt],Rt>=At._length?null:At._items[Rt],mt.buffer.twips[mt.fPos]/20);break;case 17:e.advance(),e.prev=17;var Mt=e,Ft=Mt.buffer.i,Bt=Mt.iPos,Lt=Mt.buffer.b,kt=Mt.bPos,Nt=Mt.buffer.i,Ot=Mt.iPos+1,Ut=Mt.buffer.i,Gt=Mt.iPos+2,Xt=Mt.buffer.i,Vt=Mt.iPos+3;this.lineStyle(Mt.buffer.twips[Mt.fPos]/20,Bt>=Ft._length?null:Ft._items[Bt],Mt.buffer.clampedFloats[Mt.cfPos]/255,kt>=Lt._length?null:Lt._items[kt],Ot>=Nt._length?null:Nt._items[Ot],Gt>=Ut._length?null:Ut._items[Gt],Vt>=Xt._length?null:Xt._items[Vt],Mt.buffer.twips[Mt.fPos+1]/20);break;case 18:e.advance(),e.prev=18;var zt=e;this.lineTo(zt.buffer.twips[zt.fPos]/20,zt.buffer.twips[zt.fPos+1]/20);break;case 19:e.advance(),e.prev=19;var Ht=e;this.moveTo(Ht.buffer.twips[Ht.fPos]/20,Ht.buffer.twips[Ht.fPos+1]/20);break;case 20:e.advance(),e.prev=20;var Yt=e,Wt=Yt.buffer.m,Kt=Yt.mPos;this.overrideMatrix(Kt>=Wt._length?null:Wt._items[Kt])}}return e.destroy(),t},beginBitmapFill:function(t,e,i,n){var s=this.types;s._items[s._length++]=0;var r=this.bd;r._items[r._length++]=t;var a=this.m;a._items[a._length++]=e;var o=this.b;o._items[o._length++]=i;var l=this.b;l._items[l._length++]=n},beginBitmapFillWithId:function(t,e,i,n){var s=this.types;s._items[s._length++]=0;var r=this.bd_ids;r._items[r._length++]=t;var a=this.m;a._items[a._length++]=e;var o=this.b;o._items[o._length++]=i;var l=this.b;l._items[l._length++]=n},beginFill:function(t,e){var i=this.types;i._items[i._length++]=1;var n=this.i;n._items[n._length++]=t;var s=this.cf;s._items[s._length++]=255*e|0},beginGradientFill:function(t,e,i,n,s,r,a,o){var l=this.types;l._items[l._length++]=2;var h=this.i;h._items[h._length++]=t;var _=this.ii;_._items[_._length++]=e;var u=this.ff;u._items[u._length++]=i;var c=this.ii;c._items[c._length++]=n;var f=this.m;f._items[f._length++]=s;var d=this.i;d._items[d._length++]=r;var p=this.i;p._items[p._length++]=a;var g=this.t;g._items[g._length++]=20*o|0},clear:function(){for(var t=this.types,e=0,i=t._length;e<i;){var n=e++;t._items[n]=null}t._length=0;for(var s=this.b,r=0,a=s._length;r<a;){var o=r++;s._items[o]=null}s._length=0;for(var l=this.i,h=0,_=l._length;h<_;){var u=h++;l._items[u]=null}l._length=0;for(var c=this.t,f=0,d=c._length;f<d;){var p=f++;c._items[p]=null}c._length=0;for(var g=this.m,m=0,v=g._length;m<v;){var b=m++;g._items[b]=null}g._length=0;for(var y=this.vi,w=0,x=y._length;w<x;){var T=w++;y._items[T]=null}y._length=0;for(var S=this.vf,E=0,I=S._length;E<I;){var P=E++;S._items[P]=null}S._length=0;for(var C=this.bd_ids,D=0,A=C._length;D<A;){var R=D++;C._items[R]=null}C._length=0;for(var M=this.ff,F=0,B=M._length;F<B;){var L=F++;M._items[L]=null}M._length=0;for(var k=this.ii,N=0,O=k._length;N<O;){var U=N++;k._items[U]=null}k._length=0;for(var G=this.bd,X=0,V=G._length;X<V;){var z=X++;G._items[z]=null}G._length=0;for(var H=this.cf,Y=0,W=H._length;Y<W;){var K=Y++;H._items[K]=null}H._length=0,this.drawCommandTypes=null,this.floats=null,this.clampedFloats=null,this.twips=null},copy:function(){var t=new lo;return t.append(this),t},cubicCurveTo:function(t,e,i,n,s,r){var a=this.types;a._items[a._length++]=3;var o=this.t;o._items[o._length++]=20*t|0;var l=this.t;l._items[l._length++]=20*e|0;var h=this.t;h._items[h._length++]=20*i|0;var _=this.t;_._items[_._length++]=20*n|0;var u=this.t;u._items[u._length++]=20*s|0;var c=this.t;c._items[c._length++]=20*r|0},curveTo:function(t,e,i,n){var s=this.types;s._items[s._length++]=4;var r=this.t;r._items[r._length++]=20*t|0;var a=this.t;a._items[a._length++]=20*e|0;var o=this.t;o._items[o._length++]=20*i|0;var l=this.t;l._items[l._length++]=20*n|0},destroy:function(){this.clear(),this.types=null,this.b=null,this.i=null,this.t=null,this.ff=null,this.ii=null,this.m=null,this.vf=null,this.vi=null,this.bd_ids=null},drawCircle:function(t,e,i){var n=this.types;n._items[n._length++]=5;var s=this.t;s._items[s._length++]=20*t|0;var r=this.t;r._items[r._length++]=20*e|0;var a=this.t;a._items[a._length++]=20*i|0},drawArc:function(t,e,i,n,s){var r=this.types;r._items[r._length++]=6;var a=this.t;a._items[a._length++]=20*t|0;var o=this.t;o._items[o._length++]=20*e|0;var l=this.t;l._items[l._length++]=20*i|0;var h=this.t;h._items[h._length++]=20*n|0;var _=this.t;_._items[_._length++]=20*s|0},drawEllipse:function(t,e,i,n){var s=this.types;s._items[s._length++]=7;var r=this.t;r._items[r._length++]=20*t|0;var a=this.t;a._items[a._length++]=20*e|0;var o=this.t;o._items[o._length++]=20*i|0;var l=this.t;l._items[l._length++]=20*n|0},drawImage:function(t,e,i){var n=this.types;n._items[n._length++]=8;var s=this.bd;s._items[s._length++]=t;var r=this.m;r._items[r._length++]=e;var a=this.b;a._items[a._length++]=i},drawImageWithId:function(t,e,i){var n=this.types;n._items[n._length++]=8;var s=this.bd_ids;s._items[s._length++]=t;var r=this.m;r._items[r._length++]=e;var a=this.b;a._items[a._length++]=i},drawPath:function(t,e,i){throw new Vs("Unsupported drawPath")},drawRect:function(t,e,i,n){var s=this.types;s._items[s._length++]=10;var r=this.t;r._items[r._length++]=20*t|0;var a=this.t;a._items[a._length++]=20*e|0;var o=this.t;o._items[o._length++]=20*i|0;var l=this.t;l._items[l._length++]=20*n|0},drawRoundRect:function(t,e,i,n,s,r){var a=this.types;a._items[a._length++]=11;var o=this.t;o._items[o._length++]=20*t|0;var l=this.t;l._items[l._length++]=20*e|0;var h=this.t;h._items[h._length++]=20*i|0;var _=this.t;_._items[_._length++]=20*n|0;var u=this.t;u._items[u._length++]=20*s|0;var c=this.t;c._items[c._length++]=20*r|0},drawTriangles:function(t,e,i,n){throw new Vs("Unsupported drawTriangles")},endFill:function(){var t=this.types;t._items[t._length++]=14},lineBitmapStyle:function(t,e,i,n){var s=this.types;s._items[s._length++]=15;var r=this.bd;r._items[r._length++]=t;var a=this.m;a._items[a._length++]=e;var o=this.b;o._items[o._length++]=i;var l=this.b;l._items[l._length++]=n},lineBitmapStyleWithId:function(t,e,i,n){var s=this.types;s._items[s._length++]=15;var r=this.bd_ids;r._items[r._length++]=t;var a=this.m;a._items[a._length++]=e;var o=this.b;o._items[o._length++]=i;var l=this.b;l._items[l._length++]=n},lineGradientStyle:function(t,e,i,n,s,r,a,o){var l=this.types;l._items[l._length++]=16;var h=this.i;h._items[h._length++]=t;var _=this.ii;_._items[_._length++]=e;var u=this.ff;u._items[u._length++]=i;var c=this.ii;c._items[c._length++]=n;var f=this.m;f._items[f._length++]=s;var d=this.i;d._items[d._length++]=r;var p=this.i;p._items[p._length++]=a;var g=this.t;g._items[g._length++]=20*o|0},lineStyle:function(t,e,i,n,s,r,a,o){var l=this.types;l._items[l._length++]=17;var h=this.t;h._items[h._length++]=20*(null==t?-1:t)|0;var _=this.i;_._items[_._length++]=e;var u=this.cf;u._items[u._length++]=255*i|0;var c=this.b;c._items[c._length++]=n;var f=this.i;f._items[f._length++]=s,null==r&&(r=1);var d=this.i;d._items[d._length++]=r,null==a&&(a=2);var p=this.i;p._items[p._length++]=a;var g=this.t;g._items[g._length++]=20*o|0},lineTo:function(t,e){var i=this.types;i._items[i._length++]=18;var n=this.t;n._items[n._length++]=20*t|0;var s=this.t;s._items[s._length++]=20*e|0},moveTo:function(t,e){var i=this.types;i._items[i._length++]=19;var n=this.t;n._items[n._length++]=20*t|0;var s=this.t;s._items[s._length++]=20*e|0},overrideMatrix:function(t){var e=this.types;e._items[e._length++]=20;var i=this.m;i._items[i._length++]=t},get_length:function(){return this.validate(),this.drawCommandTypes.length},resolveBitmapDatas:function(t){var e=new Gt;e._items=[],e._length=e._items.length,this.bd=e;for(var i=0,n=this.bd_ids._length;i<n;){var s=i++,r=this.bd_ids,a=t.symbols.h[s>=r._length?null:r._items[s]];if(null!=a){var o=this.bd,l=_l.getFromSymbol(a);o._items[o._length++]=l}else{var h=this.bd;h._items[h._length++]=null}}},validate:function(){null==this.drawCommandTypes&&(this.drawCommandTypes=Es.fromArray(this.types._items),this.clampedFloats=Es.fromArray(this.cf._items),this.twips=xs.fromArray(this.t._items))},needsHighPrecision:function(){for(var t=0,e=this.twips.length;t<e;){var i=t++;if(this.twips[i]<-32768||32767<this.twips[i])return!0}return!1},customSerialize:function(t){this.validate();var e=jn.ofData(this.drawCommandTypes.buffer);if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=t.out,s=(n.b,e.b),r=0,a=e.length;r<a;){var o=r++;n.b.push(s[o])}}var l=this.b._items;if(null==l)t.out.b.push(0);else{var h=l.length+1;0<=h&&h<128?t.out.b.push(h):(t.out.b.push(128),t.out.addInt32(h));for(var _=0;_<l.length;){var u=l[_];++_,t.out.b.push(u?1:0)}}var c=this.i._items;if(null==c)t.out.b.push(0);else{var f=c.length+1;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f));for(var d=0;d<c.length;){var p=c[d];++d,0<=p&&p<128?t.out.b.push(p):(t.out.b.push(128),t.out.addInt32(p))}}if(this.needsHighPrecision()){t.out.b.push(1);var g=jn.ofData(this.twips.buffer);if(null==g)t.out.b.push(0);else{var m=g.length+1;0<=m&&m<128?t.out.b.push(m):(t.out.b.push(128),t.out.addInt32(m));for(var v=t.out,b=(v.b,g.b),y=0,w=g.length;y<w;){var x=y++;v.b.push(b[x])}}}else{t.out.b.push(0);for(var T=new Uint16Array(this.twips.length),S=0,E=this.twips.length;S<E;){var I=S++;T[I]=this.twips[I]+32768&65535}var P=jn.ofData(T.buffer);if(null==P)t.out.b.push(0);else{var C=P.length+1;0<=C&&C<128?t.out.b.push(C):(t.out.b.push(128),t.out.addInt32(C));for(var D=t.out,A=(D.b,P.b),R=0,M=P.length;R<M;){var F=R++;D.b.push(A[F])}}}var B=this.ff._items;if(null==B)t.out.b.push(0);else{var L=B.length+1;0<=L&&L<128?t.out.b.push(L):(t.out.b.push(128),t.out.addInt32(L));for(var k=0;k<B.length;){var N=B[k];if(++k,null==N)t.out.b.push(0);else{var O=N.length+1;0<=O&&O<128?t.out.b.push(O):(t.out.b.push(128),t.out.addInt32(O));for(var U=0;U<N.length;){var G=N[U];++U,t.out.addInt32(ws.floatToI32(G))}}}}var X=this.ii._items;if(null==X)t.out.b.push(0);else{var V=X.length+1;0<=V&&V<128?t.out.b.push(V):(t.out.b.push(128),t.out.addInt32(V));for(var z=0;z<X.length;){var H=X[z];if(++z,null==H)t.out.b.push(0);else{var Y=H.length+1;0<=Y&&Y<128?t.out.b.push(Y):(t.out.b.push(128),t.out.addInt32(Y));for(var W=0;W<H.length;){var K=H[W];++W,0<=K&&K<128?t.out.b.push(K):(t.out.b.push(128),t.out.addInt32(K))}}}}var j=this.m._items;if(null==j)t.out.b.push(0);else{var q=j.length+1;0<=q&&q<128?t.out.b.push(q):(t.out.b.push(128),t.out.addInt32(q));for(var J=0;J<j.length;){var Z=j[J];++J,t.out.addInt32(ws.floatToI32(Z.a)),t.out.addInt32(ws.floatToI32(Z.b)),t.out.addInt32(ws.floatToI32(Z.c)),t.out.addInt32(ws.floatToI32(Z.d)),t.out.addInt32(ws.floatToI32(Z.tx)),t.out.addInt32(ws.floatToI32(Z.ty))}}var Q=this.bd_ids._items;if(null==Q)t.out.b.push(0);else{var $=Q.length+1;0<=$&&$<128?t.out.b.push($):(t.out.b.push(128),t.out.addInt32($));for(var tt=0;tt<Q.length;){var et=Q[tt];++tt,0<=et&&et<128?t.out.b.push(et):(t.out.b.push(128),t.out.addInt32(et))}}var it=jn.ofData(this.clampedFloats.buffer);if(null==it)t.out.b.push(0);else{var nt=it.length+1;0<=nt&&nt<128?t.out.b.push(nt):(t.out.b.push(128),t.out.addInt32(nt));for(var st=t.out,rt=(st.b,it.b),at=0,ot=it.length;at<ot;){var lt=at++;st.b.push(rt[lt])}}},customUnserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.sub(t.inPos,n);t.inPos+=n,i=s}this.drawCommandTypes=Es.fromBytes(i);var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4);var a,o=r;if(0==o)a=null;else{for(var l=[],h=0,_=--o;h<_;){l[h++]=0!=t.input.b[t.inPos++]}a=l}var u=new Gt;u._items=null!=a?a:[],u._length=u._items.length,this.b=u;var c=t.input.b[t.inPos++];128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4);var f,d=c;if(0==d)f=null;else{for(var p=[],g=0,m=--d;g<m;){var v=g++,b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),p[v]=b}f=p}var y=new Gt;if(y._items=null!=f?f:[],y._length=y._items.length,this.i=y,0!=t.input.b[t.inPos++]){var w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4);var x,T=w;if(0==T)x=null;else{--T;var S=t.input.sub(t.inPos,T);t.inPos+=T,x=S}this.twips=xs.fromBytes(x)}else{var E=t.input.b[t.inPos++];128==E&&(E=t.input.getInt32(t.inPos),t.inPos+=4);var I,P=E;if(0==P)I=null;else{--P;var C=t.input.sub(t.inPos,P);t.inPos+=P,I=C}var D=Ss.fromBytes(I),A=new Int32Array(D.length);this.twips=A;for(var R=0,M=this.twips.length;R<M;){var F=R++;this.twips[F]=D[F]-32768|0}}var B=t.input.b[t.inPos++];128==B&&(B=t.input.getInt32(t.inPos),t.inPos+=4);var L,k=B;if(0==k)L=null;else{for(var N=[],O=0,U=--k;O<U;){var G=O++,X=t.input.b[t.inPos++];128==X&&(X=t.input.getInt32(t.inPos),t.inPos+=4);var V,z=X;if(0==z)V=null;else{for(var H=[],Y=0,W=--z;Y<W;){var K=Y++,j=t.input.getFloat(t.inPos);t.inPos+=4,H[K]=j}V=H}N[G]=V}L=N}var q=new Gt;q._items=null!=L?L:[],q._length=q._items.length,this.ff=q;var J=t.input.b[t.inPos++];128==J&&(J=t.input.getInt32(t.inPos),t.inPos+=4);var Z,Q=J;if(0==Q)Z=null;else{for(var $=[],tt=0,et=--Q;tt<et;){var it=tt++,nt=t.input.b[t.inPos++];128==nt&&(nt=t.input.getInt32(t.inPos),t.inPos+=4);var st,rt=nt;if(0==rt)st=null;else{for(var at=[],ot=0,lt=--rt;ot<lt;){var ht=ot++,_t=t.input.b[t.inPos++];128==_t&&(_t=t.input.getInt32(t.inPos),t.inPos+=4),at[ht]=_t}st=at}$[it]=st}Z=$}var ut=new Gt;ut._items=null!=Z?Z:[],ut._length=ut._items.length,this.ii=ut;var ct=t.input.b[t.inPos++];128==ct&&(ct=t.input.getInt32(t.inPos),t.inPos+=4);var ft,dt=ct;if(0==dt)ft=null;else{for(var pt=[],gt=0,mt=--dt;gt<mt;){var vt=gt++,bt=new eo,yt=t.input.getFloat(t.inPos);t.inPos+=4,bt.a=yt;var wt=t.input.getFloat(t.inPos);t.inPos+=4,bt.b=wt;var xt=t.input.getFloat(t.inPos);t.inPos+=4,bt.c=xt;var Tt=t.input.getFloat(t.inPos);t.inPos+=4,bt.d=Tt;var St=t.input.getFloat(t.inPos);t.inPos+=4,bt.tx=St;var Et=t.input.getFloat(t.inPos);t.inPos+=4,bt.ty=Et,pt[vt]=bt}ft=pt}var It=new Gt;It._items=null!=ft?ft:[],It._length=It._items.length,this.m=It;var Pt=t.input.b[t.inPos++];128==Pt&&(Pt=t.input.getInt32(t.inPos),t.inPos+=4);var Ct,Dt=Pt;if(0==Dt)Ct=null;else{for(var At=[],Rt=0,Mt=--Dt;Rt<Mt;){var Ft=Rt++,Bt=t.input.b[t.inPos++];128==Bt&&(Bt=t.input.getInt32(t.inPos),t.inPos+=4),At[Ft]=Bt}Ct=At}var Lt=new Gt;Lt._items=null!=Ct?Ct:[],Lt._length=Lt._items.length,this.bd_ids=Lt;var kt=t.input.b[t.inPos++];128==kt&&(kt=t.input.getInt32(t.inPos),t.inPos+=4);var Nt,Ot=kt;if(0==Ot)Nt=null;else{--Ot;var Ut=t.input.sub(t.inPos,Ot);t.inPos+=Ot,Nt=Ut}this.clampedFloats=Es.fromBytes(Nt)},getCLID:function(){return lo.__clid},serialize:function(t){this.customSerialize(t)},getSerializeSchema:function(){var t=new Ns;return t.isFinal=$.isClassFinal(lo.__clid),t},unserializeInit:function(){var t=new Gt;t._items=[],t._length=t._items.length,this.types=t;var e=new Gt;e._items=[],e._length=e._items.length,this.b=e;var i=new Gt;i._items=[],i._length=i._items.length,this.t=i;var n=new Gt;n._items=[],n._length=n._items.length,this.ff=n;var s=new Gt;s._items=[],s._length=s._items.length,this.i=s;var r=new Gt;r._items=[],r._length=r._items.length,this.ii=r;var a=new Gt;a._items=[],a._length=a._items.length,this.m=a;var o=new Gt;o._items=[],o._length=o._items.length,this.vf=o;var l=new Gt;l._items=[],l._length=l._items.length,this.vi=l;var h=new Gt;h._items=[],h._length=h._items.length,this.bd_ids=h;var _=new Gt;_._items=[],_._length=_._items.length,this.bd=_;var u=new Gt;u._items=[],u._length=u._items.length,this.cf=u},unserialize:function(t){this.customUnserialize(t)},__class__:lo,__properties__:{get_length:"get_length"}};var ho=function(t){this.reset(t)};(i["openfl._internal.renderer.DrawCommandReader"]=ho).__name__=["openfl","_internal","renderer","DrawCommandReader"],ho.prototype={endCheck:function(){this.advance()},advance:function(){switch(this.prev){case 0:this.bdPos+=1,this.mPos+=1,this.bPos+=2;break;case 1:this.iPos+=1,this.cfPos+=1;break;case 2:this.mPos+=1,this.iiPos+=2,this.ffPos+=1,this.fPos+=1,this.iPos+=3;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=5;break;case 7:this.fPos+=4;break;case 8:this.bdPos+=1,this.mPos+=1,this.bPos+=1;break;case 9:this.viPos+=1,this.vfPos+=1,this.iPos+=1;break;case 10:this.fPos+=4;break;case 11:this.fPos+=6;break;case 12:throw new Vs("Unsupported DRAW_TILES");case 13:this.vfPos+=2,this.viPos+=1,this.iPos+=1;break;case 14:break;case 15:this.bdPos+=1,this.mPos+=1,this.bPos+=2;break;case 16:this.mPos+=1,this.iiPos+=2,this.ffPos+=1,this.fPos+=1,this.iPos+=3;break;case 17:this.iPos+=4,this.fPos+=2,this.cfPos+=1,this.bPos+=1;break;case 18:case 19:this.fPos+=2;break;case 20:this.mPos+=1}},destroy:function(){this.buffer=null,this.reset()},bool:function(t){var e=this.buffer.b,i=this.bPos+t;return i>=e._length?null:e._items[i]},fArr:function(t){var e=this.buffer.ff,i=this.ffPos+t;return i>=e._length?null:e._items[i]},float:function(t){return this.buffer.twips[this.fPos+t]/20},clampedFloat:function(t){return this.buffer.clampedFloats[this.cfPos+t]/255},iArr:function(t){var e=this.buffer.ii,i=this.iiPos+t;return i>=e._length?null:e._items[i]},int:function(t){var e=this.buffer.i,i=this.iPos+t;return i>=e._length?null:e._items[i]},matrix:function(t){var e=this.buffer.m,i=this.mPos+t;return i>=e._length?null:e._items[i]},iVec:function(t){var e=this.buffer.vi,i=this.viPos+t;return i>=e._length?null:e._items[i]},fVec:function(t){var e=this.buffer.vf,i=this.vfPos+t;return i>=e._length?null:e._items[i]},bitmapData:function(t){var e=this.buffer.bd,i=this.bdPos+t;return i>=e._length?null:e._items[i]},readBeginBitmapFill:function(){this.advance(),this.prev=0;return this},readBeginFill:function(){this.advance(),this.prev=1;return this},readBeginGradientFill:function(){this.advance(),this.prev=2;return this},readCubicCurveTo:function(){this.advance(),this.prev=3;return this},readCurveTo:function(){this.advance(),this.prev=4;return this},readDrawCircle:function(){this.advance(),this.prev=5;return this},readDrawArc:function(){this.advance(),this.prev=6;return this},readDrawEllipse:function(){this.advance(),this.prev=7;return this},readDrawImage:function(){this.advance(),this.prev=8;return this},readDrawPath:function(){this.advance(),this.prev=9;return this},readDrawRect:function(){this.advance(),this.prev=10;return this},readDrawRoundRect:function(){this.advance(),this.prev=11;return this},readDrawTriangles:function(){this.advance(),this.prev=13;return this},readEndFill:function(){this.advance(),this.prev=14;return this},readLineBitmapStyle:function(){this.advance(),this.prev=15;return this},readLineGradientStyle:function(){this.advance(),this.prev=16;return this},readLineStyle:function(){this.advance(),this.prev=17;return this},readLineTo:function(){this.advance(),this.prev=18;return this},readMoveTo:function(){this.advance(),this.prev=19;return this},readOverrideMatrix:function(){this.advance(),this.prev=20;return this},reset:function(t){this.buffer=t,this.bPos=this.iPos=this.fPos=this.mPos=this.viPos=this.vfPos=this.ffPos=this.iiPos=this.bdPos=this.cfPos=0,this.prev=21,null!=t&&t.validate()},skip:function(t){this.advance(),this.prev=t},__class__:ho};var _o={};(i["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=_o).__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"],_o.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},_o._new=function(t){return t},_o.get_bitmap=function(t){var e=t.buffer.bd,i=t.bdPos;return i>=e._length?null:e._items[i]},_o.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},_o.get_repeat=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]},_o.get_smooth=function(t){var e=t.buffer.b,i=t.bPos+1;return i>=e._length?null:e._items[i]};var uo={};(i["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=uo).__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"],uo.__properties__={get_alpha:"get_alpha",get_color:"get_color"},uo._new=function(t){return t},uo.get_color=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},uo.get_alpha=function(t){return t.buffer.clampedFloats[t.cfPos]/255};var co={};(i["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=co).__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"],co.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},co._new=function(t){return t},co.get_type=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},co.get_colors=function(t){var e=t.buffer.ii,i=t.iiPos;return i>=e._length?null:e._items[i]},co.get_alphas=function(t){var e=t.buffer.ff,i=t.ffPos;return i>=e._length?null:e._items[i]},co.get_ratios=function(t){var e=t.buffer.ii,i=t.iiPos+1;return i>=e._length?null:e._items[i]},co.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},co.get_spreadMethod=function(t){var e=t.buffer.i,i=t.iPos+1;return i>=e._length?null:e._items[i]},co.get_interpolationMethod=function(t){var e=t.buffer.i,i=t.iPos+2;return i>=e._length?null:e._items[i]},co.get_focalPointRatio=function(t){return t.buffer.twips[t.fPos]/20};var fo={};(i["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=fo).__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"],fo.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"},fo._new=function(t){return t},fo.get_controlX1=function(t){return t.buffer.twips[t.fPos]/20},fo.get_controlY1=function(t){return t.buffer.twips[t.fPos+1]/20},fo.get_controlX2=function(t){return t.buffer.twips[t.fPos+2]/20},fo.get_controlY2=function(t){return t.buffer.twips[t.fPos+3]/20},fo.get_anchorX=function(t){return t.buffer.twips[t.fPos+4]/20},fo.get_anchorY=function(t){return t.buffer.twips[t.fPos+5]/20};var po={};(i["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=po).__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"],po.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"},po._new=function(t){return t},po.get_controlX=function(t){return t.buffer.twips[t.fPos]/20},po.get_controlY=function(t){return t.buffer.twips[t.fPos+1]/20},po.get_anchorX=function(t){return t.buffer.twips[t.fPos+2]/20},po.get_anchorY=function(t){return t.buffer.twips[t.fPos+3]/20};var go={};(i["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=go).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"],go.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},go._new=function(t){return t},go.get_x=function(t){return t.buffer.twips[t.fPos]/20},go.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},go.get_radius=function(t){return t.buffer.twips[t.fPos+2]/20};var mo={};(i["openfl._internal.renderer._DrawCommandReader.DrawArcView_Impl_"]=mo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawArcView_Impl_"],mo.__properties__={get_endAngle:"get_endAngle",get_startAngle:"get_startAngle",get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},mo._new=function(t){return t},mo.get_x=function(t){return t.buffer.twips[t.fPos]/20},mo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},mo.get_radius=function(t){return t.buffer.twips[t.fPos+2]/20},mo.get_startAngle=function(t){return t.buffer.twips[t.fPos+3]/20},mo.get_endAngle=function(t){return t.buffer.twips[t.fPos+4]/20};var vo={};(i["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=vo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"],vo.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},vo._new=function(t){return t},vo.get_x=function(t){return t.buffer.twips[t.fPos]/20},vo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},vo.get_width=function(t){return t.buffer.twips[t.fPos+2]/20},vo.get_height=function(t){return t.buffer.twips[t.fPos+3]/20};var bo={};(i["openfl._internal.renderer._DrawCommandReader.DrawImageView_Impl_"]=bo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawImageView_Impl_"],bo.__properties__={get_smooth:"get_smooth",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},bo._new=function(t){return t},bo.get_bitmap=function(t){var e=t.buffer.bd,i=t.bdPos;return i>=e._length?null:e._items[i]},bo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},bo.get_smooth=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]};var yo={};(i["openfl._internal.renderer._DrawCommandReader.DrawPathView_Impl_"]=yo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawPathView_Impl_"],yo.__properties__={get_winding:"get_winding",get_data:"get_data",get_commands:"get_commands"},yo._new=function(t){return t},yo.get_commands=function(t){var e=t.buffer.vi,i=t.viPos;return i>=e._length?null:e._items[i]},yo.get_data=function(t){var e=t.buffer.vf,i=t.vfPos;return i>=e._length?null:e._items[i]},yo.get_winding=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]};var wo={};(i["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=wo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"],wo.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},wo._new=function(t){return t},wo.get_x=function(t){return t.buffer.twips[t.fPos]/20},wo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},wo.get_width=function(t){return t.buffer.twips[t.fPos+2]/20},wo.get_height=function(t){return t.buffer.twips[t.fPos+3]/20};var xo={};(i["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=xo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"],xo.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},xo._new=function(t){return t},xo.get_x=function(t){return t.buffer.twips[t.fPos]/20},xo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},xo.get_width=function(t){return t.buffer.twips[t.fPos+2]/20},xo.get_height=function(t){return t.buffer.twips[t.fPos+3]/20},xo.get_ellipseWidth=function(t){return t.buffer.twips[t.fPos+4]/20},xo.get_ellipseHeight=function(t){return t.buffer.twips[t.fPos+5]/20};var To={};(i["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=To).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"],To.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"},To._new=function(t){return t},To.get_vertices=function(t){var e=t.buffer.vf,i=t.vfPos;return i>=e._length?null:e._items[i]},To.get_indices=function(t){var e=t.buffer.vi,i=t.viPos+1;return i>=e._length?null:e._items[i]},To.get_uvtData=function(t){var e=t.buffer.vf,i=t.vfPos+2;return i>=e._length?null:e._items[i]},To.get_culling=function(t){var e=t.buffer.i,i=t.iPos+3;return i>=e._length?null:e._items[i]};var So={};(i["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=So).__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"],So._new=function(t){return t};var Eo={};(i["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=Eo).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"],Eo.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},Eo._new=function(t){return t},Eo.get_bitmap=function(t){var e=t.buffer.bd,i=t.bdPos;return i>=e._length?null:e._items[i]},Eo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},Eo.get_repeat=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]},Eo.get_smooth=function(t){var e=t.buffer.b,i=t.bPos+1;return i>=e._length?null:e._items[i]};var Io={};(i["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=Io).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"],Io.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},Io._new=function(t){return t},Io.get_type=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},Io.get_colors=function(t){var e=t.buffer.ii,i=t.iiPos;return i>=e._length?null:e._items[i]},Io.get_alphas=function(t){var e=t.buffer.ff,i=t.ffPos;return i>=e._length?null:e._items[i]},Io.get_ratios=function(t){var e=t.buffer.ii,i=t.iiPos+1;return i>=e._length?null:e._items[i]},Io.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},Io.get_spreadMethod=function(t){var e=t.buffer.i,i=t.iPos+1;return i>=e._length?null:e._items[i]},Io.get_interpolationMethod=function(t){var e=t.buffer.i,i=t.iPos+2;return i>=e._length?null:e._items[i]},Io.get_focalPointRatio=function(t){return t.buffer.twips[t.fPos]/20};var Po={};(i["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=Po).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"],Po.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"},Po._new=function(t){return t},Po.get_thickness=function(t){return t.buffer.twips[t.fPos]/20},Po.get_color=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},Po.get_alpha=function(t){return t.buffer.clampedFloats[t.cfPos]/255},Po.get_pixelHinting=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]},Po.get_scaleMode=function(t){var e=t.buffer.i,i=t.iPos+1;return i>=e._length?null:e._items[i]},Po.get_caps=function(t){var e=t.buffer.i,i=t.iPos+2;return i>=e._length?null:e._items[i]},Po.get_joints=function(t){var e=t.buffer.i,i=t.iPos+3;return i>=e._length?null:e._items[i]},Po.get_miterLimit=function(t){return t.buffer.twips[t.fPos+1]/20};var Co={};(i["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=Co).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"],Co.__properties__={get_y:"get_y",get_x:"get_x"},Co._new=function(t){return t},Co.get_x=function(t){return t.buffer.twips[t.fPos]/20},Co.get_y=function(t){return t.buffer.twips[t.fPos+1]/20};var Do={};(i["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=Do).__name__=["openfl","_internal","renderer","_DrawCommandReader","MoveToView_Impl_"],Do.__properties__={get_y:"get_y",get_x:"get_x"},Do._new=function(t){return t},Do.get_x=function(t){return t.buffer.twips[t.fPos]/20},Do.get_y=function(t){return t.buffer.twips[t.fPos+1]/20};var Ao={};(i["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=Ao).__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"],Ao.__properties__={get_matrix:"get_matrix"},Ao._new=function(t){return t},Ao.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]};function Ro(){}(i["openfl._internal.renderer.DrawCommandType"]=Ro).__name__=["openfl","_internal","renderer","DrawCommandType"];function Mo(){this.activeTextures=0;var t=new Gt;t._items=[],t._length=t._items.length,this.renderTargetBaseTransformStack=t,this.pushRenderTargetBaseTransform(null,null)}(i["openfl._internal.renderer.RenderSession"]=Mo).__name__=["openfl","_internal","renderer","RenderSession"],Mo.prototype={pushRenderTargetBaseTransform:function(t,e){var i=eo.pool.get(),n=At.field(t,"__renderTransform");null!=n?(i.copyFrom(n),i.invert()):i.identity(),null!=e&&i.concat(e);var s=this.renderTargetBaseTransformStack;s._items[s._length++]=i},popRenderTargetBaseTransform:function(){var t=this.renderTargetBaseTransformStack,e=t._items[--t._length];t._items[t._length]=null;var i=e;eo.pool.put(i)},getRenderTargetBaseTransform:function(){var t=this.renderTargetBaseTransformStack;return t._items[t._length-1]},get_usesMainSpriteBatch:function(){var t=this.renderer;return this.spriteBatch==t.mainSpriteBatch},__class__:Mo,__properties__:{get_usesMainSpriteBatch:"get_usesMainSpriteBatch"}};var Fo=function(){};(i["openfl._internal.renderer.canvas.CanvasGraphics"]=Fo).__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"],Fo.hasFill=null,Fo.hasStroke=null,Fo.hitTesting=null,Fo.inversePendingMatrix=null,Fo.pendingMatrix=null,Fo.context=null,Fo.__hitTestContext=null,Fo.__hitTestCanvas=null,Fo.closePath=function(){var t=Fo.context;null!=t.strokeStyle&&(t.closePath(),t.stroke(),t.beginPath())},Fo.createBitmapFill=function(t,e){return t.get_bd().__sync(),0==t.get_src().width?null:Fo.context.createPattern(t.get_src(),e?"repeat":"no-repeat")},Fo.createGradientPattern=function(t,e,i,n,s,r,a,o){var l=null,h=Fo.context;switch(0!=o&&(o=Math.min(Math.max(o,-1),1)),t){case 0:l=h.createLinearGradient(-819.2,0,819.2,0);break;case 1:l=h.createRadialGradient(819.2*o,0,0,0,0,819.2)}for(var _=0,u=e.length;_<u;){var c=_++,f=e[c],d=i[c],p=(16711680&f)>>>16,g=(65280&f)>>>8,m=255&f,v=n[c]/255;v<0&&(v=0),1<v&&(v=1),l.addColorStop(v,"rgba("+p+", "+g+", "+m+", "+d+")")}return l},Fo.drawRoundRect=function(t,e,i,n,s,r){null==r&&(r=s),i/2<(s*=.5)&&(s=i/2),n/2<(r*=.5)&&(r=n/2);var a=t+i,o=e+n,l=-s+s*Fo.SIN45,h=-s+s*Fo.TAN22,_=-r+r*Fo.SIN45,u=-r+r*Fo.TAN22,c=Fo.context;c.moveTo(a,o-r),c.quadraticCurveTo(a,o+u,a+l,o+_),c.quadraticCurveTo(a+h,o,a-s,o),c.lineTo(t+s,o),c.quadraticCurveTo(t-h,o,t-l,o+_),c.quadraticCurveTo(t,o+u,t,o-r),c.lineTo(t,e+r),c.quadraticCurveTo(t,e-u,t-l,e-_),c.quadraticCurveTo(t-h,e,t+s,e),c.lineTo(a-s,e),c.quadraticCurveTo(a+h,e,a+l,e-_),c.quadraticCurveTo(a,e-u,a,e+r),c.lineTo(a,o-r)},Fo.beginRenderStep=function(){Fo.context.beginPath(),Fo.positionX=0,Fo.positionY=0,Fo.closeGap=!1,Fo.startX=0,Fo.startY=0,Fo.hasFill=!1,Fo.hasStroke=!1},Fo.resetFillStyle=function(){Fo.hasFill=!1,Fo.hasStroke=!1},Fo.endRenderStep=function(){var t=Fo;if(t.hasStroke||t.hasFill){if(t.hasStroke){Fo.context.save();var e=t.pendingMatrix;null!=e&&e.a*e.d-e.c*e.b!=0&&(Fo.snapCoordinates&&Fo.context.setTransform(Fo.currentTransform.a,Fo.currentTransform.b,Fo.currentTransform.c,Fo.currentTransform.d,Fo.currentTransform.tx,Fo.currentTransform.ty),Fo.context.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),null!=e&&e.a==e.d&&(Fo.context.lineWidth=Fo.context.lineWidth/e.a),t.hitTesting||Fo.context.stroke(),Fo.context.restore(),Fo.context.closePath()}if(t.hasFill&&Fo.closeGap?Fo.context.lineTo(Fo.startX,Fo.startY):Fo.closeGap&&Fo.positionX==Fo.startX&&Fo.positionY==Fo.startY&&Fo.context.closePath(),t.hasFill){Fo.context.save();var i=t.pendingMatrix;null!=i&&i.a*i.d-i.c*i.b!=0&&(Fo.snapCoordinates&&Fo.context.setTransform(Fo.currentTransform.a,Fo.currentTransform.b,Fo.currentTransform.c,Fo.currentTransform.d,Fo.currentTransform.tx,Fo.currentTransform.ty),Fo.context.transform(i.a,i.b,i.c,i.d,i.tx,i.ty)),t.hitTesting||Fo.context.fill(t.canvasWindingRule),Fo.context.restore(),Fo.context.closePath()}t.pendingMatrix=null}},Fo.hitTest=function(t,e,i){var n=t.__bounds,s=Fo;if(null==t.__commands||0==t.__commands.get_length()||null==n||n.width<=0||n.height<=0)return!1;Fo.hitTesting=!0,null==Fo.__hitTestCanvas&&(Fo.__hitTestCanvas=window.document.createElement("canvas"),Fo.__hitTestCanvas.width=1024,Fo.__hitTestCanvas.height=1024,Fo.__hitTestContext=Fo.__hitTestCanvas.getContext("2d")),Fo.context=Fo.__hitTestContext;var r=Fo.__hitTestContext;r.setTransform(1,0,0,1,0,0),e*=1,i*=1,Fo.beginRenderStep();var a=Fo.drawCommandReaderPool.get();a.reset(t.__commands);for(var o=0,l=t.__commands.drawCommandTypes;o<l.length;){var h=l[o];switch(++o,h){case 0:case 1:case 2:if(Fo.endRenderStep(),Fo.hasFill&&r.isPointInPath(e,i,Fo.canvasWindingRule))return Fo.drawCommandReaderPool.put(a),!0;if(Fo.hasStroke&&r.isPointInStroke(e,i))return Fo.drawCommandReaderPool.put(a),!0;if(Fo.beginRenderStep(),0==h){a.advance(),a.prev=0}else if(2==h){a.advance(),a.prev=2}else{a.advance(),a.prev=1}Fo.hasFill=!0;break;case 3:a.advance(),a.prev=3;var _=a;Fo.context.bezierCurveTo(_.buffer.twips[_.fPos]/20,_.buffer.twips[_.fPos+1]/20,_.buffer.twips[_.fPos+2]/20,_.buffer.twips[_.fPos+3]/20,_.buffer.twips[_.fPos+4]/20,_.buffer.twips[_.fPos+5]/20);break;case 4:a.advance(),a.prev=4;var u=a;Fo.context.quadraticCurveTo(u.buffer.twips[u.fPos]/20,u.buffer.twips[u.fPos+1]/20,u.buffer.twips[u.fPos+2]/20,u.buffer.twips[u.fPos+3]/20);break;case 5:a.advance(),a.prev=5;var c=a;Fo.context.moveTo(c.buffer.twips[c.fPos]/20,c.buffer.twips[c.fPos+1]/20),Fo.context.arc(c.buffer.twips[c.fPos]/20,c.buffer.twips[c.fPos+1]/20,c.buffer.twips[c.fPos+2]/20,0,2*Math.PI,!0);break;case 6:a.advance(),a.prev=6;var f=a;Fo.context.moveTo(f.buffer.twips[f.fPos]/20,f.buffer.twips[f.fPos+1]/20),Fo.context.arc(f.buffer.twips[f.fPos]/20,f.buffer.twips[f.fPos+1]/20,f.buffer.twips[f.fPos+2]/20,f.buffer.twips[f.fPos+3]/20,f.buffer.twips[f.fPos+4]/20,!0);break;case 7:a.advance(),a.prev=7;var d=a,p=d.buffer.twips[d.fPos]/20,g=d.buffer.twips[d.fPos+1]/20,m=d.buffer.twips[d.fPos+2]/20,v=d.buffer.twips[d.fPos+3]/20,b=m/2*.5522848,y=v/2*.5522848,w=p+m,x=g+v,T=p+m/2,S=g+v/2;Fo.context.moveTo(p,S),Fo.context.bezierCurveTo(p,S-y,T-b,g,T,g),Fo.context.bezierCurveTo(T+b,g,w,S-y,w,S),Fo.context.bezierCurveTo(w,S+y,T+b,x,T,x),Fo.context.bezierCurveTo(T-b,x,p,S+y,p,S);break;case 8:a.advance(),a.prev=8;var E=a;Fo.context.save();var I=E.buffer.m,P=E.mPos,C=E.buffer.m,D=E.mPos,A=E.buffer.m,R=E.mPos,M=E.buffer.m,F=E.mPos,B=E.buffer.m,L=E.mPos,k=E.buffer.m,N=E.mPos;Fo.context.transform((P>=I._length?null:I._items[P]).a,(D>=C._length?null:C._items[D]).b,(R>=A._length?null:A._items[R]).c,(F>=M._length?null:M._items[F]).d,(L>=B._length?null:B._items[L]).tx,(N>=k._length?null:k._items[N]).ty);var O=E.buffer.bd,U=E.bdPos;if(null!=(U>=O._length?null:O._items[U])&&!Fo.hitTesting){var G=E.buffer.bd,X=E.bdPos,V=X>=G._length?null:G._items[X],z=V.get_uvData(),H=V.get_bd().get_image().get_src();if(null==z)Fo.context.drawImage(H,0,0,1,1);else{var Y=H.width,W=H.height;Fo.context.drawImage(H,z.x0*Y,z.y0*W,(z.x1-z.x0)*Y,(z.y2-z.y0)*W,0,0,1,1)}}else Fo.context.rect(0,0,1,1);if(Fo.context.restore(),r.isPointInPath(e,i,Fo.canvasWindingRule))return Fo.drawCommandReaderPool.put(a),!0;break;case 10:a.advance(),a.prev=10;var K=a;Fo.context.rect(K.buffer.twips[K.fPos]/20,K.buffer.twips[K.fPos+1]/20,K.buffer.twips[K.fPos+2]/20,K.buffer.twips[K.fPos+3]/20);break;case 11:a.advance(),a.prev=11;var j=a;Fo.drawRoundRect(j.buffer.twips[j.fPos]/20,j.buffer.twips[j.fPos+1]/20,j.buffer.twips[j.fPos+2]/20,j.buffer.twips[j.fPos+3]/20,j.buffer.twips[j.fPos+4]/20,j.buffer.twips[j.fPos+5]/20);break;case 14:a.advance(),a.prev=14;if(Fo.endRenderStep(),s.hasFill&&r.isPointInPath(e,i,s.canvasWindingRule))return Fo.drawCommandReaderPool.put(a),!0;if(s.hasStroke&&r.isPointInStroke(e,i))return Fo.drawCommandReaderPool.put(a),!0;Fo.beginRenderStep();break;case 15:a.advance(),a.prev=15;Fo.hasStroke&&Fo.closePath(),Fo.context.moveTo(Fo.positionX,Fo.positionY),Fo.context.strokeStyle="white",Fo.hasStroke=!0;break;case 16:a.advance(),a.prev=16;var q=a;Fo.hasStroke&&Fo.closePath(),Fo.context.moveTo(Fo.positionX,Fo.positionY),Fo.context.strokeStyle="white";var J=q.buffer.m,Z=q.mPos;Fo.pendingMatrix=Z>=J._length?null:J._items[Z],Fo.hasStroke=!0;break;case 17:a.advance(),a.prev=17;var Q=a;if((Fo.hasStroke||Fo.hasFill)&&(Fo.hitTesting?Fo.context.closePath():(Fo.hasStroke&&Fo.context.stroke(),Fo.context.closePath(),Fo.hasFill&&Fo.context.fill(Fo.canvasWindingRule)),Fo.context.beginPath()),Fo.context.moveTo(Fo.positionX,Fo.positionY),Q.buffer.twips[Q.fPos]/20==null||Q.buffer.twips[Q.fPos]/20==-1)Fo.hasStroke=!1;else{Fo.context.lineWidth=0<Q.buffer.twips[Q.fPos]/20?Math.max(Q.buffer.twips[Q.fPos]/20,1):1;var $=Q.buffer.i,tt=Q.iPos+3;Fo.context.lineJoin=Fl.toString(tt>=$._length?null:$._items[tt]).toLowerCase();var et,it=Q.buffer.i,nt=Q.iPos+2;if(0==(nt>=it._length?null:it._items[nt]))et="butt";else{var st=Q.buffer.i,rt=Q.iPos+2;et=cl.toString(rt>=st._length?null:st._items[rt]).toLowerCase()}Fo.context.lineCap=et,Fo.context.miterLimit=Q.buffer.twips[Q.fPos+1]/20,Fo.context.strokeStyle="white",Fo.hasStroke=0<Q.buffer.clampedFloats[Q.cfPos]/255}break;case 18:a.advance(),a.prev=18;var at=a;Fo.context.lineTo(at.buffer.twips[at.fPos]/20,at.buffer.twips[at.fPos+1]/20),Fo.positionX=at.buffer.twips[at.fPos]/20,Fo.positionY=at.buffer.twips[at.fPos+1]/20;break;case 19:a.advance(),a.prev=19;var ot=a;Fo.context.moveTo(ot.buffer.twips[ot.fPos]/20,ot.buffer.twips[ot.fPos+1]/20),Fo.positionX=ot.buffer.twips[ot.fPos]/20,Fo.positionY=ot.buffer.twips[ot.fPos+1]/20,Fo.closeGap=!0,Fo.startX=ot.buffer.twips[ot.fPos]/20,Fo.startY=ot.buffer.twips[ot.fPos+1]/20;break;default:a.advance(),a.prev=h}}return Fo.endRenderStep(),Fo.hasFill&&r.isPointInPath(e,i,s.canvasWindingRule)?(Fo.drawCommandReaderPool.put(a),!0):Fo.hasStroke&&r.isPointInStroke(e,i)?(Fo.drawCommandReaderPool.put(a),!0):(Fo.drawCommandReaderPool.put(a),!1)},Fo.isCCW=function(t,e,i,n,s,r){return(i-t)*(r-e)-(n-e)*(s-t)<0},Fo.normalizeUVT=function(t,e){null==e&&(e=!1);for(var i=-1/0,n=-1/0,s=t.length,r=1,a=s+1;r<a;){var o=r++;e&&o%3==0||i<(n=t.data[o-1])&&(i=n)}var l=new De,h=new Array(0);l.data=h,l.length=0,l.fixed=!1;for(var _=l,u=1,c=s+1;u<c;){var f=u++;if(!e||f%3!=0){var d=t.data[f-1]/i;if(!_.fixed){if(_.length++,_.data.length<_.length){var p=_.data.length+10,g=new Array(p);ms.blit(_.data,0,g,0,_.data.length),_.data=g}_.data[_.length-1]=d}}}return{max:i,uvt:_}},Fo.render=function(t,e,i,n,s){if(null==s&&(s=!1),null==n&&(n=!1),t.get_dirty()){if(0==Fo.glMaxTextureSize){e.gl;Fo.glMaxTextureSize=Zr.context.getParameter(e.gl.MAX_TEXTURE_SIZE)-2*Fo.padding-1}Fo.hitTesting=!1;var r=t.__bounds;if(!n&&!t.__visible||0==t.__commands.get_length()||null==r||r.width<=0||r.height<=0)t.__canvas=null,t.__context=null,t.set___bitmap(null);else{var a=i;if(null!=t.__symbol&&zs.__instanceof(t.__symbol,Cs)){var o=null,l=zs.__cast(t.__symbol,Cs);l.registerGraphics(t);var h=l.renderScale,_=b_.pool.get();for(r.transform(_,a);_.width>Fo.glMaxTextureSize||_.height>Fo.glMaxTextureSize;)h*=.9,_.width*=.9,_.height*=.9;if(a.scale(h,h),b_.pool.put(_),!s&&null!=(o=l.getCachedBitmapData(a)))return t.set___bitmap(o),void t.set_dirty(!1)}else{var u=b_.pool.get(),c=1;for(r.transform(u,a);u.width>Fo.glMaxTextureSize||u.height>Fo.glMaxTextureSize;)c*=.9,u.width*=.9,u.height*=.9;a.scale(c,c),b_.pool.put(u)}null==t.__canvas&&(t.__canvas=Fo.pool.get(),t.__context=t.__canvas.getContext("2d")),Fo.context=t.__context;var f=Fo.context,d=b_.pool.get();r.transform(d,a);var p=Math.floor(d.x),g=Math.floor(d.y),m=Math.ceil(d.width+d.x-p)+2*Fo.padding,v=Math.ceil(d.height+d.y-g)+2*Fo.padding;t.__canvas.width=m,t.__canvas.height=v,Fo.snapCoordinates=null!=t.__symbol&&zs.__instanceof(t.__symbol,Cs)&&zs.__cast(t.__symbol,Cs).snapCoordinates;var b=eo.pool.get();b.copyFrom(a),b.translate(Fo.padding-p,Fo.padding-g),b_.pool.put(d),Fo.snapCoordinates?Fo.currentTransform.setTo(b.a,b.b,b.c,b.d,Math.round(b.tx),Math.round(b.ty)):f.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty),Fo.beginRenderStep();var y=Fo.drawCommandReaderPool.get();if(y.reset(t.__commands),Fo.snapCoordinates)for(var w=0,x=t.__commands.drawCommandTypes;w<x.length;){var T=x[w];switch(++w,T){case 0:Fo.endRenderStep(),Fo.beginRenderStep(),y.advance(),y.prev=0;var S,E=y;if(n)S=!0;else{var I=E.buffer.bd,P=E.bdPos;S=null==(P>=I._length?null:I._items[P])}if(S)Fo.context.fillStyle="white";else{var C=E.buffer.bd,D=E.bdPos,A=E.buffer.b,R=E.bPos;Fo.context.fillStyle=Fo.createBitmapFill(D>=C._length?null:C._items[D],R>=A._length?null:A._items[R]),Fo.hasFill=!0;var M=E.buffer.m,F=E.mPos;if(null!=(F>=M._length?null:M._items[F])){var B=E.buffer.m,L=E.mPos;Fo.pendingMatrix=L>=B._length?null:B._items[L],null==Fo.inversePendingMatrix&&(Fo.inversePendingMatrix=eo.pool.get());var k=E.buffer.m,N=E.mPos;Fo.inversePendingMatrix.copyFrom(N>=k._length?null:k._items[N]),Fo.inversePendingMatrix.invert()}else(Fo.pendingMatrix=null)!=Fo.inversePendingMatrix&&(eo.pool.put(Fo.inversePendingMatrix),Fo.inversePendingMatrix=null)}break;case 1:Fo.endRenderStep(),Fo.beginRenderStep(),y.advance(),y.prev=1;var O=y;if(O.buffer.clampedFloats[O.cfPos]/255<.005&&!n)Fo.hasFill=!1;else{if(n)Fo.context.fillStyle="white";else if(O.buffer.clampedFloats[O.cfPos]/255==1){var U=O.buffer.i,G=O.iPos,X=Ps.hex(G>=U._length?null:U._items[G],6);Fo.context.fillStyle="#"+X}else{var V=O.buffer.i,z=O.iPos,H=(16711680&(z>=V._length?null:V._items[z]))>>>16,Y=O.buffer.i,W=O.iPos,K=(65280&(W>=Y._length?null:Y._items[W]))>>>8,j=O.buffer.i,q=O.iPos,J=255&(q>=j._length?null:j._items[q]);Fo.context.fillStyle="rgba("+H+", "+K+", "+J+", "+O.buffer.clampedFloats[O.cfPos]/255+")"}Fo.hasFill=!0}break;case 2:Fo.endRenderStep(),Fo.beginRenderStep(),y.advance(),y.prev=2;var Z=y;if(n)Fo.context.fillStyle="white";else{var Q=Z.buffer.i,$=Z.iPos,tt=Z.buffer.ii,et=Z.iiPos,it=Z.buffer.ff,nt=Z.ffPos,st=Z.buffer.ii,rt=Z.iiPos+1,at=Z.buffer.m,ot=Z.mPos,lt=Z.buffer.i,ht=Z.iPos+1,_t=Z.buffer.i,ut=Z.iPos+2;Fo.context.fillStyle=Fo.createGradientPattern($>=Q._length?null:Q._items[$],et>=tt._length?null:tt._items[et],nt>=it._length?null:it._items[nt],rt>=st._length?null:st._items[rt],ot>=at._length?null:at._items[ot],ht>=lt._length?null:lt._items[ht],ut>=_t._length?null:_t._items[ut],Z.buffer.twips[Z.fPos]/20)}var ct=Z.buffer.m,ft=Z.mPos;Fo.pendingMatrix=ft>=ct._length?null:ct._items[ft],Fo.hasFill=!0;break;case 4:y.advance(),y.prev=4;var dt=y,pt=Fo.currentTransform,gt=dt.buffer.twips[dt.fPos+2]/20*pt.a+dt.buffer.twips[dt.fPos+3]/20*pt.c+pt.tx,mt=Fo.currentTransform,vt=dt.buffer.twips[dt.fPos+2]/20*mt.b+dt.buffer.twips[dt.fPos+3]/20*mt.d+mt.ty,bt=Math.round(gt),yt=Math.round(vt),wt=bt-gt,xt=yt-vt,Tt=Fo.currentTransform,St=dt.buffer.twips[dt.fPos]/20*Tt.a+dt.buffer.twips[dt.fPos+1]/20*Tt.c+Tt.tx+wt,Et=Fo.currentTransform,It=dt.buffer.twips[dt.fPos]/20*Et.b+dt.buffer.twips[dt.fPos+1]/20*Et.d+Et.ty+xt;Fo.context.quadraticCurveTo(St,It,bt,yt);break;case 8:y.advance(),y.prev=8;var Pt=y;Fo.context.save();var Ct=eo.pool.get(),Dt=Pt.buffer.m,At=Pt.mPos;if(Ct.copyFrom(At>=Dt._length?null:Dt._items[At]),Ct.concat(Fo.currentTransform),0!=Ct.b||0!=Ct.c)throw eo.pool.put(Ct),new Vs("can't use snapping on rotated images");if(Fo.context.setTransform(Math.round(Ct.a),Math.round(Ct.b),Math.round(Ct.c),Math.round(Ct.d),Math.round(Ct.tx),Math.round(Ct.ty)),eo.pool.put(Ct),Fo.hitTesting)Fo.context.fillStyle="white",Fo.context.fillRect(0,0,1,1);else{var Rt=Pt.buffer.bd,Mt=Pt.bdPos,Ft=Mt>=Rt._length?null:Rt._items[Mt],Bt=Ft.get_uvData(),Lt=Ft.get_bd().get_image().get_src();if(null==Bt)Fo.context.drawImage(Lt,0,0,1,1);else{var kt=Lt.width,Nt=Lt.height;Fo.context.drawImage(Lt,Bt.x0*kt,Bt.y0*Nt,(Bt.x1-Bt.x0)*kt,(Bt.y2-Bt.y0)*Nt,0,0,1,1)}}Fo.context.restore();break;case 14:y.advance(),y.prev=14;Fo.endRenderStep(),Fo.beginRenderStep();break;case 17:y.advance(),y.prev=17;var Ot=y;if((Fo.hasStroke||Fo.hasFill)&&(Fo.hitTesting?Fo.context.closePath():(Fo.hasStroke&&Fo.context.stroke(),Fo.context.closePath(),Fo.hasFill&&Fo.context.fill(Fo.canvasWindingRule)),Fo.context.beginPath()),Fo.context.moveTo(Fo.positionX,Fo.positionY),Ot.buffer.twips[Ot.fPos]/20==null||Ot.buffer.twips[Ot.fPos]/20==-1)Fo.hasStroke=!1;else{Fo.context.lineWidth=0<Ot.buffer.twips[Ot.fPos]/20?Math.max(Ot.buffer.twips[Ot.fPos]/20,1):1;var Ut=Ot.buffer.i,Gt=Ot.iPos+3;Fo.context.lineJoin=Fl.toString(Gt>=Ut._length?null:Ut._items[Gt]).toLowerCase();var Xt,Vt=Ot.buffer.i,zt=Ot.iPos+2;if(0==(zt>=Vt._length?null:Vt._items[zt]))Xt="butt";else{var Ht=Ot.buffer.i,Yt=Ot.iPos+2;Xt=cl.toString(Yt>=Ht._length?null:Ht._items[Yt]).toLowerCase()}if(Fo.context.lineCap=Xt,Fo.context.miterLimit=Ot.buffer.twips[Ot.fPos+1]/20,n)Fo.context.strokeStyle="white";else if(Ot.buffer.clampedFloats[Ot.cfPos]/255==1){var Wt=Ot.buffer.i,Kt=Ot.iPos,jt=Ps.hex(16777215&(Kt>=Wt._length?null:Wt._items[Kt]),6);Fo.context.strokeStyle="#"+jt}else{var qt=Ot.buffer.i,Jt=Ot.iPos,Zt=(16711680&(Jt>=qt._length?null:qt._items[Jt]))>>>16,Qt=Ot.buffer.i,$t=Ot.iPos,te=(65280&($t>=Qt._length?null:Qt._items[$t]))>>>8,ee=Ot.buffer.i,ie=Ot.iPos,ne=255&(ie>=ee._length?null:ee._items[ie]);Fo.context.strokeStyle="rgba("+Zt+", "+te+", "+ne+", "+Ot.buffer.clampedFloats[Ot.cfPos]/255+")"}Fo.hasStroke=0<Ot.buffer.clampedFloats[Ot.cfPos]/255}break;case 18:y.advance(),y.prev=18;var se=y,re=Fo.currentTransform,ae=Math.round(se.buffer.twips[se.fPos]/20*re.a+se.buffer.twips[se.fPos+1]/20*re.c+re.tx),oe=Fo.currentTransform,le=Math.round(se.buffer.twips[se.fPos]/20*oe.b+se.buffer.twips[se.fPos+1]/20*oe.d+oe.ty);Fo.context.lineTo(ae,le),Fo.positionX=ae,Fo.positionY=le;break;case 19:y.advance(),y.prev=19;var he=y,_e=Fo.currentTransform,ue=Math.round(he.buffer.twips[he.fPos]/20*_e.a+he.buffer.twips[he.fPos+1]/20*_e.c+_e.tx),ce=Fo.currentTransform,fe=Math.round(he.buffer.twips[he.fPos]/20*ce.b+he.buffer.twips[he.fPos+1]/20*ce.d+ce.ty);Fo.context.moveTo(ue,fe),Fo.positionX=ue,Fo.positionY=fe,Fo.closeGap=!0,Fo.startX=ue,Fo.startY=fe;break;default:throw new Vs(":TODO:")}}else for(var de=0,pe=t.__commands.drawCommandTypes;de<pe.length;){var ge=pe[de];switch(++de,ge){case 0:Fo.endRenderStep(),Fo.beginRenderStep(),y.advance(),y.prev=0;var me,ve=y;if(n)me=!0;else{var be=ve.buffer.bd,ye=ve.bdPos;me=null==(ye>=be._length?null:be._items[ye])}if(me)Fo.context.fillStyle="white";else{var we=ve.buffer.bd,xe=ve.bdPos,Te=ve.buffer.b,Se=ve.bPos;Fo.context.fillStyle=Fo.createBitmapFill(xe>=we._length?null:we._items[xe],Se>=Te._length?null:Te._items[Se]),Fo.hasFill=!0;var Ee=ve.buffer.m,Ie=ve.mPos;if(null!=(Ie>=Ee._length?null:Ee._items[Ie])){var Pe=ve.buffer.m,Ce=ve.mPos;Fo.pendingMatrix=Ce>=Pe._length?null:Pe._items[Ce],null==Fo.inversePendingMatrix&&(Fo.inversePendingMatrix=eo.pool.get());var De=ve.buffer.m,Ae=ve.mPos;Fo.inversePendingMatrix.copyFrom(Ae>=De._length?null:De._items[Ae]),Fo.inversePendingMatrix.invert()}else(Fo.pendingMatrix=null)!=Fo.inversePendingMatrix&&(eo.pool.put(Fo.inversePendingMatrix),Fo.inversePendingMatrix=null)}break;case 1:Fo.endRenderStep(),Fo.beginRenderStep(),y.advance(),y.prev=1;var Re=y;if(Re.buffer.clampedFloats[Re.cfPos]/255<.005&&!n)Fo.hasFill=!1;else{if(n)Fo.context.fillStyle="white";else if(Re.buffer.clampedFloats[Re.cfPos]/255==1){var Me=Re.buffer.i,Fe=Re.iPos,Be=Ps.hex(Fe>=Me._length?null:Me._items[Fe],6);Fo.context.fillStyle="#"+Be}else{var Le=Re.buffer.i,ke=Re.iPos,Ne=(16711680&(ke>=Le._length?null:Le._items[ke]))>>>16,Oe=Re.buffer.i,Ue=Re.iPos,Ge=(65280&(Ue>=Oe._length?null:Oe._items[Ue]))>>>8,Xe=Re.buffer.i,Ve=Re.iPos,ze=255&(Ve>=Xe._length?null:Xe._items[Ve]);Fo.context.fillStyle="rgba("+Ne+", "+Ge+", "+ze+", "+Re.buffer.clampedFloats[Re.cfPos]/255+")"}Fo.hasFill=!0}break;case 2:Fo.endRenderStep(),Fo.beginRenderStep(),y.advance(),y.prev=2;var He=y;if(n)Fo.context.fillStyle="white";else{var Ye=He.buffer.i,We=He.iPos,Ke=He.buffer.ii,je=He.iiPos,qe=He.buffer.ff,Je=He.ffPos,Ze=He.buffer.ii,Qe=He.iiPos+1,$e=He.buffer.m,ti=He.mPos,ei=He.buffer.i,ii=He.iPos+1,ni=He.buffer.i,si=He.iPos+2;Fo.context.fillStyle=Fo.createGradientPattern(We>=Ye._length?null:Ye._items[We],je>=Ke._length?null:Ke._items[je],Je>=qe._length?null:qe._items[Je],Qe>=Ze._length?null:Ze._items[Qe],ti>=$e._length?null:$e._items[ti],ii>=ei._length?null:ei._items[ii],si>=ni._length?null:ni._items[si],He.buffer.twips[He.fPos]/20)}var ri=He.buffer.m,ai=He.mPos;Fo.pendingMatrix=ai>=ri._length?null:ri._items[ai],Fo.hasFill=!0;break;case 3:y.advance(),y.prev=3;var oi=y;Fo.context.bezierCurveTo(oi.buffer.twips[oi.fPos]/20,oi.buffer.twips[oi.fPos+1]/20,oi.buffer.twips[oi.fPos+2]/20,oi.buffer.twips[oi.fPos+3]/20,oi.buffer.twips[oi.fPos+4]/20,oi.buffer.twips[oi.fPos+5]/20);break;case 4:y.advance(),y.prev=4;var li=y;Fo.context.quadraticCurveTo(li.buffer.twips[li.fPos]/20,li.buffer.twips[li.fPos+1]/20,li.buffer.twips[li.fPos+2]/20,li.buffer.twips[li.fPos+3]/20);break;case 5:y.advance(),y.prev=5;var hi=y;Fo.context.moveTo(hi.buffer.twips[hi.fPos]/20,hi.buffer.twips[hi.fPos+1]/20),Fo.context.arc(hi.buffer.twips[hi.fPos]/20,hi.buffer.twips[hi.fPos+1]/20,hi.buffer.twips[hi.fPos+2]/20,0,2*Math.PI,!0);break;case 6:y.advance(),y.prev=6;var _i=y;Fo.context.moveTo(_i.buffer.twips[_i.fPos]/20,_i.buffer.twips[_i.fPos+1]/20),Fo.context.arc(_i.buffer.twips[_i.fPos]/20,_i.buffer.twips[_i.fPos+1]/20,_i.buffer.twips[_i.fPos+2]/20,_i.buffer.twips[_i.fPos+3]/20,_i.buffer.twips[_i.fPos+4]/20,!0);break;case 7:y.advance(),y.prev=7;var ui=y,ci=ui.buffer.twips[ui.fPos]/20,fi=ui.buffer.twips[ui.fPos+1]/20,di=ui.buffer.twips[ui.fPos+2]/20,pi=ui.buffer.twips[ui.fPos+3]/20,gi=di/2*.5522848,mi=pi/2*.5522848,vi=ci+di,bi=fi+pi,yi=ci+di/2,wi=fi+pi/2;Fo.context.moveTo(ci,wi),Fo.context.bezierCurveTo(ci,wi-mi,yi-gi,fi,yi,fi),Fo.context.bezierCurveTo(yi+gi,fi,vi,wi-mi,vi,wi),Fo.context.bezierCurveTo(vi,wi+mi,yi+gi,bi,yi,bi),Fo.context.bezierCurveTo(yi-gi,bi,ci,wi+mi,ci,wi);break;case 8:y.advance(),y.prev=8;var xi=y;Fo.context.save();var Ti=xi.buffer.m,Si=xi.mPos,Ei=xi.buffer.m,Ii=xi.mPos,Pi=xi.buffer.m,Ci=xi.mPos,Di=xi.buffer.m,Ai=xi.mPos,Ri=xi.buffer.m,Mi=xi.mPos,Fi=xi.buffer.m,Bi=xi.mPos;Fo.context.transform((Si>=Ti._length?null:Ti._items[Si]).a,(Ii>=Ei._length?null:Ei._items[Ii]).b,(Ci>=Pi._length?null:Pi._items[Ci]).c,(Ai>=Di._length?null:Di._items[Ai]).d,(Mi>=Ri._length?null:Ri._items[Mi]).tx,(Bi>=Fi._length?null:Fi._items[Bi]).ty);var Li=xi.buffer.bd,ki=xi.bdPos;if(null!=(ki>=Li._length?null:Li._items[ki])&&!Fo.hitTesting){var Ni=xi.buffer.bd,Oi=xi.bdPos,Ui=Oi>=Ni._length?null:Ni._items[Oi],Gi=Ui.get_uvData(),Xi=Ui.get_bd().get_image().get_src();if(null==Gi)Fo.context.drawImage(Xi,0,0,1,1);else{var Vi=Xi.width,zi=Xi.height;Fo.context.drawImage(Xi,Gi.x0*Vi,Gi.y0*zi,(Gi.x1-Gi.x0)*Vi,(Gi.y2-Gi.y0)*zi,0,0,1,1)}}else Fo.context.rect(0,0,1,1);Fo.context.restore();break;case 10:y.advance(),y.prev=10;var Hi=y;Fo.context.rect(Hi.buffer.twips[Hi.fPos]/20,Hi.buffer.twips[Hi.fPos+1]/20,Hi.buffer.twips[Hi.fPos+2]/20,Hi.buffer.twips[Hi.fPos+3]/20);break;case 11:y.advance(),y.prev=11;var Yi=y;Fo.drawRoundRect(Yi.buffer.twips[Yi.fPos]/20,Yi.buffer.twips[Yi.fPos+1]/20,Yi.buffer.twips[Yi.fPos+2]/20,Yi.buffer.twips[Yi.fPos+3]/20,Yi.buffer.twips[Yi.fPos+4]/20,Yi.buffer.twips[Yi.fPos+5]/20);break;case 13:Fo.endRenderStep(),Fo.beginRenderStep(),y.advance(),y.prev=13;for(var Wi,Ki,ji,qi,Ji,Zi,Qi,$i,tn,en,nn,sn,rn,an,on,ln,hn,_n,un,cn,fn,dn,pn,gn,mn,vn,bn,yn,wn=y,xn=wn.buffer.vf,Tn=wn.vfPos,Sn=Tn>=xn._length?null:xn._items[Tn],En=wn.buffer.vi,In=wn.viPos+1,Pn=In>=En._length?null:En._items[In],Cn=wn.buffer.vf,Dn=wn.vfPos+2,An=Dn>=Cn._length?null:Cn._items[Dn],Rn=0,Mn=Pn.length;Rn<Mn;){Ki=(Wi=Rn)+1,ji=Rn+2,qi=2*Pn.data[Wi],Ji=2*Pn.data[Wi]+1,Zi=2*Pn.data[Ki],Qi=2*Pn.data[Ki]+1,$i=2*Pn.data[ji],tn=2*Pn.data[ji]+1,en=Sn.data[qi],nn=Sn.data[Ji],sn=Sn.data[Zi],rn=Sn.data[Qi],an=Sn.data[$i],on=Sn.data[tn];var Fn=wn.buffer.i,Bn=wn.iPos+3;switch(Bn>=Fn._length?null:Fn._items[Bn]){case 0:if((sn-en)*(on-nn)-(rn-nn)*(an-en)<0){Rn+=3;continue}break;case 2:if((sn-en)*(on-nn)-(rn-nn)*(an-en)<0)break;Rn+=3;continue}var Ln=f;Ln.save(),Ln.beginPath(),Ln.moveTo(en,nn),Ln.lineTo(sn,rn),Ln.lineTo(an,on),Ln.closePath(),Ln.clip(),ln=An.data[qi]*null.width,_n=An.data[Zi]*null.width,cn=An.data[$i]*null.width,hn=An.data[Ji]*null.height,un=An.data[Qi]*null.height,0!=(dn=ln*((fn=An.data[tn]*null.height)-un)-_n*fn+cn*un+(_n-cn)*hn)?(pn=-(hn*(an-sn)-un*an+fn*sn+(un-fn)*en)/dn,gn=(un*on+hn*(rn-on)-fn*rn+(fn-un)*nn)/dn,mn=(ln*(an-sn)-_n*an+cn*sn+(_n-cn)*en)/dn,vn=-(_n*on+ln*(rn-on)-cn*rn+(cn-_n)*nn)/dn,bn=(ln*(fn*sn-un*an)+hn*(_n*an-cn*sn)+(cn*un-_n*fn)*en)/dn,yn=(ln*(fn*rn-un*on)+hn*(_n*on-cn*rn)+(cn*un-_n*fn)*nn)/dn,Ln.transform(pn,gn,mn,vn,bn,yn),Ln.drawImage(null,0,0),Ln.restore(),Rn+=3):Rn+=3}break;case 14:y.advance(),y.prev=14;Fo.endRenderStep(),Fo.beginRenderStep();break;case 15:y.advance(),y.prev=15;var kn=y;if(Fo.hasStroke&&Fo.closePath(),Fo.context.moveTo(Fo.positionX,Fo.positionY),n)Fo.context.strokeStyle="white";else{var Nn=kn.buffer.bd,On=kn.bdPos,Un=kn.buffer.b,Gn=kn.bPos;Fo.context.strokeStyle=Fo.createBitmapFill(On>=Nn._length?null:Nn._items[On],Gn>=Un._length?null:Un._items[Gn])}Fo.hasStroke=!0;break;case 16:y.advance(),y.prev=16;var Xn=y;if(Fo.hasStroke&&Fo.closePath(),Fo.context.moveTo(Fo.positionX,Fo.positionY),n)Fo.context.strokeStyle="white";else{var Vn=Xn.buffer.i,zn=Xn.iPos,Hn=Xn.buffer.ii,Yn=Xn.iiPos,Wn=Xn.buffer.ff,Kn=Xn.ffPos,jn=Xn.buffer.ii,qn=Xn.iiPos+1,Jn=Xn.buffer.m,Zn=Xn.mPos,Qn=Xn.buffer.i,$n=Xn.iPos+1,ts=Xn.buffer.i,es=Xn.iPos+2;Fo.context.strokeStyle=Fo.createGradientPattern(zn>=Vn._length?null:Vn._items[zn],Yn>=Hn._length?null:Hn._items[Yn],Kn>=Wn._length?null:Wn._items[Kn],qn>=jn._length?null:jn._items[qn],Zn>=Jn._length?null:Jn._items[Zn],$n>=Qn._length?null:Qn._items[$n],es>=ts._length?null:ts._items[es],Xn.buffer.twips[Xn.fPos]/20)}var is=Xn.buffer.m,ns=Xn.mPos;Fo.pendingMatrix=ns>=is._length?null:is._items[ns],Fo.hasStroke=!0;break;case 17:y.advance(),y.prev=17;var ss=y;if((Fo.hasStroke||Fo.hasFill)&&(Fo.hitTesting?Fo.context.closePath():(Fo.hasStroke&&Fo.context.stroke(),Fo.context.closePath(),Fo.hasFill&&Fo.context.fill(Fo.canvasWindingRule)),Fo.context.beginPath()),Fo.context.moveTo(Fo.positionX,Fo.positionY),ss.buffer.twips[ss.fPos]/20==null||ss.buffer.twips[ss.fPos]/20==-1)Fo.hasStroke=!1;else{Fo.context.lineWidth=0<ss.buffer.twips[ss.fPos]/20?Math.max(ss.buffer.twips[ss.fPos]/20,1):1;var rs=ss.buffer.i,as=ss.iPos+3;Fo.context.lineJoin=Fl.toString(as>=rs._length?null:rs._items[as]).toLowerCase();var os,ls=ss.buffer.i,hs=ss.iPos+2;if(0==(hs>=ls._length?null:ls._items[hs]))os="butt";else{var _s=ss.buffer.i,us=ss.iPos+2;os=cl.toString(us>=_s._length?null:_s._items[us]).toLowerCase()}if(Fo.context.lineCap=os,Fo.context.miterLimit=ss.buffer.twips[ss.fPos+1]/20,n)Fo.context.strokeStyle="white";else if(ss.buffer.clampedFloats[ss.cfPos]/255==1){var cs=ss.buffer.i,fs=ss.iPos,ds=Ps.hex(16777215&(fs>=cs._length?null:cs._items[fs]),6);Fo.context.strokeStyle="#"+ds}else{var ps=ss.buffer.i,gs=ss.iPos,ms=(16711680&(gs>=ps._length?null:ps._items[gs]))>>>16,vs=ss.buffer.i,bs=ss.iPos,ys=(65280&(bs>=vs._length?null:vs._items[bs]))>>>8,ws=ss.buffer.i,xs=ss.iPos,Ts=255&(xs>=ws._length?null:ws._items[xs]);Fo.context.strokeStyle="rgba("+ms+", "+ys+", "+Ts+", "+ss.buffer.clampedFloats[ss.cfPos]/255+")"}Fo.hasStroke=0<ss.buffer.clampedFloats[ss.cfPos]/255}break;case 18:y.advance(),y.prev=18;var Ss=y;Fo.context.lineTo(Ss.buffer.twips[Ss.fPos]/20,Ss.buffer.twips[Ss.fPos+1]/20),Fo.positionX=Ss.buffer.twips[Ss.fPos]/20,Fo.positionY=Ss.buffer.twips[Ss.fPos+1]/20;break;case 19:y.advance(),y.prev=19;var Es=y;Fo.context.moveTo(Es.buffer.twips[Es.fPos]/20,Es.buffer.twips[Es.fPos+1]/20),Fo.positionX=Es.buffer.twips[Es.fPos]/20,Fo.positionY=Es.buffer.twips[Es.fPos+1]/20,Fo.closeGap=!0,Fo.startX=Es.buffer.twips[Es.fPos]/20,Fo.startY=Es.buffer.twips[Es.fPos+1]/20;break;default:y.advance(),y.prev=ge}}Fo.endRenderStep(),Fo.drawCommandReaderPool.put(y);var Is=eo.pool.get();Is.copyFrom(b),Is.invert(),t.set___bitmap(_l.fromGraphics(t,null,Is)),t.__canvas=null,eo.pool.put(Is),eo.pool.put(b),s||null==t.__symbol||zs.__instanceof(t.__symbol,Cs)&&zs.__cast(t.__symbol,Cs).setCachedBitmapData(t.__bitmap,a)}t.set_dirty(!1)}},Fo.cubicCurveTo=function(t){t.advance(),t.prev=3;var e=t;Fo.context.bezierCurveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20,e.buffer.twips[e.fPos+4]/20,e.buffer.twips[e.fPos+5]/20)},Fo.curveTo=function(t){t.advance(),t.prev=4;var e=t;Fo.context.quadraticCurveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20)},Fo.snappedCurveTo=function(t){t.advance(),t.prev=4;var e=t,i=Fo.currentTransform,n=e.buffer.twips[e.fPos+2]/20*i.a+e.buffer.twips[e.fPos+3]/20*i.c+i.tx,s=Fo.currentTransform,r=e.buffer.twips[e.fPos+2]/20*s.b+e.buffer.twips[e.fPos+3]/20*s.d+s.ty,a=Math.round(n),o=Math.round(r),l=a-n,h=o-r,_=Fo.currentTransform,u=e.buffer.twips[e.fPos]/20*_.a+e.buffer.twips[e.fPos+1]/20*_.c+_.tx+l,c=Fo.currentTransform,f=e.buffer.twips[e.fPos]/20*c.b+e.buffer.twips[e.fPos+1]/20*c.d+c.ty+h;Fo.context.quadraticCurveTo(u,f,a,o)},Fo.drawCircle=function(t){t.advance(),t.prev=5;var e=t;Fo.context.moveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),Fo.context.arc(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,0,2*Math.PI,!0)},Fo.drawArc=function(t){t.advance(),t.prev=6;var e=t;Fo.context.moveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),Fo.context.arc(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20,e.buffer.twips[e.fPos+4]/20,!0)},Fo.drawEllipse=function(t){t.advance(),t.prev=7;var e=t,i=e.buffer.twips[e.fPos]/20,n=e.buffer.twips[e.fPos+1]/20,s=e.buffer.twips[e.fPos+2]/20,r=e.buffer.twips[e.fPos+3]/20,a=s/2*.5522848,o=r/2*.5522848,l=i+s,h=n+r,_=i+s/2,u=n+r/2;Fo.context.moveTo(i,u),Fo.context.bezierCurveTo(i,u-o,_-a,n,_,n),Fo.context.bezierCurveTo(_+a,n,l,u-o,l,u),Fo.context.bezierCurveTo(l,u+o,_+a,h,_,h),Fo.context.bezierCurveTo(_-a,h,i,u+o,i,u)},Fo.drawImageFromBitmapData=function(t){var e=t.get_uvData(),i=t.get_bd().get_image().get_src();if(null==e)Fo.context.drawImage(i,0,0,1,1);else{var n=i.width,s=i.height;Fo.context.drawImage(i,e.x0*n,e.y0*s,(e.x1-e.x0)*n,(e.y2-e.y0)*s,0,0,1,1)}},Fo.drawImage=function(t){t.advance(),t.prev=8;var e=t;Fo.context.save();var i=e.buffer.m,n=e.mPos,s=e.buffer.m,r=e.mPos,a=e.buffer.m,o=e.mPos,l=e.buffer.m,h=e.mPos,_=e.buffer.m,u=e.mPos,c=e.buffer.m,f=e.mPos;Fo.context.transform((n>=i._length?null:i._items[n]).a,(r>=s._length?null:s._items[r]).b,(o>=a._length?null:a._items[o]).c,(h>=l._length?null:l._items[h]).d,(u>=_._length?null:_._items[u]).tx,(f>=c._length?null:c._items[f]).ty);var d=e.buffer.bd,p=e.bdPos;if(null!=(p>=d._length?null:d._items[p])&&!Fo.hitTesting){var g=e.buffer.bd,m=e.bdPos,v=m>=g._length?null:g._items[m],b=v.get_uvData(),y=v.get_bd().get_image().get_src();if(null==b)Fo.context.drawImage(y,0,0,1,1);else{var w=y.width,x=y.height;Fo.context.drawImage(y,b.x0*w,b.y0*x,(b.x1-b.x0)*w,(b.y2-b.y0)*x,0,0,1,1)}}else Fo.context.rect(0,0,1,1);Fo.context.restore()},Fo.snappedDrawImage=function(t){t.advance(),t.prev=8;var e=t;Fo.context.save();var i=eo.pool.get(),n=e.buffer.m,s=e.mPos;if(i.copyFrom(s>=n._length?null:n._items[s]),i.concat(Fo.currentTransform),0!=i.b||0!=i.c)throw eo.pool.put(i),new Vs("can't use snapping on rotated images");if(Fo.context.setTransform(Math.round(i.a),Math.round(i.b),Math.round(i.c),Math.round(i.d),Math.round(i.tx),Math.round(i.ty)),eo.pool.put(i),Fo.hitTesting)Fo.context.fillStyle="white",Fo.context.fillRect(0,0,1,1);else{var r=e.buffer.bd,a=e.bdPos,o=a>=r._length?null:r._items[a],l=o.get_uvData(),h=o.get_bd().get_image().get_src();if(null==l)Fo.context.drawImage(h,0,0,1,1);else{var _=h.width,u=h.height;Fo.context.drawImage(h,l.x0*_,l.y0*u,(l.x1-l.x0)*_,(l.y2-l.y0)*u,0,0,1,1)}}Fo.context.restore()},Fo.drawRoundRect2=function(t){t.advance(),t.prev=11;var e=t;Fo.drawRoundRect(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20,e.buffer.twips[e.fPos+4]/20,e.buffer.twips[e.fPos+5]/20)},Fo.lineTo=function(t){t.advance(),t.prev=18;var e=t;Fo.context.lineTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),Fo.positionX=e.buffer.twips[e.fPos]/20,Fo.positionY=e.buffer.twips[e.fPos+1]/20},Fo.snappedLineTo=function(t){t.advance(),t.prev=18;var e=t,i=Fo.currentTransform,n=Math.round(e.buffer.twips[e.fPos]/20*i.a+e.buffer.twips[e.fPos+1]/20*i.c+i.tx),s=Fo.currentTransform,r=Math.round(e.buffer.twips[e.fPos]/20*s.b+e.buffer.twips[e.fPos+1]/20*s.d+s.ty);Fo.context.lineTo(n,r),Fo.positionX=n,Fo.positionY=r},Fo.moveTo=function(t){t.advance(),t.prev=19;var e=t;Fo.context.moveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),Fo.positionX=e.buffer.twips[e.fPos]/20,Fo.positionY=e.buffer.twips[e.fPos+1]/20,Fo.closeGap=!0,Fo.startX=e.buffer.twips[e.fPos]/20,Fo.startY=e.buffer.twips[e.fPos+1]/20},Fo.snappedMoveTo=function(t){t.advance(),t.prev=19;var e=t,i=Fo.currentTransform,n=Math.round(e.buffer.twips[e.fPos]/20*i.a+e.buffer.twips[e.fPos+1]/20*i.c+i.tx),s=Fo.currentTransform,r=Math.round(e.buffer.twips[e.fPos]/20*s.b+e.buffer.twips[e.fPos+1]/20*s.d+s.ty);Fo.context.moveTo(n,r),Fo.positionX=n,Fo.positionY=r,Fo.closeGap=!0,Fo.startX=n,Fo.startY=r},Fo.lineStyle=function(t,e){t.advance(),t.prev=17;var i=t;if((Fo.hasStroke||Fo.hasFill)&&(Fo.hitTesting?Fo.context.closePath():(Fo.hasStroke&&Fo.context.stroke(),Fo.context.closePath(),Fo.hasFill&&Fo.context.fill(Fo.canvasWindingRule)),Fo.context.beginPath()),Fo.context.moveTo(Fo.positionX,Fo.positionY),i.buffer.twips[i.fPos]/20==null||i.buffer.twips[i.fPos]/20==-1)Fo.hasStroke=!1;else{Fo.context.lineWidth=0<i.buffer.twips[i.fPos]/20?Math.max(i.buffer.twips[i.fPos]/20,1):1;var n=i.buffer.i,s=i.iPos+3;Fo.context.lineJoin=Fl.toString(s>=n._length?null:n._items[s]).toLowerCase();var r,a=i.buffer.i,o=i.iPos+2;if(0==(o>=a._length?null:a._items[o]))r="butt";else{var l=i.buffer.i,h=i.iPos+2;r=cl.toString(h>=l._length?null:l._items[h]).toLowerCase()}if(Fo.context.lineCap=r,Fo.context.miterLimit=i.buffer.twips[i.fPos+1]/20,e)Fo.context.strokeStyle="white";else if(i.buffer.clampedFloats[i.cfPos]/255==1){var _=i.buffer.i,u=i.iPos,c=Ps.hex(16777215&(u>=_._length?null:_._items[u]),6);Fo.context.strokeStyle="#"+c}else{var f=i.buffer.i,d=i.iPos,p=(16711680&(d>=f._length?null:f._items[d]))>>>16,g=i.buffer.i,m=i.iPos,v=(65280&(m>=g._length?null:g._items[m]))>>>8,b=i.buffer.i,y=i.iPos,w=255&(y>=b._length?null:b._items[y]);Fo.context.strokeStyle="rgba("+p+", "+v+", "+w+", "+i.buffer.clampedFloats[i.cfPos]/255+")"}Fo.hasStroke=0<i.buffer.clampedFloats[i.cfPos]/255}},Fo.lineGradientStyle=function(t,e){t.advance(),t.prev=16;var i=t;if(Fo.hasStroke&&Fo.closePath(),Fo.context.moveTo(Fo.positionX,Fo.positionY),e)Fo.context.strokeStyle="white";else{var n=i.buffer.i,s=i.iPos,r=i.buffer.ii,a=i.iiPos,o=i.buffer.ff,l=i.ffPos,h=i.buffer.ii,_=i.iiPos+1,u=i.buffer.m,c=i.mPos,f=i.buffer.i,d=i.iPos+1,p=i.buffer.i,g=i.iPos+2;Fo.context.strokeStyle=Fo.createGradientPattern(s>=n._length?null:n._items[s],a>=r._length?null:r._items[a],l>=o._length?null:o._items[l],_>=h._length?null:h._items[_],c>=u._length?null:u._items[c],d>=f._length?null:f._items[d],g>=p._length?null:p._items[g],i.buffer.twips[i.fPos]/20)}var m=i.buffer.m,v=i.mPos;Fo.pendingMatrix=v>=m._length?null:m._items[v],Fo.hasStroke=!0},Fo.lineBitmapStyle=function(t,e){t.advance(),t.prev=15;var i=t;if(Fo.hasStroke&&Fo.closePath(),Fo.context.moveTo(Fo.positionX,Fo.positionY),e)Fo.context.strokeStyle="white";else{var n=i.buffer.bd,s=i.bdPos,r=i.buffer.b,a=i.bPos;Fo.context.strokeStyle=Fo.createBitmapFill(s>=n._length?null:n._items[s],a>=r._length?null:r._items[a])}Fo.hasStroke=!0},Fo.beginBitmapFill=function(t,e){t.advance(),t.prev=0;var i,n=t;if(e)i=!0;else{var s=n.buffer.bd,r=n.bdPos;i=null==(r>=s._length?null:s._items[r])}if(i)Fo.context.fillStyle="white";else{var a=n.buffer.bd,o=n.bdPos,l=n.buffer.b,h=n.bPos;Fo.context.fillStyle=Fo.createBitmapFill(o>=a._length?null:a._items[o],h>=l._length?null:l._items[h]),Fo.hasFill=!0;var _=n.buffer.m,u=n.mPos;if(null!=(u>=_._length?null:_._items[u])){var c=n.buffer.m,f=n.mPos;Fo.pendingMatrix=f>=c._length?null:c._items[f],null==Fo.inversePendingMatrix&&(Fo.inversePendingMatrix=eo.pool.get());var d=n.buffer.m,p=n.mPos;Fo.inversePendingMatrix.copyFrom(p>=d._length?null:d._items[p]),Fo.inversePendingMatrix.invert()}else(Fo.pendingMatrix=null)!=Fo.inversePendingMatrix&&(eo.pool.put(Fo.inversePendingMatrix),Fo.inversePendingMatrix=null)}},Fo.beginFill=function(t,e){t.advance(),t.prev=1;var i=t;if(i.buffer.clampedFloats[i.cfPos]/255<.005&&!e)Fo.hasFill=!1;else{if(e)Fo.context.fillStyle="white";else if(i.buffer.clampedFloats[i.cfPos]/255==1){var n=i.buffer.i,s=i.iPos,r=Ps.hex(s>=n._length?null:n._items[s],6);Fo.context.fillStyle="#"+r}else{var a=i.buffer.i,o=i.iPos,l=(16711680&(o>=a._length?null:a._items[o]))>>>16,h=i.buffer.i,_=i.iPos,u=(65280&(_>=h._length?null:h._items[_]))>>>8,c=i.buffer.i,f=i.iPos,d=255&(f>=c._length?null:c._items[f]);Fo.context.fillStyle="rgba("+l+", "+u+", "+d+", "+i.buffer.clampedFloats[i.cfPos]/255+")"}Fo.hasFill=!0}},Fo.beginGradientFill=function(t,e){t.advance(),t.prev=2;var i=t;if(e)Fo.context.fillStyle="white";else{var n=i.buffer.i,s=i.iPos,r=i.buffer.ii,a=i.iiPos,o=i.buffer.ff,l=i.ffPos,h=i.buffer.ii,_=i.iiPos+1,u=i.buffer.m,c=i.mPos,f=i.buffer.i,d=i.iPos+1,p=i.buffer.i,g=i.iPos+2;Fo.context.fillStyle=Fo.createGradientPattern(s>=n._length?null:n._items[s],a>=r._length?null:r._items[a],l>=o._length?null:o._items[l],_>=h._length?null:h._items[_],c>=u._length?null:u._items[c],d>=f._length?null:f._items[d],g>=p._length?null:p._items[g],i.buffer.twips[i.fPos]/20)}var m=i.buffer.m,v=i.mPos;Fo.pendingMatrix=v>=m._length?null:m._items[v],Fo.hasFill=!0},Fo.drawRect=function(t){t.advance(),t.prev=10;var e=t;Fo.context.rect(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20)};function Bo(t){ao.call(this,t)}(i["openfl._internal.renderer.canvas.CanvasMaskManager"]=Bo).__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"],Bo.__super__=ao,Bo.prototype=n(ao.prototype,{pushMask:function(t){var e=this.renderSession.context;e.save();var i=t.__getWorldTransform();e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.beginPath(),t.__renderCanvasMask(this.renderSession),e.clip()},pushRect:function(t,e){var i=this.renderSession.context;i.save(),i.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),i.beginPath(),i.rect(t.x,t.y,t.width,t.height),i.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},__class__:Bo});function Lo(t,e,i){oo.call(this,t,e),this.context=i,this.renderSession=new Mo,this.renderSession.context=i,(this.renderSession.renderer=this).renderSession.maskManager=new Bo(this.renderSession)}(i["openfl._internal.renderer.canvas.CanvasRenderer"]=Lo).__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"],Lo.__super__=oo,Lo.prototype=n(oo.prototype,{render:function(t){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!t.__transparent&&t.__clearBeforeRender?(this.context.fillStyle=t.__colorString,this.context.fillRect(0,0,t.stageWidth,t.stageHeight)):t.__transparent&&t.__clearBeforeRender&&this.context.clearRect(0,0,t.stageWidth,t.stageHeight),t.__renderCanvas(this.renderSession)},__class__:Lo});function ko(){}(i["openfl._internal.renderer.canvas.CanvasTextField"]=ko).__name__=["openfl","_internal","renderer","canvas","CanvasTextField"],ko.disableInputMode=function(t){},ko.enableInputMode=function(t){if(t.__cursorPosition=-1,null==t.__hiddenInput){t.__hiddenInput=window.document.createElement("input");var e=t.__hiddenInput;e.type="text",e.style.position="absolute",e.style.opacity="0",e.style.color="transparent",e.style.left="0px",e.style.top="50%",new w("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(e.style.fontSize="0px",e.style.width="0px",e.style.height="0px"):(e.style.width="1px",e.style.height="1px"),e.style.pointerEvents="none",e.style.zIndex="-10000000",0<t.maxChars&&(e.maxLength=t.maxChars),window.document.body.appendChild(e),e.value=t.text}},ko.render=function(t,e){var i=t.__graphics;if(t.__dirty||null==i||i.get_dirty()||null==i.__bitmap){var n=t.__textEngine;if(t.__updateLayout(),(t.__showCursor||null!=n.text&&""!=n.text||n.background||n.border||n.__hasFocus)&&(!(n.width<=0||n.height<=0)||2==n.autoSize)){var s=b_.pool.get(),r=b_.pool.get(),a=t.__renderTransform;t.__getBounds(r),r.transform(s,a),null!=i&&null!=i.__canvas||(null==i&&(t.__graphics=new ml(!1),i=t.__graphics),i.__canvas=Fo.pool.get(),i.__context=i.__canvas.getContext("2d"),i.__bounds=new b_(0,0,r.width,r.height));var o=i.__context;i.__canvas.width=Math.ceil(s.width),i.__canvas.height=Math.ceil(s.height);var l=eo.pool.get();if(l.copyFrom(a),l.translate(-Math.floor(s.x),-Math.floor(s.y)),o.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),null!=n.text&&""!=n.text||n.__hasFocus){var h=n.text;if(n.displayAsPassword){var _=h.length;h=ns.repeat(_,"*")}0!=n.antiAliasType||1!=n.gridFitType?(i.__context.mozImageSmoothingEnabled=!0,i.__context.msImageSmoothingEnabled=!0,i.__context.imageSmoothingEnabled=!0):(i.__context.mozImageSmoothingEnabled=!1,i.__context.msImageSmoothingEnabled=!1,i.__context.imageSmoothingEnabled=!1),(n.border||n.background)&&(o.rect(.5,.5,s.width-1,s.height-1),n.background&&(o.fillStyle="#"+Ps.hex(n.backgroundColor,6),o.fill()),n.border&&(o.lineWidth=1,o.strokeStyle="#"+Ps.hex(n.borderColor,6),o.stroke())),o.textBaseline="alphabetic",o.textAlign="start";for(var u,c=-t.get_scrollH(),f=0,d=0,p=t.get_scrollV()-1;d<p;){var g=d++;f-=n.lineHeights[g]}var m=0;if(t.__showCursor&&0==n.layoutGroups.length){var v=t.__textFormat,b=sl.getFont(v);o.font=b.name,o.fillStyle="#"+Ps.hex(v.color,6);var y=n.calculateFontDimensions(t.__textFormat,b);o.fillRect(2,2,1,y.height)}for(var w=0,x=n.layoutGroups;w<x.length;){var T=x[w];if(++w,!(T.lineIndex<t.get_scrollV()-1)){if(T.lineIndex>t.get_scrollV()+n.bottomScrollV-2)break;var S=sl.getFont(T.format);m=S.ascent*T.format.size,o.font=S.name,o.fillStyle="#"+Ps.hex(T.format.color,6);var E=h.substring(T.startIndex,T.endIndex),I=new RegExp("\n","g".split("u").join(""));if(E=E.replace(I,""),o.fillText(E,T.offsetX+c,T.offsetY+m+f),-1<t.__caretIndex&&n.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&T.startIndex<=t.__caretIndex&&(T.endIndex>t.__caretIndex||T.endIndex==n.text.length&&n.text.length==t.__caretIndex)){for(var P=u=0,C=t.__caretIndex-T.startIndex;P<C;){var D=P++;if(T.advances.length<=D)break;u+=T.advances[D]}o.fillRect(T.offsetX+u,T.offsetY,1,T.height)}}else if(!(T.endIndex<Math.min(t.__caretIndex,t.__selectionIndex)||T.startIndex>Math.max(t.__caretIndex,t.__selectionIndex))){var A,R,M=0|Math.min(t.__selectionIndex,t.__caretIndex),F=0|Math.max(t.__selectionIndex,t.__caretIndex);T.startIndex>M&&(M=T.startIndex),T.endIndex<F&&(F=T.endIndex),A=t.getCharBoundariesInGroup(M,T),F>=n.text.length?(R=t.getCharBoundariesInGroup(n.text.length-1,T)).x+=R.width+2:R=t.getCharBoundariesInGroup(F,T),null!=A&&null!=R&&(o.fillStyle="#000000",o.fillRect(A.x,A.y,R.x-A.x,T.height),o.fillStyle="#FFFFFF",o.fillText(h.substring(M,F),c+A.x,T.offsetY+m+f))}}}}else(n.border||n.background)&&(n.border?o.rect(.5,.5,s.width-1,s.height-1):o.rect(0,0,s.width,s.height),n.background&&(o.fillStyle="#"+Ps.hex(n.backgroundColor,6),o.fill()),n.border&&(o.lineWidth=1,o.lineCap="square",o.strokeStyle="#"+Ps.hex(n.borderColor,6),o.stroke()));var B=eo.pool.get();B.copyFrom(l),B.invert(),i.set___bitmap(_l.fromGraphics(i,null,B)),i.__canvas=null,t.__graphicsSavedScale.x=t.renderScaleX,t.__graphicsSavedScale.y=t.renderScaleY,t.__dirty=!1,i.set_dirty(!1),eo.pool.put(l),eo.pool.put(B),b_.pool.put(s),b_.pool.put(r)}else i.__canvas=null,i.__context=null,i.set_dirty(!1),null!=i.__bitmap&&i.__bitmap.dispose(),t.__dirty=!1}};function No(){}(i["openfl._internal.renderer.opengl.FrameBufferDataItem"]=No).__name__=["openfl","_internal","renderer","opengl","FrameBufferDataItem"],No.prototype={set:function(t,e,i){this.texture=t,this.viewPort=e,this.transparent=i},__class__:No};var Oo=function(){};(i["openfl._internal.renderer.opengl.GLBitmap"]=Oo).__name__=["openfl","_internal","renderer","opengl","GLBitmap"],Oo.render=function(t,e){if(t.isRenderable()&&!(t.__worldAlpha<=0)&&null!=t.bitmapData&&t.bitmapData.get_valid()){var i=eo.pool.get();i.copyFrom(t.__renderTransform);var n=t.bitmapData,s=t.smoothing,r=t.__renderColorTransform,a=t.__renderAlpha,o=t.__blendMode,l=t.__shader,h=t.pixelSnapping;null!=n&&e.spriteBatch.renderBitmapDataEx(n,n.physicalWidth,n.physicalHeight,n.get_uvData(),s,i,r,a,o,l,h),eo.pool.put(i)}},Oo.pushFramebuffer=function(t,e,i,n,s,r,a){null==a&&(a=!0),null==r&&(r=!1),null==s&&(s=!0);var o=t.gl;if(null==o)return null;var l=t.renderer;t.spriteBatch!=l.mainSpriteBatch&&t.spriteBatch.stop();var h=t.renderer,_=0|i.x,u=0|i.y,c=0|i.width,f=0|i.height;if(Oo.fbData.length<=0){var d=Oo.fbDataPool.get();d.texture=null,d.viewPort=null,d.transparent=h.transparent,Oo.fbData.push(d)}null==e&&(e=new Jo(o,c,f,n,a)),e.resize(c,f),h.transparent=s,t.maskManager.saveState(),Zr.context.bindFramebuffer(o.FRAMEBUFFER,(e.__swapped?e.__texture1:e.__texture0).frameBuffer),zs.__cast(h,Uo).set_renderToTexture(!0),h.setViewport(_,u,c,f),Zr.context.colorMask(!0,!0,!0,!0),t.blendModeManager.setBlendMode(10),r&&(e.__swapped?e.__texture1:e.__texture0).clear(0,0,0,0,null);var p=Oo.fbDataPool.get();return p.texture=e,p.viewPort=i,p.transparent=s,Oo.fbData.push(p),e},Oo.drawBitmapDrawable=function(t,e,i,n,s,r,a){var o=Oo.fbData[Oo.fbData.length-1];if(null==o)throw new Vs("No data to draw to");if(null!=t.gl){if(zs.__instanceof(i,W)){var l=zs.__cast(i,W);if(null==l.stage){if(null!=Oo.dataToClean.h.__keys__[l.__id__])Oo.dataToClean.h[l.__id__].stop();var h=Oo.dataToClean,_=hs.delay(function(){null==l.stage&&l.__releaseResources(),Oo.dataToClean.remove(l)},1);h.set(l,_)}}var u=o.viewPort,c=t.spriteBatch,f=null!=e,d=b_.pool.get();if(null!=s?d.copyFrom(s):d.setTo(u.x,u.y,u.width,u.height),c.begin(t,f?null:d,r,a),f){e.__worldTransform.identity();var p=e.__worldTransform,g=u.height,m=p.tx,v=p.ty;if(p.tx=0,p.ty=0,p.scale(1,-1),p.translate(0,g),p.tx+=m,p.ty-=v,e.__renderGL(t),c.stop(),null!=e.__texture){var b=e.__texture;Zr.textureStateCache.remove(b),Zr.context.deleteTexture(b)}e.__texture=null,c.start(d,null,null)}var y=i.__resolvedCacheAsBitmap,w=i.__blendMode;t.pushRenderTargetBaseTransform(i,n),i.__resolvedCacheAsBitmap=!1,i.__blendMode=null,i.__renderGL(t),i.__blendMode=w,i.__resolvedCacheAsBitmap=y,t.popRenderTargetBaseTransform(),c.finish(),b_.pool.put(d)}},Oo.popFramebuffer=function(t,e){var i=t.gl;if(null!=i){if(t.spriteBatch.finish(),null!=e){var n,s,r,a,o=Oo.fbData[Oo.fbData.length-1];a=null==o.viewPort?(n=s=0,r=t.renderer.width,t.renderer.height):(n=Math.floor(o.viewPort.x),s=Math.floor(o.viewPort.y),r=Math.ceil(o.viewPort.width),Math.ceil(o.viewPort.height)),e.width==r&&e.height==a||e.resize(r,a),Zr.context.readPixels(n,s,r,a,i.RGBA,i.UNSIGNED_BYTE,e.buffer.data),e.dirty=!1,e.set_premultiplied(!0)}Oo.fbDataPool.put(Oo.fbData.pop());var l,h,_,u,c,f=Oo.fbData[Oo.fbData.length-1];if(null==f)throw new Vs("oh");if(u=null==f.viewPort?(l=h=0,_=t.renderer.width,t.renderer.height):(l=Math.floor(f.viewPort.x),h=Math.floor(f.viewPort.y),_=Math.ceil(f.viewPort.width),Math.ceil(f.viewPort.height)),null==f.texture)c=t.defaultFramebuffer;else{var d=f.texture;c=(d.__swapped?d.__texture1:d.__texture0).frameBuffer}Zr.context.bindFramebuffer(i.FRAMEBUFFER,c),zs.__cast(t.renderer,Uo).set_renderToTexture(1<Oo.fbData.length),t.renderer.setViewport(l,h,_,u),t.renderer.transparent=f.transparent,t.maskManager.restoreState()}},Oo.flipMatrix=function(t,e){var i=t.tx,n=t.ty;t.tx=0,t.ty=0,t.scale(1,-1),t.translate(0,e),t.tx+=i,t.ty-=n};var Uo=function(t,e,i,n,s,r){null==r&&(r=!1),null==s&&(s=!1),null==n&&(n=!1),null==e&&(e=600),null==t&&(t=800),this.vpHeight=0,this.vpWidth=0,this.vpY=0,this.vpX=0,this.renderToTexture=!1,oo.call(this,t,e),this.transparent=n,this.preserveDrawingBuffer=r,this.width=t,this.height=e,this.viewport=new b_,this.options={alpha:n,antialias:s,premultipliedAlpha:n,stencil:!0,preserveDrawingBuffer:r},this._glContextId=Uo.glContextId++,this.gl=i,this.defaultFramebuffer=null,Uo.glContexts[this._glContextId]=i,this.projectionMatrix=new eo,this.projection=new io,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.offset=new io(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.shaderManager=new Qo(i),this.mainSpriteBatch=new tl(i),this.offscreenSpriteBatch=new tl(i),this.filterManager=new jo(i,this.transparent),this.blendModeManager=new Ko(i),this.renderSession=new Mo,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.mainSpriteBatch,(this.renderSession.renderer=this).renderSession.defaultFramebuffer=this.defaultFramebuffer,this.renderSession.projectionMatrix=this.projectionMatrix,this.maskManager=new qo(this.renderSession),this.renderSession.maskManager=this.maskManager,Jh.initialize(this.renderSession),this.shaderManager.setShader(this.shaderManager.defaultShader,!0),Zr.context.disable(i.DEPTH_TEST),Zr.context.disable(i.CULL_FACE),Zr.context.enable(i.BLEND),Zr.context.colorMask(!0,!0,!0,this.transparent)};(i["openfl._internal.renderer.opengl.GLRenderer"]=Uo).__name__=["openfl","_internal","renderer","opengl","GLRenderer"],Uo.renderBitmap=function(t,e,i){if(t.isRenderable()&&!(t.__worldAlpha<=0)&&null!=t.__graphics&&null!=t.__graphics.__bitmap){var n=eo.__temp,s=t.__graphics.__bitmap;n.copyFrom(t.__renderTransform);var r=t.__renderColorTransform,a=t.__renderAlpha,o=t.__blendMode;null!=s&&e.spriteBatch.renderBitmapDataEx(s,s.physicalWidth,s.physicalHeight,s.get_uvData(),i,n,r,a,o,null,null)}},Uo.__super__=oo,Uo.prototype=n(oo.prototype,{destroy:function(){Uo.glContexts[this._glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.mainSpriteBatch.destroy(),this.offscreenSpriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.mainSpriteBatch=null,this.offscreenSpriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},setViewport:function(t,e,i,n,s){if(null==s&&(s=!1),s||this.vpX!=t||this.vpY!=e||this.vpWidth!=i||this.vpHeight!=n){this.vpX=t,this.vpY=e,this.vpWidth=i,this.vpHeight=n;this.gl;Zr.context.viewport(t,e,i,n),this.setOrtho(t,e,i,n),this.viewport.setTo(t,e,i,n)}},setOrtho:function(t,e,i,n){var s=this.projectionMatrix;if(s.identity(),s.a=1/i*2,s.d=-1/n*2,s.tx=-1-t*s.a,s.ty=1-e*s.d,this.renderToTexture){var r=s.tx,a=s.ty;s.tx=0,s.ty=0,s.scale(1,-1),s.translate(0,0),s.tx+=r,s.ty-=a}},handleContextLost:function(t){t.preventDefault(),this.contextLost=!0},handleContextRestored:function(){var t=this.gl;Uo.glContextId++,this.shaderManager.setContext(t),this.mainSpriteBatch.setContext(t),this.offscreenSpriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.renderSession.gl=t,this.defaultFramebuffer=null,Zr.context.disable(t.DEPTH_TEST),Zr.context.disable(t.CULL_FACE),Zr.context.enable(t.BLEND),Zr.context.colorMask(!0,!0,!0,this.transparent),this.setViewport(0,0,this.width,this.height),this.contextLost=!1},render:function(t){if(!this.contextLost){var e=this.gl;this.setViewport(0,0,this.width,this.height),Zr.context.bindFramebuffer(e.FRAMEBUFFER,this.defaultFramebuffer),this.transparent?Zr.context.clearColor(0,0,0,0):Zr.context.clearColor(t.__colorSplit[0],t.__colorSplit[1],t.__colorSplit[2],1),Zr.context.clear(e.COLOR_BUFFER_BIT),this.renderDisplayObject(t,this.projection)}},renderDisplayObject:function(t,e,i){this.renderSession.blendModeManager.setBlendMode(10),this.renderSession.drawCount=0,this.renderSession.currentBlendMode=null,this.mainSpriteBatch.begin(this.renderSession),this.mainSpriteBatch.preventFlush=!0,this.filterManager.begin(this.renderSession,i),t.__renderGL(this.renderSession),this.mainSpriteBatch.preventFlush=!1,this.mainSpriteBatch.finish()},resize:function(t,e){this.width=t,this.height=e,oo.prototype.resize.call(this,t,e),this.setViewport(0,0,t,e),this.projection.x=t/2,this.projection.y=-e/2},set_renderToTexture:function(t){return this.renderToTexture!=t&&(this.renderToTexture=t,this.renderSession.spriteBatch=t?this.offscreenSpriteBatch:this.mainSpriteBatch,this.setOrtho(this.vpX,this.vpY,this.vpWidth,this.vpHeight)),t},__class__:Uo,__properties__:{set_renderToTexture:"set_renderToTexture"}});var Go=function(t){this.uniformMatrix3fCache=new ds,this.uniform4fCache=new ds,this.uniform2fCache=new ds,this.uniform1iCache=new ds,this.wrapT=33071,this.wrapS=33071,this.compiled=!1,this.uniforms=new su,this.attributes=new su,this.ID=Go.UID++,this.gl=t,this.program=null};(i["openfl._internal.renderer.opengl.shaders2.Shader"]=Go).__name__=["openfl","_internal","renderer","opengl","shaders2","Shader"],Go.compileProgram=function(t,e,i){var n=Qo.compiledShadersCache,s=cs.encode(e+i);if(null!=Zu[s]?n.existsReserved(s):n.h.hasOwnProperty(s))return null!=Zu[s]?n.getReserved(s):n.h[s];var r=Go.compileShader(t,e,t.VERTEX_SHADER),a=Go.compileShader(t,i,t.FRAGMENT_SHADER),o=Zr.context.createProgram();return null!=r&&null!=a&&(Zr.context.attachShader(o,r),Zr.context.attachShader(o,a),Zr.context.bindAttribLocation(o,0,"openfl_aPosition"),Zr.context.bindAttribLocation(o,1,"openfl_aTexCoord0"),Zr.context.bindAttribLocation(o,2,"openfl_aColor"),Zr.context.linkProgram(o),Zr.context.deleteShader(r),Zr.context.deleteShader(a),0==Zr.context.getProgramParameter(o,t.LINK_STATUS))?(ls.trace("Could not compile the program:\n\t"+Zr.context.getProgramInfoLog(o),{fileName:"Shader.hx",lineNumber:272,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),ls.trace("VERTEX:\n"+e+"\nFRAGMENT:\n"+i,{fileName:"Shader.hx",lineNumber:273,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),null):(null!=Zu[s]?n.setReserved(s,o):n.h[s]=o,o)},Go.compileShader=function(t,e,i){var n=e,s=Zr.context.createShader(i);return Zr.context.shaderSource(s,n),Zr.context.compileShader(s),0==Zr.context.getShaderParameter(s,t.COMPILE_STATUS)?(ls.trace("Could not compile the shader:\n\t"+Zr.context.getShaderInfoLog(s),{fileName:"Shader.hx",lineNumber:290,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),ls.trace(e,{fileName:"Shader.hx",lineNumber:291,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),null):s},Go.resetCache=function(){Go.currentVertexArray=null},Go.prototype={init:function(t){if(null==t&&(t=!1),!this.compiled||t){if(null!=this.vertexSrc&&(this.vertexString=this.vertexSrc.join("\n")),null!=this.fragmentSrc&&(this.fragmentString=this.fragmentSrc.join("\n")),null==this.vertexString||null==this.fragmentString)throw new Vs("No vertex or fragment source provided");if(this.program=Go.compileProgram(this.gl,this.vertexString,this.fragmentString),null!=this.program){this.gl;var e=this.program;e!=Zr.currentProgram&&(Zr.context.useProgram(e),e=Zr.currentProgram),this.uniform1i(this.getUniformLocation("openfl_uSampler0"),0),this.uniform1i(this.getUniformLocation("openfl_uSampler1"),1),this.compiled=!0}}},destroy:function(){if(null!=this.program){this.gl;Zr.context.deleteProgram(this.program)}this.compiled=!1,this.attributes=null},applyData:function(t,e){if(null!=t)for(var i,n,s,r,a=0,o=t.keys.length;a<o;){var l=a++,h=t.keys[l];if(n=this.getUniformLocation(h),null!=(i=t.values[l]))if(s=i.value,r=i.bitmap,null!=s||null!=r)switch(i.internalType){case 1:switch(i.size){case 1:this.uniform1i(n,0|s[0]);break;case 2:this.gl;Zr.context.uniform2i(n,0|s[0],0|s[1]);break;case 3:this.gl;Zr.context.uniform3i(n,0|s[0],0|s[1],0|s[2]);break;case 4:this.gl;Zr.context.uniform4i(n,0|s[0],0|s[1],0|s[2],0|s[3])}break;case 2:switch(i.size){case 1:this.gl;Zr.context.uniform1f(n,s[0]);break;case 2:this.uniform2f(n,s[0],s[1]);break;case 3:this.gl;Zr.context.uniform3f(n,s[0],s[1],s[2]);break;case 4:this.uniform4f(n,s[0],s[1],s[2],s[3])}break;case 3:switch(i.size){case 2:this.gl;Zr.context.uniformMatrix2fv(n,i.transpose,i.value);break;case 3:this.gl;Zr.context.uniformMatrix3fv(n,i.transpose,i.value);break;case 4:this.gl;Zr.context.uniformMatrix4fv(n,i.transpose,i.value)}break;case 4:if(null==r||!r.__isValid)continue;this.gl;var _=this.gl.TEXTURE0+e.activeTextures;_!=Zr.currentActiveTexture&&(Zr.context.activeTexture(_),Zr.currentActiveTexture=_);this.gl;var u=this.gl.TEXTURE_2D,c=r.getTexture(this.gl);Zr.currentBoundTexture[Zr.currentActiveTexture]!=c&&(Zr.context.bindTexture(u,c),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=c)||Zr.textureStateCache.exists(c)||Zr.textureStateCache.set(c,new fs)),this.uniform1i(n,e.activeTextures);this.gl;var f=this.gl.TEXTURE_2D,d=this.gl.TEXTURE_MAG_FILTER,p=i.smooth?this.gl.LINEAR:this.gl.NEAREST,g=Zr.currentBoundTexture[Zr.currentActiveTexture],m=Zr.textureStateCache.get(g);m.h[d]!=p&&(Zr.context.texParameteri(f,d,p),m.h[d]=p);this.gl;var v=this.gl.TEXTURE_2D,b=this.gl.TEXTURE_MIN_FILTER,y=i.smooth?this.gl.LINEAR:this.gl.NEAREST,w=Zr.currentBoundTexture[Zr.currentActiveTexture],x=Zr.textureStateCache.get(w);x.h[b]!=y&&(Zr.context.texParameteri(v,b,y),x.h[b]=y);this.gl;var T=this.gl.TEXTURE_2D,S=this.gl.TEXTURE_WRAP_S,E=i.repeatX,I=Zr.currentBoundTexture[Zr.currentActiveTexture],P=Zr.textureStateCache.get(I);P.h[S]!=E&&(Zr.context.texParameteri(T,S,E),P.h[S]=E);this.gl;var C=this.gl.TEXTURE_2D,D=this.gl.TEXTURE_WRAP_T,A=i.repeatY,R=Zr.currentBoundTexture[Zr.currentActiveTexture],M=Zr.textureStateCache.get(R);M.h[D]!=A&&(Zr.context.texParameteri(C,D,A),M.h[D]=A),e.activeTextures++}}},getAttribLocation:function(t){if(null==this.program)throw new Vs("Shader isn't initialized");var e=this.attributes.h[t];if(null==e){this.gl;e=Zr.context.getAttribLocation(this.program,t),this.attributes.h[t]=e}return e},getUniformLocation:function(t){if(null==this.program)throw new Vs("Shader isn't initialized");var e=this.uniforms.h[t];if(null==e&&!this.uniforms.h.hasOwnProperty(t)){this.gl;e=Zr.context.getUniformLocation(this.program,t),this.uniforms.h[t]=e}return e},enableVertexAttribute:function(t,e,i){var n=this.getAttribLocation(t.name);if(0<=n){this.gl;Zr.context.enableVertexAttribArray(n);this.gl;Zr.context.vertexAttribPointer(n,t.components,t.type,t.normalized,e,4*i)}},disableVertexAttribute:function(t,e){null==e&&(e=!0);var i=this.getAttribLocation(t.name);this.gl;if(Zr.context.disableVertexAttribArray(i),e)switch(t.components){case 1:this.gl;var n=t.defaultValue.subarray(0,1);Zr.context.vertexAttrib1fv(i,n);break;case 2:this.gl;var s=t.defaultValue.subarray(0,2);Zr.context.vertexAttrib2fv(i,s);break;case 3:this.gl;var r=t.defaultValue.subarray(0,3);Zr.context.vertexAttrib3fv(i,r);break;default:this.gl;var a=t.defaultValue.subarray(0,4);Zr.context.vertexAttrib4fv(i,a)}},bindVertexArray:function(t){if(t!=Go.currentVertexArray){var e=0,i=t.get_stride();if(null!=Go.currentVertexArray&&t.attributes==Go.currentVertexArray.attributes)for(var n=0,s=t.attributes;n<s.length;){var r=s[n];if(++n,r.enabled){var a,o=this.getAttribLocation(r.name);if(0<=o){this.gl;Zr.context.vertexAttribPointer(o,r.components,r.type,r.normalized,i,4*e)}switch(r.type){case 5120:case 5121:a=1;break;case 5122:case 5123:a=2;break;default:a=4}e+=Math.floor(r.components*a/4)}}else for(var l=0,h=t.attributes;l<h.length;){var _=h[l];if(++l,_.enabled){var u;switch(this.enableVertexAttribute(_,i,e),_.type){case 5120:case 5121:u=1;break;case 5122:case 5123:u=2;break;default:u=4}e+=Math.floor(_.components*u/4)}else this.disableVertexAttribute(_,!0)}Go.currentVertexArray=t}},unbindVertexArray:function(t){for(var e=0,i=t.attributes;e<i.length;){var n=i[e];++e,this.disableVertexAttribute(n,!1)}Go.currentVertexArray=null},uniform1i:function(t,e){if(null!=t&&this.uniform1iCache.h[t.__id__]!=e){this.gl;Zr.context.uniform1i(t,e),this.uniform1iCache.set(t,e)}},uniform2f:function(t,e,i){if(null!=t){var n=this.uniform2fCache.h[t.__id__];if(null==n)n=new ra,this.uniform2fCache.set(t,n);else if(n.x==e&&n.y==i)return;this.gl;Zr.context.uniform2f(t,e,i),n.x=e,n.y=i}},uniform4f:function(t,e,i,n,s){if(null!=t){var r=this.uniform4fCache.h[t.__id__];if(null==r)r=new aa,this.uniform4fCache.set(t,r);else if(r.x==e&&r.y==i&&r.z==n&&r.w==s)return;this.gl;Zr.context.uniform4f(t,e,i,n,s),r.x=e,r.y=i,r.z=n,r.w=s}},uniformMatrix3fv:function(t,e,i){if(null!=t){var n=this.uniformMatrix3fCache.h[t.__id__];if(null==n)n=new eo,this.uniformMatrix3fCache.set(t,n);else if(i.equals(n))return;this.gl;var s=i.toArray(!0);Zr.context.uniformMatrix3fv(t,e,s),n.copyFrom(i)}},__class__:Go};var Xo=function(t){Go.call(this,t),this.vertexSrc=Xo.VERTEX_SRC,this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform sampler2D openfl_uSampler1;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","uniform vec2 openfl_uUVScale;","varying vec2 openfl_vTexCoord;","varying vec2 openfl_vMaskTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);","   vec4 mask = texture2D(openfl_uSampler1, openfl_vMaskTexCoord * openfl_uUVScale);","   float inside = step( 0.0, openfl_vMaskTexCoord.x ) * step( -1.0, -openfl_vMaskTexCoord.x );","   inside *= step( 0.0, openfl_vMaskTexCoord.y ) * step( -1.0, -openfl_vMaskTexCoord.y );","\tfloat maskAlpha = inside * mask.a;","   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset)* maskAlpha;","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.DefaultMaskedShader"]=Xo).__name__=["openfl","_internal","renderer","opengl","shaders2","DefaultMaskedShader"],Xo.__super__=Go,Xo.prototype=n(Go.prototype,{init:function(t){null==t&&(t=!1),Go.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uMaskMatrix"),this.getUniformLocation("openfl_uUVScale"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uSampler1"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset"),this.getUniformLocation("openfl_uUseColorTransform")},__class__:Xo});var Vo=function(t){Go.call(this,t),this.vertexSrc=Vo.VERTEX_SRC,this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","\tvec4 result = unmultiply * tint * multiplier;","\tresult = result + offset;","\tresult = clamp(result, 0., 1.);","\tfloat finalMultiplier = 1. - step(0., -color.a);","\tresult.a *= finalMultiplier;","\tresult = vec4(result.rgb * result.a, result.a);","\treturn result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);","   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=Vo).__name__=["openfl","_internal","renderer","opengl","shaders2","DefaultShader"],Vo.__super__=Go,Vo.prototype=n(Go.prototype,{init:function(t){null==t&&(t=!1),Go.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset"),this.getUniformLocation("openfl_uUseColorTransform")},__class__:Vo});function zo(t){Go.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vTexCoord = openfl_aTexCoord0;","   vColor = openfl_aColor.bgra;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec3 openfl_uColor;","uniform bool openfl_uUseTexture;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   if(openfl_uUseTexture) {","       tmp = texture2D(openfl_uSampler0, vTexCoord);","   } else {","       tmp = vec4(openfl_uColor, 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()}(i["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=zo).__name__=["openfl","_internal","renderer","opengl","shaders2","DrawTrianglesShader"],zo.__super__=Go,zo.prototype=n(Go.prototype,{init:function(t){null==t&&(t=!1),Go.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uUseTexture"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:zo});function Ho(t){Go.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColor;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_uColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()}(i["openfl._internal.renderer.opengl.shaders2.FillShader"]=Ho).__name__=["openfl","_internal","renderer","opengl","shaders2","FillShader"],Ho.__super__=Go,Ho.prototype=n(Go.prototype,{init:function(t){null==t&&(t=!1),Go.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Ho});function Yo(t){Go.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uPatternMatrix;","varying vec2 vPosition;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vPosition = (openfl_uPatternMatrix * vec3(openfl_aPosition, 1)).xy;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform float openfl_uAlpha;","uniform vec2 openfl_uPatternTL;","uniform vec2 openfl_uPatternBR;","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec2 pos = mix(openfl_uPatternTL, openfl_uPatternBR, vPosition);","   vec4 tcol = texture2D(openfl_uSampler0, pos);","   gl_FragColor = colorTransform(tcol, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()}(i["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=Yo).__name__=["openfl","_internal","renderer","opengl","shaders2","PatternFillShader"],Yo.__super__=Go,Yo.prototype=n(Go.prototype,{init:function(t){null==t&&(t=!1),Go.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uPatternMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uPatternTL"),this.getUniformLocation("openfl_uPatternBR"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Yo});function Wo(t){Go.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform float openfl_uAlpha;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_aColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()}(i["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=Wo).__name__=["openfl","_internal","renderer","opengl","shaders2","PrimitiveShader"],Wo.__super__=Go,Wo.prototype=n(Go.prototype,{init:function(t){null==t&&(t=!1),Go.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Wo});var Ko=function(t){this.gl=t,this.currentBlendMode=null};(i["openfl._internal.renderer.opengl.utils.BlendModeManager"]=Ko).__name__=["openfl","_internal","renderer","opengl","utils","BlendModeManager"],Ko.prototype={destroy:function(){this.gl=null},setBlendMode:function(t,e){if(null==e&&(e=!1),null==t&&(t=10,e=!0),!e&&this.currentBlendMode==t)return!1;switch(this.currentBlendMode=t){case 0:this.gl;Zr.context.blendEquation(32774);this.gl;Zr.context.blendFunc(1,1);break;case 9:this.gl;Zr.context.blendEquation(32774);this.gl;Zr.context.blendFunc(774,771);break;case 12:this.gl;Zr.context.blendEquation(32774);this.gl;Zr.context.blendFunc(1,769);break;case 14:this.gl;Zr.context.blendEquation(32779);this.gl;Zr.context.blendFunc(1,1);break;default:this.gl;Zr.context.blendEquation(32774);this.gl;Zr.context.blendFunc(1,771)}return!0},__class__:Ko};var jo=function(t,e){this.transparent=e,this.filterStack=[],this.offsetX=0,this.offsetY=0,this.setContext(t)};(i["openfl._internal.renderer.opengl.utils.FilterManager"]=jo).__name__=["openfl","_internal","renderer","opengl","utils","FilterManager"],jo.prototype={applyFilterPass:function(t,e,i,n){},begin:function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader,this.width=0,this.height=0,this.buffer=e},destroy:function(){this.gl;this.filterStack=null,this.offsetX=0;for(var t=this.offsetY=0,e=this.texturePool;t<e.length;){var i=e[t];++t,i.destroy()}this.texturePool=null,Zr.context.deleteBuffer(this.vertexBuffer),Zr.context.deleteBuffer(this.uvBuffer),Zr.context.deleteBuffer(this.colorBuffer),Zr.context.deleteBuffer(this.indexBuffer)},initShaderBuffers:function(){var t=this.gl;this.vertexBuffer=Zr.context.createBuffer(),this.uvBuffer=Zr.context.createBuffer(),this.colorBuffer=Zr.context.createBuffer(),this.indexBuffer=Zr.context.createBuffer();var e,i=[0,0,1,0,0,1,1,1];e=null!=i?new tc(i):null,this.vertexArray=e,Zr.context.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),Zr.context.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW);var n,s=[0,0,1,0,0,1,1,1];n=null!=s?new tc(s):null,this.uvArray=n,Zr.context.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),Zr.context.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW);var r,a=[1,16777215,1,16777215,1,16777215,1,16777215];r=null!=a?new tc(a):null,this.colorArray=r,Zr.context.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),Zr.context.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),Zr.context.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var o,l=t.ELEMENT_ARRAY_BUFFER,h=[0,1,2,1,3,2];o=null!=h?new Uint16Array(h):null,Zr.context.bufferData(l,o,t.STATIC_DRAW)},popFilter:function(){},pushFilter:function(t){},setContext:function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},__class__:jo};var qo=function(t){ao.call(this,t),this.setContext(t.gl),this.clips=[];var e=new Gt;e._items=[],e._length=e._items.length,this.maskBitmapTable=e;var i=new Gt;i._items=[],i._length=i._items.length,this.maskMatrixTable=i,this.maskCount=0};(i["openfl._internal.renderer.opengl.utils.GLMaskManager"]=qo).__name__=["openfl","_internal","renderer","opengl","utils","GLMaskManager"],qo.__super__=ao,qo.prototype=n(ao.prototype,{destroy:function(){this.gl=null},pushRect:function(t,e){var i=e.clone(),n=this.renderSession.renderer.viewport.height,s=i.tx,r=i.ty;i.tx=0,i.ty=0,i.scale(1,-1),i.translate(0,n),i.tx+=s,i.ty-=r;var a=t.clone();a.transform(a,i),null!=this.currentClip&&(a=this.currentClip.intersection(a));var o=null==this.currentClip||a.isEmpty()||this.currentClip.containsRect(a);if(this.clips.push(a),this.currentClip=a,o){var l=this.maskBitmapTable,h=this.maskMatrixTable;this.renderSession.spriteBatch.start(this.currentClip,l._items[l._length-1],h._items[h._length-1])}},pushMask:function(t){var e=this.renderSession,i=e.renderer;e.spriteBatch!=i.mainSpriteBatch&&this.renderSession.spriteBatch.stop();var n=null,s=null;if(null!=t){if(null==t.__cachedBitmap||t.__updateCachedBitmap||0<this.maskCount){t.__visible=!0,t.__isMask=!1,W.__isCachingAsMask=!0,t.__update(!0,!1);var r=this.maskBitmapTable,a=this.maskMatrixTable;t.__updateCachedBitmapFn(this.renderSession,r._items[r._length-1],a._items[a._length-1]),W.__isCachingAsMask=!1,t.__isMask=!0,t.__visible=!1}n=t.__cachedBitmap}if(null!=n){var o=this.renderSession.getRenderTargetBaseTransform();s=eo.pool.get(),n.getLocalTransform(s),s.concat(t.__renderTransform),s.concat(o),s.invert(),s.scale(1/n.physicalWidth,1/n.physicalHeight),++this.maskCount}var l=this.maskBitmapTable;l._items[l._length++]=n;var h=this.maskMatrixTable;h._items[h._length++]=s,this.renderSession.spriteBatch.start(this.currentClip,n,s)},popMask:function(){var t=this.maskBitmapTable,e=t._items[--t._length];(t._items[t._length]=null)!=e&&--this.maskCount;var i=this.maskMatrixTable,n=i._items[--i._length];(i._items[i._length]=null)!=n&&eo.pool.put(n);var s=this.maskBitmapTable,r=this.maskMatrixTable;this.renderSession.spriteBatch.start(this.currentClip,s._items[s._length-1],r._items[r._length-1])},popRect:function(){this.clips.pop(),this.currentClip=this.clips[this.clips.length-1];var t=this.maskBitmapTable,e=this.maskMatrixTable;this.renderSession.spriteBatch.start(this.currentClip,t._items[t._length-1],e._items[e._length-1])},saveState:function(){this.savedClip=this.currentClip,this.currentClip=null},restoreState:function(){this.currentClip=this.savedClip,this.savedClip=null},setContext:function(t){null!=this.renderSession&&(this.renderSession.gl=t),this.gl=t},__class__:qo});var Jo=function(t,e,i,n,s){null==s&&(s=!0),null==n&&(n=!0),this.__swapped=!1,this.powerOfTwo=!0,this.useOldTexture=!1,this.gl=t,this.width=e,this.height=i,this.smoothing=n,this.powerOfTwo=s;var r=new Zo(t,e,i,n,s);this.__swapped?this.__texture1=r:this.__texture0=r};(i["openfl._internal.renderer.opengl.utils.PingPongTexture"]=Jo).__name__=["openfl","_internal","renderer","opengl","utils","PingPongTexture"],Jo.prototype={swap:function(){if(this.__swapped=!this.__swapped,null==(this.__swapped?this.__texture1:this.__texture0)){var t=new Zo(this.gl,this.width,this.height,this.smoothing,this.powerOfTwo);this.__swapped?this.__texture1=t:this.__texture0=t}},clear:function(t,e,i,n,s){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),(this.__swapped?this.__texture1:this.__texture0).clear(t,e,i,n,s)},resize:function(t,e){this.width=t,this.height=e,(this.__swapped?this.__texture1:this.__texture0).resize(t,e)},destroyOldRenderTexture:function(){this.__swapped?null!=this.__texture0&&(this.__texture0.destroy(),this.__texture0=null):null!=this.__texture1&&(this.__texture1.destroy(),this.__texture1=null)},destroy:function(){null!=this.__texture0&&(this.__texture0.destroy(),this.__texture0=null),null!=this.__texture1&&(this.__texture1.destroy(),this.__texture1=null),this.__swapped=!1},get_renderTexture:function(){return this.__swapped?this.__texture1:this.__texture0},set_renderTexture:function(t){return this.__swapped?this.__texture1=t:this.__texture0=t},get_oldRenderTexture:function(){return this.__swapped?this.__texture0:this.__texture1},set_oldRenderTexture:function(t){return this.__swapped?this.__texture0=t:this.__texture1=t},get_framebuffer:function(){return(this.__swapped?this.__texture1:this.__texture0).frameBuffer},get_texture:function(){return this.useOldTexture?(this.__swapped?this.__texture0:this.__texture1).texture:(this.__swapped?this.__texture1:this.__texture0).texture},get___otherTexture:function(){return this.__swapped?this.__texture0:this.__texture1},__class__:Jo,__properties__:{get___otherTexture:"get___otherTexture",get_texture:"get_texture",get_framebuffer:"get_framebuffer",set_oldRenderTexture:"set_oldRenderTexture",get_oldRenderTexture:"get_oldRenderTexture",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture"}};var Zo=function(t,e,i,n,s){null==s&&(s=!0),null==n&&(n=!0),this.gl=t,this.powerOfTwo=s,this.frameBuffer=Zr.context.createFramebuffer(),this.texture=Zr.context.createTexture();var r=this.texture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=r&&(Zr.context.bindTexture(t.TEXTURE_2D,r),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=r)||Zr.textureStateCache.exists(r)||Zr.textureStateCache.set(r,new fs));var a=t.TEXTURE_2D,o=t.TEXTURE_MAG_FILTER,l=n?t.LINEAR:t.NEAREST,h=Zr.currentBoundTexture[Zr.currentActiveTexture],_=Zr.textureStateCache.get(h);_.h[o]!=l&&(Zr.context.texParameteri(a,o,l),_.h[o]=l);var u=t.TEXTURE_2D,c=t.TEXTURE_MIN_FILTER,f=n?t.LINEAR:t.NEAREST,d=Zr.currentBoundTexture[Zr.currentActiveTexture],p=Zr.textureStateCache.get(d);p.h[c]!=f&&(Zr.context.texParameteri(u,c,f),p.h[c]=f);var g=t.TEXTURE_2D,m=t.TEXTURE_WRAP_S,v=t.CLAMP_TO_EDGE,b=Zr.currentBoundTexture[Zr.currentActiveTexture],y=Zr.textureStateCache.get(b);y.h[m]!=v&&(Zr.context.texParameteri(g,m,v),y.h[m]=v);var w=t.TEXTURE_2D,x=t.TEXTURE_WRAP_T,T=t.CLAMP_TO_EDGE,S=Zr.currentBoundTexture[Zr.currentActiveTexture],E=Zr.textureStateCache.get(S);E.h[x]!=T&&(Zr.context.texParameteri(w,x,T),E.h[x]=T),Zr.context.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),Zr.context.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.resize(e,i)};(i["openfl._internal.renderer.opengl.utils.RenderTexture"]=Zo).__name__=["openfl","_internal","renderer","opengl","utils","RenderTexture"],Zo.prototype={clear:function(t,e,i,n,s){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0);this.gl;Zr.context.clearColor(t,e,i,n);this.gl;Zr.context.clear(null==s?this.gl.COLOR_BUFFER_BIT:s)},destroy:function(){if(null!=this.frameBuffer){this.gl;Zr.context.deleteFramebuffer(this.frameBuffer)}if(null!=this.texture){this.gl;var t=this.texture;Zr.textureStateCache.remove(t),Zr.context.deleteTexture(t)}this.frameBuffer=null,this.texture=null},resize:function(t,e){if(this.width!=t||this.height!=e){var i=this.width=t,n=this.height=e;if(this.powerOfTwo){for(var s=1;s<t;)s<<=1;i=s;for(var r=1;r<e;)r<<=1;n=r}var a=this.__width,o=this.__height;if(this.__width=i,this.__height=n,this.createUVs(),a!=i||o!=n){if(0==Zo.glMaxTextureSize){this.gl;Zo.glMaxTextureSize=Zr.context.getParameter(this.gl.MAX_TEXTURE_SIZE)}this.__width>Zo.glMaxTextureSize&&(this.__width=Zo.glMaxTextureSize),this.__height>Zo.glMaxTextureSize&&(this.__height=Zo.glMaxTextureSize);this.gl;var l=this.texture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=l&&(Zr.context.bindTexture(this.gl.TEXTURE_2D,l),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=l)||Zr.textureStateCache.exists(l)||Zr.textureStateCache.set(l,new fs));this.gl;Zr.context.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.__width,this.__height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null)}}},createUVs:function(){null==this.__uvData&&(this.__uvData=new Cl);var t=this.width/this.__width,e=this.height/this.__height;this.__uvData.x0=0,this.__uvData.y0=0,this.__uvData.x1=t,this.__uvData.y1=0,this.__uvData.x2=t,this.__uvData.y2=e,this.__uvData.x3=0,this.__uvData.y3=e},powOfTwo:function(t){for(var e=1;e<t;)e<<=1;return e},__class__:Zo};var Qo=function(t){this.setContext(t)};(i["openfl._internal.renderer.opengl.utils.ShaderManager"]=Qo).__name__=["openfl","_internal","renderer","opengl","utils","ShaderManager"],Qo.prototype={setContext:function(t){this.gl=t,this.defaultShader=new Vo(t),this.defaultMaskedShader=new Xo(t),this.fillShader=new Ho(t),this.patternFillShader=new Yo(t),this.drawTrianglesShader=new zo(t),this.primitiveShader=new Wo(t),this.setShader(this.defaultShader,!0)},destroy:function(){this.defaultShader.destroy(),this.fillShader.destroy(),this.patternFillShader.destroy(),this.drawTrianglesShader.destroy(),this.primitiveShader.destroy(),this.gl=null},setShader:function(t,e){if(null==e&&(e=!1),null==t){this.currentShader=null;this.gl;var i=null;return i!=Zr.currentProgram&&(Zr.context.useProgram(i),i=Zr.currentProgram),!0}if(null!=this.currentShader&&!e&&this.currentShader.ID==t.ID)return!1;this.currentShader=t;this.gl;var n=t.program;return n!=Zr.currentProgram&&(Zr.context.useProgram(n),n=Zr.currentProgram),!0},__class__:Qo};function $o(){}(i["openfl._internal.renderer.opengl.utils.VertexBufferContext"]=$o).__name__=["openfl","_internal","renderer","opengl","utils","VertexBufferContext"],$o.prototype={__class__:$o};var tl=function(t,e,i){null==i&&(i=3),null==e&&(e=2e3),this.vertexBufferContextIndex=0,this.colorTransform=new to,this.matrix=new eo,this.lastEnableColor=!0,this.enableColor=!0,this.attributes=[],this.writtenVertexBytes=0,this.preventFlush=!1,this.drawing=!1,this.states=[],this.maxSprites=e,this.attributes.push(new nl(2,5126,!1,"openfl_aPosition")),this.attributes.push(new nl(2,5126,!1,"openfl_aTexCoord0")),this.attributes.push(new nl(4,5121,!0,"openfl_aColor"));var n,s=[1,1,1,1];n=null!=s?new tc(s):null,this.attributes[2].defaultValue=n;for(var r=this.maxElementsPerVertex=0,a=this.attributes;r<a.length;){var o=a[r];++r;var l,h=this.maxElementsPerVertex;switch(o.type){case 5120:case 5121:l=1;break;case 5122:case 5123:l=2;break;default:l=4}this.maxElementsPerVertex=h+Math.floor(o.components*l/4)}this.vertexArraySize=e*this.maxElementsPerVertex*4*4,this.indexArraySize=6*e,this.vertexBufferContexts=[];for(var _=0,u=i;_<u;){var c=_++;this.vertexBufferContexts.push(new $o);var f=this.vertexBufferContexts[c];f.vertexArray=new il(this.attributes,this.vertexArraySize,!1);var d,p=f.vertexArray.buffer;d=null!=p?new tc(p,0):null,f.positions=d;var g,m=f.vertexArray.buffer;g=null!=m?new Uint32Array(m,0):null,f.colors=g}this.vertexArray=this.vertexBufferContexts[0].vertexArray,this.positions=this.vertexBufferContexts[0].positions,this.colors=this.vertexBufferContexts[0].colors;var v,b=this.indexArraySize;v=null!=b?new Uint16Array(b):null,this.indices=v;for(var y=0,w=0;y<this.indexArraySize;)this.indices[y]=w,this.indices[y+1]=w+1,this.indices[y+2]=w+2,this.indices[y+3]=w,this.indices[y+4]=w+2,this.indices[y+5]=w+3,y+=6,w+=4;this.currentState=new el,this.drawing=!1,this.batchedSprites=0,this.setContext(t)};(i["openfl._internal.renderer.opengl.utils.SpriteBatch"]=tl).__name__=["openfl","_internal","renderer","opengl","utils","SpriteBatch"],tl.prototype={destroy:function(){for(var t=0,e=this.vertexBufferContexts;t<e.length;){var i=e[t];++t,i.vertexArray.destroy(),i.vertexArray=null}this.indices=null;this.gl;Zr.context.deleteBuffer(this.indexBuffer),this.currentState.destroy();for(var n=0,s=this.states;n<s.length;){var r=s[n];++n,r.destroy()}this.colorTransform=null,this.gl=null},begin:function(t,e,i,n){this.renderSession=t,this.shader=t.shaderManager.defaultShader,this.start(e,i,n)},finish:function(){this.stop(),this.clipRect=null},start:function(t,e,i){this.drawing=!0,this.maskBitmap=e,this.maskMatrix=i,this.clipRect=t},stop:function(){this.drawing=!1,this.flush()},renderBitmapData:function(t,e,i,n,s,r,a,o){null==s&&(s=1),null!=t&&this.renderBitmapDataEx(t,t.physicalWidth,t.physicalHeight,t.get_uvData(),e,i,n,s,r,a,o)},renderBitmapDataEx:function(t,e,i,n,s,r,a,o,l,h,_){if(0!=e&&0!=i){var u=t.getTexture(this.gl);if(this.batchedSprites>=this.maxSprites&&this.flush(),null!=n){if(null!=h){h.__init(this.gl),h.__shader.wrapS=h.repeatX,h.__shader.wrapT=h.repeatY,h.__shader.smooth=h.smooth,h.__shader.blendMode=h.blendMode;var c=h.data.get(Xl.uObjectSize),f=h.data.get(Xl.uTextureSize);if(null!=t)if(c.value[0]=t.width,c.value[1]=t.height,null!=t.get_bd().__pingPongTexture){var d=f.value,p=t.get_bd().__pingPongTexture;d[0]=(p.__swapped?p.__texture1:p.__texture0).__width;var g=f.value,m=t.get_bd().__pingPongTexture;g[1]=(m.__swapped?m.__texture1:m.__texture0).__height}else f.value[0]=t.width,f.value[1]=t.height;else c.value[0]=0,c.value[1]=0,f.value[0]=0,f.value[1]=0}var v=(255&(255*o|0))<<24|16777215;this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor;for(var b=0,y=0,w=this.attributes;y<w.length;){var x=w[y];if(++y,x.enabled){var T;switch(x.type){case 5120:case 5121:T=1;break;case 5122:case 5123:T=2;break;default:T=4}b+=Math.floor(x.components*T/4)}}this.elementsPerVertex=b;var S=this.renderSession.getRenderTargetBaseTransform(),E=eo.pool.get();t.getLocalTransform(E),E.concat(r),E.concat(S),null==s&&(s=!(Math.abs(Math.abs(E.a)*e-t.physicalWidth)<.5&&Math.abs(Math.abs(E.d)*i-t.physicalHeight)<.5&&Math.abs(E.b)<.001&&Math.abs(E.c)<.001)),1==_&&(_=s&&0==r.b&&0==r.c&&Math.abs(1-r.a)<.001&&Math.abs(1-r.d)<.001?(r.a=1,r.d=1,0):2);var I=4*this.batchedSprites*this.elementsPerVertex,P=E.a,C=E.b,D=E.c,A=E.d,R=E.tx,M=E.ty;if(null==_||2==_?(this.positions[I]=R,this.positions[1+I]=M,this.positions[5+I]=P*e+R,this.positions[6+I]=C*e+M,this.positions[10+I]=P*e+D*i+R,this.positions[11+I]=A*i+C*e+M,this.positions[15+I]=D*i+R,this.positions[16+I]=A*i+M):(this.positions[I]=Math.round(R),this.positions[1+I]=Math.round(M),this.positions[5+I]=Math.round(R)+P*e,this.positions[6+I]=Math.round(M)+C*e,this.positions[10+I]=Math.round(R)+P*e+D*i,this.positions[11+I]=Math.round(M)+A*i+C*e,this.positions[15+I]=Math.round(R)+D*i,this.positions[16+I]=Math.round(M)+A*i),this.enableColor){var F=this.colors[19+I]=v,B=this.colors[14+I]=F,L=this.colors[9+I]=B;this.colors[4+I]=L}this.positions[2+I]=n.x0,this.positions[3+I]=n.y0,this.positions[7+I]=n.x1,this.positions[8+I]=n.y1,this.positions[12+I]=n.x2,this.positions[13+I]=n.y2,this.positions[17+I]=n.x3,this.positions[18+I]=n.y3,this.writtenVertexBytes=20+I;var k=this.batchedSprites,N=this.states[k];if(null==N&&(N=this.states[k]=new el),N.texture=u,null!=this.maskBitmap&&null!=this.maskBitmap.get_uvData()){N.maskTexture=this.maskBitmap.getTexture(this.gl);var O=this.maskBitmap.get_uvData(),U=N.maskTextureUVScale;U.x=O.x1,U.y=O.y2,N.maskMatrix.copyFrom(this.maskMatrix)}else N.maskTexture=null;N.textureSmooth=s,N.blendMode=null!=l?l:10,N.skipColorTransform=null!=a&&a.__isDefault(),N.skipColorTransform||(N.colorTransform.redMultiplier=a.redMultiplier,N.colorTransform.greenMultiplier=a.greenMultiplier,N.colorTransform.blueMultiplier=a.blueMultiplier,N.colorTransform.alphaMultiplier=a.alphaMultiplier,N.colorTransform.redOffset=a.redOffset,N.colorTransform.greenOffset=a.greenOffset,N.colorTransform.blueOffset=a.blueOffset,N.colorTransform.alphaOffset=a.alphaOffset),null==h?(N.shader=null,N.shaderData=null):(N.shader=h.__shader,N.shaderData=h.data),this.batchedSprites++,eo.pool.put(E)}}},fillVertices:function(t,e,i,n,s,r,a){null==r&&(r=-1);var o=n.a,l=n.b,h=n.c,_=n.d,u=n.tx,c=n.ty;if(null==a||2==a?(this.positions[t]=u,this.positions[t+1]=c,this.positions[t+5]=o*e+u,this.positions[t+6]=l*e+c,this.positions[t+10]=o*e+h*i+u,this.positions[t+11]=_*i+l*e+c,this.positions[t+15]=h*i+u,this.positions[t+16]=_*i+c):(this.positions[t]=Math.round(u),this.positions[t+1]=Math.round(c),this.positions[t+5]=Math.round(u)+o*e,this.positions[t+6]=Math.round(c)+l*e,this.positions[t+10]=Math.round(u)+o*e+h*i,this.positions[t+11]=Math.round(c)+_*i+l*e,this.positions[t+15]=Math.round(u)+h*i,this.positions[t+16]=Math.round(c)+_*i),this.enableColor){var f=this.colors[t+19]=r,d=this.colors[t+14]=f,p=this.colors[t+9]=d;this.colors[t+4]=p}this.positions[t+2]=s.x0,this.positions[t+3]=s.y0,this.positions[t+7]=s.x1,this.positions[t+8]=s.y1,this.positions[t+12]=s.x2,this.positions[t+13]=s.y2,this.positions[t+17]=s.x3,this.positions[t+18]=s.y3,this.writtenVertexBytes=t+20},enableAttributes:function(t){null==t&&(t=-1),this.enableColor=-1!=t,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor;for(var e=0,i=0,n=this.attributes;i<n.length;){var s=n[i];if(++i,s.enabled){var r;switch(s.type){case 5120:case 5121:r=1;break;case 5122:case 5123:r=2;break;default:r=4}e+=Math.floor(s.components*r/4)}}this.elementsPerVertex=e},flush:function(){if(this.preventFlush)throw new Vs("SpriteBatch flush forbidden");if(0!=this.batchedSprites){if(null!=this.clipRect){this.gl;Zr.context.enable(this.gl.SCISSOR_TEST);this.gl;Zr.context.scissor(Math.floor(this.clipRect.x),Math.floor(this.clipRect.y),Math.ceil(this.clipRect.width),Math.ceil(this.clipRect.height))}this.renderSession.activeTextures=1;var t=this.vertexArray;t.gl;Zr.context.bindBuffer(t.gl.ARRAY_BUFFER,t.glBuffer);this.gl;Zr.context.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e,i=this.vertexArray,n=this.positions.subarray(0,this.writtenVertexBytes);i.gl;Zr.context.bufferSubData(i.gl.ARRAY_BUFFER,0,n),this.vertexBufferContextIndex=(this.vertexBufferContextIndex+1)%this.vertexBufferContexts.length,this.vertexArray=this.vertexBufferContexts[this.vertexBufferContextIndex].vertexArray,this.positions=this.vertexBufferContexts[this.vertexBufferContextIndex].positions,this.colors=this.vertexBufferContexts[this.vertexBufferContextIndex].colors;var s=0,r=0;this.currentState.shader=null,this.currentState.shaderData=null,this.currentState.texture=null,this.currentState.maskTexture=null,this.currentState.maskMatrix=null,this.currentState.textureSmooth=!1,this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode,this.currentState.colorTransform=null;for(var a=0,o=this.batchedSprites;a<o;){var l=a++;e=this.states[l];var h=this.currentState;if(!(null==e.shader&&null==h.shader||null!=e.shader&&null!=h.shader&&e.shader.ID==h.shader.ID)||e.texture!=h.texture||e.maskTexture!=h.maskTexture||e.textureSmooth!=h.textureSmooth||e.blendMode!=h.blendMode||!(e.skipColorTransform&&h.skipColorTransform||!e.skipColorTransform&&!h.skipColorTransform&&e.colorTransform.__equals(h.colorTransform,!0))){this.renderBatch(this.currentState,s,r),r=l,s=0,this.currentState.shader=e.shader,this.currentState.shaderData=e.shaderData,this.currentState.texture=e.texture,this.currentState.maskTexture=e.maskTexture;var _=e.maskTextureUVScale,u=this.currentState.maskTextureUVScale;u.x=_.x,u.y=_.y,this.currentState.maskMatrix=e.maskMatrix,this.currentState.textureSmooth=e.textureSmooth,this.currentState.blendMode=e.blendMode,this.currentState.skipColorTransform=e.skipColorTransform,this.currentState.colorTransform=this.currentState.skipColorTransform?null:e.colorTransform}++s}if(this.renderBatch(this.currentState,s,r),this.batchedSprites=0,this.writtenVertexBytes=0,null!=this.clipRect){this.gl;Zr.context.disable(this.gl.SCISSOR_TEST)}}},renderBatch:function(t,e,i){if(0!=e&&null!=t.texture){var n=null==t.shader?null!=t.maskTexture?this.renderSession.shaderManager.defaultMaskedShader:this.renderSession.shaderManager.defaultShader:t.shader;if(this.renderSession.shaderManager.setShader(n),n.bindVertexArray(this.vertexArray),!0,this.renderSession.blendModeManager.setBlendMode(null!=n.blendMode?n.blendMode:t.blendMode),n.uniformMatrix3fv(n.getUniformLocation("openfl_uProjectionMatrix"),!1,this.renderSession.projectionMatrix),null!=t.colorTransform){n.uniform1i(n.getUniformLocation("openfl_uUseColorTransform"),1);var s=t.colorTransform;n.uniform4f(n.getUniformLocation("openfl_uColorMultiplier"),s.redMultiplier,s.greenMultiplier,s.blueMultiplier,1),n.uniform4f(n.getUniformLocation("openfl_uColorOffset"),s.redOffset/255,s.greenOffset/255,s.blueOffset/255,s.alphaOffset/255)}else n.uniform1i(n.getUniformLocation("openfl_uUseColorTransform"),0),n.uniform4f(n.getUniformLocation("openfl_uColorMultiplier"),1,1,1,1),n.uniform4f(n.getUniformLocation("openfl_uColorOffset"),0,0,0,0);this.gl;var r=this.gl.TEXTURE0;r!=Zr.currentActiveTexture&&(Zr.context.activeTexture(r),Zr.currentActiveTexture=r);this.gl;var a=t.texture;if(Zr.currentBoundTexture[Zr.currentActiveTexture]!=a&&(Zr.context.bindTexture(this.gl.TEXTURE_2D,a),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=a)||Zr.textureStateCache.exists(a)||Zr.textureStateCache.set(a,new fs)),null!=n.smooth&&n.smooth||t.textureSmooth){this.gl;var o=this.gl.TEXTURE_2D,l=this.gl.TEXTURE_MAG_FILTER,h=this.gl.LINEAR,_=Zr.currentBoundTexture[Zr.currentActiveTexture],u=Zr.textureStateCache.get(_);u.h[l]!=h&&(Zr.context.texParameteri(o,l,h),u.h[l]=h);this.gl;var c=this.gl.TEXTURE_2D,f=this.gl.TEXTURE_MIN_FILTER,d=this.gl.LINEAR,p=Zr.currentBoundTexture[Zr.currentActiveTexture],g=Zr.textureStateCache.get(p);g.h[f]!=d&&(Zr.context.texParameteri(c,f,d),g.h[f]=d)}else{this.gl;var m=this.gl.TEXTURE_2D,v=this.gl.TEXTURE_MAG_FILTER,b=this.gl.NEAREST,y=Zr.currentBoundTexture[Zr.currentActiveTexture],w=Zr.textureStateCache.get(y);w.h[v]!=b&&(Zr.context.texParameteri(m,v,b),w.h[v]=b);this.gl;var x=this.gl.TEXTURE_2D,T=this.gl.TEXTURE_MIN_FILTER,S=this.gl.NEAREST,E=Zr.currentBoundTexture[Zr.currentActiveTexture],I=Zr.textureStateCache.get(E);I.h[T]!=S&&(Zr.context.texParameteri(x,T,S),I.h[T]=S)}this.gl;var P=this.gl.TEXTURE_2D,C=this.gl.TEXTURE_WRAP_S,D=n.wrapS,A=Zr.currentBoundTexture[Zr.currentActiveTexture],R=Zr.textureStateCache.get(A);R.h[C]!=D&&(Zr.context.texParameteri(P,C,D),R.h[C]=D);this.gl;var M=this.gl.TEXTURE_2D,F=this.gl.TEXTURE_WRAP_T,B=n.wrapT,L=Zr.currentBoundTexture[Zr.currentActiveTexture],k=Zr.textureStateCache.get(L);if(k.h[F]!=B&&(Zr.context.texParameteri(M,F,B),k.h[F]=B),null!=t.maskTexture){this.gl;var N=this.gl.TEXTURE1;N!=Zr.currentActiveTexture&&(Zr.context.activeTexture(N),Zr.currentActiveTexture=N);this.gl;var O=t.maskTexture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=O&&(Zr.context.bindTexture(this.gl.TEXTURE_2D,O),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=O)||Zr.textureStateCache.exists(O)||Zr.textureStateCache.set(O,new fs)),n.uniformMatrix3fv(n.getUniformLocation("openfl_uMaskMatrix"),!1,t.maskMatrix),n.uniform2f(n.getUniformLocation("openfl_uUVScale"),t.maskTextureUVScale.x,t.maskTextureUVScale.y)}n.applyData(t.shaderData,this.renderSession);this.gl;Zr.context.drawElements(this.gl.TRIANGLES,6*e,this.gl.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},setState:function(t,e,i,n,s,r){null==i&&(i=!1);var a=this.states[t];if(null==a&&(a=this.states[t]=new el),a.texture=e,null!=this.maskBitmap&&null!=this.maskBitmap.get_uvData()){a.maskTexture=this.maskBitmap.getTexture(this.gl);var o=this.maskBitmap.get_uvData(),l=a.maskTextureUVScale;l.x=o.x1,l.y=o.y2,a.maskMatrix.copyFrom(this.maskMatrix)}else a.maskTexture=null;a.textureSmooth=i,a.blendMode=null!=n?n:10,a.skipColorTransform=null!=s&&s.__isDefault(),a.skipColorTransform||(a.colorTransform.redMultiplier=s.redMultiplier,a.colorTransform.greenMultiplier=s.greenMultiplier,a.colorTransform.blueMultiplier=s.blueMultiplier,a.colorTransform.alphaMultiplier=s.alphaMultiplier,a.colorTransform.redOffset=s.redOffset,a.colorTransform.greenOffset=s.greenOffset,a.colorTransform.blueOffset=s.blueOffset,a.colorTransform.alphaOffset=s.alphaOffset),null==r?(a.shader=null,a.shaderData=null):(a.shader=r.__shader,a.shaderData=r.data)},setContext:function(t){this.gl=t;for(var e=0,i=this.vertexBufferContexts;e<i.length;){var n=i[e];++e,n.vertexArray.setContext(t,n.positions)}this.indexBuffer=Zr.context.createBuffer(),Zr.context.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),Zr.context.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},prepareShader:function(t,e){if(null!=t){t.__init(this.gl),t.__shader.wrapS=t.repeatX,t.__shader.wrapT=t.repeatY,t.__shader.smooth=t.smooth,t.__shader.blendMode=t.blendMode;var i=t.data.get(Xl.uObjectSize),n=t.data.get(Xl.uTextureSize);if(null!=e)if(i.value[0]=e.width,i.value[1]=e.height,null!=e.get_bd().__pingPongTexture){var s=n.value,r=e.get_bd().__pingPongTexture;s[0]=(r.__swapped?r.__texture1:r.__texture0).__width;var a=n.value,o=e.get_bd().__pingPongTexture;a[1]=(o.__swapped?o.__texture1:o.__texture0).__height}else n.value[0]=e.width,n.value[1]=e.height;else i.value[0]=0,i.value[1]=0,n.value[0]=0,n.value[1]=0}},getElementsPerVertex:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var n=i[e];if(++e,n.enabled){var s;switch(n.type){case 5120:case 5121:s=1;break;case 5122:case 5123:s=2;break;default:s=4}t+=Math.floor(n.components*s/4)}}return t},setNextVertexBufferContext:function(){this.vertexBufferContextIndex=(this.vertexBufferContextIndex+1)%this.vertexBufferContexts.length,this.vertexArray=this.vertexBufferContexts[this.vertexBufferContextIndex].vertexArray,this.positions=this.vertexBufferContexts[this.vertexBufferContextIndex].positions,this.colors=this.vertexBufferContexts[this.vertexBufferContextIndex].colors},__class__:tl};var el=function(){this.maskMatrix=new eo,this.maskTextureUVScale=new ra,this.skipColorTransform=!1,this.textureSmooth=!0,this.colorTransform=to.pool.get(),this.colorTransform.reset()};(i["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=el).__name__=["openfl","_internal","renderer","opengl","utils","_SpriteBatch","State"],el.prototype={equals:function(t){return(null==this.shader&&null==t.shader||null!=this.shader&&null!=t.shader&&this.shader.ID==t.shader.ID)&&this.texture==t.texture&&this.maskTexture==t.maskTexture&&this.textureSmooth==t.textureSmooth&&this.blendMode==t.blendMode&&(!(!this.skipColorTransform||!t.skipColorTransform)||!this.skipColorTransform&&!t.skipColorTransform&&this.colorTransform.__equals(t.colorTransform,!0))},destroy:function(){this.texture=null,this.colorTransform=null,this.maskTexture=null,to.pool.put(this.colorTransform),null!=this.maskMatrix&&(this.maskMatrix=null)},__class__:el};var il=function(t,e,i){null==i&&(i=!1),null==e&&(e=0),this.isStatic=!1,this.size=0,this.attributes=[],this.size=e,this.attributes=t,0<e&&(this.buffer=new Qu(e)),this.isStatic=i};(i["openfl._internal.renderer.opengl.utils.VertexArray"]=il).__name__=["openfl","_internal","renderer","opengl","utils","VertexArray"],il.prototype={bind:function(){this.gl;Zr.context.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},unbind:function(){this.gl;Zr.context.bindBuffer(this.gl.ARRAY_BUFFER,null)},upload:function(t){this.gl;Zr.context.bufferSubData(this.gl.ARRAY_BUFFER,0,t)},destroy:function(){if(null!=this.gl){this.gl;Zr.context.deleteBuffer(this.glBuffer)}this.buffer=null},setContext:function(t,e){this.gl=t,this.glBuffer=Zr.context.createBuffer(),Zr.context.bindBuffer(t.ARRAY_BUFFER,this.glBuffer),Zr.context.bufferData(t.ARRAY_BUFFER,e,this.isStatic?t.STATIC_DRAW:t.DYNAMIC_DRAW)},get_stride:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var n=i[e];if(++e,n.enabled){var s;switch(n.type){case 5120:case 5121:s=1;break;case 5122:case 5123:s=2;break;default:s=4}t+=4*Math.floor(n.components*s/4)}}return t},__class__:il,__properties__:{get_stride:"get_stride"}};var nl=function(t,e,i,n,s){var r;(null==i&&(i=!1),this.enabled=!0,this.normalized=!1,this.components=t,this.type=e,this.normalized=i,this.name=n,null==s)?(r=null!=t?new tc(t):null,this.defaultValue=r):this.defaultValue=s};(i["openfl._internal.renderer.opengl.utils.VertexAttribute"]=nl).__name__=["openfl","_internal","renderer","opengl","utils","VertexAttribute"],nl.prototype={copy:function(){return new nl(this.components,this.type,this.normalized,this.name,this.defaultValue)},getElementsBytes:function(){switch(this.type){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},get_elements:function(){var t;switch(this.type){case 5120:case 5121:t=1;break;case 5122:case 5123:t=2;break;default:t=4}return Math.floor(this.components*t/4)},__class__:nl,__properties__:{get_elements:"get_elements"}};var sl=function(t){this.textField=t,this.width=100,this.height=100,this.text="",this.bounds=new b_(0,0,0,0),this.type=0,this.autoSize=2,this.displayAsPassword=!1,this.embedFonts=!1,this.selectable=!0,this.computeAdvances=!1,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType=1,this.maxChars=0,this.multiline=!1,this.sharpness=0,this.scrollH=0,this.scrollV=1,this.wordWrap=!1,this.lineAscents=[],this.lineBreaks=[],this.lineDescents=[],this.lineLeadings=[],this.lineHeights=[],this.lineWidths=[],this.layoutGroups=[],this.lineLayoutGroups=[],this.textFormatRanges=[],sl.__canvas=window.document.createElement("canvas"),sl.__context=sl.__canvas.getContext("2d")};(i["openfl._internal.text.TextEngine"]=sl).__name__=["openfl","_internal","text","TextEngine"],sl.__canvas=null,sl.__context=null,sl.getFont=function(t){var e=t.font,i=t.italic?"italic ":"normal ";switch(i+="normal ",i+=t.bold?"bold ":"normal ",i+=t.size+"px",i+="/"+(t.size+t.leading+6)+"px ",t.font){case"_sans":i+="sans-serif";break;case"_serif":i+="serif";break;case"_typewriter":i+="monospace";break;default:i+="'"+e+"'"}var n=i,s=At.getProperty($a.getLibrary("default"),"fontData").get(e);if(null==s){ls.trace("Warning: No font data found for font: "+e+". Falling back to "+t.font,{fileName:"TextEngine.hx",lineNumber:242,className:"openfl._internal.text.TextEngine",methodName:"getFont"}),s=At.getProperty($a.getLibrary("default"),"fontData").get(t.font);var r=t.font,a="normal ";switch(a+="normal ",a+="normal ",a+=t.size+"px",a+="/"+(t.size+t.leading+6)+"px ",t.font){case"_sans":a+="sans-serif";break;case"_serif":a+="serif";break;case"_typewriter":a+="monospace";break;default:a+="'"+r+"'"}if(n=a,null==s)return ls.trace("Fallback didn't contain font data. Falling back to defaults.",{fileName:"TextEngine.hx",lineNumber:248,className:"openfl._internal.text.TextEngine",methodName:"getFont"}),{name:n,ascent:.825,descent:.175}}return{name:n,ascent:s.ascent,descent:s.descent}},sl.getFontInstance=function(t){return null},sl.prototype={getBounds:function(){var t=this.border?1:0;this.bounds.width=this.width+t,this.bounds.height=this.height+t},getLine:function(t){return t<0||t>this.lineBreaks.length+1?null:0==this.lineBreaks.length?this.text:this.text.substring(0<t?this.lineBreaks[t-1]:0,this.lineBreaks[t])},calculateFontDimensions:function(t,e){var i={};return i.ascent=t.size*e.ascent,i.descent=t.size*e.descent,i.leading=t.leading,i.height=i.ascent+i.descent+i.leading,i},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length);var t=0,e=0,i=null,n=0,s=0;this.textWidth=0,this.textHeight=0,this.numLines=1,this.bottomScrollV=0;for(var r=this.maxScrollH=0,a=this.lineLayoutGroups;r<a.length;){var o=a[r];if(++r,0<o.length){for(var l=o[0];l.lineIndex>this.numLines-1;)this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(n),this.lineWidths.push(s),i=null,s=n=e=t=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;t=Math.max(t,l.ascent),e=Math.max(e,l.descent),i=null==i?l.leading:0|Math.max(i,l.leading),n=Math.max(n,l.height),this.textHeight=l.offsetY-2+l.ascent+l.descent;for(var h=s=0;h<o.length;){var _=o[h];++h,(s+=_.width)>this.textWidth&&(this.textWidth=s)}}}this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(n),this.lineWidths.push(s),1==this.numLines?(this.bottomScrollV=1,0<i&&(this.textHeight+=i)):this.textHeight<=this.height-2&&this.bottomScrollV++,this.textWidth>this.width-4?this.maxScrollH=this.textWidth-this.width+4|0:this.maxScrollH=0,this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){var t=this;this.layoutGroups.splice(0,this.layoutGroups.length),this.lineLayoutGroups.splice(0,this.lineLayoutGroups.length);var e,i=-1,n=null,s=this.textField.get_defaultTextFormat(),r=0,a=0,o=0,l=0,h=[],_=0,u=2,c=2,f=0,d=0,p=this.text.length;if(i<t.textFormatRanges.length-1){++i,n=t.textFormatRanges[i],s.__merge(n.format);var g=sl.getFont(s);sl.__context.font=g.name;var m=t.calculateFontDimensions(s,g);a=m.ascent,o=m.descent,r=m.leading,_=m.height}var v=n.format;e=new al(v,n.start,-1);var b=u,y=2==u;if(y&&0<v.leftMargin&&(b+=v.leftMargin),y&&v.bullet){b+=sl.__context.measureText("\t\t").width}for(e.offsetX=b,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0;f<p;){var w=p,x=t.text.indexOf(" ",f);0<=x&&x<w&&(w=x);var T=t.text.indexOf("-",f);0<=T&&T<w&&(w=T);var S=t.text.indexOf("\n",f);0<=S&&S<w&&(w=S);var E=this.text.charAt(w);n.end-1<w&&"\n"==E&&(w=n.end-1,E=this.text.charAt(w));var I=this.text,P=e.startIndex,C=null==P&&null==w?sl.__context.measureText(I).width:sl.__context.measureText(I.substring(P,w)).width;if(t.selectable||t.computeAdvances){for(var D=this.text,A=[],R=e.startIndex,M=w;R<M;){var F=R++,B=D.charAt(F),L=ns.repeat(64,B),k=sl.__context.measureText(L).width/64;A.push(k)}h=A}if(1<w-f&&this.wordWrap&&Math.floor(e.offsetX+C)>this.width-4){var N=this.text,O=null==f&&null==w?sl.__context.measureText(N).width:sl.__context.measureText(N.substring(f,w)).width;if(2==e.offsetX&&Math.floor(e.offsetX+O)>this.width-4){if(null==h||0==h.length){for(var U=this.text,G=[],X=e.startIndex,V=w;X<V;){var z=X++,H=U.charAt(z),Y=ns.repeat(64,H),W=sl.__context.measureText(Y).width/64;G.push(W)}h=G}for(var K=0,j=0;j<h.length;){if(K+=h[j],Math.floor(e.offsetX+K)>this.width-4){f=e.startIndex+j,h.splice(f-e.startIndex,w-f);break}++j}j==h.length&&(f=e.startIndex+j),l=this.width-4}var q=f;if(e.startIndex!=q){for(e.endIndex=q,e.width=l,e.advances=h,h=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}for(;" "==t.text.charAt(q);)++q;c+=_,u=2,++d;var J=n.format;e=new al(J,q,-1);var Z=u,Q=2==u;if(Q&&0<J.leftMargin&&(Z+=J.leftMargin),Q&&J.bullet){Z+=sl.__context.measureText("\t\t").width}e.offsetX=Z,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0}else{if(f=w+1,l=C,"\n"==E){var $=f;if(e.startIndex!=$){for(e.endIndex=$,e.width=l,e.advances=h,h=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}for(;" "==t.text.charAt($);)++$;c+=_,u=2,++d;var tt=n.format;e=new al(tt,$,-1);var et=u,it=2==u;if(it&&0<tt.leftMargin&&(et+=tt.leftMargin),it&&tt.bullet){et+=sl.__context.measureText("\t\t").width}e.offsetX=et,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0}else{for(var nt=0;" "==E;)++nt,E=this.text.charAt(w+nt);0<nt&&(f+=nt-1)}if(f>=n.end){f=n.end;var st=this.text,rt=e.startIndex;if(l=null==rt&&null==f?sl.__context.measureText(st).width:sl.__context.measureText(st.substring(rt,f)).width,t.selectable||t.computeAdvances){for(var at=this.text,ot=[],lt=e.startIndex,ht=f;lt<ht;){var _t=lt++,ut=at.charAt(_t),ct=ns.repeat(64,ut),ft=sl.__context.measureText(ct).width/64;ot.push(ft)}h=ot}if(e.startIndex!=f){for(e.endIndex=f,e.width=l,e.advances=h,h=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}if(u=e.offsetX+l,i<t.textFormatRanges.length-1){++i,n=t.textFormatRanges[i],s.__merge(n.format);var dt=sl.getFont(s);sl.__context.font=dt.name;var pt=t.calculateFontDimensions(s,dt);a=pt.ascent,o=pt.descent,r=pt.leading,_=pt.height}var gt=n.format;e=new al(gt,n.start,-1);var mt=u,vt=2==u;if(vt&&0<gt.leftMargin&&(mt+=gt.leftMargin),vt&&gt.bullet){mt+=sl.__context.measureText("\t\t").width}e.offsetX=mt,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0}else if(2==n.format.align){var bt=w;if(e.startIndex!=bt){for(e.endIndex=bt,e.width=l,e.advances=h,h=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}u=e.offsetX+e.width;var yt=n.format;e=new al(yt,f,-1);var wt=u,xt=2==u;if(xt&&0<yt.leftMargin&&(wt+=yt.leftMargin),xt&&yt.bullet){wt+=sl.__context.measureText("\t\t").width}e.offsetX=wt,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0}}}if(i<this.textFormatRanges.length-1)throw new Vs("not all text ranges were processed by the text engine.")},setTextAlignment:function(){var t,e,i=-1,n=0,s=this.width;if(2==this.autoSize||this.multiline||(s=this.textWidth),0<this.lineLayoutGroups.length)for(var r=0,a=this.lineLayoutGroups.length;r<a;){var o=r++;if(0<(e=this.lineLayoutGroups[o]).length)switch(i=(t=e[0]).lineIndex,t.format.align){case 0:n=this.lineWidths[i]<s-4?Math.round((s-4-this.lineWidths[i])/2):0;break;case 2:if(this.lineWidths[i]<s-4&&1<e.length){n=(t=e[e.length-1]).endIndex<this.text.length&&"\n"!=this.text.charAt(t.endIndex)?(s-4-this.lineWidths[i])/(e.length-1):sl.__context.measureText(" ").width;for(var l=0,h=e.length;l<h;){var _=l++;e[_].offsetX+=n*_}}n=0;break;case 4:n=this.lineWidths[i]<s-4?Math.round(s-4-this.lineWidths[i]):0;break;default:n=0}if(0<n)for(var u=0;u<e.length;){var c=e[u];++u,c.offsetX+=n}}},update:function(){null==this.text||""==Ps.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.lineLayoutGroups.splice(0,this.lineLayoutGroups.length),this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0,this.maxScrollV=1,this.bottomScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},__class__:sl};var rl=function(t,e,i){this.format=t,this.start=e,this.end=i};(i["openfl._internal.text.TextFormatRange"]=rl).__name__=["openfl","_internal","text","TextFormatRange"],rl.prototype={__class__:rl};var al=function(t,e,i){this.format=t,this.startIndex=e,this.endIndex=i};(i["openfl._internal.text.TextLayoutGroup"]=al).__name__=["openfl","_internal","text","TextLayoutGroup"],al.prototype={__class__:al};var ol=function(){sr.call(this),null==no.application&&(no.application=this)};(i["openfl.display.Application"]=ol).__name__=["openfl","display","Application"],ol.__super__=sr,ol.prototype=n(sr.prototype,{create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,i=t.windows;e<i.length;){var n=i[e];++e;var s=new Zl(n);this.createWindow(s);break}null!=this.preloader&&!this.preloader.complete||this.onPreloadComplete()}},__class__:ol});var ll=function(t,e,i){null==i&&(i=!1),W.call(this),this.bitmapData=t,this.pixelSnapping=e,this.smoothing=i,this.__useSeparateRenderScaleTransform=!1,null==e&&(this.pixelSnapping=1)};(i["openfl.display.Bitmap"]=ll).__name__=["openfl","display","Bitmap"],ll.__super__=W,ll.prototype=n(W.prototype,{__getBounds:function(t){null!=this.bitmapData?t.setTo(0,0,this.bitmapData.width,this.bitmapData.height):t.setEmpty()},__hitTest:function(t,e,i,n,s,r){if(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)||null==this.bitmapData)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;this.__getWorldTransform();var a=this.__worldTransform,o=a.a*a.d-a.b*a.c,l=0==o?-a.tx:1/o*(a.c*(a.ty-e)+a.d*(t-a.tx)),h=this.__worldTransform,_=h.a*h.d-h.b*h.c,u=0==_?-h.ty:1/_*(h.a*(e-h.ty)+h.b*(h.tx-t));return 0<l&&0<u&&l<=this.bitmapData.width&&u<=this.bitmapData.height&&(null==n||s||(n._items[n._length++]=r),!0)},__hitTestMask:function(t,e){if(null==this.bitmapData)return!1;this.__getWorldTransform();var i=this.__worldTransform,n=i.a*i.d-i.b*i.c,s=0==n?-i.tx:1/n*(i.c*(i.ty-e)+i.d*(t-i.tx)),r=this.__worldTransform,a=r.a*r.d-r.b*r.c,o=0==a?-r.ty:1/a*(r.a*(e-r.ty)+r.b*(r.tx-t));return 0<s&&0<o&&s<=this.bitmapData.width&&o<=this.bitmapData.height},__renderCanvasMask:function(t){t.context.rect(0,0,this.get_width(),this.get_height())},__renderGL:function(t){if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}this.__isCachingAsBitmap=!1}else{if(null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask)),this.isRenderable()&&!(this.__worldAlpha<=0)&&null!=this.bitmapData&&this.bitmapData.get_valid()){var l=eo.pool.get();l.copyFrom(this.__renderTransform);var h=this.bitmapData,_=this.smoothing,u=this.__renderColorTransform,c=this.__renderAlpha,f=this.__blendMode,d=this.__shader,p=this.pixelSnapping;null!=h&&t.spriteBatch.renderBitmapDataEx(h,h.physicalWidth,h.physicalHeight,h.get_uvData(),_,l,u,c,f,d,p),eo.pool.put(l)}null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(t){return null!=this.bitmapData?(t!=this.bitmapData.height&&this.set_scaleY(t/this.bitmapData.height),t):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},set_width:function(t){return null!=this.bitmapData?(t!=this.bitmapData.width&&this.set_scaleX(t/this.bitmapData.width),t):0},__class__:ll});function hl(){}(i["openfl.display.IBitmapData"]=hl).__name__=["openfl","display","IBitmapData"],hl.prototype={__class__:hl,__properties__:{get_valid:"get_valid",set_uvData:"set_uvData",get_uvData:"get_uvData",get_src:"get_src",get_bd:"get_bd"}};var _l=function(t,e,i,n,s){null==n&&(n=-1),null==i&&(i=!0),this.__imageShouldBeSynced=!1,this.__usingPingPongTexture=!1,this.__renderToLocalMatrix=new eo,this.__keepSource=!1,this.transparent=i,(null==t||t<0)&&(t=0),(null==e||e<0)&&(e=0),this.width=this.physicalWidth=t,this.height=this.physicalHeight=e,0<t&&0<e&&(i?0==(-16777216&n)&&(n=0):n=-16777216|16777215&n,n=n<<8|n>>>24&255,this.__image=new Gr(null,0,0,t,e,n,s),this.__image.set_transparent(i),this.__isValid=!0),this.__createUVs(),this.__worldTransform=new eo,this.__renderColorTransform=new to};(i["openfl.display.BitmapData"]=_l).__name__=["openfl","display","BitmapData"],_l.__interfaces__=[hl,r],_l.spritesheet=null,_l.fromBase64=function(t,e,i){var n=new _l(0,0,!0),s=i,r=n;return Gr.fromBase64(t,e,function(t){r.__fromImage(t,t.width,t.height),null!=s&&s(r)}),n},_l.fromBytes=function(t,e,i){var n=new _l(0,0,!0),s=e,r=i,a=n;return Gr.fromBytes(J_.toBytes(t),function(t){if(a.__fromImage(t,t.width,t.height),null!=s){Qr.convertToCanvas(t),Qr.createImageData(t);for(var e=t.buffer.data,i=0,n=J_.get_length(s);i<n;){e[4*i+++3]=s.readUnsignedByte()}t.dirty=!0}null!=r&&r(a)}),n},_l.fromCanvas=function(t,e,i,n,s){if(null==e&&(e=!0),null==t)return null;var r=new _l(0,0,e);return r.__fromImage(Gr.fromCanvas(t),i,n,s),r.__image.set_transparent(e),r},_l.fromGraphics=function(t,e,i){null==e&&(e=!0);var n=t.__bounds;return _l.fromCanvas(t.__canvas,null,n.width,n.height,i)},_l.fromFile=function(t,e,i){var n=new _l(0,0,!0);return n.__fromFile(t,e,i),n},_l.fromImage=function(t,e){if(null==e&&(e=!0),null==t||null==t.buffer)return null;var i=new _l(0,0,e);return i.__fromImage(t,t.width,t.height),i.__image.set_transparent(e),i},_l.__asRenderTexture=function(){return new _l(0,0)},_l.getFromSymbol=function(t){if($a.cache.hasBitmapData(t.path))return $a.cache.getBitmapData(t.path);if(_l.isSpritesheetImage(t.path))return _l.getFromSpritesheet(t.id,t.path);var e=Qs.getImage(t.path,!1);if(null!=e&&null!=t.alpha&&""!=t.alpha){var i=Qs.getImage(t.alpha,!1);e.copyChannel(i,i.get_rect(),new ra,Vr.RED,Vr.ALPHA),e.buffer.premultiplied=!0,e.set_premultiplied(!1)}var n=_l.fromImage(e);return $a.cache.setBitmapData(t.path,n),n},_l.isSpritesheetImage=function(t){return null!=_l.spritesheet&&!_l.spritesheet.isBitmapExcluded(t)},_l.getFromSpritesheet=function(t,e){if($a.cache.hasBitmapData(e))return $a.cache.getBitmapData(e);var i=_l.spritesheet.getBitmapDataByFrameName(e);return $a.cache.setBitmapData(e,i),i},_l.prototype={applyFilter:function(t,e,i,n){this.__isValid&&null!=t&&t.__isValid&&(Qr.convertToCanvas(this.get_image()),Qr.createImageData(this.get_image()),Qr.convertToCanvas(t.get_image()),Qr.createImageData(t.get_image()),n.__applyFilter(this.get_image().buffer.__srcImageData,t.get_image().buffer.__srcImageData,e,i),this.get_image().dirty=!0)},clone:function(){return this.__isValid?_l.fromImage(this.__image.clone(),this.transparent):new _l(this.physicalWidth,this.physicalHeight,this.transparent)},get_bd:function(){return this},get_src:function(){return this.get_image().get_src()},get_uvData:function(){return this.__uvData},set_uvData:function(t){return this.__createUVs(t.x0,t.y0,t.x1,t.y1,t.x2,t.y2,t.x3,t.y3),t},get_valid:function(){return this.__isValid},colorTransform:function(t,e){this.__isValid&&(this.get_image().colorTransform(t.__toLimeRectangle(),e.__toLimeColorMatrix()),this.__usingPingPongTexture=!1)},compare:function(t){if(t==this)return 0;if(null==t)return-1;if(0==this.__isValid||0==t.__isValid)return-2;if(this.physicalWidth!=t.physicalWidth)return-3;if(this.physicalHeight!=t.physicalHeight)return-4;if(null!=this.get_image()&&null!=t.get_image()&&this.get_image().get_format()==t.get_image().get_format()){for(var e=this.get_image().get_data(),i=t.get_image().get_data(),n=!0,s=0,r=e.length;s<r;){var a=s++;if(e[a]!=i[a]){n=!1;break}}if(n)return 0}for(var o,l,h,_,u,c,f,d,p=null,g=0,m=this.physicalHeight;g<m;)for(var v=g++,b=0,y=this.physicalWidth;b<y;){var w=b++;o=!1,_=0,(l=this.getPixel32(w,v))!=(h=t.getPixel32(w,v))&&((u=(l>>16&255)-(h>>16&255))<0&&(u*=-1),(c=(l>>8&255)-(h>>8&255))<0&&(c*=-1),(f=(255&l)-(255&h))<0&&(f*=-1),0==u&&0==c&&0==f?0!=(d=(l>>24&255)-(h>>24&255))&&(_=(255&d)<<24|(255&(_=(255&(_=(255&(_=(255&_>>24)<<24|16711680|(255&_>>8)<<8|255&_)>>24)<<24|(255&_>>16)<<16|65280|255&_)>>24)<<24|(255&_>>16)<<16|(255&_>>8)<<8|255)>>16)<<16|(255&_>>8)<<8|255&_,o=!0):(_=-16777216|(255&(_=(255&(_=(255&(_=(255&_>>24)<<24|(255&u)<<16|(255&_>>8)<<8|255&_)>>24)<<24|(255&_>>16)<<16|(255&c)<<8|255&_)>>24)<<24|(255&_>>16)<<16|(255&_>>8)<<8|255&f)>>16)<<16|(255&_>>8)<<8|255&_,o=!0)),o&&(null==p&&(p=new _l(this.physicalWidth,this.physicalHeight,this.transparent||t.transparent,0)),p.setPixel32(w,v,_))}return null==p?0:p},copyChannel:function(t,e,i,n,s){if(this.__isValid){var r,a;switch(n){case 1:r=Vr.RED;break;case 2:r=Vr.GREEN;break;case 4:r=Vr.BLUE;break;case 8:r=Vr.ALPHA;break;default:return}switch(s){case 1:a=Vr.RED;break;case 2:a=Vr.GREEN;break;case 4:a=Vr.BLUE;break;case 8:a=Vr.ALPHA;break;default:return}this.get_image().copyChannel(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),r,a),this.__usingPingPongTexture=!1}},copyPixels:function(t,e,i,n,s,r){null==r&&(r=!1),this.__isValid&&null!=t&&(this.get_image().copyPixels(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),null!=n?n.get_image():null,null!=s?s.__toLimeVector2():null,r),this.__usingPingPongTexture=!1)},dispose:function(){this.__image=null,this.width=0,this.height=0,this.__isValid=!1;var t=no.current.stage.__renderer;if(null!=t&&null!=t.renderSession.gl){if(null!=this.__texture){var e=this.__texture;Zr.textureStateCache.remove(e),Zr.context.deleteTexture(e),this.__texture=null}null!=this.__buffer&&(Zr.context.deleteBuffer(this.__buffer),this.__buffer=null)}null!=this.__pingPongTexture&&(this.__pingPongTexture.destroy(),this.__pingPongTexture=null),null!=this.__uvData&&(Cl.pool.put(this.__uvData),this.__uvData=null)},disposeBackBuffer:function(){null!=this.__pingPongTexture&&this.__pingPongTexture.destroyOldRenderTexture()},draw:function(t,e,i,n,s,r){if(null==r&&(r=!1),this.__isValid){if(null!=i&&!i.__isDefault()||null!=n)throw new Vs(":TODO: Not supported");var a=no.current.stage.__renderer.renderSession,o=!0;if(zs.__instanceof(t,W)){var l=zs.__cast(t,W);(o=!!l.__visible&&l.isRenderable())||(l.set_visible(!0),l.__update(!1,!0))}t.__updateTransforms(),t.__updateChildren(!0);var h=!this.__usingPingPongTexture;this.__pushFrameBuffer(a,r,!1,!0),Oo.drawBitmapDrawable(a,h?this:null,t,e,s,null,null),Oo.popFramebuffer(a,null),this.__imageShouldBeSynced=!0;var _=this.__pingPongTexture,u=(_.__swapped?_.__texture1:_.__texture0).__uvData;this.__createUVs(u.x0,u.y0,u.x1,u.y1,u.x2,u.y2,u.x3,u.y3),this.__isValid=!0,this.__usingPingPongTexture=!0,zs.__instanceof(t,W)&&!o&&zs.__cast(t,W).set_visible(o)}},encode:function(t,e,i){return this.__isValid&&null!=t?zs.__instanceof(e,Ol)?J_.fromBytes(this.get_image().encode("png")):zs.__instanceof(e,Ml)?J_.fromBytes(this.get_image().encode("jpg",zs.__cast(e,Ml).quality)):null:null},fillRect:function(t,e){this.__isValid&&null!=t&&(this.transparent&&0==(-16777216&e)&&(e=0),this.get_image().fillRect(t.__toLimeRectangle(),e,1),this.__usingPingPongTexture=!1)},floodFill:function(t,e,i){this.__isValid&&(this.get_image().floodFill(t,e,i,1),this.__usingPingPongTexture=!1)},generateFilterRect:function(t,e){return t.clone()},getBuffer:function(t){if(null==this.__buffer){var e=[this.width,this.height,0,1,1,0,this.height,0,0,1,this.width,0,0,1,0,0,0,0,0,0];this.__buffer=Zr.context.createBuffer(),Zr.context.bindBuffer(t.ARRAY_BUFFER,this.__buffer);var i,n=t.ARRAY_BUFFER;i=null!=e?new tc(e):null,Zr.context.bufferData(n,i,t.STATIC_DRAW),Zr.context.bindBuffer(t.ARRAY_BUFFER,null)}return this.__buffer},getColorBoundsRect:function(t,e,i){if(null==i&&(i=!0),!this.__isValid)return new b_(0,0,this.width,this.height);if(!this.transparent||0<(t>>24&255)){0==(e>>24&255)&&0}var n=this.get_image().getColorBoundsRect(t,e,i,1);return new b_(n.x,n.y,n.width,n.height)},getPixel:function(t,e){return this.__isValid?this.get_image().getPixel(t,e,1):0},getPixel32:function(t,e){return this.__isValid?this.get_image().getPixel32(t,e,1):0},getPixels:function(t){return this.__isValid?(null==t&&(t=b_.__temp,this.getPhysicalRect(t)),J_.fromBytes(this.get_image().getPixels(t.__toLimeRectangle(),1))):null},getTexture:function(t){if(!this.__isValid)return null;if(this.__usingPingPongTexture&&null!=this.__pingPongTexture){var e=this.__pingPongTexture;return e.useOldTexture?(e.__swapped?e.__texture0:e.__texture1).texture:(e.__swapped?e.__texture1:e.__texture0).texture}if(null==this.__texture){this.__texture=Zr.context.createTexture();var i=this.__texture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=i&&(Zr.context.bindTexture(t.TEXTURE_2D,i),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=i)||Zr.textureStateCache.exists(i)||Zr.textureStateCache.set(i,new fs));var n=t.TEXTURE_2D,s=t.TEXTURE_WRAP_S,r=t.CLAMP_TO_EDGE,a=Zr.currentBoundTexture[Zr.currentActiveTexture],o=Zr.textureStateCache.get(a);o.h[s]!=r&&(Zr.context.texParameteri(n,s,r),o.h[s]=r);var l=t.TEXTURE_2D,h=t.TEXTURE_WRAP_T,_=t.CLAMP_TO_EDGE,u=Zr.currentBoundTexture[Zr.currentActiveTexture],c=Zr.textureStateCache.get(u);c.h[h]!=_&&(Zr.context.texParameteri(l,h,_),c.h[h]=_);var f=t.TEXTURE_2D,d=t.TEXTURE_MAG_FILTER,p=t.LINEAR,g=Zr.currentBoundTexture[Zr.currentActiveTexture],m=Zr.textureStateCache.get(g);m.h[d]!=p&&(Zr.context.texParameteri(f,d,p),m.h[d]=p);var v=t.TEXTURE_2D,b=t.TEXTURE_MIN_FILTER,y=t.LINEAR,w=Zr.currentBoundTexture[Zr.currentActiveTexture],x=Zr.textureStateCache.get(w);x.h[b]!=y&&(Zr.context.texParameteri(v,b,y),x.h[b]=y),this.__image.dirty=!0}if(null!=this.__image&&this.__image.dirty){var T,S;S=1==this.__image.buffer.bitsPerPixel?(T=t.ALPHA,t.ALPHA):(T=t.RGBA,t.RGBA);var E=this.__texture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=E&&(Zr.context.bindTexture(t.TEXTURE_2D,E),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=E)||Zr.textureStateCache.exists(E)||Zr.textureStateCache.set(E,new fs));var I=this.__image,P=t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C=!I.get_premultiplied()&&I.get_transparent()?1:0;Zr.context.pixelStorei(P,C);var D=I.buffer.get_glCompatibleBuffer();if(null==D){var A=t.TEXTURE_2D,R=this.physicalWidth,M=this.physicalHeight,F=t.UNSIGNED_BYTE,B=I.get_data();Zr.context.texImage2D(A,0,T,R,M,0,S,F,B)}else Zr.context.texImage2D(t.TEXTURE_2D,0,T,S,t.UNSIGNED_BYTE,D);this.__image.dirty=!1,this.__keepSource||null==this.__image.buffer.__srcCanvas||(Fo.pool.put(this.__image.buffer.__srcCanvas),this.__image.buffer.__srcCanvas=null,this.__image=null)}return this.__texture},getVector:function(t){var e=this.getPixels(t),i=J_.get_length(e)/4|0,n=new De,s=new Array(i);n.data=s,n.length=i,n.fixed=!0;for(var r=n,a=0,o=i;a<o;){var l=a++,h=e.readUnsignedInt();if(!r.fixed&&(l>=r.length&&(r.length=1+l),r.data.length<r.length)){var _=r.data.length+10,u=new Array(_);ms.blit(r.data,0,u,0,r.data.length),r.data=u}r.data[l]=h}return r},histogram:function(t){for(var e=null!=t?t:new b_(0,0,this.physicalWidth,this.physicalHeight),i=this.getPixels(e),n=[],s=0;s<4;){s++;for(var r=[],a=0;a<256;){a++;r.push(0)}n.push(r)}for(var o=n,l=0,h=J_.get_length(i);l<h;){++o[l++%4][i.readUnsignedByte()]}return o},hitTest:function(t,e,i,n,s){if(null==s&&(s=1),!this.__isValid)return!1;if(zs.__instanceof(i,ll)&&(i=zs.__cast(i,ll).bitmapData),zs.__instanceof(i,io)){var r=i;r.x,t.x,r.y,t.y;throw new Vs(":TODO: compute rect")}if(zs.__instanceof(i,_l)){throw null==n?0:(n.x-t.x|0,n.y-t.y|0),new Vs(":TODO: compute rect")}if(zs.__instanceof(i,b_)){var a=b_.__temp;if(a.copyFrom(i),a.offset(-t.x,-t.y),a.__contract(0,0,this.width,this.height),0<a.width&&0<a.height)for(var o=this.getPixels(a),l=0,h=J_.get_length(o)/4|0;l<h;){l++;if(e<=(o.readUnsignedInt()>>24&255))return!0}}return!1},lock:function(){},merge:function(t,e,i,n,s,r,a){this.__isValid&&null!=t&&t.__isValid&&null!=e&&null!=i&&(this.get_image().merge(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),n,s,r,a),this.__usingPingPongTexture=!1)},noise:function(t,e,i,n,s){if(null==s&&(s=!1),null==n&&(n=7),null==i&&(i=255),null==e&&(e=0),this.__isValid){var r=function(){return t=1103515245*t+12345,(0|Math.abs(t/65536))%32768};r();for(var a=i-e,o=1==(1&n),l=(2&n)>>1==1,h=(4&n)>>2==1,_=(8&n)>>3==1,u=0,c=this.physicalHeight;u<c;)for(var f=u++,d=0,p=this.physicalWidth;d<p;){var g=d++,m=0,v=0,b=0,y=255;s?(m=b=v=e+r()%a,y=255):(o&&(m=e+r()%a),l&&(b=e+r()%a),h&&(v=e+r()%a),_&&(y=e+r()%a));var w=y;w=((w=((w=(w<<8)+m)<<8)+b)<<8)+v,this.setPixel32(g,f,w)}}},paletteMap:function(t,e,i,n,s,r,a){for(var o,l,h,_,u,c,f,d,p,g,m=0|e.width,v=0|e.height,b=this.getPixels(e),y=b.position=0,w=v*m;y<w;){var x=y++;o=b.readUnsignedInt(),255<(u=((f=null==a?-16777216&o:a[o>>24&255])>>24&255)+((d=null==n?16711680&o:n[o>>16&255])>>24&255)+((p=null==s?65280&o:s[o>>8&255])>>24&255)+((g=null==r?255&o:r[255&o])>>24&255))&&(u=255),255<(l=(f>>16&255)+(d>>16&255)+(p>>16&255)+(g>>16&255))&&(l=255),255<(h=(f>>8&255)+(d>>8&255)+(p>>8&255)+(g>>8&255))&&(h=255),255<(_=(255&f)+(255&d)+(255&p)+(255&g))&&(_=255),c=u<<24|l<<16|h<<8|_,b.position=4*x,b.writeUnsignedInt(c)}b.position=0;var T=new b_(i.x,i.y,m,v);this.setPixels(T,b)},perlinNoise:function(t,e,i,n,s,r,a,o,l){null==o&&(o=!1),null==a&&(a=7),no.notImplemented("BitmapData.perlinNoise")},scroll:function(t,e){this.__isValid&&(this.get_image().scroll(t,e),this.__usingPingPongTexture=!1)},setPixel:function(t,e,i){this.__isValid&&(this.get_image().setPixel(t,e,i,1),this.__usingPingPongTexture=!1)},setPixel32:function(t,e,i){this.__isValid&&(this.get_image().setPixel32(t,e,i,1),this.__usingPingPongTexture=!1)},setPixels:function(t,e){this.__isValid&&null!=t&&(this.get_image().setPixels(t.__toLimeRectangle(),J_.toBytes(e),1),this.__usingPingPongTexture=!1)},setVector:function(t,e){var i=new Zn(0);J_.set_length(i,4*e.length);for(var n=0;n<e.length;){var s=e.data[n];++n,i.writeUnsignedInt(s)}i.position=0,this.setPixels(t,i)},threshold:function(t,e,i,n,s,r,a,o){return null==o&&(o=!1),null==a&&(a=-1),null==r&&(r=0),null==t||null==e||null==i||e.x>t.width||e.y>t.height||i.x>this.width||i.y>this.height?0:this.get_image().threshold(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),n,s,r,a,o,1)},unlock:function(t){},__createUVs:function(t,e,i,n,s,r,a,o){null==o&&(o=1),null==a&&(a=0),null==r&&(r=1),null==s&&(s=1),null==n&&(n=0),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),null==this.__uvData&&(this.__uvData=Cl.pool.get()),this.__uvData.x0=t,this.__uvData.y0=e,this.__uvData.x1=i,this.__uvData.y1=n,this.__uvData.x2=s,this.__uvData.y2=r,this.__uvData.x3=a,this.__uvData.y3=o},__pushFrameBuffer:function(t,e,i,n){null==n&&(n=!0),null==i&&(i=!1),null==e&&(e=!1);var s=b_.pool.get();this.getPhysicalRect(s),this.__pingPongTexture=Oo.pushFramebuffer(t,this.__pingPongTexture,s,e,this.transparent,i,n),b_.pool.put(s)},__drawGL:function(t,e,i,n,s,r,a,o,l,h,_){null==l&&(l=!0),null==o&&(o=!1),null==a&&(a=!1),null==r&&(r=!1),null==s&&(s=!1),this.__pushFrameBuffer(t,s,a,l),Oo.drawBitmapDrawable(t,r?this:null,e,i,n,h,_),Oo.popFramebuffer(t,o?this.__image:null),o||(this.__imageShouldBeSynced=!0);var u=this.__pingPongTexture,c=(u.__swapped?u.__texture1:u.__texture0).__uvData;this.__createUVs(c.x0,c.y0,c.x1,c.y1,c.x2,c.y2,c.x3,c.y3),this.__isValid=!0,this.__usingPingPongTexture=!0},__popFrameBuffer:function(t,e){null==e&&(e=!1),Oo.popFramebuffer(t,e?this.__image:null),e||(this.__imageShouldBeSynced=!0);var i=this.__pingPongTexture,n=(i.__swapped?i.__texture1:i.__texture0).__uvData;this.__createUVs(n.x0,n.y0,n.x1,n.y1,n.x2,n.y2,n.x3,n.y3),this.__isValid=!0,this.__usingPingPongTexture=!0},__fromBase64:function(t,e,i){var n=this;Gr.fromBase64(t,e,function(t){n.__fromImage(t,t.width,t.height),null!=i&&i(n)})},__fromBytes:function(t,s,r){var a=this;Gr.fromBytes(J_.toBytes(t),function(t){if(a.__fromImage(t,t.width,t.height),null!=s){Qr.convertToCanvas(t),Qr.createImageData(t);for(var e=t.buffer.data,i=0,n=J_.get_length(s);i<n;){e[4*i+++3]=s.readUnsignedByte()}t.dirty=!0}null!=r&&r(a)})},__fromFile:function(t,e,i){var n=this;Gr.fromFile(t,function(t){n.__fromImage(t,t.width,t.height),null!=e&&e(n)},i)},__fromImage:function(t,e,i,n){null!=t&&null!=t.buffer&&(this.__image=t,this.width=e,this.height=i,this.physicalWidth=t.width,this.physicalHeight=t.height,this.__renderToLocalMatrix.copyFrom(null!=n?n:eo.__identity),this.__isValid=!0)},__renderGL:function(t){var e=this.__worldTransform,i=this.__renderColorTransform,n=this.__blendMode,s=this.__shader;t.spriteBatch.renderBitmapDataEx(this,this.physicalWidth,this.physicalHeight,this.get_uvData(),null,e,i,1,n,s,null)},__resize:function(t,e,i,n){this.width=t,this.height=e,this.physicalWidth=i,this.physicalHeight=n,this.__renderToLocalMatrix.identity(),null!=this.__image&&this.__image.resize(i,n)},__resizeTo:function(t){this.__resize(t.width,t.height,t.physicalWidth,t.physicalHeight)},__sync:function(){Qr.sync(this.get_image(),!1)},__updateChildren:function(t){},__updateMask:function(t){},__updateTransforms:function(){this.__worldTransform.identity()},get_image:function(){if(this.__imageShouldBeSynced){var t=no.current.stage.__renderer.renderSession;this.__pushFrameBuffer(t),Oo.popFramebuffer(t,this.__image);var e=this.__pingPongTexture,i=(e.__swapped?e.__texture1:e.__texture0).__uvData;this.__createUVs(i.x0,i.y0,i.x1,i.y1,i.x2,i.y2,i.x3,i.y3),this.__isValid=!0,this.__usingPingPongTexture=!0,this.__imageShouldBeSynced=!1}return this.__image},getLocalTransform:function(t){t.copyFrom(this.__renderToLocalMatrix)},getPhysicalRect:function(t){t.x=0,t.y=0,t.width=this.physicalWidth,t.height=this.physicalHeight},__class__:_l,__properties__:{get_valid:"get_valid",set_uvData:"set_uvData",get_uvData:"get_uvData",get_src:"get_src",get_image:"get_image",get_bd:"get_bd"}};var ul={};(i["openfl.display._BlendMode.BlendMode_Impl_"]=ul).__name__=["openfl","display","_BlendMode","BlendMode_Impl_"],ul.fromString=function(t){switch(t){case"add":return 0;case"alpha":return 1;case"darken":return 2;case"difference":return 3;case"erase":return 4;case"hardlight":return 5;case"invert":return 6;case"layer":return 7;case"lighten":return 8;case"multiply":return 9;case"normal":return 10;case"overlay":return 11;case"screen":return 12;case"shader":return 13;case"subtract":return 14;default:return null}},ul.toString=function(t){switch(t){case 0:return"add";case 1:return"alpha";case 2:return"darken";case 3:return"difference";case 4:return"erase";case 5:return"hardlight";case 6:return"invert";case 7:return"layer";case 8:return"lighten";case 9:return"multiply";case 10:return"normal";case 11:return"overlay";case 12:return"screen";case 13:return"shader";case 14:return"subtract";default:return null}};var cl={};(i["openfl.display._CapsStyle.CapsStyle_Impl_"]=cl).__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"],cl.fromString=function(t){switch(t){case"none":return 0;case"round":return 1;case"square":return 2;default:return null}},cl.toString=function(t){switch(t){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};function fl(t){null==t&&(t="DirectRenderer"),W.call(this)}(i["openfl.display.DirectRenderer"]=fl).__name__=["openfl","display","DirectRenderer"],fl.__super__=W,fl.prototype=n(W.prototype,{get_render:function(){return this.__render},set_render:function(t){return this.__render=t},set_width:function(t){return this.__width=0|t},get_width:function(){return this.__width},set_height:function(t){return this.__height=0|t},get_height:function(){return this.__height},__class__:fl,__properties__:n(W.prototype.__properties__,{set_render:"set_render",get_render:"get_render"})});var dl=function(t,e){v.call(this),this.__name=t,this.__frame=e};(i["openfl.display.FrameLabel"]=dl).__name__=["openfl","display","FrameLabel"],dl.__super__=v,dl.prototype=n(v.prototype,{get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:dl,__properties__:{get_name:"get_name",get_frame:"get_frame"}});function pl(){this.values=[],this.keys=[]}(i["openfl.display.GLShaderData"]=pl).__name__=["openfl","display","GLShaderData"],pl.prototype={set:function(t,e){for(var i=0,n=this.keys.length;i<n;){var s=i++;if(this.keys[s]==t)return void(this.values[s]=e)}this.keys.push(t),this.values.push(e)},get:function(t){for(var e=0,i=this.keys.length;e<i;){var n=e++;if(this.keys[n]==t)return this.values[n]}throw new Vs("Unknown parameter "+t)},__class__:pl};var gl={};(i["openfl.display._GradientType.GradientType_Impl_"]=gl).__name__=["openfl","display","_GradientType","GradientType_Impl_"],gl.fromString=function(t){switch(t){case"linear":return 0;case"radial":return 1;default:return null}},gl.toString=function(t){switch(t){case 0:return"linear";case 1:return"radial";default:return null}};var ml=function(t){null==t&&(t=!0),this.__uid=$.SEQ<<24|++$.UID,this.keepBitmapData=!1,this.__dirty=!0,this.mustRefreshGraphicsCounter=-1,this.__commands=t?new lo:null,this.__strokePadding=0,this.__positionX=0,this.__positionY=0,null!=this.__commands&&this.moveTo(0,0)};(i["openfl.display.Graphics"]=ml).__name__=["openfl","display","Graphics"],ml.__interfaces__=[Q],ml.prototype={beginBitmapFill:function(t,e,i,n){if(null==n&&(n=!1),null==i&&(i=!0),this.readOnly)throw new Vs("don't fill readonly!");this.__commands.beginBitmapFill(t,null!=e?e.clone():null,i,n),this.__visible=!0},beginBitmapFillWithId:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.__commands.beginBitmapFillWithId(t,e,i,n),this.__visible=!0},drawImageWithId:function(t,e,i){var n=io.pool.get();this.__inflateBounds(e.tx,e.ty),n.x=0,n.y=1;var s=n.x,r=n.y;n.x=s*e.a+r*e.c+e.tx,n.y=s*e.b+r*e.d+e.ty,this.__inflateBounds(n.x,n.y),n.x=1,n.y=0;var a=n.x,o=n.y;n.x=a*e.a+o*e.c+e.tx,n.y=a*e.b+o*e.d+e.ty,this.__inflateBounds(n.x,n.y),n.x=1,n.y=1;var l=n.x,h=n.y;n.x=l*e.a+h*e.c+e.tx,n.y=l*e.b+h*e.d+e.ty,this.__inflateBounds(n.x,n.y),this.__commands.drawImageWithId(t,e,i),this.__visible=!0,io.pool.put(n)},beginFill:function(t,e){if(null==e&&(e=1),null==t&&(t=0),this.readOnly)throw new Vs("don't fill readonly!");this.__commands.beginFill(16777215&t,e),0<e&&(this.__visible=!0)},beginGradientFill:function(t,e,i,n,s,r,a,o){if(null==o&&(o=0),null==a&&(a=1),null==r&&(r=0),this.readOnly)throw new Vs("don't fill readonly!");this.__commands.beginGradientFill(t,e,i,n,s,r,a,o);for(var l=0;l<i.length;){var h=i[l];if(++l,0<h){this.__visible=!0;break}}},clear:function(){this.readOnly?(this.__commands=new lo,this.readOnly=!1):this.__commands.clear(),this.__strokePadding=0,null!=this.__bounds&&(this.set_dirty(!0),this.__bounds=null),this.__visible=!1,this.moveTo(0,0)},copyFrom:function(t,e){null==e&&(e=!1),e?(this.__bounds=t.__bounds,this.__commands=t.__commands):(this.__bounds=null!=t.__bounds?t.__bounds.clone():null,this.__commands=t.__commands.copy()),this.set_dirty(!0),this.__strokePadding=t.__strokePadding,this.__positionX=t.__positionX,this.__positionY=t.__positionY,this.__visible=t.__visible,this.__symbol=t.__symbol},cubicCurveTo:function(t,e,i,n,s,r){var a,o,l,h;if(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),!(t<(l=a=s)&&t>this.__positionX||s<t&&t<this.__positionX)||!(i<s&&i>this.__positionX||s<i&&i<this.__positionX)){var _=2*this.__positionX-4*t+2*i,u=t-this.__positionX,c=-this.__positionX+3*t+s-3*i,f=(-_+Math.sqrt(_*_-4*u*c))/(2*c),d=(-_-Math.sqrt(_*_-4*u*c))/(2*c);0<f&&f<1&&(a=this.__calculateBezierCubicPoint(f,this.__positionX,t,i,s)),0<d&&d<1&&(l=this.__calculateBezierCubicPoint(d,this.__positionX,t,i,s))}if(!(e<(h=o=r)&&e>this.__positionX||r<e&&e<this.__positionX)||!(n<r&&n>this.__positionX||r<n&&n<this.__positionX)){var p=2*this.__positionX-4*e+2*n,g=e-this.__positionX,m=-this.__positionX+3*e+r-3*n,v=(-p+Math.sqrt(p*p-4*g*m))/(2*m),b=(-p-Math.sqrt(p*p-4*g*m))/(2*m);0<v&&v<1&&(o=this.__calculateBezierCubicPoint(v,this.__positionX,e,n,r)),0<b&&b<1&&(h=this.__calculateBezierCubicPoint(b,this.__positionX,e,n,r))}this.__inflateBounds(a-this.__strokePadding,o-this.__strokePadding),this.__inflateBounds(a+this.__strokePadding,o+this.__strokePadding),this.__inflateBounds(l-this.__strokePadding,h-this.__strokePadding),this.__inflateBounds(l+this.__strokePadding,h+this.__strokePadding),this.__positionX=s,this.__positionY=r,this.__commands.cubicCurveTo(t,e,i,n,s,r),this.set_dirty(!0)},curveTo:function(t,e,i,n){var s,r;if(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),t<i&&t>this.__positionX||i<t&&t<this.__positionX)s=i;else{var a=(this.__positionX-t)/(this.__positionX-2*t+i);s=this.__calculateBezierQuadPoint(a,this.__positionX,t,i)}if(e<n&&e>this.__positionY||n<e&&e<this.__positionY)r=n;else{var o=(this.__positionY-e)/(this.__positionY-2*e+n);r=this.__calculateBezierQuadPoint(o,this.__positionY,e,n)}this.__inflateBounds(s-this.__strokePadding,r-this.__strokePadding),this.__inflateBounds(s+this.__strokePadding,r+this.__strokePadding),this.__positionX=i,this.__positionY=n,this.__commands.curveTo(t,e,i,n),this.set_dirty(!0)},drawCircle:function(t,e,i){i<=0||(this.__inflateBounds(t-i-this.__strokePadding,e-i-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+i+this.__strokePadding),this.__commands.drawCircle(t,e,i),this.set_dirty(!0))},drawArc:function(t,e,i,n,s){i<=0||(this.__inflateBounds(t-i-this.__strokePadding,e-i-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+i+this.__strokePadding),this.__commands.moveTo(t,e),this.__commands.drawArc(t,e,i,n,s),this.set_dirty(!0))},drawEllipse:function(t,e,i,n){i<=0||n<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawEllipse(t,e,i,n),this.set_dirty(!0))},drawGraphicsData:function(t){for(var e,i,n,s,r,a=0;a<t.length;){var o=t.data[a];++a,zs.__instanceof(o,El)?(e=o,this.beginFill(e.color,e.alpha)):zs.__instanceof(o,yl)?(i=o,this.beginBitmapFill(i.bitmapData,i.matrix,i.repeat,i.smooth)):zs.__instanceof(o,xl)?(n=o,this.beginGradientFill(n.type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio)):zs.__instanceof(o,Pl)?(s=o,zs.__instanceof(s.fill,El)?(e=s.fill,this.lineStyle(s.thickness,e.color,e.alpha,s.pixelHinting,s.scaleMode,s.caps,s.joints,s.miterLimit)):(this.lineStyle(s.thickness,0,1,s.pixelHinting,s.scaleMode,s.caps,s.joints,s.miterLimit),zs.__instanceof(s.fill,yl)?(i=s.fill,this.lineBitmapStyle(i.bitmapData,i.matrix,i.repeat,i.smooth)):zs.__instanceof(s.fill,xl)&&(n=s.fill,this.lineGradientStyle(n.type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio)))):zs.__instanceof(o,Sl)?(r=o,this.drawPath(r.commands,r.data,r.winding)):zs.__instanceof(o,wl)&&this.endFill()}},drawPath:function(t,e,i){null==i&&(i="evenOdd");var n=0,s=0;try{for(;s<t.length;){var r=t.data[s];if(++s,null!=r)switch(r){case 1:this.moveTo(e.data[n],e.data[n+1]),n+=2;break;case 2:this.lineTo(e.data[n],e.data[n+1]),n+=2;break;case 3:this.curveTo(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),n+=4;break;case 4:throw this.moveTo(e.data[n+2],e.data[n+3]),"__break__";case 5:throw this.lineTo(e.data[n+2],e.data[n+3]),"__break__";case 6:this.cubicCurveTo(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3],e.data[n+4],e.data[n+5]),n+=6}}}catch(t){if("__break__"!=t)throw t}},drawRect:function(t,e,i,n){i<=0||n<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawRect(t,e,i,n),this.set_dirty(!0))},drawRoundRect:function(t,e,i,n,s,r){i<=0||n<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawRoundRect(t,e,i,n,s,r),this.set_dirty(!0))},drawRoundRectComplex:function(t,e,i,n,s,r,a,o){no.notImplemented("Graphics.drawRoundRectComplex")},drawTriangles:function(t,e,i,n){null==n&&(n=1);var s=t.length/2|0;if(null==n&&(n=1),null==e){if(s%3!=0)throw new Vs(new bh("Not enough vertices to close a triangle."));var r=new De,a=new Array(0);r.data=a,r.length=0,r.fixed=!1,e=r;for(var o=0,l=s;o<l;){var h=o++;if(!e.fixed){if(e.length++,e.data.length<e.length){var _=e.data.length+10,u=new Array(_);ms.blit(e.data,0,u,0,e.data.length),e.data=u}e.data[e.length-1]=h}}}this.__inflateBounds(0,0);for(var c=-1/0,f=-1/0,d=-1/0,p=-1/0,g=0,m=s;g<m;){var v=g++;d<(c=t.data[2*v])&&(d=c),p<(f=t.data[2*v+1])&&(p=f)}this.__inflateBounds(d,p),this.__commands.drawTriangles(t,e,i,n),this.set_dirty(!0),this.__visible=!0},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.__commands.lineBitmapStyle(t,null!=e?e.clone():null,i,n)},lineBitmapStyleWithId:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.__commands.lineBitmapStyleWithId(t,null!=e?e.clone():null,i,n)},lineGradientStyle:function(t,e,i,n,s,r,a,o){null==o&&(o=0),null==a&&(a=1),null==r&&(r=0),this.__commands.lineGradientStyle(t,e,i,n,s,r,a,o)},lineStyle:function(t,e,i,n,s,r,a,o){null==o&&(o=3),null==s&&(s=2),null==n&&(n=!1),null==i&&(i=1),null==e&&(e=0),null!=t&&(1==a?t>this.__strokePadding&&(this.__strokePadding=t):t/2>this.__strokePadding&&(this.__strokePadding=t/2)),this.__commands.lineStyle(t,e,i,n,s,r,a,o),null!=t&&(this.__visible=!0)},lineTo:function(t,e){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=t,this.__positionY=e,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(t,e),this.set_dirty(!0)},moveTo:function(t,e){this.__positionX=t,this.__positionY=e,this.__commands.moveTo(t,e)},createTextures:function(t){for(var e=this.__commands.bd,i=0;i<e._length;){var n=i>=e._length?null:e._items[i];++i,n.getTexture(t)}},__calculateBezierCubicPoint:function(t,e,i,n,s){var r=1-t;return e*(r*r*r)+3*i*t*(r*r)+3*n*r*(t*t)+s*(t*t*t)},__calculateBezierQuadPoint:function(t,e,i,n){var s=1-t;return s*s*e+2*s*t*i+t*t*n},__getBounds:function(t){null!=this.__bounds?t.copyFrom(this.__bounds):t.setEmpty()},__hitTest:function(t,e,i,n){if(null==this.__bounds)return!1;var s=n.a*n.d-n.b*n.c,r=0==s?-n.tx:1/s*(n.c*(n.ty-e)+n.d*(t-n.tx)),a=n.a*n.d-n.b*n.c,o=0==a?-n.ty:1/a*(n.a*(e-n.ty)+n.b*(n.tx-t));return!!this.__bounds.contains(r,o)&&(!i||Fo.hitTest(this,r,o))},__inflateBounds:function(t,e){null!=this.__bounds?(t<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-t,this.__bounds.x=t),e<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-e,this.__bounds.y=e),t>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=t-this.__bounds.x),e>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=e-this.__bounds.y)):this.__bounds=new b_(t,e,0,0)},dispose:function(t){null==t&&(t=!0),this.set___bitmap(null),this.__dirty=!0,this.set_dirty(!0),t&&null!=this.__symbol&&zs.__instanceof(this.__symbol,Cs)&&this.__symbol.unregisterGraphics(this)},__disposeBitmap:function(){this.set___bitmap(null),this.__dirty=!0},set_dirty:function(t){if(t&&null!=this.__owner){var e=this.__owner;e.__updateCachedBitmap=!0,e.__updateFilters=null!=e.__filters&&0<e.__filters.length,e.__isMask&&(e.__maskCached=!1),e.__renderDirty||(e.__renderDirty=!0,W.__worldRenderDirty++,null!=e.__cachedParent&&e.__cachedParent.__setRenderDirty()),e.__updateDirty||null==e.stage||e==e.stage||(e.__updateDirty=!0)}return this.__dirty=t},get_dirty:function(){return this.__dirty},set___bitmap:function(t){return null==this.__bitmap||this.keepBitmapData||null!=this.__symbol&&zs.__instanceof(this.__symbol,Cs)&&zs.__cast(this.__symbol,Cs).useBitmapCache||this.__bitmap.dispose(),this.__bitmap=t},clearGraphicsCounter:function(){this.mustRefreshGraphicsCounter=1},resetGraphicsCounter:function(){this.mustRefreshGraphicsCounter=ml.__dirtyGraphicsDelay,this.set_dirty(!1)},__enterFrame:function(){0<this.mustRefreshGraphicsCounter&&0==--this.mustRefreshGraphicsCounter&&this.set_dirty(!0)},get_snapCoordinates:function(){return!(null==this.__symbol||!zs.__instanceof(this.__symbol,Cs))&&zs.__cast(this.__symbol,Cs).snapCoordinates},getCLID:function(){return ml.__clid},serialize:function(t){t.addKnownRef(this.__bounds),t.addKnownRef(this.__commands),t.out.addInt32(ws.floatToI32(this.__positionX)),t.out.addInt32(ws.floatToI32(this.__positionY)),t.out.addInt32(ws.floatToI32(this.__strokePadding)),t.out.b.push(this.__visible?1:0),t.addKnownRef(this.__symbol)},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("__bounds"),t.fieldsTypes.push(Ls.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("__commands"),t.fieldsTypes.push(Ls.PSerializable("openfl._internal.renderer.DrawCommandBuffer")),t.fieldsNames.push("__positionX"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("__positionY"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("__strokePadding"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("__visible"),t.fieldsTypes.push(Ls.PBool),t.fieldsNames.push("__symbol"),t.fieldsTypes.push(Ls.PSerializable("format.swf.lite.symbols.SWFSymbol")),t.isFinal=$.isClassFinal(ml.__clid),t},unserializeInit:function(){this.mustRefreshGraphicsCounter=-1,this.__dirty=!0,this.keepBitmapData=!1},unserialize:function(t){this.__bounds=t.getRef(b_,b_.__clid),this.__commands=t.getRef(lo,lo.__clid);var e=t.input.getFloat(t.inPos);t.inPos+=4,this.__positionX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.__positionY=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.__strokePadding=n,this.__visible=0!=t.input.b[t.inPos++],this.__symbol=t.getRef(ei,ei.__clid)},__class__:ml,__properties__:{set___bitmap:"set___bitmap",set_dirty:"set_dirty",get_dirty:"get_dirty",get_snapCoordinates:"get_snapCoordinates"}};function vl(){}(i["openfl.display.IGraphicsFill"]=vl).__name__=["openfl","display","IGraphicsFill"],vl.prototype={__class__:vl};function bl(){}(i["openfl.display.IGraphicsData"]=bl).__name__=["openfl","display","IGraphicsData"],bl.prototype={__class__:bl};var yl=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.bitmapData=t,this.matrix=e,this.repeat=i,this.smooth=n,this.__graphicsDataType=Dl.BITMAP,this.__graphicsFillType=Al.BITMAP_FILL};(i["openfl.display.GraphicsBitmapFill"]=yl).__name__=["openfl","display","GraphicsBitmapFill"],yl.__interfaces__=[vl,bl],yl.prototype={__class__:yl};var wl=function(){this.__graphicsDataType=Dl.END,this.__graphicsFillType=Al.END_FILL};(i["openfl.display.GraphicsEndFill"]=wl).__name__=["openfl","display","GraphicsEndFill"],wl.__interfaces__=[vl,bl],wl.prototype={__class__:wl};var xl=function(t,e,i,n,s,r,a,o){null==o&&(o=0),null==t&&(t=0),null==r&&(r=0),null==a&&(a=1),this.type=t,this.colors=e,this.alphas=i,this.ratios=n,this.matrix=s,this.spreadMethod=r,this.interpolationMethod=a,this.focalPointRatio=o,this.__graphicsDataType=Dl.GRADIENT,this.__graphicsFillType=Al.GRADIENT_FILL};(i["openfl.display.GraphicsGradientFill"]=xl).__name__=["openfl","display","GraphicsGradientFill"],xl.__interfaces__=[vl,bl],xl.prototype={__class__:xl};function Tl(){}(i["openfl.display.IGraphicsPath"]=Tl).__name__=["openfl","display","IGraphicsPath"];var Sl=function(t,e,i){null==i&&(i="evenOdd"),this.commands=t,this.data=e,this.winding=i,this.__graphicsDataType=Dl.PATH};(i["openfl.display.GraphicsPath"]=Sl).__name__=["openfl","display","GraphicsPath"],Sl.__interfaces__=[Tl,bl],Sl.prototype={curveTo:function(t,e,i,n){if(null!=this.commands&&null!=this.data){var s=this.commands;if(!s.fixed){if(s.length++,s.data.length<s.length){var r=s.data.length+10,a=new Array(r);ms.blit(s.data,0,a,0,s.data.length),s.data=a}s.data[s.length-1]=3}var o=this.data;if(!o.fixed){if(o.length++,o.data.length<o.length){var l=o.data.length+10,h=new Array(l);ms.blit(o.data,0,h,0,o.data.length),o.data=h}o.data[o.length-1]=i}var _=this.data;if(!_.fixed){if(_.length++,_.data.length<_.length){var u=_.data.length+10,c=new Array(u);ms.blit(_.data,0,c,0,_.data.length),_.data=c}_.data[_.length-1]=n}var f=this.data;if(!f.fixed){if(f.length++,f.data.length<f.length){var d=f.data.length+10,p=new Array(d);ms.blit(f.data,0,p,0,f.data.length),f.data=p}f.data[f.length-1]=t}var g=this.data;if(!g.fixed){if(g.length++,g.data.length<g.length){var m=g.data.length+10,v=new Array(m);ms.blit(g.data,0,v,0,g.data.length),g.data=v}g.data[g.length-1]=e}}},lineTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n=i.data.length+10,s=new Array(n);ms.blit(i.data,0,s,0,i.data.length),i.data=s}i.data[i.length-1]=2}var r=this.data;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);ms.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=t}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var h=l.data.length+10,_=new Array(h);ms.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}}},moveTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n=i.data.length+10,s=new Array(n);ms.blit(i.data,0,s,0,i.data.length),i.data=s}i.data[i.length-1]=1}var r=this.data;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);ms.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=t}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var h=l.data.length+10,_=new Array(h);ms.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}}},wideLineTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n=i.data.length+10,s=new Array(n);ms.blit(i.data,0,s,0,i.data.length),i.data=s}i.data[i.length-1]=2}var r=this.data;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);ms.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=t}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var h=l.data.length+10,_=new Array(h);ms.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}}},wideMoveTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n=i.data.length+10,s=new Array(n);ms.blit(i.data,0,s,0,i.data.length),i.data=s}i.data[i.length-1]=1}var r=this.data;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);ms.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=t}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var h=l.data.length+10,_=new Array(h);ms.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}}},__class__:Sl};var El=function(t,e){null==e&&(e=1),null==t&&(t=0),this.alpha=e,this.color=t,this.__graphicsDataType=Dl.SOLID,this.__graphicsFillType=Al.SOLID_FILL};(i["openfl.display.GraphicsSolidFill"]=El).__name__=["openfl","display","GraphicsSolidFill"],El.__interfaces__=[vl,bl],El.prototype={__class__:El};function Il(){}(i["openfl.display.IGraphicsStroke"]=Il).__name__=["openfl","display","IGraphicsStroke"];var Pl=function(t,e,i,n,s,r,a){null==r&&(r=3),null==e&&(e=!1),null==t&&(t=0),this.caps=null!=n?n:0,this.fill=a,this.joints=null!=s?s:2,this.miterLimit=r,this.pixelHinting=e,this.scaleMode=null!=i?i:2,this.thickness=t,this.__graphicsDataType=Dl.STROKE};(i["openfl.display.GraphicsStroke"]=Pl).__name__=["openfl","display","GraphicsStroke"],Pl.__interfaces__=[Il,bl],Pl.prototype={__class__:Pl};var Cl=function(){this.y3=0,this.y2=0,this.y1=0,this.y0=0,this.x3=0,this.x2=0,this.x1=0,this.x0=0};(i["openfl.display.TextureUvs"]=Cl).__name__=["openfl","display","TextureUvs"],Cl.prototype={reset:function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0},__class__:Cl};var Dl=i["openfl.display.GraphicsDataType"]={__ename__:!0,__constructs__:["STROKE","SOLID","GRADIENT","PATH","BITMAP","END"]};Dl.STROKE=["STROKE",0],Dl.STROKE.toString=f,(Dl.STROKE.__enum__=Dl).SOLID=["SOLID",1],Dl.SOLID.toString=f,(Dl.SOLID.__enum__=Dl).GRADIENT=["GRADIENT",2],Dl.GRADIENT.toString=f,(Dl.GRADIENT.__enum__=Dl).PATH=["PATH",3],Dl.PATH.toString=f,(Dl.PATH.__enum__=Dl).BITMAP=["BITMAP",4],Dl.BITMAP.toString=f,(Dl.BITMAP.__enum__=Dl).END=["END",5],Dl.END.toString=f,Dl.END.__enum__=Dl;var Al=i["openfl.display.GraphicsFillType"]={__ename__:!0,__constructs__:["SOLID_FILL","GRADIENT_FILL","BITMAP_FILL","END_FILL"]};Al.SOLID_FILL=["SOLID_FILL",0],Al.SOLID_FILL.toString=f,(Al.SOLID_FILL.__enum__=Al).GRADIENT_FILL=["GRADIENT_FILL",1],Al.GRADIENT_FILL.toString=f,(Al.GRADIENT_FILL.__enum__=Al).BITMAP_FILL=["BITMAP_FILL",2],Al.BITMAP_FILL.toString=f,(Al.BITMAP_FILL.__enum__=Al).END_FILL=["END_FILL",3],Al.END_FILL.toString=f,Al.END_FILL.__enum__=Al;var Rl={};(i["openfl.display._InterpolationMethod.InterpolationMethod_Impl_"]=Rl).__name__=["openfl","display","_InterpolationMethod","InterpolationMethod_Impl_"],Rl.fromString=function(t){switch(t){case"linearRGB":return 0;case"rgb":return 1;default:return null}},Rl.toString=function(t){switch(t){case 0:return"linearRGB";case 1:return"rgb";default:return null}};var Ml=function(t){null==t&&(t=80),this.quality=t};(i["openfl.display.JPEGEncoderOptions"]=Ml).__name__=["openfl","display","JPEGEncoderOptions"],Ml.prototype={__class__:Ml};var Fl={};(i["openfl.display._JointStyle.JointStyle_Impl_"]=Fl).__name__=["openfl","display","_JointStyle","JointStyle_Impl_"],Fl.fromString=function(t){switch(t){case"bevel":return 0;case"miter":return 1;case"round":return 2;default:return null}},Fl.toString=function(t){switch(t){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var Bl={};(i["openfl.display._LineScaleMode.LineScaleMode_Impl_"]=Bl).__name__=["openfl","display","_LineScaleMode","LineScaleMode_Impl_"],Bl.fromString=function(t){switch(t){case"horizontal":return 0;case"none":return 1;case"normal":return 2;case"vertical":return 3;default:return null}},Bl.toString=function(t){switch(t){case 0:return"horizontal";case 1:return"none";case 2:return"normal";case 3:return"vertical";default:return null}};var Ll=function(){K.call(this),this.contentLoaderInfo=kl.create(this)};(i["openfl.display.Loader"]=Ll).__name__=["openfl","display","Loader"],Ll.__super__=K,Ll.prototype=n(K.prototype,{close:function(){no.notImplemented("Loader.close")},load:function(i,t){var e="",n=i.url.split(".");if(0<n.length&&(e=n[n.length-1].toLowerCase()),-1!=e.indexOf("?")&&(e=e.split("?")[0]),this.contentLoaderInfo.url=i.url,null==i.contentType&&""!=i.contentType){var s;switch(e){case"gif":s="image/gif";break;case"jpeg":case"jpg":s="image/jpeg";break;case"png":s="image/png";break;case"swf":s="application/x-shockwave-flash";break;default:s="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=s}else this.contentLoaderInfo.contentType=i.contentType;var r=new fa;r.doWork.add(function(t){var e=i.url;_l.fromFile(e,function(t){r.sendComplete(t)},function(){r.sendError("ioError")})}),r.onError.add(Hu(this,this.BitmapData_onError)),r.onComplete.add(Hu(this,this.BitmapData_onLoad)),r.run()},loadBytes:function(e,t){var i=new fa;i.doWork.add(function(t){_l.fromBytes(e,null,function(t){i.sendComplete(t)})}),i.onComplete.add(Hu(this,this.BitmapData_onLoad)),i.run()},unload:function(){if(0<this.__children._length){for(;0<this.__children._length;)this.removeChildAt(0);this.content=null,this.contentLoaderInfo.url=null,this.contentLoaderInfo.contentType=null,this.contentLoaderInfo.content=null,this.contentLoaderInfo.bytesLoaded=0,this.contentLoaderInfo.bytesTotal=0,this.contentLoaderInfo.width=0,this.contentLoaderInfo.height=0;var t=new Ae("unload");(t.currentTarget=this).__dispatchEvent(t)}},unloadAndStop:function(t){null==t&&(t=!0),no.notImplemented("Loader.unloadAndStop")},BitmapData_onLoad:function(t){this.contentLoaderInfo.content=new ll(t),this.content=this.contentLoaderInfo.content,this.addChildAt(this.contentLoaderInfo.content,this.__children._length);var e=new Ae("complete");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},BitmapData_onError:function(t){var e=new Mh("ioError");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},__class__:Ll});var kl=function(){v.call(this),this.applicationDomain=F_.currentDomain,this.bytesLoaded=0,this.bytesTotal=0,this.childAllowsParent=!0,this.parameters=null==kl.__parameters?{}:kl.__parameters};(i["openfl.display.LoaderInfo"]=kl).__name__=["openfl","display","LoaderInfo"],kl.__parameters=null,kl.create=function(t){var e=new kl;return e.uncaughtErrorEvents=new Oh,null!=t?e.loader=t:e.url=kl.__rootURL,e},kl.__super__=v,kl.prototype=n(v.prototype,{__class__:kl});function Nl(){fl.call(this,"OpenGLView")}(i["openfl.display.OpenGLView"]=Nl).__name__=["openfl","display","OpenGLView"],Nl.__properties__={get_isSupported:"get_isSupported"},Nl.isSupported=null,Nl.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;if(null!=Zr.context)return!0;var t=window.document.createElement("canvas"),e=t.getContext("webgl");return null==e&&(e=t.getContext("experimental-webgl")),null!=e},Nl.__super__=fl,Nl.prototype=n(fl.prototype,{__renderCanvas:function(t){},__renderGL:function(t){if(null!=this.stage&&this.isRenderable()){var e=b_.pool.get();null==this.__scrollRect?e.setTo(0,0,this.get_width(),this.get_height()):e.setTo(this.__transform.tx+this.__scrollRect.x,this.__transform.ty+this.__scrollRect.y,this.__scrollRect.width,this.__scrollRect.height),null!=this.__render&&this.__render(e),b_.pool.put(e),t.shaderManager.setShader(null),t.blendModeManager.setBlendMode(null),t.renderer.setViewport(0,0,0|this.get_width(),0|this.get_height(),!0),Go.resetCache()}},__class__:Nl});var Ol=function(t){null==t&&(t=!1),this.fastCompression=t};(i["openfl.display.PNGEncoderOptions"]=Ol).__name__=["openfl","display","PNGEncoderOptions"],Ol.prototype={__class__:Ol};var Ul={};(i["openfl.display._PixelSnapping.PixelSnapping_Impl_"]=Ul).__name__=["openfl","display","_PixelSnapping","PixelSnapping_Impl_"],Ul.fromString=function(t){switch(t){case"always":return 0;case"auto":return 1;case"never":return 2;default:return null}},Ul.toString=function(t){switch(t){case 0:return"always";case 1:return"auto";case 2:return"never";default:return null}};var Gl=function(t){if(Sr.call(this),null!=t){this.display=t;var e=no.current;e.addChildAt(t,e.__children._length),zs.__instanceof(t,I)&&zs.__cast(t,I).onInit()}};(i["openfl.display.Preloader"]=Gl).__name__=["openfl","display","Preloader"],Gl.__super__=Sr,Gl.prototype=n(Sr.prototype,{load:function(t,e){for(var i=[],n=null,s=0,r=t.length;s<r;){var a=s++;switch(n=t[a],e[a]){case"MUSIC":case"SOUND":Ts.withoutExtension(n);this.total++,i.push(n)}}for(var o=new I_(0),l=0;l<i.length;){var h=i[l];++l;var _=h,u=Qs.getLogicalPath(_),c=Qs.getExtraSoundOptions(u),f=null;null!=c&&null!=c.preload&&(f=c.preload);var d=new T_;if(d.addEventListener("complete",Hu(this,this.sound_onComplete)),d.addEventListener("ioError",Hu(this,this.sound_onIOError)),d.load(new D_(_),null,f,!0),null!=f)for(var p=0,g=f;p<g;){p++;d.prePlayHTML5(null,null,o)}}Sr.prototype.load.call(this,t,e)},start:function(){null!=this.display&&zs.__instanceof(this.display,I)?(this.display.addEventListener("complete",Hu(this,this.display_onComplete)),zs.__cast(this.display,I).onLoaded()):Sr.prototype.start.call(this)},update:function(t,e,i){null!=this.display&&zs.__instanceof(this.display,I)&&zs.__cast(this.display,I).onUpdate(t,e,i)},display_onComplete:function(t){this.display.removeEventListener("complete",Hu(this,this.display_onComplete)),no.current.removeChild(this.display),no.current.stage.set_focus(null),this.display=null,Sr.prototype.start.call(this)},sound_onComplete:function(){this.loaded++,this.onProgress.dispatch(this.loaded,this.total,null),this.loaded==this.total&&this.start()},sound_onIOError:function(t){this.onError.dispatch(t.target.soundName),this.loaded++,this.onProgress.dispatch(this.loaded,this.total,null),this.loaded==this.total&&this.start()},__class__:Gl});var Xl=function(t){null==t&&(t=1),this.__dirty=!0,this.repeatY=33071,this.repeatX=33071,this.precision=1,this.precision=t,this.data=new pl,this.data.set(Xl.uObjectSize,new Vl("vec2")),this.data.set(Xl.uTextureSize,new Vl("vec2"))};(i["openfl.display.Shader"]=Xl).__name__=["openfl","display","Shader"],Xl.prototype={__init:function(t){var e=this.__dirty;if(e){null!=this.__shader&&this.__shader.destroy(),this.__shader=new Go(t);var i=null!=this.__vertexCode?this.__vertexCode:Vo.VERTEX_SRC.join("\n");this.__shader.vertexString=i,this.__shader.fragmentString=this.__fragmentCode,this.__dirty=!1}this.__shader.init(e)},__buildFragmentCode:function(t){var e,i=[];switch(i.push("#ifdef GL_ES"),this.precision){case 1:e="precision mediump float;";break;case 2:e="precision highp float;";break;default:e="precision lowp float;"}i.push(e),i.push("#endif"),(i=i.concat(Xl.fragmentHeader)).push(t),this.__fragmentCode=i.join("\n")},__buildVertexCode:function(t){var e,i=[];switch(i.push("#ifdef GL_ES"),this.precision){case 1:e="precision mediump float;";break;case 2:e="precision highp float;";break;default:e="precision lowp float;"}i.push(e),i.push("#endif"),(i=i.concat(Xl.vertexHeader)).push(t),this.__vertexCode=i.join("\n")},__class__:Xl};var Vl=function(t,e){this.internalType=0,this.transpose=!1,this.repeatY=33071,this.repeatX=33071,this.smooth=!0,this.arraySize=0,this.size=0,this.type=t,this.arraySize=null==e?0:e,this.__init()};(i["openfl.display.GLShaderParameter"]=Vl).__name__=["openfl","display","GLShaderParameter"],Vl.prototype={__init:function(){var t=this.type;switch(t){case"bool":this.internalType=1,this.size=1;var e,i=[0];if(e=null!=i?new tc(i):null,4==this.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");this.value=e;break;case"float":this.internalType=2,this.size=1;var n,s=[0];if(n=null!=s?new tc(s):null,4==this.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");this.value=n;break;case"int":this.internalType=1,this.size=1;var r,a=[0];if(r=null!=a?new tc(a):null,4==this.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");this.value=r;break;case"sampler2D":case"samplerCube":if(-1<t.indexOf("vec")){Ps.startsWith(this.type,"b")||Ps.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var o=L.parseInt(this.type.charAt(this.type.length-1));this.size=o;for(var l=[],h=0,_=this.size;h<_;){h++;l.push(0)}var u;if(u=null!=l?new tc(l):null,4==this.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");this.value=u}else{if(-1<t.indexOf("mat")){this.internalType=3;var c,f,d=L.parseInt(this.type.charAt(this.type.length-1));switch(this.size=d,this.size){case 2:c=[1,0,1,0];break;case 3:c=[1,0,0,0,1,0,0,0,1];break;case 4:c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:c=[0]}if(f=null!=c?new tc(c):null,4==this.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");this.value=f}else this.internalType=4,this.size=0}break;default:if(-1<t.indexOf("vec")){Ps.startsWith(this.type,"b")||Ps.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var p=L.parseInt(this.type.charAt(this.type.length-1));this.size=p;for(var g=[],m=0,v=this.size;m<v;){m++;g.push(0)}var b;if(b=null!=g?new tc(g):null,4==this.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");this.value=b}else{if(-1<t.indexOf("mat")){this.internalType=3;var y,w,x=L.parseInt(this.type.charAt(this.type.length-1));switch(this.size=x,this.size){case 2:y=[1,0,1,0];break;case 3:y=[1,0,0,0,1,0,0,0,1];break;case 4:y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:y=[0]}if(w=null!=y?new tc(y):null,4==this.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");this.value=w}else this.internalType=0,ls.trace("Can't initialize value for type "+this.type,{fileName:"Shader.hx",lineNumber:308,className:"openfl.display.GLShaderParameter",methodName:"__init"})}}},set_value:function(t){if(4==this.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return this.value=t},set_bitmap:function(t){if(4!=this.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");return this.bitmap=t},__class__:Vl,__properties__:{set_bitmap:"set_bitmap",set_value:"set_value"}};var zl={};(i["openfl.display._SpreadMethod.SpreadMethod_Impl_"]=zl).__name__=["openfl","display","_SpreadMethod","SpreadMethod_Impl_"],zl.fromString=function(t){switch(t){case"pad":return 0;case"reflect":return 1;case"repeat":return 2;default:return null}},zl.toString=function(t){switch(t){case 0:return"pad";case 1:return"reflect";case 2:return"repeat";default:return null}};var Hl=function(t,e){this.__mouseDownStates=new fs;var i=new Gt;i._items=[],i._length=i._items.length,this.__inElements=i;var n=new Gt;n._items=[],n._length=n._items.length,this.__outElements=n,this.__scaleMode=3,this.__pingPongIndex=0;var s=new Gt;s._items=[],s._length=s._items.length;var r=new Gt;r._items=[],r._length=r._items.length,this.__pingPongChildrenStack=[s,r];var a=new Gt;a._items=[],a._length=a._items.length,this.__allChildrenTempStack=a,K.call(this),this.__worldTransform=new eo,this.__branchDepth=0,this.application=t.application,this.window=t,null==e?(this.__transparent=!0,this.set_color(0)):this.set_color(e),this.set_name(null),this.__deltaTime=0,this.__displayState=2,this.__mouseX=0,this.__mouseY=0,this.__lastClickTime=0,this.stageWidth=t.get_originalWidth()*t.__scale|0,this.stageHeight=t.get_originalHeight()*t.__scale|0,(this.stage=this).align=6,this.allowsFullScreen=!0,this.allowsFullScreenInteractive=!0,this.quality=1,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0;var o=new Gt;o._items=[],o._length=o._items.length,this.__stack=o;var l=new Gt;l._items=[],l._length=l._items.length,this.__focusStack=l;var h=new Gt;h._items=[],h._length=h._items.length,this.__mouseOutStack=h;var _=new De,u=new Array(0);_.data=u,_.length=0,_.fixed=!1,this.stage3Ds=_;var c=this.stage3Ds,f=new Yl;if(!c.fixed){if(c.length++,c.data.length<c.length){var d=c.data.length+10,p=new Array(d);ms.blit(c.data,0,p,0,c.data.length),c.data=p}c.data[c.length-1]=f}if(null==no.current.stage){var g=this.stage;g.addChildAt(no.current,g.__children._length)}this.__allChildrenStack=this.__pingPongChildrenStack[this.__pingPongIndex];var m=this.__allChildrenStack;m._items[m._length++]=this.stage};(i["openfl.display.Stage"]=Hl).__name__=["openfl","display","Stage"],Hl.__interfaces__=[Ke],Hl.fireEvent=function(t,e){var i=e._length;if(0==i)t.eventPhase=2,t.target.__broadcast(t,!1);else{t.eventPhase=1;var n=e._length-1;t.target=n>=e._length?null:e._items[n],t.acquire();for(var s=0,r=i-1;s<r;){var a=s++;if((a>=e._length?null:e._items[a]).__broadcast(t,!1),t.__isCanceled)return void t.release()}if(t.eventPhase=2,t.target.__broadcast(t,!1),t.__isCanceled)return void t.release();if(t.bubbles){t.eventPhase=3;for(var o=i-2;0<=o;){if((o>=e._length?null:e._items[o]).__broadcast(t,!1),t.__isCanceled)return void t.release();--o}}t.release()}},Hl.__super__=K,Hl.prototype=n(K.prototype,{invalidate:function(){this.__invalidated=!0},onGamepadAxisMove:function(t,e,i){Y_.__onGamepadAxisMove(t,e,i)},onGamepadButtonDown:function(t,e){Y_.__onGamepadButtonDown(t,e)},onGamepadButtonUp:function(t,e){Y_.__onGamepadButtonUp(t,e)},onGamepadConnect:function(t){Y_.__onGamepadConnect(t)},onGamepadDisconnect:function(t){Y_.__onGamepadDisconnect(t)},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyDown",e,i)},onKeyUp:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyUp",e,i)},onModuleExit:function(t){null!=this.window&&this.__broadcastFromStage(Ae.__create("deactivate"),!0)},onMouseDown:function(t,e,i,n){if(null!=this.window&&this.window==t){var s;switch(n){case 1:s="middleMouseDown";break;case 2:s="rightMouseDown";break;default:s="mouseDown"}this.__onMouse(s,e*t.__scale|0,i*t.__scale|0,n)}},onMouseMove:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouse("mouseMove",e*t.__scale|0,i*t.__scale|0,0)},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,n){if(null!=this.window&&this.window==t){var s;switch(n){case 1:s="middleMouseUp";break;case 2:s="rightMouseUp";break;default:s="mouseUp"}this.__onMouse(s,e*t.__scale|0,i*t.__scale|0,n)}},onMouseWheel:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouseWheel(e*t.__scale|0,i*t.__scale|0)},onPreloadComplete:function(){},onPreloadProgress:function(t,e,i){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,n){},onTextInput:function(t,e){if(null!=this.window&&this.window==t){for(var i=this.__stack,n=0,s=i._length;n<s;){var r=n++;i._items[r]=null}i._length=0,null==this.__focus?this.__getInteractive(this.__stack):this.__focus.__getInteractive(this.__stack);var a=new Eh("textInput",!0,!1,e);if(0<this.__stack._length){for(var o=this.__stack,l=0,h=o._length-1;l<h;){var _=o._items[l];o._items[l]=o._items[h],o._items[h]=_,++l,--h}Hl.fireEvent(a,this.__stack)}else this.__broadcastFromStage(a,!0)}},onTouchMove:function(t){this.__onTouch("touchMove",t)},onTouchEnd:function(t){this.__onTouch("touchEnd",t)},onTouchStart:function(t){this.__onTouch("touchBegin",t)},onWindowActivate:function(t){if(null!=this.window&&this.window==t){var e=Ae.__create("activate");this.__broadcastFromStage(e,!0)}},onWindowClose:function(t){this.window==t&&(this.window=null)},onWindowCreate:function(t){if(null!=this.window&&this.window==t&&null!=t.renderer){var e=t.renderer.context;if(0==e[1]){var i=e[2];this.__renderer=new Uo(this.stageWidth,this.stageHeight,i)}t.__resizable&&_t.resizeStatic({width:t.__width,height:t.__height})}},onWindowDeactivate:function(t){if(null!=this.window&&this.window==t){var e=Ae.__create("deactivate");this.__broadcastFromStage(e,!0)}},onWindowEnter:function(t){null!=this.window&&this.window==t&&this.__dispatchEvent(Ae.__create("mouseEnter"))},onWindowFocusIn:function(t){if(null!=this.window&&this.window==t){var e=new Ch("focusIn",!0,!1,null,!1,0);this.__broadcastFromStage(e,!0)}},onWindowFocusOut:function(t){if(null!=this.window&&this.window==t){var e=new Ch("focusOut",!0,!1,null,!1,0);this.__broadcastFromStage(e,!0)}},onWindowFullscreen:function(t){null!=this.window&&this.window==t&&2==this.__displayState&&(this.__displayState=1)},onWindowLeave:function(t){if(null!=this.window&&this.window==t){this.__dispatchEvent(Ae.__create("mouseLeave"));for(var e=this.__mouseDownStates.keys();e.hasNext();){var i=e.next();this.__mouseDownStates.h[i]&&this.onMouseUp(t,this.__mouseX,this.__mouseY,i)}}},onWindowMinimize:function(t){},onWindowMove:function(t,e,i){},onWindowResize:function(t,e,i){if(null!=this.window&&this.window==t){2==this.__displayState||t.__fullscreen||(this.__displayState=2),e=e*t.__scale|0,i=i*t.__scale|0;var n=this.get_scaleX(),s=this.get_scaleY(),r=this.stageWidth/this.stageHeight,a=e/i;if(r==a&&2!=this.get_scaleMode())this.set_scaleX(e/this.stageWidth),this.set_scaleY(i/this.stageHeight);else switch(this.get_scaleMode()){case 0:this.set_scaleX(e/this.stageWidth),this.set_scaleY(i/this.stageHeight);break;case 1:if(r<a){var o=e/this.stageWidth;this.set_scaleX(o),this.set_scaleY(o),i=Math.ceil(this.stageHeight*o)}else{var l=i/this.stageHeight;this.set_scaleX(l),this.set_scaleY(l),e=Math.ceil(this.stageWidth*l)}break;case 2:e=this.stageWidth,i=this.stageHeight;break;case 3:if(r<a){var h=i/this.stageHeight;this.set_scaleX(h),this.set_scaleY(h),e=Math.ceil(this.stageWidth*h)}else{var _=e/this.stageWidth;this.set_scaleX(_),this.set_scaleY(_),i=Math.ceil(this.stageHeight*_)}}if(this.__update(!1,!0),null!=this.__renderer&&(ls.trace("Resizing renderer to "+e+", "+i,{fileName:"Stage.hx",lineNumber:665,className:"openfl.display.Stage",methodName:"onWindowResize"}),this.__renderer.resize(e,i),t.resizeViewport(e,i)),n!=this.get_scaleX()||s!=this.get_scaleY()){var u=Ae.__create("resize");this.__broadcastFromStage(u,!1)}}},get_scaleMode:function(){return this.__scaleMode},set_scaleMode:function(t){return t!=this.__scaleMode&&this.onWindowResize(this.window,this.window.__width,this.window.__height),this.__scaleMode=t},onWindowRestore:function(t){},__concatDepthFirstChildren:function(t,e){var i=this.__allChildrenTempStack;for(i._items[i._length++]=0,null!=e&&(e.__branchDirty=!1,e.__branchDepth=null!=e.parent?e.parent.__branchDepth+1:0,t._items[t._length++]=e);0<this.__allChildrenTempStack._length;){var n=this.__allChildrenTempStack,s=n._items[n._length-1];if(null==e.__children||0==e.__children._length||s>=e.__children._length){var r=this.__allChildrenTempStack;r._items[--r._length];if(r._items[r._length]=null,0<this.__allChildrenTempStack._length){var a=this.__allChildrenTempStack,o=this.__allChildrenTempStack,l=o._items[--o._length];o._items[o._length]=null,a._items[a._length++]=l+1}e=e.parent}else{var h=e.__children;null!=(e=s>=h._length?null:h._items[s])&&(e.__branchDirty=!1,e.__branchDepth=null!=e.parent?e.parent.__branchDepth+1:0,t._items[t._length++]=e);var _=this.__allChildrenTempStack;_._items[_._length++]=0}}},__updateAllChildrenStack:function(){if(0!=W.__worldBranchDirty){W.__worldBranchDirty=0;var t=this.__pingPongIndex;this.__pingPongIndex^=1;for(var e=this.__pingPongChildrenStack[t],i=this.__pingPongChildrenStack[this.__pingPongIndex],n=0;n<e._length;){var s=n>=e._length?null:e._items[n];if(s.__branchDirty){this.__concatDepthFirstChildren(i,s);for(var r=s.__branchDepth,a=n;++a<e._length;){if((a>=e._length?null:e._items[a]).__branchDepth<=r)break}n=a}else++n,i._items[i._length++]=s}for(var o=0,l=e._length;o<l;){var h=o++;e._items[h]=null}e._length=0,this.__allChildrenStack=i}},__enterFrame:function(t){for(var e,i=1;i<this.__allChildrenStack._length;){var n=this.__allChildrenStack;null!=(e=i>=n._length?null:n._items[i]).stage&&e.__enterFrame(t),++i}},__broadcastFromStage:function(t,e){var i;if(null==t.target&&(t.target=this),t.acquire(),null!=this.__eventMap&&this.hasEventListener(t.type)){var n;if(t.acquire(),null==this.__eventMap||null==t)t.release(),n=!1;else{var s,r=t.type;if(this.__dispatching.get(r)?(null==(s=this.__newEventMap.get(r))&&(s=this.__eventMap.get(r)),null!=s&&(s=s.slice())):null!=(s=this.__eventMap.get(r))&&this.__dispatching.set(r,!0),null!=s){var a=null;a=null==t.target?null!=this.__targetDispatcher?this.__targetDispatcher:this:t.target;for(var o,l=1==t.eventPhase,h=0;h<s.length&&(t.target=a,t.currentTarget=this,(o=s[h]).useCapture!=l||(o.callback.call(o,t),!t.__isCanceledNow));)o==s[h]&&++h;if(null!=this.__newEventMap&&this.__newEventMap.exists(r)){var _=this.__newEventMap.get(r);0<_.length?this.__eventMap.set(r,_):this.__eventMap.remove(r),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(r):(this.__eventMap=null,this.__newEventMap=null)}this.__dispatching.set(t.type,!1),t.release(),n=!0}else t.release(),n=!1}i=!!t.__isCanceled||n}else i=!1;if(!t.__isCanceled&&e)for(var u,c=1;c<this.__allChildrenStack._length;){var f=this.__allChildrenStack;if((u=c>=f._length?null:f._items[c]).stage==this&&null!=u.__eventMap&&u.hasEventListener(t.type)){if(t.acquire(),null==u.__eventMap||null==t)t.release(),!1;else{var d,p=t.type;if(u.__dispatching.get(p)?(null==(d=u.__newEventMap.get(p))&&(d=u.__eventMap.get(p)),null!=d&&(d=d.slice())):null!=(d=u.__eventMap.get(p))&&u.__dispatching.set(p,!0),null!=d){var g=null;g=null==t.target?null!=u.__targetDispatcher?u.__targetDispatcher:u:t.target;for(var m,v=1==t.eventPhase,b=0;b<d.length&&(t.target=g,t.currentTarget=u,(m=d[b]).useCapture!=v||(m.callback.call(m,t),!t.__isCanceledNow));)m==d[b]&&++b;if(null!=u.__newEventMap&&u.__newEventMap.exists(p)){var y=u.__newEventMap.get(p);0<y.length?u.__eventMap.set(p,y):u.__eventMap.remove(p),u.__eventMap.iterator().hasNext()?u.__newEventMap.remove(p):(u.__eventMap=null,u.__newEventMap=null)}u.__dispatching.set(t.type,!1),t.release(),!0}else t.release(),!1}t.__isCanceled}if(t.__isCanceled)return t.release(),!0;++c}return t.release(),i},render:function(t){null!=t.window&&t.window==this.window&&(null!=this.application&&0<this.application.windows.length&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__rendering||(this.__rendering=!0,this.__broadcastFromStage(Ae.__create("enterFrame"),!0),this.__invalidated&&(this.__invalidated=!1,this.__broadcastFromStage(Ae.__create("render"),!0)),this.__updateAllChildrenStack(),this.__enterFrame(this.__deltaTime),this.__updateAllChildrenStack(),this.__deltaTime=0,this.__updateDirtyElements(!1,!0),null!=this.__renderer&&this.__renderer.render(this),this.__rendering=!1))},update:function(t){this.__deltaTime=t,Hl.__calledOnMouseThisFrame||this.__onMouse(null,this.__mouseX,this.__mouseY,0),Hl.__calledOnMouseThisFrame=!1,this.__updateAllChildrenStack()},__drag:function(t){var e=this.__dragObject.parent;null!=e&&(t=e.globalToLocal(t));var i=t.x+this.__dragOffsetX,n=t.y+this.__dragOffsetY;null!=this.__dragBounds&&(i<this.__dragBounds.x?i=this.__dragBounds.x:i>this.__dragBounds.get_right()&&(i=this.__dragBounds.get_right()),n<this.__dragBounds.y?n=this.__dragBounds.y:n>this.__dragBounds.get_bottom()&&(n=this.__dragBounds.get_bottom())),this.__dragObject.set_x(i),this.__dragObject.set_y(n)},__getInteractive:function(t){return null!=t&&(t._items[t._length++]=this),!0},__onKey:function(t,e,i){Bh.__altKey=ka.get_altKey(i),Bh.__commandKey=ka.get_metaKey(i),Bh.__ctrlKey=ka.get_ctrlKey(i),Bh.__shiftKey=ka.get_shiftKey(i);for(var n=this.__stack,s=0,r=n._length;s<r;){var a=s++;n._items[a]=null}if(n._length=0,null==this.__focus?this.__getInteractive(this.__stack):this.__focus.__getInteractive(this.__stack),0<this.__stack._length){var o,l;switch(e){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 108:case 110:case 111:case 1073741910:case 1073741911:case 1073741923:o=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:o=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:o=2;break;default:o=0}switch(e){case 8:l=8;break;case 9:l=9;break;case 13:l=13;break;case 27:l=27;break;case 32:l=32;break;case 33:l=49;break;case 34:l=222;break;case 35:l=51;break;case 36:l=52;break;case 37:l=53;break;case 38:l=55;break;case 39:l=222;break;case 40:l=57;break;case 41:l=48;break;case 42:l=56;break;case 44:l=188;break;case 45:l=189;break;case 46:l=190;break;case 47:l=191;break;case 48:l=48;break;case 49:l=49;break;case 50:l=50;break;case 51:l=51;break;case 52:l=52;break;case 53:l=53;break;case 54:l=54;break;case 55:l=55;break;case 56:l=56;break;case 57:l=57;break;case 58:case 59:l=186;break;case 60:l=60;break;case 61:l=187;break;case 62:l=190;break;case 63:l=191;break;case 64:l=50;break;case 91:l=219;break;case 92:l=220;break;case 93:l=221;break;case 94:l=54;break;case 95:l=189;break;case 96:l=192;break;case 97:l=65;break;case 98:l=66;break;case 99:l=67;break;case 100:l=68;break;case 101:l=69;break;case 102:l=70;break;case 103:l=71;break;case 104:l=72;break;case 105:l=73;break;case 106:l=74;break;case 107:l=75;break;case 108:l=76;break;case 109:l=77;break;case 110:l=78;break;case 111:l=79;break;case 112:l=80;break;case 113:l=81;break;case 114:l=82;break;case 115:l=83;break;case 116:l=84;break;case 117:l=85;break;case 118:l=86;break;case 119:l=87;break;case 120:l=88;break;case 121:l=89;break;case 122:l=90;break;case 127:l=46;break;case 1073741881:l=20;break;case 1073741882:l=112;break;case 1073741883:l=113;break;case 1073741884:l=114;break;case 1073741885:l=115;break;case 1073741886:l=116;break;case 1073741887:l=117;break;case 1073741888:l=118;break;case 1073741889:l=119;break;case 1073741890:l=120;break;case 1073741891:l=121;break;case 1073741892:l=122;break;case 1073741893:l=123;break;case 1073741894:l=301;break;case 1073741895:l=145;break;case 1073741896:l=19;break;case 1073741897:l=45;break;case 1073741898:l=36;break;case 1073741899:l=33;break;case 1073741901:l=35;break;case 1073741902:l=34;break;case 1073741903:l=39;break;case 1073741904:l=37;break;case 1073741905:l=40;break;case 1073741906:l=38;break;case 1073741907:l=144;break;case 1073741908:l=111;break;case 1073741909:l=106;break;case 1073741910:l=109;break;case 1073741911:l=107;break;case 1073741912:l=108;break;case 1073741913:l=97;break;case 1073741914:l=98;break;case 1073741915:l=99;break;case 1073741916:l=100;break;case 1073741917:l=101;break;case 1073741918:l=102;break;case 1073741919:l=103;break;case 1073741920:l=104;break;case 1073741921:l=105;break;case 1073741922:l=96;break;case 1073741923:l=110;break;case 1073741925:l=302;break;case 1073741928:l=124;break;case 1073741929:l=125;break;case 1073741930:l=126;break;case 1073741982:l=13;break;case 1073742044:l=110;break;case 1073742048:l=17;break;case 1073742049:l=16;break;case 1073742050:l=18;break;case 1073742051:l=15;break;case 1073742052:l=17;break;case 1073742053:l=16;break;case 1073742054:l=18;break;case 1073742055:l=15;break;default:l=e}for(var h=j_.__getCharCode(l,ka.get_shiftKey(i)),_=new Fh(t,!0,!1,h,l,o,this.__macKeyboard?ka.get_ctrlKey(i)||ka.get_metaKey(i):ka.get_ctrlKey(i),ka.get_altKey(i),ka.get_shiftKey(i),ka.get_ctrlKey(i),ka.get_metaKey(i)),u=this.__stack,c=0,f=u._length-1;c<f;){var d=u._items[c];u._items[c]=u._items[f],u._items[f]=d,++c,--f}Hl.fireEvent(_,this.__stack),_.__isCanceled&&("keyDown"==t?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onMouse:function(t,e,i,n){var s=this;if(!(2<n)){Hl.__calledOnMouseThisFrame=!0,this.__mouseX=e,this.__mouseY=i;var r=e/this.get_scaleX(),a=i/this.get_scaleY(),o=null,l=io.pool.get(),h=io.pool.get();l.setTo(this.get_mouseX(),this.get_mouseY());for(var _=this.__stack,u=0,c=_._length;u<c;){var f=u++;_._items[f]=null}if(_._length=0,this.__hitTest(e,i,!0,this.__stack,!0,this)){var d=this.__stack,p=this.__stack._length-1;o=p>=d._length?null:d._items[p]}else{for(var g=(o=this).__stack,m=0,v=g._length;m<v;){var b=m++;g._items[b]=null}g._length=0;var y=this.__stack;y._items[y._length++]=this}if(null==o&&(o=this),h.copyFrom(l),null!=o.stage){var w=o.stage.__getWorldTransform(),x=h.x,T=h.y;h.x=x*w.a+T*w.c+w.tx,h.y=x*w.b+T*w.d+w.ty}var S=o.__getWorldTransform(),E=S.a*S.d-S.b*S.c;if(0==E)h.x=-S.tx,h.y=-S.ty;else{var I=1/E*(S.c*(S.ty-h.y)+S.d*(h.x-S.tx));h.y=1/E*(S.a*(h.y-S.ty)+S.b*(S.tx-h.x)),h.x=I}var P=null;switch(t){case"middleMouseDown":this.__mouseDownStates.set(n,!0),this.__mouseDownMiddle=o;break;case"middleMouseUp":this.__mouseDownStates.set(n,!1),this.__mouseDownMiddle==o&&(P="middleClick"),this.__mouseDownMiddle=null;break;case"mouseDown":o.get_tabEnabled()?this.set_focus(o):this.set_focus(null),this.__mouseDownStates.set(n,!0),this.__mouseDownLeft=o;break;case"mouseUp":this.__mouseDownStates.set(n,!1),this.__mouseDownLeft==o&&(P="click"),this.__mouseDownLeft=null;break;case"rightMouseDown":this.__mouseDownStates.set(n,!0),this.__mouseDownRight=o;break;case"rightMouseUp":this.__mouseDownStates.set(n,!1),this.__mouseDownRight==o&&(P="rightClick"),this.__mouseDownRight=null}if(Hl.fireEvent(Bh.__create(t,r,a,o==this?l:h,o,this),this.__stack),null!=P&&(Hl.fireEvent(Bh.__create(P,r,a,o==this?l:h,o,this),this.__stack),"mouseUp"==t&&zs.__cast(o,we).doubleClickEnabled)){var C=Date.now();C-this.__lastClickTime<500?(Hl.fireEvent(Bh.__create("doubleClick",r,a,o==this?l:h,o,this),this.__stack),this.__lastClickTime=0):this.__lastClickTime=C}for(var D,A,R=null,M=0,F=this.__stack._length;M<F;){var B=M++,L=this.__stack;if(null!=(R=(B>=L._length?null:L._items[B]).__getCursor())){Na.set_cursor(R);break}}if(null==R&&Na.set_cursor(Oa.ARROW),0<this.__stack._length)if(0!=this.__mouseOutStack._length)if(0<this.__mouseOutStack._length){var k=this.__mouseOutStack,N=this.__mouseOutStack._length-1,O=this.__stack,U=this.__stack._length-1;A=(N>=k._length?null:k._items[N])!=(U>=O._length?null:O._items[U])}else A=!1;else A=!0;else A=!1;if(A){for(var G=this.__outElements,X=0,V=G._length;X<V;){var z=X++;G._items[z]=null}G._length=0;for(var H=this.__inElements,Y=0,W=H._length;Y<W;){var K=Y++;H._items[K]=null}if((H._length=0)==s.__mouseOutStack._length){var j=s.__inElements,q=s.__stack,J=j._length;j._length=q._length;for(var Z=0,Q=j._length;Z<Q;){var $=Z++,tt=$;j._items[$]=tt>=q._length?null:q._items[tt]}for(var et=j._length,it=J;et<it;){var nt=et++;j._items[nt]=null}}for(var st=0,rt=0|Math.max(s.__stack._length,s.__mouseOutStack._length);st<rt;){var at=st++,ot=s.__stack,lt=s.__mouseOutStack;if((at>=ot._length?null:ot._items[at])!=(at>=lt._length?null:lt._items[at])){var ht=s.__outElements,_t=s.__mouseOutStack,ut=ht._length;ht._length=_t._length-at;for(var ct=0,ft=ht._length;ct<ft;){var dt=ct++,pt=at+dt;ht._items[dt]=pt>=_t._length?null:_t._items[pt]}for(var gt=ht._length,mt=ut;gt<mt;){var vt=gt++;ht._items[vt]=null}var bt=s.__inElements,yt=s.__stack,wt=bt._length;bt._length=yt._length-at;for(var xt=0,Tt=bt._length;xt<Tt;){var St=xt++,Et=at+St;bt._items[St]=Et>=yt._length?null:yt._items[Et]}for(var It=bt._length,Pt=wt;It<Pt;){var Ct=It++;bt._items[Ct]=null}break}}if(0<this.__mouseOutStack._length){var Dt=this.__mouseOutStack,At=this.__mouseOutStack._length-1,Rt=At>=Dt._length?null:Dt._items[At];if(h.copyFrom(l),null!=Rt.stage){var Mt=Rt.stage.__getWorldTransform(),Ft=h.x,Bt=h.y;h.x=Ft*Mt.a+Bt*Mt.c+Mt.tx,h.y=Ft*Mt.b+Bt*Mt.d+Mt.ty}var Lt=Rt.__getWorldTransform(),kt=Lt.a*Lt.d-Lt.b*Lt.c;if(0==kt)h.x=-Lt.tx,h.y=-Lt.ty;else{var Nt=1/kt*(Lt.c*(Lt.ty-h.y)+Lt.d*(h.x-Lt.tx));h.y=1/kt*(Lt.a*(h.y-Lt.ty)+Lt.b*(Lt.tx-h.x)),h.x=Nt}(D=Bh.__create("mouseOut",r,a,h,Rt,s)).bubbles=!0,Rt.__dispatchEvent(D)}for(var Ot=this.__outElements._length-1;0<=Ot;){var Ut=this.__outElements,Gt=Ot>=Ut._length?null:Ut._items[Ot];if(Gt.hasEventListener("rollOut")){if(h.copyFrom(l),null!=Gt.stage){var Xt=Gt.stage.__getWorldTransform(),Vt=h.x,zt=h.y;h.x=Vt*Xt.a+zt*Xt.c+Xt.tx,h.y=Vt*Xt.b+zt*Xt.d+Xt.ty}var Ht=Gt.__getWorldTransform(),Yt=Ht.a*Ht.d-Ht.b*Ht.c;if(0==Yt)h.x=-Ht.tx,h.y=-Ht.ty;else{var Wt=1/Yt*(Ht.c*(Ht.ty-h.y)+Ht.d*(h.x-Ht.tx));h.y=1/Yt*(Ht.a*(h.y-Ht.ty)+Ht.b*(Ht.tx-h.x)),h.x=Wt}(D=Bh.__create("rollOut",r,a,h,Gt,s)).bubbles=!1,Gt.__dispatchEvent(D)}--Ot}for(var Kt=0,jt=this.__inElements;Kt<jt._length;){var qt=Kt>=jt._length?null:jt._items[Kt];if(++Kt,qt.hasEventListener("rollOver")){if(h.copyFrom(l),null!=qt.stage){var Jt=qt.stage.__getWorldTransform(),Zt=h.x,Qt=h.y;h.x=Zt*Jt.a+Qt*Jt.c+Jt.tx,h.y=Zt*Jt.b+Qt*Jt.d+Jt.ty}var $t=qt.__getWorldTransform(),te=$t.a*$t.d-$t.b*$t.c;if(0==te)h.x=-$t.tx,h.y=-$t.ty;else{var ee=1/te*($t.c*($t.ty-h.y)+$t.d*(h.x-$t.tx));h.y=1/te*($t.a*(h.y-$t.ty)+$t.b*($t.tx-h.x)),h.x=ee}(D=Bh.__create("rollOver",r,a,h,qt,s)).bubbles=!1,qt.__dispatchEvent(D)}}var ie=this.__stack,ne=this.__stack._length-1,se=ne>=ie._length?null:ie._items[ne];if(h.copyFrom(l),null!=se.stage){var re=se.stage.__getWorldTransform(),ae=h.x,oe=h.y;h.x=ae*re.a+oe*re.c+re.tx,h.y=ae*re.b+oe*re.d+re.ty}var le=se.__getWorldTransform(),he=le.a*le.d-le.b*le.c;if(0==he)h.x=-le.tx,h.y=-le.ty;else{var _e=1/he*(le.c*(le.ty-h.y)+le.d*(h.x-le.tx));h.y=1/he*(le.a*(h.y-le.ty)+le.b*(le.tx-h.x)),h.x=_e}(D=Bh.__create("mouseOver",r,a,h,se,s)).bubbles=!0,se.__dispatchEvent(D)}null!=this.__dragObject&&this.__drag(l);var ue=this.__mouseOutStack,ce=this.__stack,fe=ue._length;ue._length=ce._length;for(var de=0,pe=ue._length;de<pe;){var ge=de++,me=ge;ue._items[ge]=me>=ce._length?null:ce._items[me]}for(var ve=ue._length,be=fe;ve<be;){var ye=ve++;ue._items[ye]=null}io.pool.put(l),io.pool.put(h)}},__onMouseWheel:function(t,e){for(var i=this.__mouseX,n=this.__mouseY,s=this.__stack,r=0,a=s._length;r<a;){var o=r++;s._items[o]=null}if(s._length=0,!this.__hitTest(i,n,!1,this.__stack,!0,this)){for(var l=this.__stack,h=0,_=l._length;h<_;){var u=h++;l._items[u]=null}l._length=0;var c=this.__stack;c._items[c._length++]=this}var f=this.__stack,d=this.__stack._length-1,p=d>=f._length?null:f._items[d],g=io.pool.get();g.setTo(i,n);var m=0|e;Hl.fireEvent(Bh.__create("mouseWheel",this.__mouseX,this.__mouseY,p==this?g:p.globalToLocal(g),p,this,m),this.__stack),io.pool.put(g)},__onTouch:function(t,e){this.__mouseX=e.x*this.stageWidth,this.__mouseY=e.y*this.stageHeight;var i=this.__mouseX/this.get_scaleX(),n=this.__mouseY/this.get_scaleY(),s=null,r=io.pool.get(),a=io.pool.get();r.setTo(this.get_mouseX(),this.get_mouseY());for(var o=this.__stack,l=0,h=o._length;l<h;){var _=l++;o._items[_]=null}if(o._length=0,this.__hitTest(this.__mouseX,this.__mouseY,!0,this.__stack,!0,this)){var u=this.__stack,c=this.__stack._length-1;s=c>=u._length?null:u._items[c]}else{for(var f=(s=this).__stack,d=0,p=f._length;d<p;){var g=d++;f._items[g]=null}f._length=0;var m=this.__stack;m._items[m._length++]=this}if(null==s&&(s=this),a.copyFrom(r),null!=s.stage){var v=s.stage.__getWorldTransform(),b=a.x,y=a.y;a.x=b*v.a+y*v.c+v.tx,a.y=b*v.b+y*v.d+v.ty}var w=s.__getWorldTransform(),x=w.a*w.d-w.b*w.c;if(0==x)a.x=-w.tx,a.y=-w.ty;else{var T=1/x*(w.c*(w.ty-a.y)+w.d*(a.x-w.tx));a.y=1/x*(w.a*(a.y-w.ty)+w.b*(w.tx-a.x)),a.x=T}Hl.fireEvent(Nh.__create(t,null,i,n,s==this?r:a,s),this.__stack),io.pool.put(r),io.pool.put(a)},__hitTest:function(t,e,i,n,s,r){var a=K.prototype.__hitTest.call(this,t,e,i,n,s,r);if(!a){var o=b_.pool.get();o.x=this.__transform.tx,o.y=this.__transform.ty,o.width=this.get_scaleX()*this.stageWidth,o.height=this.get_scaleY()*this.stageHeight,a=o.contains(t,e),b_.pool.put(o),a&&null!=n&&(n._items[n._length++]=this)}return a},__resize:function(){},__startDrag:function(t,e,i){if(this.__dragBounds=null==i?null:i.clone(),this.__dragObject=t,null!=this.__dragObject)if(e)this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/2;else{var n=io.pool.get();n.setTo(this.get_mouseX(),this.get_mouseY());var s=this.__dragObject.parent;null!=s&&(n=s.globalToLocal(n)),this.__dragOffsetX=this.__dragObject.__transform.tx-n.x,this.__dragOffsetY=this.__dragObject.__transform.ty-n.y,io.pool.put(n)}},__stopDrag:function(t){this.__dragBounds=null,this.__dragObject=null},__updateDirtyElements:function(t,e){if(0<W.__worldTransformDirty&&(t||this.__dirty||0<W.__worldRenderDirty)){this.__updateTransforms(),e&&this.__transformDirty&&(this.__transformDirty=!1,W.__worldTransformDirty--),t||(this.__updateColor(),null!=this.parent&&(null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)),this.__renderDirty=this.__renderDirty&&!e,this.__updateDirty=!1);for(var i=0;i<this.__allChildrenStack._length;){var n=this.__allChildrenStack,s=i>=n._length?null:n._items[i];s.__updateDirty&&s.__update(t,e),++i}e&&(W.__worldTransformDirty=0,t||(W.__worldRenderDirty=0),this.__dirty=t)}},canvas_onContextLost:function(t){},canvas_onContextRestored:function(t){},get_color:function(){return this.__color},set_color:function(t){var e=(16711680&t)>>>16,i=(65280&t)>>>8,n=255&t;return this.__colorSplit=[e/255,i/255,n/255],this.__colorString="#"+Ps.hex(t,6),this.__color=t},get_displayState:function(){return this.__displayState},set_displayState:function(t){return null!=this.window&&(2==t?this.window.__fullscreen&&(this.window.set_fullscreen(!1),this.dispatchEvent(new Dh("fullScreen",!1,!1,!1,!0))):this.window.__fullscreen||(this.window.set_fullscreen(!0),this.dispatchEvent(new Dh("fullScreen",!1,!1,!0,!0)))),this.__displayState=t},get_focus:function(){return this.__focus},set_focus:function(t){if(t!=this.__focus){var e=this.__focus;if(this.__focus=t,null!=e){for(var i=new Ch("focusOut",!0,!1,this.__focus,!1,0),n=this.__focusStack,s=0,r=n._length;s<r;){var a=s++;n._items[a]=null}n._length=0,e.__getInteractive(this.__focusStack);for(var o=this.__focusStack,l=0,h=o._length-1;l<h;){var _=o._items[l];o._items[l]=o._items[h],o._items[h]=_,++l,--h}Hl.fireEvent(i,this.__focusStack)}if(null!=this.__focus){for(var u=new Ch("focusIn",!0,!1,e,!1,0),c=this.__focusStack,f=0,d=c._length;f<d;){var p=f++;c._items[p]=null}c._length=0,t.__getInteractive(this.__focusStack);for(var g=this.__focusStack,m=0,v=g._length-1;m<v;){var b=g._items[m];g._items[m]=g._items[v],g._items[v]=b,++m,--v}Hl.fireEvent(u,this.__focusStack)}}return this.__focus},get_frameRate:function(){return null!=this.application?this.application.backend.getFrameRate():0},set_frameRate:function(t){return this.frameTime=1e3/t|0,null!=this.application?this.application.backend.setFrameRate(t):t},get_fullScreenWidth:function(){return this.window.backend.getScreenWidth()},get_fullScreenHeight:function(){return this.window.backend.getScreenHeight()},__class__:Hl,__properties__:n(K.prototype.__properties__,{get_fullScreenHeight:"get_fullScreenHeight",get_fullScreenWidth:"get_fullScreenWidth",set_scaleMode:"set_scaleMode",get_scaleMode:"get_scaleMode",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",set_color:"set_color",get_color:"get_color"})});var Yl=function(){v.call(this)};(i["openfl.display.Stage3D"]=Yl).__name__=["openfl","display","Stage3D"],Yl.__super__=v,Yl.prototype=n(v.prototype,{requestContext3D:function(t){null==t&&(t="");var e=this;Nl.get_isSupported()?hs.delay(function(){e.context3D=new $l,e.dispatchEvent(new Ae("context3DCreate"))},1):hs.delay(function(){e.dispatchEvent(new Ih("error"))},1)},__class__:Yl});var Wl={};(i["openfl.display._StageAlign.StageAlign_Impl_"]=Wl).__name__=["openfl","display","_StageAlign","StageAlign_Impl_"],Wl.fromString=function(t){switch(t){case"bottom":return 0;case"bottomLeft":return 1;case"bottomRight":return 2;case"left":return 3;case"right":return 4;case"top":return 5;case"topLeft":return 6;case"topRight":return 7;default:return null}},Wl.toString=function(t){switch(t){case 0:return"bottom";case 1:return"bottomLeft";case 2:return"bottomRight";case 3:return"left";case 4:return"right";case 5:return"top";case 6:return"topLeft";case 7:return"topRight";default:return null}};var Kl={};(i["openfl.display._StageDisplayState.StageDisplayState_Impl_"]=Kl).__name__=["openfl","display","_StageDisplayState","StageDisplayState_Impl_"],Kl.fromString=function(t){switch(t){case"fullScreen":return 0;case"fullScreenInteractive":return 1;case"normal":return 2;default:return null}},Kl.toString=function(t){switch(t){case 0:return"fullScreen";case 1:return"fullScreenInteractive";case 2:return"normal";default:return null}};var jl={};(i["openfl.display._StageQuality.StageQuality_Impl_"]=jl).__name__=["openfl","display","_StageQuality","StageQuality_Impl_"],jl.fromString=function(t){switch(t){case"best":return 0;case"high":return 1;case"low":return 2;case"medium":return 3;default:return null}},jl.toString=function(t){switch(t){case 0:return"best";case 1:return"high";case 2:return"low";case 3:return"medium";default:return null}};var ql={};(i["openfl.display._StageScaleMode.StageScaleMode_Impl_"]=ql).__name__=["openfl","display","_StageScaleMode","StageScaleMode_Impl_"],ql.fromString=function(t){switch(t){case"exactFit":return 0;case"noBorder":return 1;case"noScale":return 2;case"showAll":return 3;default:return null}},ql.toString=function(t){switch(t){case 0:return"exactFit";case 1:return"noBorder";case 2:return"noScale";case 3:return"showAll";default:return null}};var Jl={};(i["openfl.display._TriangleCulling.TriangleCulling_Impl_"]=Jl).__name__=["openfl","display","_TriangleCulling","TriangleCulling_Impl_"],Jl.fromString=function(t){switch(t){case"negative":return 0;case"none":return 1;case"positive":return 2;default:return null}},Jl.toString=function(t){switch(t){case 0:return"negative";case 1:return"none";case 2:return"positive";default:return null}};var Zl=function(t){Ga.call(this,t)};(i["openfl.display.Window"]=Zl).__name__=["openfl","display","Window"],Zl.__super__=Ga,Zl.prototype=n(Ga.prototype,{create:function(t){Ga.prototype.create.call(this,t),this.stage=new Hl(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215),t.addModule(this.stage)},__class__:Zl});function Ql(){}(i["openfl.display.api.ISpritesheet"]=Ql).__name__=["openfl","display","api","ISpritesheet"],Ql.prototype={__class__:Ql};var $l=function(){this.disposed=!1;this.stencilCompareMode=519,this.stencilRef=0,this.stencilReadMask=255,this._yFlip=1,this.vertexBuffersCreated=[],this.indexBuffersCreated=[],this.programsCreated=[],this.texturesCreated=[],this.samplerParameters=[];for(var t=0,e=$l.MAX_SAMPLERS;t<e;){var i=t++;this.samplerParameters[i]=new th,this.samplerParameters[i].wrap=_h.CLAMP,this.samplerParameters[i].filter=ah.LINEAR,this.samplerParameters[i].mipfilter=sh.MIPNONE}var n=no.current.stage;this.ogl=new Nl,this.resize(),n.addChildAt(this.ogl,0),Zr.context.pixelStorei(37440,1),Zr.context.pixelStorei(37441,1),n.addEventListener("resize",Hu(this,this.resize))};(i["openfl.display3D.Context3D"]=$l).__name__=["openfl","display3D","Context3D"],$l.prototype={clear:function(t,e,i,n,s,r,a){null==a&&(a=17664),null==r&&(r=0),null==s&&(s=1),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.drawing||(this.__updateBlendStatus(),this.drawing=!0),null!=this.scissorRectangle&&Zr.context.disable(3089),Zr.context.clearColor(t,e,i,n),Zr.context.clearDepth(s),Zr.context.clearStencil(r),Zr.context.clear(a),null!=this.scissorRectangle&&Zr.context.enable(3089)},configureBackBuffer:function(t,e,i,n){null==n&&(n=!0),this.backBufferDepthAndStencil=n,this.updateDepthAndStencilState(),this.setBackBufferViewPort(null,null,t,e),this.updateScissorRectangle()},setBackBufferViewPort:function(t,e,i,n){null==t&&(t=0|this.scrollRect.x),null==e&&(e=0|this.scrollRect.y),null==i&&(i=0|this.scrollRect.width),null==n&&(n=0|this.scrollRect.height),this.scrollRect.x=t,this.scrollRect.y=e,this.scrollRect.width=i,this.scrollRect.height=n,this.ogl.set_width(t+i),this.ogl.set_height(e+n),this.updateBackBufferViewPort()},resize:function(t){var e=no.current.stage,i=e.__renderer,n=null!=i?i.width:e.stageWidth*e.get_scaleX(),s=null!=i?i.height:e.stageHeight*e.get_scaleY();this.ogl.set_scrollRect(new b_(0,0,n,s)),this.scrollRect=this.ogl.get_scrollRect(),this.ogl.set_width(n),this.ogl.set_height(s)},updateBackBufferViewPort:function(){this.renderToTexture||Zr.context.viewport(0|this.scrollRect.x,0|this.scrollRect.y,0|this.scrollRect.width,0|this.scrollRect.height)},updateDepthAndStencilState:function(){(this.renderToTexture?this.rttDepthAndStencil:this.backBufferDepthAndStencil)?(sr.current.windows[0].config.depthBuffer&&Zr.context.enable(2929),sr.current.windows[0].config.stencilBuffer&&Zr.context.enable(2960)):(Zr.context.disable(2929),Zr.context.disable(2960))},createCubeTexture:function(t,e,i,n){null==n&&(n=0);var s=new ph(this,Zr.context.createTexture(),t);return this.texturesCreated.push(s),s},createIndexBuffer:function(t,e){null==e&&(e=eh.STATIC_DRAW);var i=new uh(this,Zr.context.createBuffer(),t,e==eh.STATIC_DRAW?35044:35048);return this.indexBuffersCreated.push(i),i},createProgram:function(){var t=new ch(this,Zr.context.createProgram());return this.programsCreated.push(t),t},createRectangleTexture:function(t,e,i,n){var s=new gh(this,Zr.context.createTexture(),n,t,e);return this.texturesCreated.push(s),s},createTexture:function(t,e,i,n,s){null==s&&(s=0);var r=new mh(this,Zr.context.createTexture(),n,t,e);return this.texturesCreated.push(r),r},createVertexBuffer:function(t,e,i){null==i&&(i=eh.STATIC_DRAW);var n=new fh(this,Zr.context.createBuffer(),t,e,i==eh.STATIC_DRAW?35044:35048);return this.vertexBuffersCreated.push(n),n},__deleteTexture:function(t){if(null!=t.glTexture){B.remove(this.texturesCreated,t);var e=t.glTexture;Zr.textureStateCache.remove(e),Zr.context.deleteTexture(e),t.glTexture=null}},__deleteVertexBuffer:function(t){null!=t.glBuffer&&(B.remove(this.vertexBuffersCreated,t),Zr.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteIndexBuffer:function(t){null!=t.glBuffer&&(B.remove(this.indexBuffersCreated,t),Zr.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteProgram:function(t){null!=t.glProgram&&(B.remove(this.programsCreated,t),Zr.context.deleteProgram(t.glProgram),t.glProgram=null)},dispose:function(){for(var t=0,e=this.vertexBuffersCreated;t<e.length;){var i=e[t];++t,i.dispose()}this.vertexBuffersCreated=null;for(var n=0,s=this.indexBuffersCreated;n<s.length;){var r=s[n];++n,r.dispose()}this.indexBuffersCreated=null;for(var a=0,o=this.programsCreated;a<o.length;){var l=o[a];++a,l.dispose()}this.programsCreated=null,this.samplerParameters=null;for(var h=0,_=this.texturesCreated;h<_.length;){var u=_[h];++h,u.dispose()}(this.texturesCreated=null)!=this.framebuffer&&(Zr.context.deleteFramebuffer(this.framebuffer),this.framebuffer=null),null!=this.renderbuffer&&(Zr.context.deleteRenderbuffer(this.renderbuffer),this.renderbuffer=null),this.disposed=!0},drawToBitmapData:function(t){},drawTriangles:function(t,e,i){null==i&&(i=-1),null==e&&(e=0);var n,s=Zr.context.getUniformLocation(this.currentProgram.glProgram,"yflip");if(Zr.context.uniform1f(s,this._yFlip),!this.drawing)throw new Vs(new vh("Need to clear before drawing if the buffer has not been cleared since the last present() call."));n=-1==i?t.numIndices:3*i;var r=2*e;Zr.context.bindBuffer(34963,t.glBuffer),Zr.context.drawElements(4,n,5123,r)},present:function(){this.drawing=!1;var t=null;t!=Zr.currentProgram&&(Zr.context.useProgram(t),t=Zr.currentProgram),Zr.context.bindBuffer(34962,null),Zr.context.disable(2884),null!=this.framebuffer&&Zr.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&Zr.context.bindRenderbuffer(36161,null)},removeRenderMethod:function(t){this.ogl.set_render(null)},setBlendFactors:function(t,e){this.blendEnabled=!0,this.blendSourceFactor=t,this.blendDestinationFactor=e,this.__updateBlendStatus()},setColorMask:function(t,e,i,n){Zr.context.colorMask(t,e,i,n)},setCulling:function(t){if(0==t)Zr.context.disable(2884);else switch(Zr.context.enable(2884),t){case 1028:Zr.context.cullFace(1028);break;case 1029:Zr.context.cullFace(1029);break;case 1032:Zr.context.cullFace(1032);break;default:throw new Vs("Unknown Context3DTriangleFace type.")}switch(t){case 0:case 1028:this._yFlip=1;break;case 1029:this._yFlip=-1;break;case 1032:this._yFlip=1;break;default:throw new Vs("Unknown culling mode "+t+".")}},setDepthTest:function(t,e){Zr.context.depthFunc(e),Zr.context.depthMask(t)},setGLSLProgramConstantsFromByteArray:function(t,e,i){null==i&&(i=0);var n=Zr.context.getUniformLocation(this.currentProgram.glProgram,t);e.position=i;var s=e.readFloat(),r=e.readFloat(),a=e.readFloat(),o=e.readFloat();Zr.context.uniform4f(n,s,r,a,o)},setGLSLProgramConstantsFromMatrix:function(t,e,i){null==i&&(i=!1);for(var n=Zr.context.getUniformLocation(this.currentProgram.glProgram,t),s=e.rawData,r=[],a=0,o=s.data.length;a<o;){var l=a++;r.push(s.data[l])}var h;h=null!=r?new tc(r):null,Zr.context.uniformMatrix4fv(n,!i,h)},setGLSLProgramConstantsFromVector4:function(t,e,i){null==i&&(i=0);var n=Zr.context.getUniformLocation(this.currentProgram.glProgram,t);Zr.context.uniform4f(n,e[i],e[i+1],e[i+2],e[i+3])},setGLSLTextureAt:function(t,e,i){switch(i){case 0:33984!=Zr.currentActiveTexture&&(Zr.context.activeTexture(33984),Zr.currentActiveTexture=33984);break;case 1:33985!=Zr.currentActiveTexture&&(Zr.context.activeTexture(33985),Zr.currentActiveTexture=33985);break;case 2:33986!=Zr.currentActiveTexture&&(Zr.context.activeTexture(33986),Zr.currentActiveTexture=33986);break;case 3:33987!=Zr.currentActiveTexture&&(Zr.context.activeTexture(33987),Zr.currentActiveTexture=33987);break;case 4:33988!=Zr.currentActiveTexture&&(Zr.context.activeTexture(33988),Zr.currentActiveTexture=33988);break;case 5:33989!=Zr.currentActiveTexture&&(Zr.context.activeTexture(33989),Zr.currentActiveTexture=33989);break;case 6:33990!=Zr.currentActiveTexture&&(Zr.context.activeTexture(33990),Zr.currentActiveTexture=33990);break;case 7:33991!=Zr.currentActiveTexture&&(Zr.context.activeTexture(33991),Zr.currentActiveTexture=33991);break;default:throw new Vs("Does not support texture8 or more")}if(null==e)return null!=Zr.currentBoundTexture[Zr.currentActiveTexture]&&(Zr.context.bindTexture(3553,null),Zr.currentBoundTexture[Zr.currentActiveTexture]=null),void(null!=Zr.currentBoundTexture[Zr.currentActiveTexture]&&(Zr.context.bindTexture(34067,null),Zr.currentBoundTexture[Zr.currentActiveTexture]=null));var n=Zr.context.getUniformLocation(this.currentProgram.glProgram,t);if(zs.__instanceof(e,mh)){var s=zs.__cast(e,mh).glTexture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=s&&(Zr.context.bindTexture(3553,s),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=s)||Zr.textureStateCache.exists(s)||Zr.textureStateCache.set(s,new fs)),Zr.context.uniform1i(n,i)}else if(zs.__instanceof(e,gh)){var r=zs.__cast(e,gh).glTexture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=r&&(Zr.context.bindTexture(3553,r),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=r)||Zr.textureStateCache.exists(r)||Zr.textureStateCache.set(r,new fs)),Zr.context.uniform1i(n,i)}else{if(!zs.__instanceof(e,ph))throw new Vs("Texture of type "+mi.getClassName(null==e?null:zs.getClass(e))+" not supported yet");var a=zs.__cast(e,ph).glTexture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=a&&(Zr.context.bindTexture(34067,a),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=a)||Zr.textureStateCache.exists(a)||Zr.textureStateCache.set(a,new fs)),Zr.context.uniform1i(n,i)}var o=this.samplerParameters[i];null!=o?this.setTextureParameters(e,o.wrap,o.filter,o.mipfilter):this.setTextureParameters(e,_h.CLAMP,ah.NEAREST,sh.MIPNONE)},setGLSLVertexBufferAt:function(t,e,i,n){null==i&&(i=0);var s=null!=this.currentProgram&&null!=this.currentProgram.glProgram?Zr.context.getAttribLocation(this.currentProgram.glProgram,t):-1;if(-1!=s)if(null!=e){Zr.context.bindBuffer(34962,e.glBuffer);var r=4,a=5126,o=4;if(n==hh.BYTES_4)a=5126,o=r=4;else if(n==hh.FLOAT_1)r=1,a=5126,o=4;else if(n==hh.FLOAT_2)r=2,a=5126,o=4;else if(n==hh.FLOAT_3)r=3,a=5126,o=4;else{if(n!=hh.FLOAT_4)throw new Vs("Buffer format "+L.string(n)+" is not supported");a=5126,o=r=4}Zr.context.enableVertexAttribArray(s),Zr.context.vertexAttribPointer(s,r,a,!1,e.data32PerVertex*o,i*o)}else-1<s&&Zr.context.disableVertexAttribArray(s)},setProgram:function(t){var e=null;null!=t&&(e=t.glProgram);var i=e;i!=Zr.currentProgram&&(Zr.context.useProgram(i),i=Zr.currentProgram),this.currentProgram=t},setProgramConstantsFromByteArray:function(t,e,i,n,s){n.position=s;for(var r=0,a=i;r<a;){var o=r++,l=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+o);this.setGLSLProgramConstantsFromByteArray(l,n)}},setProgramConstantsFromMatrix:function(t,e,i,n){null==n&&(n=!1);var s=i.rawData;n?(this.setProgramConstantsFromVector(t,e,[s.data[0],s.data[4],s.data[8],s.data[12]],1),this.setProgramConstantsFromVector(t,e+1,[s.data[1],s.data[5],s.data[9],s.data[13]],1),this.setProgramConstantsFromVector(t,e+2,[s.data[2],s.data[6],s.data[10],s.data[14]],1),this.setProgramConstantsFromVector(t,e+3,[s.data[3],s.data[7],s.data[11],s.data[15]],1)):(this.setProgramConstantsFromVector(t,e,[s.data[0],s.data[1],s.data[2],s.data[3]],1),this.setProgramConstantsFromVector(t,e+1,[s.data[4],s.data[5],s.data[6],s.data[7]],1),this.setProgramConstantsFromVector(t,e+2,[s.data[8],s.data[9],s.data[10],s.data[11]],1),this.setProgramConstantsFromVector(t,e+3,[s.data[12],s.data[13],s.data[14],s.data[15]],1))},setProgramConstantsFromVector:function(t,e,i,n){null==n&&(n=1);for(var s=0,r=n;s<r;){var a=s++,o=4*a,l=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+a);this.setGLSLProgramConstantsFromVector4(l,i,o)}},setRenderMethod:function(e){this.ogl.set_render(function(t){e(null)})},setRenderToBackBuffer:function(){Zr.context.disable(2929),Zr.context.disable(2960),Zr.context.disable(3089),Zr.context.bindFramebuffer(36160,null),null!=this.framebuffer&&Zr.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&Zr.context.bindRenderbuffer(36161,null),this.renderToTexture=!1,this.updateBackBufferViewPort(),this.updateScissorRectangle(),this.updateDepthAndStencilState()},setRenderToTexture:function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=!1),null==this.framebuffer&&(this.framebuffer=Zr.context.createFramebuffer()),Zr.context.bindFramebuffer(36160,this.framebuffer),null==this.renderbuffer&&(this.renderbuffer=Zr.context.createRenderbuffer()),Zr.context.bindRenderbuffer(36161,this.renderbuffer),e&&Zr.context.renderbufferStorage(36161,34041,t.width,t.height),Zr.context.framebufferTexture2D(36160,36064,3553,t.glTexture,0),Zr.context.renderbufferStorage(36161,34041,t.width,t.height),Zr.context.framebufferRenderbuffer(36160,33306,36161,this.renderbuffer),e&&(Zr.context.enable(2929),Zr.context.enable(2960));var s=t.glTexture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=s&&(Zr.context.bindTexture(3553,s),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=s)||Zr.textureStateCache.exists(s)||Zr.textureStateCache.set(s,new fs)),Zr.context.texImage2D(3553,0,6408,t.width,t.height,0,6408,5121,null);var r=Zr.currentBoundTexture[Zr.currentActiveTexture],a=Zr.textureStateCache.get(r);9729!=a.h[10240]&&(Zr.context.texParameteri(3553,10240,9729),a.h[10240]=9729);var o=Zr.currentBoundTexture[Zr.currentActiveTexture],l=Zr.textureStateCache.get(o);9985!=l.h[10241]&&(Zr.context.texParameteri(3553,10241,9985),l.h[10241]=9985),Zr.context.viewport(0,0,t.width,t.height),this.renderToTexture=!0,this.rttDepthAndStencil=e,this.rttWidth=t.width,this.rttHeight=t.height},setSamplerStateAt:function(t,e,i,n){if(!(0<=t&&t<$l.MAX_SAMPLERS))throw new Vs("Sampler is out of bounds.");this.samplerParameters[t].wrap=e,this.samplerParameters[t].filter=i,this.samplerParameters[t].mipfilter=n},setScissorRectangle:function(t){null!=(this.scissorRectangle=t)?(Zr.context.enable(3089),this.updateScissorRectangle()):Zr.context.disable(3089)},updateScissorRectangle:function(){if(null!=this.scissorRectangle){var t=this.renderToTexture?this.rttHeight:0|this.scrollRect.height;Zr.context.scissor(0|this.scissorRectangle.x,t-(0|this.scissorRectangle.y)-(0|this.scissorRectangle.height)|0,0|this.scissorRectangle.width,0|this.scissorRectangle.height)}},setStencilActions:function(t,e,i,n,s){var r=e;this.stencilCompareMode=r,Zr.context.stencilOp(i,n,s),Zr.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask)},setStencilReferenceValue:function(t,e,i){null==i&&(i=255),null==e&&(e=255),this.stencilReadMask=e,this.stencilRef=t,Zr.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask),Zr.context.stencilMask(i)},setTextureAt:function(t,e){var i="fs"+t;this.setGLSLTextureAt(i,e,t)},setTextureParameters:function(t,e,i,n){if(!$l.anisotropySupportTested){var s=Zr.context.getExtension("EXT_texture_filter_anisotropic");if(null!=s&&null!=At.field(s,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(s=Zr.context.getExtension("MOZ_EXT_texture_filter_anisotropic")),null!=s&&null!=At.field(s,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(s=Zr.context.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),$l.supportsAnisotropy=null!=s,$l.supportsAnisotropy){$l.maxSupportedAnisotropy=Zr.context.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT);var r=$l.TEXTURE_MAX_ANISOTROPY_EXT,a=$l.maxSupportedAnisotropy,o=Zr.currentBoundTexture[Zr.currentActiveTexture],l=Zr.textureStateCache.get(o);l.h[r]!=a&&(Zr.context.texParameteri(3553,r,a),l.h[r]=a)}$l.anisotropySupportTested=!0}if(zs.__instanceof(t,mh)){switch(e[1]){case 0:var h=Zr.currentBoundTexture[Zr.currentActiveTexture],_=Zr.textureStateCache.get(h);33071!=_.h[10242]&&(Zr.context.texParameteri(3553,10242,33071),_.h[10242]=33071);var u=Zr.currentBoundTexture[Zr.currentActiveTexture],c=Zr.textureStateCache.get(u);33071!=c.h[10243]&&(Zr.context.texParameteri(3553,10243,33071),c.h[10243]=33071);break;case 1:var f=Zr.currentBoundTexture[Zr.currentActiveTexture],d=Zr.textureStateCache.get(f);10497!=d.h[10242]&&(Zr.context.texParameteri(3553,10242,10497),d.h[10242]=10497);var p=Zr.currentBoundTexture[Zr.currentActiveTexture],g=Zr.textureStateCache.get(p);10497!=g.h[10243]&&(Zr.context.texParameteri(3553,10243,10497),g.h[10243]=10497)}switch(i[1]){case 0:if($l.supportsAnisotropy){var m=$l.TEXTURE_MAX_ANISOTROPY_EXT,v=Rt.gt(2,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):2;Zr.context.texParameterf(3553,m,v)}break;case 1:if($l.supportsAnisotropy){var b=$l.TEXTURE_MAX_ANISOTROPY_EXT,y=Rt.gt(4,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):4;Zr.context.texParameterf(3553,b,y)}break;case 2:if($l.supportsAnisotropy){var w=$l.TEXTURE_MAX_ANISOTROPY_EXT,x=Rt.gt(8,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):8;Zr.context.texParameterf(3553,w,x)}break;case 3:if($l.supportsAnisotropy){var T=$l.TEXTURE_MAX_ANISOTROPY_EXT,S=Rt.gt(16,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):16;Zr.context.texParameterf(3553,T,S)}break;case 4:var E=Zr.currentBoundTexture[Zr.currentActiveTexture],I=Zr.textureStateCache.get(E);9729!=I.h[10240]&&(Zr.context.texParameteri(3553,10240,9729),I.h[10240]=9729),$l.supportsAnisotropy&&Zr.context.texParameterf(3553,$l.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:var P=Zr.currentBoundTexture[Zr.currentActiveTexture],C=Zr.textureStateCache.get(P);9728!=C.h[10240]&&(Zr.context.texParameteri(3553,10240,9728),C.h[10240]=9728),$l.supportsAnisotropy&&Zr.context.texParameterf(3553,$l.TEXTURE_MAX_ANISOTROPY_EXT,1)}switch(n[1]){case 0:var D=Zr.currentBoundTexture[Zr.currentActiveTexture],A=Zr.textureStateCache.get(D);9987!=A.h[10241]&&(Zr.context.texParameteri(3553,10241,9987),A.h[10241]=9987);break;case 1:var R=Zr.currentBoundTexture[Zr.currentActiveTexture],M=Zr.textureStateCache.get(R);9984!=M.h[10241]&&(Zr.context.texParameteri(3553,10241,9984),M.h[10241]=9984);break;case 2:var F=i==ah.NEAREST?9728:9729,B=Zr.currentBoundTexture[Zr.currentActiveTexture],L=Zr.textureStateCache.get(B);L.h[10241]!=F&&(Zr.context.texParameteri(3553,10241,F),L.h[10241]=F)}var k=t;n==sh.MIPNONE||k.mipmapsGenerated||(Zr.context.generateMipmap(3553),k.mipmapsGenerated=!0)}else if(zs.__instanceof(t,gh)){var N=Zr.currentBoundTexture[Zr.currentActiveTexture],O=Zr.textureStateCache.get(N);33071!=O.h[10242]&&(Zr.context.texParameteri(3553,10242,33071),O.h[10242]=33071);var U=Zr.currentBoundTexture[Zr.currentActiveTexture],G=Zr.textureStateCache.get(U);switch(33071!=G.h[10243]&&(Zr.context.texParameteri(3553,10243,33071),G.h[10243]=33071),i[1]){case 0:if($l.supportsAnisotropy){var X=$l.TEXTURE_MAX_ANISOTROPY_EXT,V=Rt.gt(2,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):2;Zr.context.texParameterf(3553,X,V)}break;case 1:if($l.supportsAnisotropy){var z=$l.TEXTURE_MAX_ANISOTROPY_EXT,H=Rt.gt(4,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):4;Zr.context.texParameterf(3553,z,H)}break;case 2:if($l.supportsAnisotropy){var Y=$l.TEXTURE_MAX_ANISOTROPY_EXT,W=Rt.gt(8,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):8;Zr.context.texParameterf(3553,Y,W)}break;case 3:if($l.supportsAnisotropy){var K=$l.TEXTURE_MAX_ANISOTROPY_EXT,j=Rt.gt(16,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):16;Zr.context.texParameterf(3553,K,j)}break;case 4:var q=Zr.currentBoundTexture[Zr.currentActiveTexture],J=Zr.textureStateCache.get(q);9729!=J.h[10240]&&(Zr.context.texParameteri(3553,10240,9729),J.h[10240]=9729),$l.supportsAnisotropy&&Zr.context.texParameterf(3553,$l.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:var Z=Zr.currentBoundTexture[Zr.currentActiveTexture],Q=Zr.textureStateCache.get(Z);9728!=Q.h[10240]&&(Zr.context.texParameteri(3553,10240,9728),Q.h[10240]=9728),$l.supportsAnisotropy&&Zr.context.texParameterf(3553,$l.TEXTURE_MAX_ANISOTROPY_EXT,1)}var $=i==ah.NEAREST?9728:9729,tt=Zr.currentBoundTexture[Zr.currentActiveTexture],et=Zr.textureStateCache.get(tt);et.h[10241]!=$&&(Zr.context.texParameteri(3553,10241,$),et.h[10241]=$)}else{if(!zs.__instanceof(t,ph))throw new Vs("Texture of type "+mi.getClassName(null==t?null:zs.getClass(t))+" not supported yet");switch(e[1]){case 0:var it=Zr.currentBoundTexture[Zr.currentActiveTexture],nt=Zr.textureStateCache.get(it);33071!=nt.h[10242]&&(Zr.context.texParameteri(34067,10242,33071),nt.h[10242]=33071);var st=Zr.currentBoundTexture[Zr.currentActiveTexture],rt=Zr.textureStateCache.get(st);33071!=rt.h[10243]&&(Zr.context.texParameteri(34067,10243,33071),rt.h[10243]=33071);break;case 1:var at=Zr.currentBoundTexture[Zr.currentActiveTexture],ot=Zr.textureStateCache.get(at);10497!=ot.h[10242]&&(Zr.context.texParameteri(34067,10242,10497),ot.h[10242]=10497);var lt=Zr.currentBoundTexture[Zr.currentActiveTexture],ht=Zr.textureStateCache.get(lt);10497!=ht.h[10243]&&(Zr.context.texParameteri(34067,10243,10497),ht.h[10243]=10497)}switch(i[1]){case 0:if($l.supportsAnisotropy){var _t=$l.TEXTURE_MAX_ANISOTROPY_EXT,ut=Rt.gt(2,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):2;Zr.context.texParameterf(34067,_t,ut)}break;case 1:if($l.supportsAnisotropy){var ct=$l.TEXTURE_MAX_ANISOTROPY_EXT,ft=Rt.gt(4,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):4;Zr.context.texParameterf(34067,ct,ft)}break;case 2:if($l.supportsAnisotropy){var dt=$l.TEXTURE_MAX_ANISOTROPY_EXT,pt=Rt.gt(8,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):8;Zr.context.texParameterf(34067,dt,pt)}break;case 3:if($l.supportsAnisotropy){var gt=$l.TEXTURE_MAX_ANISOTROPY_EXT,mt=Rt.gt(16,$l.maxSupportedAnisotropy)?Rt.toFloat($l.maxSupportedAnisotropy):16;Zr.context.texParameterf(34067,gt,mt)}break;case 4:var vt=Zr.currentBoundTexture[Zr.currentActiveTexture],bt=Zr.textureStateCache.get(vt);9729!=bt.h[10240]&&(Zr.context.texParameteri(34067,10240,9729),bt.h[10240]=9729),$l.supportsAnisotropy&&Zr.context.texParameterf(34067,$l.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:var yt=Zr.currentBoundTexture[Zr.currentActiveTexture],wt=Zr.textureStateCache.get(yt);9728!=wt.h[10240]&&(Zr.context.texParameteri(34067,10240,9728),wt.h[10240]=9728),$l.supportsAnisotropy&&Zr.context.texParameterf(34067,$l.TEXTURE_MAX_ANISOTROPY_EXT,1)}switch(n[1]){case 0:var xt=Zr.currentBoundTexture[Zr.currentActiveTexture],Tt=Zr.textureStateCache.get(xt);9987!=Tt.h[10241]&&(Zr.context.texParameteri(34067,10241,9987),Tt.h[10241]=9987);break;case 1:var St=Zr.currentBoundTexture[Zr.currentActiveTexture],Et=Zr.textureStateCache.get(St);9984!=Et.h[10241]&&(Zr.context.texParameteri(34067,10241,9984),Et.h[10241]=9984);break;case 2:var It=i==ah.NEAREST?9728:9729,Pt=Zr.currentBoundTexture[Zr.currentActiveTexture],Ct=Zr.textureStateCache.get(Pt);Ct.h[10241]!=It&&(Zr.context.texParameteri(34067,10241,It),Ct.h[10241]=It)}var Dt=t;n==sh.MIPNONE||Dt.mipmapsGenerated||(Zr.context.generateMipmap(34067),Dt.mipmapsGenerated=!0)}},setVertexBufferAt:function(t,e,i,n){null==i&&(i=0);var s="va"+t;this.setGLSLVertexBufferAt(s,e,i,n)},__getUniformLocationNameFromAgalRegisterIndex:function(t,e){if(t==rh.VERTEX)return"vc"+e;if(t==rh.FRAGMENT)return"fc"+e;throw new Vs("Program Type "+L.string(t)+" not supported")},__updateBlendStatus:function(){this.blendEnabled?(Zr.context.enable(3042),Zr.context.blendEquation(32774),Zr.context.blendFunc(this.blendSourceFactor,this.blendDestinationFactor)):Zr.context.disable(3042)},__class__:$l};var th=function(){};(i["openfl.display3D._Context3D.SamplerState"]=th).__name__=["openfl","display3D","_Context3D","SamplerState"],th.prototype={__class__:th};var eh=i["openfl.display3D.Context3DBufferUsage"]={__ename__:!0,__constructs__:["STATIC_DRAW","DYNAMIC_DRAW"]};eh.STATIC_DRAW=["STATIC_DRAW",0],eh.STATIC_DRAW.toString=f,(eh.STATIC_DRAW.__enum__=eh).DYNAMIC_DRAW=["DYNAMIC_DRAW",1],eh.DYNAMIC_DRAW.toString=f,eh.DYNAMIC_DRAW.__enum__=eh;function ih(){}(i["openfl.display3D.Context3DClearMask"]=ih).__name__=["openfl","display3D","Context3DClearMask"];var nh={};(i["openfl.display3D._Context3DCompareMode.Context3DCompareMode_Impl_"]=nh).__name__=["openfl","display3D","_Context3DCompareMode","Context3DCompareMode_Impl_"],nh._new=function(t){return t},nh.fromInt=function(t){return t},nh.toInt=function(t){return t};var sh=i["openfl.display3D.Context3DMipFilter"]={__ename__:!0,__constructs__:["MIPLINEAR","MIPNEAREST","MIPNONE"]};sh.MIPLINEAR=["MIPLINEAR",0],sh.MIPLINEAR.toString=f,(sh.MIPLINEAR.__enum__=sh).MIPNEAREST=["MIPNEAREST",1],sh.MIPNEAREST.toString=f,(sh.MIPNEAREST.__enum__=sh).MIPNONE=["MIPNONE",2],sh.MIPNONE.toString=f,sh.MIPNONE.__enum__=sh;var rh=i["openfl.display3D.Context3DProgramType"]={__ename__:!0,__constructs__:["VERTEX","FRAGMENT"]};rh.VERTEX=["VERTEX",0],rh.VERTEX.toString=f,(rh.VERTEX.__enum__=rh).FRAGMENT=["FRAGMENT",1],rh.FRAGMENT.toString=f,rh.FRAGMENT.__enum__=rh;var ah=i["openfl.display3D.Context3DTextureFilter"]={__ename__:!0,__constructs__:["ANISOTROPIC2X","ANISOTROPIC4X","ANISOTROPIC8X","ANISOTROPIC16X","LINEAR","NEAREST"]};ah.ANISOTROPIC2X=["ANISOTROPIC2X",0],ah.ANISOTROPIC2X.toString=f,(ah.ANISOTROPIC2X.__enum__=ah).ANISOTROPIC4X=["ANISOTROPIC4X",1],ah.ANISOTROPIC4X.toString=f,(ah.ANISOTROPIC4X.__enum__=ah).ANISOTROPIC8X=["ANISOTROPIC8X",2],ah.ANISOTROPIC8X.toString=f,(ah.ANISOTROPIC8X.__enum__=ah).ANISOTROPIC16X=["ANISOTROPIC16X",3],ah.ANISOTROPIC16X.toString=f,(ah.ANISOTROPIC16X.__enum__=ah).LINEAR=["LINEAR",4],ah.LINEAR.toString=f,(ah.LINEAR.__enum__=ah).NEAREST=["NEAREST",5],ah.NEAREST.toString=f,ah.NEAREST.__enum__=ah;var oh=i["openfl.display3D.Context3DTextureFormat"]={__ename__:!0,__constructs__:["BGRA","COMPRESSED","COMPRESSED_ALPHA"]};oh.BGRA=["BGRA",0],oh.BGRA.toString=f,(oh.BGRA.__enum__=oh).COMPRESSED=["COMPRESSED",1],oh.COMPRESSED.toString=f,(oh.COMPRESSED.__enum__=oh).COMPRESSED_ALPHA=["COMPRESSED_ALPHA",2],oh.COMPRESSED_ALPHA.toString=f,oh.COMPRESSED_ALPHA.__enum__=oh;var lh={};(i["openfl.display3D._Context3DTriangleFace.Context3DTriangleFace_Impl_"]=lh).__name__=["openfl","display3D","_Context3DTriangleFace","Context3DTriangleFace_Impl_"],lh._new=function(t){return t},lh.fromInt=function(t){return t},lh.toInt=function(t){return t};var hh=i["openfl.display3D.Context3DVertexBufferFormat"]={__ename__:!0,__constructs__:["BYTES_4","FLOAT_1","FLOAT_2","FLOAT_3","FLOAT_4"]};hh.BYTES_4=["BYTES_4",0],hh.BYTES_4.toString=f,(hh.BYTES_4.__enum__=hh).FLOAT_1=["FLOAT_1",1],hh.FLOAT_1.toString=f,(hh.FLOAT_1.__enum__=hh).FLOAT_2=["FLOAT_2",2],hh.FLOAT_2.toString=f,(hh.FLOAT_2.__enum__=hh).FLOAT_3=["FLOAT_3",3],hh.FLOAT_3.toString=f,(hh.FLOAT_3.__enum__=hh).FLOAT_4=["FLOAT_4",4],hh.FLOAT_4.toString=f,hh.FLOAT_4.__enum__=hh;var _h=i["openfl.display3D.Context3DWrapMode"]={__ename__:!0,__constructs__:["CLAMP","REPEAT"]};_h.CLAMP=["CLAMP",0],_h.CLAMP.toString=f,(_h.CLAMP.__enum__=_h).REPEAT=["REPEAT",1],_h.REPEAT.toString=f,_h.REPEAT.__enum__=_h;var uh=function(t,e,i,n){this.context=t,this.glBuffer=e,this.numIndices=i,this.bufferUsage=n};(i["openfl.display3D.IndexBuffer3D"]=uh).__name__=["openfl","display3D","IndexBuffer3D"],uh.prototype={dispose:function(){this.context.__deleteIndexBuffer(this)},uploadFromByteArray:function(t,e,i,n){Zr.context.bindBuffer(34963,this.glBuffer);var s,r=2*n,a=e+2*i;s=null!=r?new Int16Array(r):null,t.position=a;for(var o=0;t.position<r+a;)s[o]=t.readUnsignedByte(),++o;Zr.context.bufferData(34963,s,this.bufferUsage)},uploadFromVector:function(t,e,i){var n;Zr.context.bindBuffer(34963,this.glBuffer),n=null!=i?new Int16Array(i):null;for(var s=e,r=e+i;s<r;){var a=s++;n[a]=t.data[a]}Zr.context.bufferData(34963,n,this.bufferUsage)},uploadFromInt16Array:function(t){Zr.context.bindBuffer(34963,this.glBuffer),Zr.context.bufferData(34963,t,this.bufferUsage)},__class__:uh};var ch=function(t,e){this.context=t,this.glProgram=e,this.glFCLocationMap=[],this.glVCLocationMap=[],this.glFSLocationMap=[],this.glVALocationMap=[]};(i["openfl.display3D.Program3D"]=ch).__name__=["openfl","display3D","Program3D"],ch.prototype={dispose:function(){this.context.__deleteProgram(this)},upload:function(t,e){if(Zr.context.attachShader(this.glProgram,t),Zr.context.attachShader(this.glProgram,e),Zr.context.linkProgram(this.glProgram),0==Zr.context.getProgramParameter(this.glProgram,35714)){var i=Zr.context.getProgramInfoLog(this.glProgram);if(""!=i)throw new Vs(i)}for(var n=0,s=Zr.context.getProgramParameter(this.glProgram,35718);n<s;){var r=n++,a=Zr.context.getActiveUniform(this.glProgram,r),o=Zr.context.getUniformLocation(this.glProgram,a.name);if(null==this.yFlip&&"yflip"==a.name)this.yFlip=o;else{var l=B.substr(a.name,0,2),h=L.parseInt(B.substr(a.name,2,null));switch(l){case"fc":this.glFCLocationMap[h]=o;break;case"fs":this.glFSLocationMap[h]=o;break;case"vc":this.glVCLocationMap[h]=o}}}for(var _=0,u=Zr.context.getProgramParameter(this.glProgram,35721);_<u;){var c=_++,f=Zr.context.getActiveAttrib(this.glProgram,c),d=B.substr(f.name,0,2),p=L.parseInt(B.substr(f.name,2,null));"va"==d&&(this.glVALocationMap[p]=c)}},yFlipLoc:function(){return this.yFlip},fsUniformLocationFromAgal:function(t){return this.glFCLocationMap[t]},vsUniformLocationFromAgal:function(t){return this.glVCLocationMap[t]},fsampUniformLocationFromAgal:function(t){return this.glFSLocationMap[t]},vaUniformLocationFromAgal:function(t){return this.glVALocationMap[t]},constUniformLocationFromAgal:function(t,e){return t==rh.VERTEX?this.glVCLocationMap[e]:this.glFCLocationMap[e]},__class__:ch};var fh=function(t,e,i,n,s){this.context=t,this.glBuffer=e,this.numVertices=i,this.data32PerVertex=n,this.bufferUsage=s};(i["openfl.display3D.VertexBuffer3D"]=fh).__name__=["openfl","display3D","VertexBuffer3D"],fh.prototype={dispose:function(){this.context.__deleteVertexBuffer(this)},uploadFromByteArray:function(t,e,i,n){var s=4*this.data32PerVertex;Zr.context.bindBuffer(34962,this.glBuffer);var r,a=n*s,o=e+i*s;r=null!=a?new tc(a):null,t.position=o;for(var l=0;t.position<a+o;)r[l]=t.readUnsignedByte(),++l;Zr.context.bufferData(34962,r,this.bufferUsage)},uploadFromFloat32Array:function(t,e,i){Zr.context.bindBuffer(34962,this.glBuffer),Zr.context.bufferData(34962,t,this.bufferUsage)},uploadFromVector:function(t,e,i){Zr.context.bindBuffer(34962,this.glBuffer);var n,s=i*this.data32PerVertex;if(0==e&&s==t.length)n=new tc(t.data);else{n=null!=s?new tc(s):null;for(var r=e,a=e+s;r<a;){var o=r++;n[o]=t.data[o]}}Zr.context.bufferData(34962,n,this.bufferUsage),n=null},__class__:fh};function dh(t,e,i,n){null==n&&(n=0),null==i&&(i=0),v.call(this),this.context=t,this.width=i,this.height=n,this.glTexture=e}(i["openfl.display3D.textures.TextureBase"]=dh).__name__=["openfl","display3D","textures","TextureBase"],dh.__super__=v,dh.prototype=n(v.prototype,{dispose:function(){this.context.__deleteTexture(this)},__class__:dh});var ph=function(t,e,i){dh.call(this,t,e,i,i),this.size=i,this.mipmapsGenerated=!1,this._textures=[];for(var n=0;n<6;){var s=n++;this._textures[s]=Zr.context.createTexture()}};(i["openfl.display3D.textures.CubeTexture"]=ph).__name__=["openfl","display3D","textures","CubeTexture"],ph.__super__=dh,ph.prototype=n(dh.prototype,{glTextureAt:function(t){return this._textures[t]},uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1)},uploadFromBitmapData:function(t,e,i){null==i&&(i=0);var n=t.get_image().get_data(),s=this.glTexture;switch(Zr.currentBoundTexture[Zr.currentActiveTexture]!=s&&(Zr.context.bindTexture(34067,s),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=s)||Zr.textureStateCache.exists(s)||Zr.textureStateCache.set(s,new fs)),e){case 0:Zr.context.texImage2D(34069,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 1:Zr.context.texImage2D(34070,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 2:Zr.context.texImage2D(34071,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 3:Zr.context.texImage2D(34072,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 4:Zr.context.texImage2D(34073,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 5:Zr.context.texImage2D(34074,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;default:throw new Vs("unknown side type")}null!=Zr.currentBoundTexture[Zr.currentActiveTexture]&&(Zr.context.bindTexture(34067,null),Zr.currentBoundTexture[Zr.currentActiveTexture]=null)},uploadFromByteArray:function(t,e,i,n){null==n&&(n=0)},__class__:ph});var gh=function(t,e,i,n,s){this.optimizeForRenderToTexture=i,null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),dh.call(this,t,e,n,s)};(i["openfl.display3D.textures.RectangleTexture"]=gh).__name__=["openfl","display3D","textures","RectangleTexture"],gh.__super__=dh,gh.prototype=n(dh.prototype,{uploadFromBitmapData:function(t,e){null==e&&(e=0);var i=J_.fromArrayBuffer(t.get_image().get_data().buffer);this.width=t.physicalWidth,this.height=t.physicalHeight,this.uploadFromByteArray(i,0)},uploadFromByteArray:function(t,e){var i=this.glTexture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=i&&(Zr.context.bindTexture(3553,i),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=i)||Zr.textureStateCache.exists(i)||Zr.textureStateCache.set(i,new fs)),this.optimizeForRenderToTexture&&Zr.context.pixelStorei(37440,1);var n=Zr.currentBoundTexture[Zr.currentActiveTexture],s=Zr.textureStateCache.get(n);9728!=s.h[10240]&&(Zr.context.texParameteri(3553,10240,9728),s.h[10240]=9728);var r=Zr.currentBoundTexture[Zr.currentActiveTexture],a=Zr.textureStateCache.get(r);9728!=a.h[10241]&&(Zr.context.texParameteri(3553,10241,9728),a.h[10241]=9728);var o=Zr.currentBoundTexture[Zr.currentActiveTexture],l=Zr.textureStateCache.get(o);33071!=l.h[10242]&&(Zr.context.texParameteri(3553,10242,33071),l.h[10242]=33071);var h=Zr.currentBoundTexture[Zr.currentActiveTexture],_=Zr.textureStateCache.get(h);33071!=_.h[10243]&&(Zr.context.texParameteri(3553,10243,33071),_.h[10243]=33071);var u=J_.get_length(t),c=null!=u?new ec(u):null;t.position=e;for(var f=0;t.position<J_.get_length(t);)c[f]=t.readUnsignedByte(),++f;Zr.context.texImage2D(3553,0,6408,this.width,this.height,0,6408,5121,c),null!=Zr.currentBoundTexture[Zr.currentActiveTexture]&&(Zr.context.bindTexture(3553,null),Zr.currentBoundTexture[Zr.currentActiveTexture]=null)},__class__:gh});var mh=function(t,e,i,n,s){this.optimizeForRenderToTexture=i,this.mipmapsGenerated=!1,-1==mh.internalFormat&&(mh.internalFormat=6408),null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),dh.call(this,t,e,n,s)};(i["openfl.display3D.textures.Texture"]=mh).__name__=["openfl","display3D","textures","Texture"],mh.__super__=dh,mh.prototype=n(dh.prototype,{uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1)},uploadFromBitmapData:function(t,e){null==e&&(e=0);var i=t.get_image();this.width=i.width,this.height=i.height;var n=this.glTexture;Zr.currentBoundTexture[Zr.currentActiveTexture]!=n&&(Zr.context.bindTexture(3553,n),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=n)||Zr.textureStateCache.exists(n)||Zr.textureStateCache.set(n,new fs)),Zr.context.pixelStorei(37440,1);var s=i,r=!s.get_premultiplied()&&s.get_transparent()?1:0;Zr.context.pixelStorei(37441,r);var a=s.buffer.get_glCompatibleBuffer();if(null==a){var o=mh.internalFormat,l=this.width,h=this.height,_=mh.internalFormat,u=s.get_data();Zr.context.texImage2D(3553,0,o,l,h,0,_,5121,u)}else Zr.context.texImage2D(3553,0,mh.internalFormat,mh.internalFormat,5121,a);null!=Zr.currentBoundTexture[Zr.currentActiveTexture]&&(Zr.context.bindTexture(3553,null),Zr.currentBoundTexture[Zr.currentActiveTexture]=null),Zr.context.pixelStorei(37440,0),i.dirty=!1},uploadFromByteArray:function(t,e,i){null==i&&(i=0);var n=J_.get_length(t),s=null!=n?new ec(n):null;t.position=e;for(var r=0;t.position<J_.get_length(t);)s[r]=t.readUnsignedByte(),++r;this.uploadFromUInt8Array(s,i)},uploadFromUInt8Array:function(t,e){null==e&&(e=0);var i=this.glTexture;if(Zr.currentBoundTexture[Zr.currentActiveTexture]!=i&&(Zr.context.bindTexture(3553,i),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=i)||Zr.textureStateCache.exists(i)||Zr.textureStateCache.set(i,new fs)),Zr.context.pixelStorei(37440,1),this.optimizeForRenderToTexture){var n=Zr.currentBoundTexture[Zr.currentActiveTexture],s=Zr.textureStateCache.get(n);9728!=s.h[10240]&&(Zr.context.texParameteri(3553,10240,9728),s.h[10240]=9728);var r=Zr.currentBoundTexture[Zr.currentActiveTexture],a=Zr.textureStateCache.get(r);9728!=a.h[10241]&&(Zr.context.texParameteri(3553,10241,9728),a.h[10241]=9728);var o=Zr.currentBoundTexture[Zr.currentActiveTexture],l=Zr.textureStateCache.get(o);33071!=l.h[10242]&&(Zr.context.texParameteri(3553,10242,33071),l.h[10242]=33071);var h=Zr.currentBoundTexture[Zr.currentActiveTexture],_=Zr.textureStateCache.get(h);33071!=_.h[10243]&&(Zr.context.texParameteri(3553,10243,33071),_.h[10243]=33071)}Zr.context.texImage2D(3553,e,mh.internalFormat,this.width,this.height,0,mh.internalFormat,5121,t),null!=Zr.currentBoundTexture[Zr.currentActiveTexture]&&(Zr.context.bindTexture(3553,null),Zr.currentBoundTexture[Zr.currentActiveTexture]=null),Zr.context.pixelStorei(37440,0)},__class__:mh});var vh=function(t,e){null==e&&(e=0),null==t&&(t=""),this.message=t,this.errorID=e,this.name="Error"};(i["openfl.errors.Error"]=vh).__name__=["openfl","errors","Error"],vh.prototype={getStackTrace:function(){return rs.toString(rs.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:vh};var bh=function(t){null==t&&(t=""),vh.call(this,t),this.name="ArgumentError"};(i["openfl.errors.ArgumentError"]=bh).__name__=["openfl","errors","ArgumentError"],bh.__super__=vh,bh.prototype=n(vh.prototype,{__class__:bh});function yh(t){null==t&&(t=""),vh.call(this,t),this.name="IOError"}(i["openfl.errors.IOError"]=yh).__name__=["openfl","errors","IOError"],yh.__super__=vh,yh.prototype=n(vh.prototype,{__class__:yh});var wh=function(){yh.call(this,"End of file was encountered"),this.name="EOFError",this.errorID=2030};(i["openfl.errors.EOFError"]=wh).__name__=["openfl","errors","EOFError"],wh.__super__=yh,wh.prototype=n(yh.prototype,{__class__:wh});var xh=function(t){null==t&&(t=""),vh.call(this,t,0),this.name="RangeError"};(i["openfl.errors.RangeError"]=xh).__name__=["openfl","errors","RangeError"],xh.__super__=vh,xh.prototype=n(vh.prototype,{__class__:xh});var Th=function(t){null==t&&(t=""),vh.call(this,t,0),this.name="TypeError"};(i["openfl.errors.TypeError"]=Th).__name__=["openfl","errors","TypeError"],Th.__super__=vh,Th.prototype=n(vh.prototype,{__class__:Th});function Sh(t,e,i,n){null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=!1),Ae.call(this,t,e,i),this.activating=n}(i["openfl.events.ActivityEvent"]=Sh).__name__=["openfl","events","ActivityEvent"],Sh.__super__=Ae,Sh.prototype=n(Ae.prototype,{clone:function(){var t=new Sh(this.type,this.bubbles,this.cancelable,this.activating);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__class__:Sh});var Eh=function(t,e,i,n){null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!1),Ae.call(this,t,e,i),this.text=n};(i["openfl.events.TextEvent"]=Eh).__name__=["openfl","events","TextEvent"],Eh.__super__=Ae,Eh.prototype=n(Ae.prototype,{clone:function(){var t=new Eh(this.type,this.bubbles,this.cancelable,this.text);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__class__:Eh});var Ih=function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!1),Eh.call(this,t,e,i,n),this.errorID=s};(i["openfl.events.ErrorEvent"]=Ih).__name__=["openfl","events","ErrorEvent"],Ih.__super__=Eh,Ih.prototype=n(Eh.prototype,{clone:function(){var t=new Ih(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Ih});var Ph=function(t,e,i){this.callback=t,this.useCapture=e,this.priority=i};(i["openfl.events._EventDispatcher.Listener"]=Ph).__name__=["openfl","events","_EventDispatcher","Listener"],Ph.prototype={match:function(t,e){return!!At.compareMethods(this.callback,t)&&this.useCapture==e},callCallback:function(t){this.callback.apply(this,[t])},__class__:Ph};var Ch=function(t,e,i,n,s,r){null==r&&(r=0),null==s&&(s=!1),null==i&&(i=!1),null==e&&(e=!1),Ae.call(this,t,e,i),this.keyCode=r,this.shiftKey=s,this.relatedObject=n};(i["openfl.events.FocusEvent"]=Ch).__name__=["openfl","events","FocusEvent"],Ch.__super__=Ae,Ch.prototype=n(Ae.prototype,{clone:function(){var t=new Ch(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FocusEvent",["type","bubbles","cancelable","relatedObject","shiftKey","keyCode"])},__class__:Ch});var Dh=function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=!1),Sh.call(this,t,e,i),this.fullScreen=n,this.interactive=s};(i["openfl.events.FullScreenEvent"]=Dh).__name__=["openfl","events","FullScreenEvent"],Dh.__super__=Sh,Dh.prototype=n(Sh.prototype,{clone:function(){var t=new Dh(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__class__:Dh});function Ah(t,e,i,n){null==i&&(i=!1),null==e&&(e=!0),Ae.call(this,t,e,i),this.device=n}(i["openfl.events.GameInputEvent"]=Ah).__name__=["openfl","events","GameInputEvent"],Ah.__super__=Ae,Ah.prototype=n(Ae.prototype,{clone:function(){var t=new Ah(this.type,this.bubbles,this.cancelable,this.device);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__class__:Ah});function Rh(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!1),this.status=n,this.redirected=s,Ae.call(this,t,e,i)}(i["openfl.events.HTTPStatusEvent"]=Rh).__name__=["openfl","events","HTTPStatusEvent"],Rh.__super__=Ae,Rh.prototype=n(Ae.prototype,{clone:function(){var t=new Rh(this.type,this.bubbles,null,this.status,this.redirected);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__class__:Rh});var Mh=function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!0),Ih.call(this,t,e,i,n,s)};(i["openfl.events.IOErrorEvent"]=Mh).__name__=["openfl","events","IOErrorEvent"],Mh.__super__=Ih,Mh.prototype=n(Ih.prototype,{clone:function(){var t=new Mh(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Mh});var Fh=function(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=!1),null==l&&(l=!1),null==o&&(o=!1),null==a&&(a=!1),null==s&&(s=0),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!1),Ae.call(this,t,e,i),this.charCode=n,this.keyCode=s,this.keyLocation=null!=r?r:0,this.ctrlKey=a,this.altKey=o,this.shiftKey=l,this.controlKey=h,this.commandKey=_};(i["openfl.events.KeyboardEvent"]=Fh).__name__=["openfl","events","KeyboardEvent"],Fh.__super__=Ae,Fh.prototype=n(Ae.prototype,{clone:function(){var t=new Fh(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("KeyboardEvent",["type","bubbles","cancelable","charCode","keyCode","keyLocation","ctrlKey","altKey","shiftKey"])},__class__:Fh});var Bh=function(t,e,i){null==i&&(i=!1),null==e&&(e=!0),null==t&&(t="unset"),Ae.call(this,t,e,i)};(i["openfl.events.MouseEvent"]=Bh).__name__=["openfl","events","MouseEvent"],Bh.__altKey=null,Bh.__buttonDown=null,Bh.__commandKey=null,Bh.__ctrlKey=null,Bh.__shiftKey=null,Bh.__create=function(t,e,i,n,s,r,a){switch(null==a&&(a=0),null==i&&(i=0),null==e&&(e=0),t){case"mouseDown":Bh.__buttonDown=!0;break;case"mouseUp":Bh.__buttonDown=!1}var o=Bh.pool.get();return o.target=null,o.currentTarget=null,o.__isCanceled=!1,o.__isCanceledNow=!1,o.__preventDefault=!1,o.__fromPool=!0,o.__refcount=0,o.eventPhase=2,o.type=t,o.bubbles=!0,o.cancelable=!1,o.altKey=Bh.__altKey,o.ctrlKey=Bh.__ctrlKey,o.shiftKey=Bh.__shiftKey,o.relatedObject=null,o.delta=a,null==n?(o.localX=0,o.localY=0):(o.localX=n.x,o.localY=n.y),o.buttonDown=Bh.__buttonDown,o.commandKey=Bh.__commandKey,o.clickCount=0,o.stageX=e,o.stageY=i,null!=r&&(o.scaledStageX=e*r.get_scaleX(),o.scaledStageY=i*r.get_scaleY()),o.target=s,o},Bh.isMouseEvent=function(t){return"click"==t||"doubleClick"==t||"middleClick"==t||"middleMouseDown"==t||"middleMouseUp"==t||"mouseDown"==t||"mouseMove"==t||"mouseOut"==t||"mouseOver"==t||"mouseUp"==t||"mouseWheel"==t||"rightClick"==t||"rightMouseDown"==t||"rightMouseUp"==t||"rollOut"==t||"rollOver"==t||"touchBegin"==t||"touchMove"==t||"touchEnd"==t},Bh.__super__=Ae,Bh.prototype=n(Ae.prototype,{toString:function(){return this.__formatToString("MouseEvent",["type","bubbles","cancelable","localX","localY","relatedObject","ctrlKey","altKey","shiftKey","buttonDown","delta"])},updateAfterEvent:function(){},release:function(){0==--this.__refcount&&this.__fromPool&&(this.__refcount=-1,this.__fromPool=!1,Bh.pool.put(this))},__class__:Bh});function Lh(t,e,i,n,s){null==s&&(s=0),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!1),Ae.call(this,t,e,i),this.bytesLoaded=n,this.bytesTotal=s}(i["openfl.events.ProgressEvent"]=Lh).__name__=["openfl","events","ProgressEvent"],Lh.__super__=Ae,Lh.prototype=n(Ae.prototype,{clone:function(){var t=new Lh(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__class__:Lh});function kh(t,e,i,n,s){null==s&&(s=0),null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!1),Ih.call(this,t,e,i,n,s)}(i["openfl.events.SecurityErrorEvent"]=kh).__name__=["openfl","events","SecurityErrorEvent"],kh.__super__=Ih,kh.prototype=n(Ih.prototype,{clone:function(){var t=new kh(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:kh});var Nh=function(t,e,i,n,s,r,a,o,l,h,_,u,c,f,d,p,g,m,v,b){null==b&&(b=!1),null==g&&(g=0),null==p&&(p=!1),null==d&&(d=!1),null==f&&(f=!1),null==c&&(c=!1),null==u&&(u=!1),null==h&&(h=0),null==l&&(l=0),null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!0),Ae.call(this,t,e,i),this.touchPointID=n,this.isPrimaryTouchPoint=s,this.localX=r,this.localY=a,this.sizeX=o,this.sizeY=l,this.pressure=h,this.relatedObject=_,this.ctrlKey=u,this.altKey=c,this.shiftKey=f,this.commandKey=d,this.controlKey=p};(i["openfl.events.TouchEvent"]=Nh).__name__=["openfl","events","TouchEvent"],Nh.__create=function(t,e,i,n,s,r){var a=new Nh(t,!0,!1,0,!0,s.x,s.y,1,1,1);return a.stageX=i,a.stageY=n,a.target=r,a},Nh.__super__=Ae,Nh.prototype=n(Ae.prototype,{clone:function(){var t=new Nh(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TouchEvent",["type","bubbles","cancelable","touchPointID","isPrimaryTouchPoint","localX","localY","sizeX","sizeY","pressure","relatedObject","ctrlKey","altKey","shiftKey","commandKey","controlKey"])},updateAfterEvent:function(){},__class__:Nh});var Oh=function(){v.call(this)};(i["openfl.events.UncaughtErrorEvents"]=Oh).__name__=["openfl","events","UncaughtErrorEvents"],Oh.__super__=v,Oh.prototype=n(v.prototype,{__class__:Oh});var Uh=function(){};(i["openfl.filters.BitmapFilter"]=Uh).__name__=["openfl","filters","BitmapFilter"],Uh.__applyFilters=function(t,e,i){if(!i.__usingPingPongTexture)throw new Vs(":TODO: unsupported mode");for(var n=0;n<t.length;){var s=t[n];++n;for(var r=s.__getCommands(i),a=0;a<r.length;){var o=r[a];switch(++a,o[1]){case 0:var l=o[9],h=o[8],_=o[7],u=o[6],c=o[5],f=o[4],d=o[3],p=o[2],g=io.pool.get();g.x=h*Math.cos(l*Math.PI/180),g.y=h*Math.sin(l*Math.PI/180),Zh.apply(e,p,d,f,c,u,_,g),io.pool.put(g);break;case 1:var m=o[6],v=o[5],b=o[4],y=o[3],w=o[2],x=io.pool.get();x.x=v*Math.cos(m*Math.PI/180),x.y=v*Math.sin(m*Math.PI/180),d_.apply(e,w,y,b,x),io.pool.put(x);break;case 2:var T=o[5],S=o[4],E=o[3],I=o[2];n_.apply(e,I,E,S,T);break;case 3:var P=o[4],C=o[3],D=o[2];$h.apply(e,D,C,P);break;case 4:var A=o[5],R=o[4],M=o[3],F=o[2];e_.apply(e,F,M,R,A);break;case 5:var B=o[4],L=o[3],k=o[2];o_.apply(e,k,L,B);break;case 6:var N=o[4],O=o[3],U=o[2];r_.apply(e,U,O,N);break;case 7:var G=o[4],X=o[3],V=o[2];c_.apply(e,V,X,G);break;case 8:var z=o[4],H=o[3],Y=o[2];g_.apply(e,Y,H,z);break;case 9:var W=o[5],K=o[4],j=o[3],q=o[2];g_.apply(e,q,j,K,W);break;case 10:var J=o[5],Z=o[4],Q=o[3],$=o[2];__.apply(e,$,Q,Z,J)}}s.dispose()}i.disposeBackBuffer()},Uh.__expandBounds=function(t,e){for(var i=0;i<t.length;){var n=t[i];++i,n.__growBounds(e)}},Uh.__getOffset=function(t,e,i){t.x=e*Math.cos(i*Math.PI/180),t.y=e*Math.sin(i*Math.PI/180)},Uh.prototype={clone:function(){return new Uh},dispose:function(){},__applyFilter:function(t,e,i,n){throw new Vs(":TODO: Unsupported path. Patch code.")},equals:function(t){return!1},__growBounds:function(t){},__getCommands:function(t){return[]},__class__:Uh};function Gh(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=1),null==l&&(l=1),null==o&&(o=1),null==a&&(a=4),null==r&&(r=4),null==e&&(e=45),null==t&&(t=4),this.__lookupTextureIsDirty=!0,Uh.call(this),this.distance=t,this.angle=e,this.colors=i,this.alphas=n,this.ratios=s,this.blurX=r,this.blurY=a,this.strength=o,this.quality=l,this.type=h,this.knockout=_}(i["openfl.filters.GradientFilter"]=Gh).__name__=["openfl","filters","GradientFilter"],Gh.__super__=Uh,Gh.prototype=n(Uh.prototype,{dispose:function(){},equals:function(t){if(zs.__instanceof(t,Gh)){var e=t;if(this.colors.length!=e.colors.length)return!1;for(var i=0,n=this.colors.length;i<n;){var s=i++;if(this.colors[s]!=e.colors[s]||this.alphas[s]!=e.alphas[s]||this.ratios[s]!=e.ratios[s])return!1}return this.distance==e.distance&&this.angle==e.angle&&this.blurX==e.blurX&&this.blurY==e.blurY&&this.strength==e.strength&&this.quality==e.quality&&this.type==e.type&&this.knockout==e.knockout}return!1},updateLookupTexture:function(){var t=this.getHash();if(this.__lookupTexture=Gh.__textureCacheMap.h[t],null==this.__lookupTexture){this.__lookupTexture=new _l(256,1),Gh.__textureCacheMap.h[t]=this.__lookupTexture;for(var e=0,i=0,n=Math.max(Math.min(this.ratios[0]/255,1),0),s=(255&Math.round(255*this.alphas[0]))<<24|(255&(16777215&this.colors[0])>>>16)<<16|(255&(16777215&this.colors[0])>>>8)<<8|255&this.colors[0],r=(255&Math.round(255*this.alphas[0]))<<24|(255&(16777215&this.colors[0])>>>16)<<16|(255&(16777215&this.colors[0])>>>8)<<8|255&this.colors[0],a=this.__lookupTexture.physicalWidth,o=0,l=a;o<l;){var h=o++,_=(.5+h)/a;if(n<_){for(;n<_;)n=e<this.ratios.length-1?(++e,Math.max(Math.min(this.ratios[e]/255,1),0)):1;var u=0==e?0:e-1;r=(255&Math.round(255*this.alphas[e]))<<24|(255&(16777215&this.colors[e])>>>16)<<16|(255&(16777215&this.colors[e])>>>8)<<8|255&this.colors[e],s=(255&Math.round(255*this.alphas[u]))<<24|(255&(16777215&this.colors[u])>>>16)<<16|(255&(16777215&this.colors[u])>>>8)<<8|255&this.colors[u],i=Math.max(Math.min(this.ratios[u]/255,1),0)}for(var c=(_-i)/(n-i),f=Rt.toFloat((16777215&s)>>>16&255)/Rt.toFloat(255),d=Rt.toFloat((16777215&s)>>>8&255)/Rt.toFloat(255),p=Rt.toFloat(255&s)/Rt.toFloat(255),g=Rt.toFloat(s>>>24)/Rt.toFloat(255),m=255*(f+(Rt.toFloat((16777215&r)>>>16&255)/Rt.toFloat(255)-f)*c)|0,v=255*(d+(Rt.toFloat((16777215&r)>>>8&255)/Rt.toFloat(255)-d)*c)|0,b=255*(p+(Rt.toFloat(255&r)/Rt.toFloat(255)-p)*c)|0|v<<8|m<<16|(255*(g+(Rt.toFloat(r>>>24)/Rt.toFloat(255)-g)*c)|0)<<24,y=0,w=this.__lookupTexture.physicalHeight;y<w;){var x=y++;this.__lookupTexture.setPixel32(h,x,b)}}}else this.__lookupTextureIsDirty=!1},getHash:function(){for(var t=new tc(this.colors.length+this.alphas.length+this.ratios.length),e=0,i=0,n=this.colors.length;i<n;){var s=i++;t[s]=this.colors[s]}e+=this.colors.length;for(var r=0,a=this.alphas.length;r<a;){var o=r++;t[e+o]=this.alphas[o]}e+=this.alphas.length;for(var l=0,h=this.ratios.length;l<h;){var _=l++;t[e+_]=this.ratios[_]}return us.make(jn.ofData(t.buffer))},__class__:Gh});var Xh=function(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=1),null==l&&(l=1),null==o&&(o=1),null==a&&(a=4),null==r&&(r=4),null==e&&(e=45),null==t&&(t=4),Gh.call(this,t,e,i,n,s,r,a,o,l,h,_)};(i["openfl.filters.GradientBevelFilter"]=Xh).__name__=["openfl","filters","GradientBevelFilter"],Xh.__super__=Gh,Xh.prototype=n(Gh.prototype,{clone:function(){return new Xh(this.distance,this.angle,this.colors,this.alphas,this.ratios,this.blurX,this.blurY,this.strength,this.quality,this.type,this.knockout)},dispose:function(){null!=this.__highlightBitmapData&&(this.__highlightBitmapData.dispose(),this.__highlightBitmapData=null),null!=this.__shadowBitmapData&&(this.__shadowBitmapData.dispose(),this.__shadowBitmapData=null)},__growBounds:function(t){var e=io.pool.get(),i=this.distance,n=this.angle;e.x=i*Math.cos(n*Math.PI/180),e.y=i*Math.sin(n*Math.PI/180);var s=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),r=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x-=Math.abs(e.x)+s,t.y-=Math.abs(e.y)+r,t.width+=2*(Math.abs(e.x)+s),t.height+=2*(Math.abs(e.y)+r),io.pool.put(e)},__getCommands:function(t){var e=[],i=t;if(null==this.__highlightBitmapData&&(this.__highlightBitmapData=_l.__asRenderTexture()),null==this.__shadowBitmapData&&(this.__shadowBitmapData=_l.__asRenderTexture()),this.__lookupTextureIsDirty&&(this.updateLookupTexture(),this.__lookupTextureIsDirty=!1),this.__highlightBitmapData.__resizeTo(t),this.__shadowBitmapData.__resizeTo(t),1<this.blurX||1<this.blurY?(e.push(l_.Blur1D(this.__highlightBitmapData,i,this.blurX,this.quality,!0,1,this.distance,this.angle+180)),e.push(l_.Blur1D(this.__shadowBitmapData,i,this.blurX,this.quality,!0,1,this.distance,this.angle)),e.push(l_.Blur1D(this.__highlightBitmapData,this.__highlightBitmapData,this.blurY,this.quality,!1,1,0,0)),e.push(l_.Blur1D(this.__shadowBitmapData,this.__shadowBitmapData,this.blurY,this.quality,!1,1,0,0))):(e.push(l_.Offset(this.__highlightBitmapData,i,1,this.distance,this.angle+180)),e.push(l_.Offset(this.__shadowBitmapData,i,1,this.distance,this.angle))),e.push(l_.DestOut(this.__highlightBitmapData,this.__highlightBitmapData,this.__shadowBitmapData,this.strength)),this.knockout&&0==this.type)return e.push(l_.ColorLookup(t,this.__highlightBitmapData,this.__lookupTexture)),e;switch(e.push(l_.ColorLookup(this.__highlightBitmapData,this.__highlightBitmapData,this.__lookupTexture)),this.type){case 0:if(this.knockout)throw new Vs("knockout && full combination should already have been handled");e.push(l_.Combine(t,t,this.__highlightBitmapData));break;case 1:this.knockout?e.push(l_.InnerKnockout(t,t,this.__highlightBitmapData)):e.push(l_.CombineInner(t,t,this.__highlightBitmapData));break;case 2:this.knockout?e.push(l_.OuterKnockoutTransparency(t,t,this.__highlightBitmapData,!0)):e.push(l_.Combine(t,this.__highlightBitmapData,t))}return e},__class__:Xh});var Vh=function(t,e,i,n,s,r,a,o,l,h,_,u){null==u&&(u=!1),null==_&&(_=1),null==h&&(h=1),null==l&&(l=1),null==o&&(o=4),null==a&&(a=4),null==r&&(r=1),null==s&&(s=0),null==n&&(n=1),null==i&&(i=16777215),null==e&&(e=45),null==t&&(t=4),this.highlightColor=i,this.highlightAlpha=n;var c=[this.shadowColor=s,s,i,i],f=[this.shadowAlpha=r,0,0,n];Xh.call(this,t,e,c,f,[0,127,128,255],a,o,l,h,_,u)};(i["openfl.filters.BevelFilter"]=Vh).__name__=["openfl","filters","BevelFilter"],Vh.__super__=Xh,Vh.prototype=n(Xh.prototype,{clone:function(){return new Vh(this.distance,this.angle,this.highlightColor,this.highlightAlpha,this.shadowColor,this.shadowAlpha,this.blurX,this.blurY,this.strength,this.quality,this.type,this.knockout)},__class__:Vh});var zh={};(i["openfl.filters._BitmapFilterType.BitmapFilterType_Impl_"]=zh).__name__=["openfl","filters","_BitmapFilterType","BitmapFilterType_Impl_"],zh.fromString=function(t){switch(t){case"full":return 0;case"inner":return 1;case"outer":return 2;default:return null}},zh.toString=function(t){switch(t){case 0:return"full";case 1:return"inner";case 2:return"outer";default:return null}};var Hh=function(t,e,i){null==i&&(i=1),null==e&&(e=4),null==t&&(t=4),Uh.call(this),this.blurX=t,this.blurY=e,this.set_quality(i)};(i["openfl.filters.BlurFilter"]=Hh).__name__=["openfl","filters","BlurFilter"],Hh.__super__=Uh,Hh.prototype=n(Uh.prototype,{clone:function(){return new Hh(this.blurX,this.blurY,this.quality)},equals:function(t){if(zs.__instanceof(t,Hh)){var e=t;return this.blurX==e.blurX&&this.blurY==e.blurY&&this.quality==e.quality}return!1},__growBounds:function(t){var e=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),i=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x+=-e,t.y+=-i,t.width+=2*e,t.height+=2*i},__getCommands:function(t){var e=[];return 0<this.blurX&&e.push(l_.Blur1D(t,t,this.blurX,this.quality,!0,1,0,0)),0<this.blurY&&e.push(l_.Blur1D(t,t,this.blurY,this.quality,!1,1,0,0)),e},set_quality:function(t){return this.quality=t},__class__:Hh,__properties__:{set_quality:"set_quality"}});var Yh=function(t,e){if(Uh.call(this),null!=t&&16!=t.length)throw new Vs("Invalid length for color matrix filter multipliers");if(null!=e&&4!=e.length)throw new Vs("Invalid length for color matrix filter offsets");this.multipliers=t,this.offsets=e};(i["openfl.filters.ColorMatrixFilter"]=Yh).__name__=["openfl","filters","ColorMatrixFilter"],Yh.__super__=Uh,Yh.prototype=n(Uh.prototype,{clone:function(){return new Yh(this.multipliers,this.offsets)},equals:function(t){if(zs.__instanceof(t,Yh)){for(var e=t,i=0,n=this.multipliers.length;i<n;){var s=i++;if(this.multipliers[s]!=e.multipliers[s])return!1}for(var r=0,a=this.offsets.length;r<a;){var o=r++;if(this.offsets[o]!=e.offsets[o])return!1}return!0}return!1},__getCommands:function(t){return[l_.ColorTransform(t,t,this.multipliers,this.offsets)]},__class__:Yh});var Wh=function(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=!1),null==l&&(l=!1),null==o&&(o=1),null==a&&(a=1),null==r&&(r=4),null==s&&(s=4),null==n&&(n=1),null==i&&(i=0),null==e&&(e=45),null==t&&(t=4),Uh.call(this),this.distance=t,this.angle=e,this.color=i,this.alpha=n,this.blurX=s,this.blurY=r,this.strength=a,this.set_quality(o),this.inner=l,this.set_knockout(h),this.set_hideObject(_)};(i["openfl.filters.DropShadowFilter"]=Wh).__name__=["openfl","filters","DropShadowFilter"],Wh.__super__=Uh,Wh.prototype=n(Uh.prototype,{clone:function(){return new Wh(this.distance,this.angle,this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout,this.hideObject)},dispose:function(){null!=this.__shadowBitmapData&&(this.__shadowBitmapData.dispose(),this.__shadowBitmapData=null)},equals:function(t){if(zs.__instanceof(t,Wh)){var e=t;return!(this.distance!=e.distance||this.angle!=e.angle||this.color!=e.color||this.alpha!=e.alpha||this.blurX!=e.blurX||this.blurY!=e.blurY||this.strength!=e.strength||this.quality!=e.quality||this.inner!=e.inner||!this.knockout||!e.knockout)&&this.hideObject==e.hideObject}return!1},__growBounds:function(t){var e=io.pool.get(),i=this.distance,n=this.angle;e.x=i*Math.cos(n*Math.PI/180),e.y=i*Math.sin(n*Math.PI/180);var s=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),r=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x-=Math.abs(e.x)+s,t.y-=Math.abs(e.y)+r,t.width+=2*(Math.abs(e.x)+s),t.height+=2*(Math.abs(e.y)+r),io.pool.put(e)},__getCommands:function(t){var e=[],i=t;if(null==this.__shadowBitmapData&&(this.__shadowBitmapData=_l.__asRenderTexture()),this.__shadowBitmapData.__resizeTo(t),this.inner&&(e.push(l_.ColorTransform(this.__shadowBitmapData,t,Uh.__inverseAlphaMultipliers,Uh.__inverseAlphaOffsets)),i=this.__shadowBitmapData),1<this.blurX||1<this.blurY?(e.push(l_.Blur1D(this.__shadowBitmapData,i,this.blurX,this.quality,!0,1,this.distance,this.angle)),e.push(l_.Blur1D(this.__shadowBitmapData,this.__shadowBitmapData,this.blurY,this.quality,!1,this.strength,0,0))):e.push(l_.Offset(this.__shadowBitmapData,i,this.strength,this.distance,this.angle)),this.hideObject&&!this.knockout&&!this.inner)return e.push(l_.Colorize(t,this.__shadowBitmapData,this.color,this.alpha)),e;if(e.push(l_.Colorize(this.__shadowBitmapData,this.__shadowBitmapData,this.color,this.alpha)),this.inner)this.knockout||this.hideObject?e.push(l_.InnerKnockout(t,t,this.__shadowBitmapData)):e.push(l_.CombineInner(t,t,this.__shadowBitmapData));else if(this.knockout)e.push(l_.OuterKnockout(t,t,this.__shadowBitmapData));else{if(this.hideObject)throw new Vs("hideObject && !knockout && !inner combination should already have been handled");e.push(l_.Combine(t,this.__shadowBitmapData,t))}return e},set_knockout:function(t){return this.knockout=t},set_hideObject:function(t){return this.hideObject=t},set_quality:function(t){return this.quality=t},__class__:Wh,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout",set_hideObject:"set_hideObject"}});var Kh=function(t,e,i,n,s,r,a,o){null==o&&(o=!1),null==a&&(a=!1),null==r&&(r=1),null==s&&(s=2),null==n&&(n=6),null==i&&(i=6),null==e&&(e=1),null==t&&(t=16711680),Uh.call(this),0==i&&(i=1),0==n&&(n=1),this.color=t,this.alpha=e,this.blurX=i,this.blurY=n,this.strength=s,this.set_quality(r),this.inner=a,this.set_knockout(o)};(i["openfl.filters.GlowFilter"]=Kh).__name__=["openfl","filters","GlowFilter"],Kh.__super__=Uh,Kh.prototype=n(Uh.prototype,{clone:function(){return new Kh(this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout)},dispose:function(){null!=this.__glowBitmapData&&(this.__glowBitmapData.dispose(),this.__glowBitmapData=null)},equals:function(t){if(zs.__instanceof(t,Kh)){var e=t;return!(this.color!=e.color||this.alpha!=e.alpha||this.blurX!=e.blurX||this.blurY!=e.blurY||this.strength!=e.strength||this.quality!=e.quality||this.inner!=e.inner||!this.knockout)&&e.knockout}return!1},__growBounds:function(t){var e=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),i=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x+=-e,t.y+=-i,t.width+=2*e,t.height+=2*i},__getCommands:function(t){null==this.__glowBitmapData&&(this.__glowBitmapData=_l.__asRenderTexture());var e=[],i=t;return this.__glowBitmapData.__resizeTo(t),this.inner&&(e.push(l_.ColorTransform(this.__glowBitmapData,t,Uh.__inverseAlphaMultipliers,Uh.__inverseAlphaOffsets)),i=this.__glowBitmapData),e.push(l_.Blur1D(this.__glowBitmapData,i,this.blurX,this.quality,!0,1,0,0)),e.push(l_.Blur1D(this.__glowBitmapData,this.__glowBitmapData,this.blurY,this.quality,!1,this.strength,0,0)),e.push(l_.Colorize(this.__glowBitmapData,this.__glowBitmapData,this.color,this.alpha)),this.knockout?this.inner?e.push(l_.InnerKnockout(t,t,this.__glowBitmapData)):e.push(l_.OuterKnockout(t,t,this.__glowBitmapData)):this.inner?e.push(l_.CombineInner(t,t,this.__glowBitmapData)):e.push(l_.Combine(t,this.__glowBitmapData,t)),e},set_knockout:function(t){return this.knockout=t},set_quality:function(t){return this.quality=t},__class__:Kh,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout"}});var jh=function(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=1),null==l&&(l=1),null==o&&(o=1),null==a&&(a=4),null==r&&(r=4),null==e&&(e=45),null==t&&(t=4),Gh.call(this,t,e,i,n,s,r,a,o,l,h,_)};(i["openfl.filters.GradientGlowFilter"]=jh).__name__=["openfl","filters","GradientGlowFilter"],jh.__super__=Gh,jh.prototype=n(Gh.prototype,{clone:function(){return new jh(this.distance,this.angle,this.colors,this.alphas,this.ratios,this.blurX,this.blurY,this.strength,this.quality,this.type,this.knockout)},dispose:function(){null!=this.__glowBitmapData&&(this.__glowBitmapData.dispose(),this.__glowBitmapData=null)},__growBounds:function(t){var e=io.pool.get(),i=this.distance,n=this.angle;e.x=i*Math.cos(n*Math.PI/180),e.y=i*Math.sin(n*Math.PI/180);var s=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),r=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x-=Math.abs(e.x)+s,t.y-=Math.abs(e.y)+r,t.width+=2*(Math.abs(e.x)+s),t.height+=2*(Math.abs(e.y)+r),io.pool.put(e)},__getCommands:function(t){var e=[];switch(null==this.__glowBitmapData&&(this.__glowBitmapData=_l.__asRenderTexture()),this.__lookupTextureIsDirty&&(this.updateLookupTexture(),this.__lookupTextureIsDirty=!1),this.__glowBitmapData.__resizeTo(t),e.push(l_.Blur1D(this.__glowBitmapData,t,this.blurX,this.quality,!0,1,this.distance,this.angle)),e.push(l_.Blur1D(this.__glowBitmapData,this.__glowBitmapData,this.blurY,this.quality,!1,this.strength,0,0)),e.push(l_.ColorLookup(this.__glowBitmapData,this.__glowBitmapData,this.__lookupTexture)),this.type){case 0:e.push(l_.Combine(t,t,this.__glowBitmapData));break;case 1:e.push(l_.CombineInner(t,t,this.__glowBitmapData));break;case 2:e.push(l_.Combine(t,this.__glowBitmapData,t))}return e},__class__:jh});function qh(){this.__uFetchCount=new Vl("float",0),this.__uTexCoordDelta=new Vl("vec2",0),this.__uTexCoordOffset=new Vl("vec2",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform vec2 uTexCoordDelta;","uniform float uFetchCount;","uniform float uWeightTable[32];","void main(void)","{","vec2 texcoord_delta = uTexCoordDelta / "+Xl.uTextureSize+";","int fetch_count = int(uFetchCount);","vec4 result = vec4(0.0);","for(int i = 0; i < 32; ++i){","    if (i >= fetch_count) break;","    result += texture2D("+Xl.uSampler+", "+Xl.vTexCoord+" + texcoord_delta * float(i)) * uWeightTable[i];","}","\tgl_FragColor = clamp(result, 0.0, 1.0);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","uniform vec2 uTexCoordOffset;","void main(void)","{","vec2 texcoord_offset = uTexCoordOffset / "+Xl.uTextureSize+";",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+" - texcoord_offset;",Xl.vColor+" = "+Xl.aColor+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uTexCoordOffset",this.__uTexCoordOffset),this.data.set("uTexCoordDelta",this.__uTexCoordDelta),this.data.set("uFetchCount",this.__uFetchCount),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nuniform vec2 uTexCoordOffset;\nvoid main(void)\n{\nvec2 texcoord_offset = uTexCoordOffset / "+Xl.uTextureSize+";\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+" - texcoord_offset;\n"+Xl.vColor+" = "+Xl.aColor+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform vec2 uTexCoordDelta;\nuniform float uFetchCount;\nuniform float uWeightTable[32];\nvoid main(void)\n{\nvec2 texcoord_delta = uTexCoordDelta / "+Xl.uTextureSize+";\nint fetch_count = int(uFetchCount);\nvec4 result = vec4(0.0);\nfor(int i = 0; i < 32; ++i){\n    if (i >= fetch_count) break;\n    result += texture2D("+Xl.uSampler+", "+Xl.vTexCoord+" + texcoord_delta * float(i)) * uWeightTable[i];\n}\n\tgl_FragColor = clamp(result, 0.0, 1.0);\n}")}(i["openfl.filters.commands._Blur1DCommand.BlurShader"]=qh).__name__=["openfl","filters","commands","_Blur1DCommand","BlurShader"],qh.__super__=Xl,qh.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uTexCoordOffset:function(){return this.__uTexCoordOffset.value},set_uTexCoordOffset:function(t){var e=this.__uTexCoordOffset;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uTexCoordDelta:function(){return this.__uTexCoordDelta.value},set_uTexCoordDelta:function(t){var e=this.__uTexCoordDelta;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uFetchCount:function(){return this.__uFetchCount.value[0]},set_uFetchCount:function(t){return this.__uFetchCount.value[0]=t},__class__:qh,__properties__:{set_uFetchCount:"set_uFetchCount",get_uFetchCount:"get_uFetchCount",set_uTexCoordDelta:"set_uTexCoordDelta",get_uTexCoordDelta:"get_uTexCoordDelta",set_uTexCoordOffset:"set_uTexCoordOffset",get_uTexCoordOffset:"get_uTexCoordOffset",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var Jh=function(){};(i["openfl.filters.commands.CommandHelper"]=Jh).__name__=["openfl","filters","commands","CommandHelper"],Jh.vertexArray=null,Jh.shaderTable=null,Jh.addShader=function(t){null==Jh.shaderTable&&(Jh.shaderTable=[]),Jh.shaderTable.push(t)},Jh.initialize=function(t){var e=[];e.push(new nl(2,5126,!1,"openfl_aPosition")),e.push(new nl(2,5126,!1,"openfl_aTexCoord0")),Jh.vertexArray=new il(e,64,!0);var i=Jh.vertexArray.buffer,n=null!=i?new tc(i,0):null;if(n[0]=0,n[1]=0,n[4]=1,n[5]=0,n[8]=0,n[9]=1,n[12]=1,n[13]=1,n[2]=0,n[3]=0,n[6]=1,n[7]=0,n[10]=0,n[11]=1,n[14]=1,n[15]=1,Jh.vertexArray.setContext(t.gl,n),null!=Jh.shaderTable)for(var s=0,r=Jh.shaderTable;s<r.length;){var a=r[s];++s,a.__init(t.gl)}},Jh.apply=function(t,e,i,n,s,r){e.__usingPingPongTexture&&e.__pingPongTexture.swap(),s&&(e.__pingPongTexture.useOldTexture=!0),e.__pushFrameBuffer(t,!0,!0,!0);var a=t.gl;if(null!=n){n.__init(a),n.__shader.wrapS=n.repeatX,n.__shader.wrapT=n.repeatY,n.__shader.smooth=n.smooth,n.__shader.blendMode=n.blendMode;var o=n.data.get(Xl.uObjectSize),l=n.data.get(Xl.uTextureSize),h=n.data.get("openfl_uScaleVector");if(null!=i)if(o.value[0]=i.width,o.value[1]=i.height,null!=i.__pingPongTexture){var _=i.__pingPongTexture,u=_.__swapped?_.__texture1:_.__texture0;l.value[0]=u.__width,l.value[1]=u.__height,h.value[0]=u.__uvData.x1,h.value[1]=u.__uvData.y2}else l.value[0]=i.width,l.value[1]=i.height,h.value[0]=i.__uvData.x1,h.value[1]=i.__uvData.y2;else o.value[0]=0,o.value[1]=0,l.value[0]=0,l.value[1]=0,h.value[0]=0,h.value[1]=0}var c=n.__shader;t.shaderManager.setShader(c);var f=Jh.vertexArray;f.gl;Zr.context.bindBuffer(f.gl.ARRAY_BUFFER,f.glBuffer),c.bindVertexArray(Jh.vertexArray);var d=c.blendMode;null==d&&(d=10),t.blendModeManager.setBlendMode(d);var p=a.TEXTURE0;p!=Zr.currentActiveTexture&&(Zr.context.activeTexture(p),Zr.currentActiveTexture=p);var g=a.TEXTURE_2D,m=i.getTexture(a);Zr.currentBoundTexture[Zr.currentActiveTexture]!=m&&(Zr.context.bindTexture(g,m),null==(Zr.currentBoundTexture[Zr.currentActiveTexture]=m)||Zr.textureStateCache.exists(m)||Zr.textureStateCache.set(m,new fs));var v=a.TEXTURE_2D,b=a.TEXTURE_MAG_FILTER,y=a.LINEAR,w=Zr.currentBoundTexture[Zr.currentActiveTexture],x=Zr.textureStateCache.get(w);x.h[b]!=y&&(Zr.context.texParameteri(v,b,y),x.h[b]=y);var T=a.TEXTURE_2D,S=a.TEXTURE_MIN_FILTER,E=a.LINEAR,I=Zr.currentBoundTexture[Zr.currentActiveTexture],P=Zr.textureStateCache.get(I);P.h[S]!=E&&(Zr.context.texParameteri(T,S,E),P.h[S]=E);var C=a.TEXTURE_2D,D=a.TEXTURE_WRAP_S,A=c.wrapS,R=Zr.currentBoundTexture[Zr.currentActiveTexture],M=Zr.textureStateCache.get(R);M.h[D]!=A&&(Zr.context.texParameteri(C,D,A),M.h[D]=A);var F=a.TEXTURE_2D,B=a.TEXTURE_WRAP_T,L=c.wrapT,k=Zr.currentBoundTexture[Zr.currentActiveTexture],N=Zr.textureStateCache.get(k);N.h[B]!=L&&(Zr.context.texParameteri(F,B,L),N.h[B]=L),t.activeTextures=1,c.applyData(n.data,t),null!=r&&r(t),Zr.context.drawArrays(a.TRIANGLE_STRIP,0,4),Oo.popFramebuffer(t,null),e.__imageShouldBeSynced=!0;var O=e.__pingPongTexture,U=(O.__swapped?O.__texture1:O.__texture0).__uvData;e.__createUVs(U.x0,U.y0,U.x1,U.y1,U.x2,U.y2,U.x3,U.y3),e.__isValid=!0,e.__usingPingPongTexture=!0,s&&(e.__pingPongTexture.useOldTexture=!1)},Jh.prepareShader=function(t,e,i){if(null!=e){e.__init(t),e.__shader.wrapS=e.repeatX,e.__shader.wrapT=e.repeatY,e.__shader.smooth=e.smooth,e.__shader.blendMode=e.blendMode;var n=e.data.get(Xl.uObjectSize),s=e.data.get(Xl.uTextureSize),r=e.data.get("openfl_uScaleVector");if(null!=i)if(n.value[0]=i.width,n.value[1]=i.height,null!=i.__pingPongTexture){var a=i.__pingPongTexture,o=a.__swapped?a.__texture1:a.__texture0;s.value[0]=o.__width,s.value[1]=o.__height,r.value[0]=o.__uvData.x1,r.value[1]=o.__uvData.y2}else s.value[0]=i.width,s.value[1]=i.height,r.value[0]=i.__uvData.x1,r.value[1]=i.__uvData.y2;else n.value[0]=0,n.value[1]=0,s.value[0]=0,s.value[1]=0,r.value[0]=0,r.value[1]=0}};var Zh=function(){};(i["openfl.filters.commands.Blur1DCommand"]=Zh).__name__=["openfl","filters","commands","Blur1DCommand"],Zh.apply=function(t,e,i,n,s,r,a,o){var l,h,_,u=Math.ceil(n),c=(u-1)/2;h=r?(l=n*s-1,0):(l=0,n*s-1);for(var f=u+0*(u-1),d=null!=f?new tc(f):null,p=1/u,g=0,m=u;g<m;){d[g++]=p}for(var v=1,b=s;v<b;){var y=v++,w=d,x=d.length;d=null!=(f=u+y*(u-1))?new tc(f):null;for(var T=2*c|0,S=0,E=f;S<E;)for(var I=S++,P=d[I]=0,C=u;P<C;){var D=I-T+P++;if(0<=D&&D<x)d[I]+=p*w[D]}}var A=(_=d).length,R=A;if(32<A){for(var M=1+(A-32)>>1,F=0,B=0,L=(_=_.subarray(M,A-M)).length;B<L;){var k=B++;F+=_[k]}for(var N=a/F,O=0,U=_.length;O<U;){var G=O++;_[G]*=N}A=_.length}else for(var X=0,V=_.length;X<V;){var z=X++;_[z]*=a}1<(Zh.__shader.__uFetchCount.value[0]=A)?(Zh.__shader.__uTexCoordDelta.value[0]=l/(R-1),Zh.__shader.__uTexCoordDelta.value[1]=h/(R-1)):(Zh.__shader.__uTexCoordDelta.value[0]=0,Zh.__shader.__uTexCoordDelta.value[1]=0),Zh.__shader.__uTexCoordOffset.value[0]=.5*A/R*l+o.x,Zh.__shader.__uTexCoordOffset.value[1]=.5*A/R*h+o.y,Jh.apply(t,e,i,Zh.__shader,i==e,function(t){Zh.preDrawCallback(t,_)})},Zh.preDrawCallback=function(t,e){t.gl;var i=Zh.__shader.__shader.getUniformLocation("uWeightTable");Zr.context.uniform1fv(i,e)};function Qh(){this.__uColorLookupSampler=new Vl("sampler2D",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform sampler2D uColorLookupSampler;","void main(void)","{","float a = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+").a;","gl_FragColor = texture2D(uColorLookupSampler, vec2(a, 0.5));","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uColorLookupSampler",this.__uColorLookupSampler),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uColorLookupSampler;\nvoid main(void)\n{\nfloat a = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+").a;\ngl_FragColor = texture2D(uColorLookupSampler, vec2(a, 0.5));\n}")}(i["openfl.filters.commands._ColorLookupCommand.ColorLookupShader"]=Qh).__name__=["openfl","filters","commands","_ColorLookupCommand","ColorLookupShader"],Qh.__super__=Xl,Qh.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uColorLookupSampler:function(){return this.__uColorLookupSampler.bitmap},set_uColorLookupSampler:function(t){var e=this.__uColorLookupSampler;if(4!=e.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},__class__:Qh,__properties__:{set_uColorLookupSampler:"set_uColorLookupSampler",get_uColorLookupSampler:"get_uColorLookupSampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var $h=function(){};(i["openfl.filters.commands.ColorLookupCommand"]=$h).__name__=["openfl","filters","commands","ColorLookupCommand"],$h.apply=function(t,e,i,n){var s=$h.__shader.__uColorLookupSampler;if(4!=s.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");s.bitmap=n,Jh.apply(t,e,i,$h.__shader,i==e)};function t_(){this.__uOffsets=new Vl("vec4",0),this.__uMultipliers=new Vl("mat4",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform mat4 uMultipliers;","uniform vec4 uOffsets;","void main(void) {","\tvec4 color = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");","\tcolor = vec4(color.rgb / (color.a + 0.000001), color.a);","\tcolor = uOffsets + color * uMultipliers;","\tcolor = vec4(color.rgb * color.a, color.a);","\tgl_FragColor = color;","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uMultipliers",this.__uMultipliers),this.data.set("uOffsets",this.__uOffsets),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform mat4 uMultipliers;\nuniform vec4 uOffsets;\nvoid main(void) {\n\tvec4 color = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");\n\tcolor = vec4(color.rgb / (color.a + 0.000001), color.a);\n\tcolor = uOffsets + color * uMultipliers;\n\tcolor = vec4(color.rgb * color.a, color.a);\n\tgl_FragColor = color;\n}")}(i["openfl.filters.commands._ColorTransformCommand.ColorTransformShader"]=t_).__name__=["openfl","filters","commands","_ColorTransformCommand","ColorTransformShader"],t_.__super__=Xl,t_.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uMultipliers:function(){return this.__uMultipliers.value},set_uMultipliers:function(t){var e=this.__uMultipliers;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uOffsets:function(){return this.__uOffsets.value},set_uOffsets:function(t){var e=this.__uOffsets;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},__class__:t_,__properties__:{set_uOffsets:"set_uOffsets",get_uOffsets:"get_uOffsets",set_uMultipliers:"set_uMultipliers",get_uMultipliers:"get_uMultipliers",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var e_=function(){};(i["openfl.filters.commands.ColorTransformCommand"]=e_).__name__=["openfl","filters","commands","ColorTransformCommand"],e_.apply=function(t,e,i,n,s){var r=e_.__shader.__uMultipliers;if(4==r.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");r.value=n;var a=e_.__shader.__uOffsets;if(4==a.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");a.value=s,Jh.apply(t,e,i,e_.__shader,i==e)};function i_(){this.__uColor=new Vl("vec4",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform vec4 uColor;","void main(void)","{","float a = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+").a;","a = clamp(a * uColor.a, 0.0, 1.0);","gl_FragColor = vec4(uColor.rgb * a, a);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uColor",this.__uColor),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform vec4 uColor;\nvoid main(void)\n{\nfloat a = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+").a;\na = clamp(a * uColor.a, 0.0, 1.0);\ngl_FragColor = vec4(uColor.rgb * a, a);\n}")}(i["openfl.filters.commands._ColorizeCommand.ColorizeShader"]=i_).__name__=["openfl","filters","commands","_ColorizeCommand","ColorizeShader"],i_.__super__=Xl,i_.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uColor:function(){return this.__uColor.value},set_uColor:function(t){var e=this.__uColor;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},__class__:i_,__properties__:{set_uColor:"set_uColor",get_uColor:"get_uColor",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var n_=function(){};(i["openfl.filters.commands.ColorizeCommand"]=n_).__name__=["openfl","filters","commands","ColorizeCommand"],n_.apply=function(t,e,i,n,s){n_.__shader.__uColor.value[0]=(n>>16&255)/255,n_.__shader.__uColor.value[1]=(n>>8&255)/255,n_.__shader.__uColor.value[2]=(255&n)/255,n_.__shader.__uColor.value[3]=s,Jh.apply(t,e,i,n_.__shader,i==e)};function s_(){this.__uSource1Sampler=new Vl("sampler2D",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","void main(void)","{","vec4 src2 = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+Xl.vTexCoord+");","gl_FragColor = src2 + src1 * (1.0 - src2.a);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nvoid main(void)\n{\nvec4 src2 = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+Xl.vTexCoord+");\ngl_FragColor = src2 + src1 * (1.0 - src2.a);\n}")}(i["openfl.filters.commands._CombineCommand.CombineShader"]=s_).__name__=["openfl","filters","commands","_CombineCommand","CombineShader"],s_.__super__=Xl,s_.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},__class__:s_,__properties__:{set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var r_=function(){};(i["openfl.filters.commands.CombineCommand"]=r_).__name__=["openfl","filters","commands","CombineCommand"],r_.apply=function(t,e,i,n){var s=r_.__shader.__uSource1Sampler;if(4!=s.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");s.bitmap=i,Jh.apply(t,e,n,r_.__shader,i==e||n==e)};function a_(){this.__uSource1Sampler=new Vl("sampler2D",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","void main(void)","{","vec4 src2 = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+Xl.vTexCoord+");","gl_FragColor = clamp(src1 * (1.0 - src2.a) + src1.a * src2, 0.0, 1.0);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nvoid main(void)\n{\nvec4 src2 = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+Xl.vTexCoord+");\ngl_FragColor = clamp(src1 * (1.0 - src2.a) + src1.a * src2, 0.0, 1.0);\n}")}(i["openfl.filters.commands._CombineInnerCommand.CombineInnerShader"]=a_).__name__=["openfl","filters","commands","_CombineInnerCommand","CombineInnerShader"],a_.__super__=Xl,a_.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},__class__:a_,__properties__:{set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var o_=function(){};(i["openfl.filters.commands.CombineInnerCommand"]=o_).__name__=["openfl","filters","commands","CombineInnerCommand"],o_.apply=function(t,e,i,n){var s=o_.__shader.__uSource1Sampler;if(4!=s.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");s.bitmap=i,Jh.apply(t,e,n,o_.__shader,i==e||n==e)};var l_=i["openfl.filters.commands.CommandType"]={__ename__:!0,__constructs__:["Blur1D","Offset","Colorize","ColorLookup","ColorTransform","CombineInner","Combine","InnerKnockout","OuterKnockout","OuterKnockoutTransparency","DestOut"]};l_.Blur1D=function(t,e,i,n,s,r,a,o){var l=["Blur1D",0,t,e,i,n,s,r,a,o];return l.__enum__=l_,l.toString=f,l},l_.Offset=function(t,e,i,n,s){var r=["Offset",1,t,e,i,n,s];return r.__enum__=l_,r.toString=f,r},l_.Colorize=function(t,e,i,n){var s=["Colorize",2,t,e,i,n];return s.__enum__=l_,s.toString=f,s},l_.ColorLookup=function(t,e,i){var n=["ColorLookup",3,t,e,i];return n.__enum__=l_,n.toString=f,n},l_.ColorTransform=function(t,e,i,n){var s=["ColorTransform",4,t,e,i,n];return s.__enum__=l_,s.toString=f,s},l_.CombineInner=function(t,e,i){var n=["CombineInner",5,t,e,i];return n.__enum__=l_,n.toString=f,n},l_.Combine=function(t,e,i){var n=["Combine",6,t,e,i];return n.__enum__=l_,n.toString=f,n},l_.InnerKnockout=function(t,e,i){var n=["InnerKnockout",7,t,e,i];return n.__enum__=l_,n.toString=f,n},l_.OuterKnockout=function(t,e,i){var n=["OuterKnockout",8,t,e,i];return n.__enum__=l_,n.toString=f,n},l_.OuterKnockoutTransparency=function(t,e,i,n){var s=["OuterKnockoutTransparency",9,t,e,i,n];return s.__enum__=l_,s.toString=f,s},l_.DestOut=function(t,e,i,n){var s=["DestOut",10,t,e,i,n];return s.__enum__=l_,s.toString=f,s};function h_(){this.__uStrength=new Vl("float",0),this.__uShadowSourceSampler=new Vl("sampler2D",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform sampler2D uShadowSourceSampler;","uniform float uStrength;","void main(void)","{","float highlight = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+").a;","float shadow = texture2D(uShadowSourceSampler, "+Xl.vTexCoord+").a;","float high = clamp((highlight - shadow) * uStrength, 0., 1.);","float low = clamp((shadow - highlight) * uStrength, 0., 1.);","gl_FragColor = vec4(0.5 * ( 1. + high - low ));","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uShadowSourceSampler",this.__uShadowSourceSampler),this.data.set("uStrength",this.__uStrength),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uShadowSourceSampler;\nuniform float uStrength;\nvoid main(void)\n{\nfloat highlight = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+").a;\nfloat shadow = texture2D(uShadowSourceSampler, "+Xl.vTexCoord+").a;\nfloat high = clamp((highlight - shadow) * uStrength, 0., 1.);\nfloat low = clamp((shadow - highlight) * uStrength, 0., 1.);\ngl_FragColor = vec4(0.5 * ( 1. + high - low ));\n}")}(i["openfl.filters.commands._DestOutCommand.DestOutShader"]=h_).__name__=["openfl","filters","commands","_DestOutCommand","DestOutShader"],h_.__super__=Xl,h_.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uShadowSourceSampler:function(){return this.__uShadowSourceSampler.bitmap},set_uShadowSourceSampler:function(t){var e=this.__uShadowSourceSampler;if(4!=e.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},get_uStrength:function(){return this.__uStrength.value[0]},set_uStrength:function(t){return this.__uStrength.value[0]=t},__class__:h_,__properties__:{set_uStrength:"set_uStrength",get_uStrength:"get_uStrength",set_uShadowSourceSampler:"set_uShadowSourceSampler",get_uShadowSourceSampler:"get_uShadowSourceSampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var __=function(){};(i["openfl.filters.commands.DestOutCommand"]=__).__name__=["openfl","filters","commands","DestOutCommand"],__.apply=function(t,e,i,n,s){var r=__.__shader.__uShadowSourceSampler;if(4!=r.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");r.bitmap=n,__.__shader.__uStrength.value[0]=s,Jh.apply(t,e,i,__.__shader,i==e||n==e)};function u_(){this.__outer=new Vl("float",0),this.__uSource1Sampler=new Vl("sampler2D",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","uniform float outer;","void main(void)","{","vec4 src2 = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+Xl.vTexCoord+");","src2 *= src1.a;","gl_FragColor = src2;","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.data.set("outer",this.__outer),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nuniform float outer;\nvoid main(void)\n{\nvec4 src2 = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+Xl.vTexCoord+");\nsrc2 *= src1.a;\ngl_FragColor = src2;\n}")}(i["openfl.filters.commands._InnerKnockoutCommand.InnerKnockoutShader"]=u_).__name__=["openfl","filters","commands","_InnerKnockoutCommand","InnerKnockoutShader"],u_.__super__=Xl,u_.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},get_outer:function(){return this.__outer.value[0]},set_outer:function(t){return this.__outer.value[0]=t},__class__:u_,__properties__:{set_outer:"set_outer",get_outer:"get_outer",set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var c_=function(){};(i["openfl.filters.commands.InnerKnockoutCommand"]=c_).__name__=["openfl","filters","commands","InnerKnockoutCommand"],c_.apply=function(t,e,i,n){var s=c_.__shader.__uSource1Sampler;if(4!=s.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");s.bitmap=i,Jh.apply(t,e,n,c_.__shader,i==e||n==e)};function f_(){this.__uStrength=new Vl("float",0),this.__uTexCoordOffset=new Vl("vec2",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform float uStrength;","void main(void)","{","vec4 result = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");","gl_FragColor = clamp(result * uStrength, 0.0, 1.0);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","uniform vec2 uTexCoordOffset;","void main(void)","{","vec2 texcoord_offset = uTexCoordOffset / "+Xl.uTextureSize+";",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+" - texcoord_offset;",Xl.vColor+" = "+Xl.aColor+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uTexCoordOffset",this.__uTexCoordOffset),this.data.set("uStrength",this.__uStrength),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nuniform vec2 uTexCoordOffset;\nvoid main(void)\n{\nvec2 texcoord_offset = uTexCoordOffset / "+Xl.uTextureSize+";\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+" - texcoord_offset;\n"+Xl.vColor+" = "+Xl.aColor+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform float uStrength;\nvoid main(void)\n{\nvec4 result = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");\ngl_FragColor = clamp(result * uStrength, 0.0, 1.0);\n}")}(i["openfl.filters.commands._OffsetCommand.OffsetShader"]=f_).__name__=["openfl","filters","commands","_OffsetCommand","OffsetShader"],f_.__super__=Xl,f_.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uTexCoordOffset:function(){return this.__uTexCoordOffset.value},set_uTexCoordOffset:function(t){var e=this.__uTexCoordOffset;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uStrength:function(){return this.__uStrength.value[0]},set_uStrength:function(t){return this.__uStrength.value[0]=t},__class__:f_,__properties__:{set_uStrength:"set_uStrength",get_uStrength:"get_uStrength",set_uTexCoordOffset:"set_uTexCoordOffset",get_uTexCoordOffset:"get_uTexCoordOffset",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var d_=function(){};(i["openfl.filters.commands.OffsetCommand"]=d_).__name__=["openfl","filters","commands","OffsetCommand"],d_.apply=function(t,e,i,n,s){d_.__shader.__uTexCoordOffset.value[0]=s.x,d_.__shader.__uTexCoordOffset.value[1]=s.y,d_.__shader.__uStrength.value[0]=n,Jh.apply(t,e,i,d_.__shader,i==e)};function p_(){this.__allow_transparency=new Vl("float",0),this.__uSource1Sampler=new Vl("sampler2D",0),this.__openfl_uScaleVector=new Vl("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","uniform float allow_transparency;","void main(void)","{","vec4 src2 = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+Xl.vTexCoord+");","src2 *=  1. - ( allow_transparency * src1.a + ( 1. - allow_transparency ) * step(0.0001, src1.a) );","gl_FragColor = src2;","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";","gl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Xl.call(this),Jh.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.data.set("allow_transparency",this.__allow_transparency),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Xl.vTexCoord+" = openfl_uScaleVector * "+Xl.aTexCoord+";\ngl_Position = vec4("+Xl.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nuniform float allow_transparency;\nvoid main(void)\n{\nvec4 src2 = texture2D("+Xl.uSampler+", "+Xl.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+Xl.vTexCoord+");\nsrc2 *=  1. - ( allow_transparency * src1.a + ( 1. - allow_transparency ) * step(0.0001, src1.a) );\ngl_FragColor = src2;\n}")}(i["openfl.filters.commands._OuterKnockoutCommand.OuterKnockoutShader"]=p_).__name__=["openfl","filters","commands","_OuterKnockoutCommand","OuterKnockoutShader"],p_.__super__=Xl,p_.prototype=n(Xl.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new Vs("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},get_allow_transparency:function(){return this.__allow_transparency.value[0]},set_allow_transparency:function(t){return this.__allow_transparency.value[0]=t},__class__:p_,__properties__:{set_allow_transparency:"set_allow_transparency",get_allow_transparency:"get_allow_transparency",set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var g_=function(){};(i["openfl.filters.commands.OuterKnockoutCommand"]=g_).__name__=["openfl","filters","commands","OuterKnockoutCommand"],g_.apply=function(t,e,i,n,s){null==s&&(s=!0);var r=g_.__shader.__uSource1Sampler;if(4!=r.internalType)throw new Vs("This parameter doesn't accept a bitmap, use value instead");r.bitmap=i,g_.__shader.__allow_transparency.value[0]=s?1:0,Jh.apply(t,e,n,g_.__shader,i==e||n==e)};function m_(t){if(null!=t&&16==t.length)this.rawData=t;else{var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i=new De;i.length=e.length,i.fixed=!0,i.data=e.slice(0),this.rawData=i}}(i["openfl.geom.Matrix3D"]=m_).__name__=["openfl","geom","Matrix3D"],m_.create2D=function(t,e,i,n){null==n&&(n=0),null==i&&(i=1);var s=n*Math.PI/180,r=Math.cos(s),a=Math.sin(s),o=[r*i,-a*i,0,0,a*i,r*i,0,0,0,0,1,0,t,e,0,1],l=new De;return l.length=o.length,l.fixed=!0,l.data=o.slice(0),new m_(l)},m_.createABCD=function(t,e,i,n,s,r){var a=[t,e,0,0,i,n,0,0,0,0,1,0,s,r,0,1],o=new De;return o.length=a.length,o.fixed=!0,o.data=a.slice(0),new m_(o)},m_.createOrtho=function(t,e,i,n,s,r){var a=1/(e-t),o=1/(n-i),l=1/(r-s),h=[2*a,0,0,0,0,2*o,0,0,0,0,-2*l,0,-(t+e)*a,-(i+n)*o,-(s+r)*l,1],_=new De;return _.length=h.length,_.fixed=!0,_.data=h.slice(0),new m_(_)},m_.interpolate=function(t,e,i){for(var n=new m_,s=0;s<16;){var r=s++,a=n.rawData,o=t.rawData.data[r]+(e.rawData.data[r]-t.rawData.data[r])*i;if(!a.fixed&&(r>=a.length&&(a.length=1+r),a.data.length<a.length)){var l=a.data.length+10,h=new Array(l);ms.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[r]=o}return n},m_.__getAxisRotation=function(t,e,i,n){var s=new m_,r=new w_(t,e,i),a=-n*(Math.PI/180),o=Math.cos(a),l=Math.sin(a),h=1-o,_=s.rawData,u=o+r.x*r.x*h;if(!_.fixed&&(_.length<=0&&(_.length=1),_.data.length<_.length)){var c=_.data.length+10,f=new Array(c);ms.blit(_.data,0,f,0,_.data.length),_.data=f}_.data[0]=u;var d=s.rawData,p=o+r.y*r.y*h;if(!d.fixed&&(d.length<=5&&(d.length=6),d.data.length<d.length)){var g=d.data.length+10,m=new Array(g);ms.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[5]=p;var v=s.rawData,b=o+r.z*r.z*h;if(!v.fixed&&(v.length<=10&&(v.length=11),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);ms.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[10]=b;var x=r.x*r.y*h,T=r.z*l,S=s.rawData;if(!S.fixed&&(S.length<=4&&(S.length=5),S.data.length<S.length)){var E=S.data.length+10,I=new Array(E);ms.blit(S.data,0,I,0,S.data.length),S.data=I}S.data[4]=x+T;var P=s.rawData;if(!P.fixed&&(P.length<=1&&(P.length=2),P.data.length<P.length)){var C=P.data.length+10,D=new Array(C);ms.blit(P.data,0,D,0,P.data.length),P.data=D}P.data[1]=x-T,x=r.x*r.z*h,T=r.y*l;var A=s.rawData;if(!A.fixed&&(A.length<=8&&(A.length=9),A.data.length<A.length)){var R=A.data.length+10,M=new Array(R);ms.blit(A.data,0,M,0,A.data.length),A.data=M}A.data[8]=x-T;var F=s.rawData;if(!F.fixed&&(F.length<=2&&(F.length=3),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);ms.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[2]=x+T,x=r.y*r.z*h,T=r.x*l;var k=s.rawData;if(!k.fixed&&(k.length<=9&&(k.length=10),k.data.length<k.length)){var N=k.data.length+10,O=new Array(N);ms.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[9]=x+T;var U=s.rawData;if(!U.fixed&&(U.length<=6&&(U.length=7),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);ms.blit(U.data,0,X,0,U.data.length),U.data=X}return U.data[6]=x-T,s},m_.prototype={append:function(t){var e=this.rawData.data[0],i=this.rawData.data[4],n=this.rawData.data[8],s=this.rawData.data[12],r=this.rawData.data[1],a=this.rawData.data[5],o=this.rawData.data[9],l=this.rawData.data[13],h=this.rawData.data[2],_=this.rawData.data[6],u=this.rawData.data[10],c=this.rawData.data[14],f=this.rawData.data[3],d=this.rawData.data[7],p=this.rawData.data[11],g=this.rawData.data[15],m=t.rawData.data[0],v=t.rawData.data[4],b=t.rawData.data[8],y=t.rawData.data[12],w=t.rawData.data[1],x=t.rawData.data[5],T=t.rawData.data[9],S=t.rawData.data[13],E=t.rawData.data[2],I=t.rawData.data[6],P=t.rawData.data[10],C=t.rawData.data[14],D=t.rawData.data[3],A=t.rawData.data[7],R=t.rawData.data[11],M=t.rawData.data[15],F=this.rawData;if(!F.fixed&&(F.length<=0&&(F.length=1),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);ms.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[0]=e*m+r*v+h*b+f*y;var k=this.rawData;if(!k.fixed&&(k.length<=1&&(k.length=2),k.data.length<k.length)){var N=k.data.length+10,O=new Array(N);ms.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[1]=e*w+r*x+h*T+f*S;var U=this.rawData;if(!U.fixed&&(U.length<=2&&(U.length=3),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);ms.blit(U.data,0,X,0,U.data.length),U.data=X}U.data[2]=e*E+r*I+h*P+f*C;var V=this.rawData;if(!V.fixed&&(V.length<=3&&(V.length=4),V.data.length<V.length)){var z=V.data.length+10,H=new Array(z);ms.blit(V.data,0,H,0,V.data.length),V.data=H}V.data[3]=e*D+r*A+h*R+f*M;var Y=this.rawData;if(!Y.fixed&&(Y.length<=4&&(Y.length=5),Y.data.length<Y.length)){var W=Y.data.length+10,K=new Array(W);ms.blit(Y.data,0,K,0,Y.data.length),Y.data=K}Y.data[4]=i*m+a*v+_*b+d*y;var j=this.rawData;if(!j.fixed&&(j.length<=5&&(j.length=6),j.data.length<j.length)){var q=j.data.length+10,J=new Array(q);ms.blit(j.data,0,J,0,j.data.length),j.data=J}j.data[5]=i*w+a*x+_*T+d*S;var Z=this.rawData;if(!Z.fixed&&(Z.length<=6&&(Z.length=7),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);ms.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[6]=i*E+a*I+_*P+d*C;var tt=this.rawData;if(!tt.fixed&&(tt.length<=7&&(tt.length=8),tt.data.length<tt.length)){var et=tt.data.length+10,it=new Array(et);ms.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[7]=i*D+a*A+_*R+d*M;var nt=this.rawData;if(!nt.fixed&&(nt.length<=8&&(nt.length=9),nt.data.length<nt.length)){var st=nt.data.length+10,rt=new Array(st);ms.blit(nt.data,0,rt,0,nt.data.length),nt.data=rt}nt.data[8]=n*m+o*v+u*b+p*y;var at=this.rawData;if(!at.fixed&&(at.length<=9&&(at.length=10),at.data.length<at.length)){var ot=at.data.length+10,lt=new Array(ot);ms.blit(at.data,0,lt,0,at.data.length),at.data=lt}at.data[9]=n*w+o*x+u*T+p*S;var ht=this.rawData;if(!ht.fixed&&(ht.length<=10&&(ht.length=11),ht.data.length<ht.length)){var _t=ht.data.length+10,ut=new Array(_t);ms.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[10]=n*E+o*I+u*P+p*C;var ct=this.rawData;if(!ct.fixed&&(ct.length<=11&&(ct.length=12),ct.data.length<ct.length)){var ft=ct.data.length+10,dt=new Array(ft);ms.blit(ct.data,0,dt,0,ct.data.length),ct.data=dt}ct.data[11]=n*D+o*A+u*R+p*M;var pt=this.rawData;if(!pt.fixed&&(pt.length<=12&&(pt.length=13),pt.data.length<pt.length)){var gt=pt.data.length+10,mt=new Array(gt);ms.blit(pt.data,0,mt,0,pt.data.length),pt.data=mt}pt.data[12]=s*m+l*v+c*b+g*y;var vt=this.rawData;if(!vt.fixed&&(vt.length<=13&&(vt.length=14),vt.data.length<vt.length)){var bt=vt.data.length+10,yt=new Array(bt);ms.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=s*w+l*x+c*T+g*S;var wt=this.rawData;if(!wt.fixed&&(wt.length<=14&&(wt.length=15),wt.data.length<wt.length)){var xt=wt.data.length+10,Tt=new Array(xt);ms.blit(wt.data,0,Tt,0,wt.data.length),wt.data=Tt}wt.data[14]=s*E+l*I+c*P+g*C;var St=this.rawData;if(!St.fixed&&(St.length<=15&&(St.length=16),St.data.length<St.length)){var Et=St.data.length+10,It=new Array(Et);ms.blit(St.data,0,It,0,St.data.length),St.data=It}St.data[15]=s*D+l*A+c*R+g*M},appendRotation:function(t,e,i){var n=m_.__getAxisRotation(e.x,e.y,e.z,t);if(null!=i){var s=i;n.appendTranslation(s.x,s.y,s.z)}this.append(n)},appendScale:function(t,e,i){var n=[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],s=new De;s.length=n.length,s.fixed=!0,s.data=n.slice(0),this.append(new m_(s))},appendTranslation:function(t,e,i){var n=this.rawData,s=n.data[12]+t;if(!n.fixed&&(n.length<=12&&(n.length=13),n.data.length<n.length)){var r=n.data.length+10,a=new Array(r);ms.blit(n.data,0,a,0,n.data.length),n.data=a}n.data[12]=s;var o=this.rawData,l=o.data[13]+e;if(!o.fixed&&(o.length<=13&&(o.length=14),o.data.length<o.length)){var h=o.data.length+10,_=new Array(h);ms.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[13]=l;var u=this.rawData,c=u.data[14]+i;if(!u.fixed&&(u.length<=14&&(u.length=15),u.data.length<u.length)){var f=u.data.length+10,d=new Array(f);ms.blit(u.data,0,d,0,u.data.length),u.data=d}u.data[14]=c},clone:function(){var t=this.rawData,e=new De;e.length=t.length,e.fixed=t.fixed;var i=t.length,n=new Array(i);return e.data=n,ms.blit(t.data,0,e.data,0,t.length),new m_(e)},copyColumnFrom:function(t,e){switch(t){case 0:var i=this.rawData,n=e.x;if(!i.fixed&&(i.length<=0&&(i.length=1),i.data.length<i.length)){var s=i.data.length+10,r=new Array(s);ms.blit(i.data,0,r,0,i.data.length),i.data=r}i.data[0]=n;var a=this.rawData,o=e.y;if(!a.fixed&&(a.length<=1&&(a.length=2),a.data.length<a.length)){var l=a.data.length+10,h=new Array(l);ms.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[1]=o;var _=this.rawData,u=e.z;if(!_.fixed&&(_.length<=2&&(_.length=3),_.data.length<_.length)){var c=_.data.length+10,f=new Array(c);ms.blit(_.data,0,f,0,_.data.length),_.data=f}_.data[2]=u;var d=this.rawData,p=e.w;if(!d.fixed&&(d.length<=3&&(d.length=4),d.data.length<d.length)){var g=d.data.length+10,m=new Array(g);ms.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[3]=p;break;case 1:var v=this.rawData,b=e.x;if(!v.fixed&&(v.length<=4&&(v.length=5),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);ms.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[4]=b;var x=this.rawData,T=e.y;if(!x.fixed&&(x.length<=5&&(x.length=6),x.data.length<x.length)){var S=x.data.length+10,E=new Array(S);ms.blit(x.data,0,E,0,x.data.length),x.data=E}x.data[5]=T;var I=this.rawData,P=e.z;if(!I.fixed&&(I.length<=6&&(I.length=7),I.data.length<I.length)){var C=I.data.length+10,D=new Array(C);ms.blit(I.data,0,D,0,I.data.length),I.data=D}I.data[6]=P;var A=this.rawData,R=e.w;if(!A.fixed&&(A.length<=7&&(A.length=8),A.data.length<A.length)){var M=A.data.length+10,F=new Array(M);ms.blit(A.data,0,F,0,A.data.length),A.data=F}A.data[7]=R;break;case 2:var B=this.rawData,L=e.x;if(!B.fixed&&(B.length<=8&&(B.length=9),B.data.length<B.length)){var k=B.data.length+10,N=new Array(k);ms.blit(B.data,0,N,0,B.data.length),B.data=N}B.data[8]=L;var O=this.rawData,U=e.y;if(!O.fixed&&(O.length<=9&&(O.length=10),O.data.length<O.length)){var G=O.data.length+10,X=new Array(G);ms.blit(O.data,0,X,0,O.data.length),O.data=X}O.data[9]=U;var V=this.rawData,z=e.z;if(!V.fixed&&(V.length<=10&&(V.length=11),V.data.length<V.length)){var H=V.data.length+10,Y=new Array(H);ms.blit(V.data,0,Y,0,V.data.length),V.data=Y}V.data[10]=z;var W=this.rawData,K=e.w;if(!W.fixed&&(W.length<=11&&(W.length=12),W.data.length<W.length)){var j=W.data.length+10,q=new Array(j);ms.blit(W.data,0,q,0,W.data.length),W.data=q}W.data[11]=K;break;case 3:var J=this.rawData,Z=e.x;if(!J.fixed&&(J.length<=12&&(J.length=13),J.data.length<J.length)){var Q=J.data.length+10,$=new Array(Q);ms.blit(J.data,0,$,0,J.data.length),J.data=$}J.data[12]=Z;var tt=this.rawData,et=e.y;if(!tt.fixed&&(tt.length<=13&&(tt.length=14),tt.data.length<tt.length)){var it=tt.data.length+10,nt=new Array(it);ms.blit(tt.data,0,nt,0,tt.data.length),tt.data=nt}tt.data[13]=et;var st=this.rawData,rt=e.z;if(!st.fixed&&(st.length<=14&&(st.length=15),st.data.length<st.length)){var at=st.data.length+10,ot=new Array(at);ms.blit(st.data,0,ot,0,st.data.length),st.data=ot}st.data[14]=rt;var lt=this.rawData,ht=e.w;if(!lt.fixed&&(lt.length<=15&&(lt.length=16),lt.data.length<lt.length)){var _t=lt.data.length+10,ut=new Array(_t);ms.blit(lt.data,0,ut,0,lt.data.length),lt.data=ut}lt.data[15]=ht}},copyColumnTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[1],e.z=this.rawData.data[2],e.w=this.rawData.data[3];break;case 1:e.x=this.rawData.data[4],e.y=this.rawData.data[5],e.z=this.rawData.data[6],e.w=this.rawData.data[7];break;case 2:e.x=this.rawData.data[8],e.y=this.rawData.data[9],e.z=this.rawData.data[10],e.w=this.rawData.data[11];break;case 3:e.x=this.rawData.data[12],e.y=this.rawData.data[13],e.z=this.rawData.data[14],e.w=this.rawData.data[15]}},copyFrom:function(t){var e=t.rawData,i=new De;i.length=e.length,i.fixed=e.fixed;var n=e.length,s=new Array(n);i.data=s,ms.blit(e.data,0,i.data,0,e.length),this.rawData=i},copyRawDataFrom:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var n=0,s=t.length-e;n<s;){var r=n++,a=this.rawData,o=t.data[r+e];if(!a.fixed&&(r>=a.length&&(a.length=1+r),a.data.length<a.length)){var l=a.data.length+10,h=new Array(l);ms.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[r]=o}i&&this.transpose()},copyRawDataTo:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var n=0,s=this.rawData.length;n<s;){var r=n++,a=r+e,o=this.rawData.data[r];if(!t.fixed&&(a>=t.length&&(t.length=a+1),t.data.length<t.length)){var l=t.data.length+10,h=new Array(l);ms.blit(t.data,0,h,0,t.data.length),t.data=h}t.data[a]=o}i&&this.transpose()},copyRowFrom:function(t,e){switch(t){case 0:var i=this.rawData,n=e.x;if(!i.fixed&&(i.length<=0&&(i.length=1),i.data.length<i.length)){var s=i.data.length+10,r=new Array(s);ms.blit(i.data,0,r,0,i.data.length),i.data=r}i.data[0]=n;var a=this.rawData,o=e.y;if(!a.fixed&&(a.length<=4&&(a.length=5),a.data.length<a.length)){var l=a.data.length+10,h=new Array(l);ms.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[4]=o;var _=this.rawData,u=e.z;if(!_.fixed&&(_.length<=8&&(_.length=9),_.data.length<_.length)){var c=_.data.length+10,f=new Array(c);ms.blit(_.data,0,f,0,_.data.length),_.data=f}_.data[8]=u;var d=this.rawData,p=e.w;if(!d.fixed&&(d.length<=12&&(d.length=13),d.data.length<d.length)){var g=d.data.length+10,m=new Array(g);ms.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[12]=p;break;case 1:var v=this.rawData,b=e.x;if(!v.fixed&&(v.length<=1&&(v.length=2),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);ms.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[1]=b;var x=this.rawData,T=e.y;if(!x.fixed&&(x.length<=5&&(x.length=6),x.data.length<x.length)){var S=x.data.length+10,E=new Array(S);ms.blit(x.data,0,E,0,x.data.length),x.data=E}x.data[5]=T;var I=this.rawData,P=e.z;if(!I.fixed&&(I.length<=9&&(I.length=10),I.data.length<I.length)){var C=I.data.length+10,D=new Array(C);ms.blit(I.data,0,D,0,I.data.length),I.data=D}I.data[9]=P;var A=this.rawData,R=e.w;if(!A.fixed&&(A.length<=13&&(A.length=14),A.data.length<A.length)){var M=A.data.length+10,F=new Array(M);ms.blit(A.data,0,F,0,A.data.length),A.data=F}A.data[13]=R;break;case 2:var B=this.rawData,L=e.x;if(!B.fixed&&(B.length<=2&&(B.length=3),B.data.length<B.length)){var k=B.data.length+10,N=new Array(k);ms.blit(B.data,0,N,0,B.data.length),B.data=N}B.data[2]=L;var O=this.rawData,U=e.y;if(!O.fixed&&(O.length<=6&&(O.length=7),O.data.length<O.length)){var G=O.data.length+10,X=new Array(G);ms.blit(O.data,0,X,0,O.data.length),O.data=X}O.data[6]=U;var V=this.rawData,z=e.z;if(!V.fixed&&(V.length<=10&&(V.length=11),V.data.length<V.length)){var H=V.data.length+10,Y=new Array(H);ms.blit(V.data,0,Y,0,V.data.length),V.data=Y}V.data[10]=z;var W=this.rawData,K=e.w;if(!W.fixed&&(W.length<=14&&(W.length=15),W.data.length<W.length)){var j=W.data.length+10,q=new Array(j);ms.blit(W.data,0,q,0,W.data.length),W.data=q}W.data[14]=K;break;case 3:var J=this.rawData,Z=e.x;if(!J.fixed&&(J.length<=3&&(J.length=4),J.data.length<J.length)){var Q=J.data.length+10,$=new Array(Q);ms.blit(J.data,0,$,0,J.data.length),J.data=$}J.data[3]=Z;var tt=this.rawData,et=e.y;if(!tt.fixed&&(tt.length<=7&&(tt.length=8),tt.data.length<tt.length)){var it=tt.data.length+10,nt=new Array(it);ms.blit(tt.data,0,nt,0,tt.data.length),tt.data=nt}tt.data[7]=et;var st=this.rawData,rt=e.z;if(!st.fixed&&(st.length<=11&&(st.length=12),st.data.length<st.length)){var at=st.data.length+10,ot=new Array(at);ms.blit(st.data,0,ot,0,st.data.length),st.data=ot}st.data[11]=rt;var lt=this.rawData,ht=e.w;if(!lt.fixed&&(lt.length<=15&&(lt.length=16),lt.data.length<lt.length)){var _t=lt.data.length+10,ut=new Array(_t);ms.blit(lt.data,0,ut,0,lt.data.length),lt.data=ut}lt.data[15]=ht}},copyRowTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[4],e.z=this.rawData.data[8],e.w=this.rawData.data[12];break;case 1:e.x=this.rawData.data[1],e.y=this.rawData.data[5],e.z=this.rawData.data[9],e.w=this.rawData.data[13];break;case 2:e.x=this.rawData.data[2],e.y=this.rawData.data[6],e.z=this.rawData.data[10],e.w=this.rawData.data[14];break;case 3:e.x=this.rawData.data[3],e.y=this.rawData.data[7],e.z=this.rawData.data[11],e.w=this.rawData.data[15]}},copyToMatrix3D:function(t){var e=this.rawData,i=new De;i.length=e.length,i.fixed=e.fixed;var n=e.length,s=new Array(n);i.data=s,ms.blit(e.data,0,i.data,0,e.length),t.rawData=i},decompose:function(t){null==t&&(t=1);var e=new De,i=new Array(0);e.data=i,e.length=0,e.fixed=!1;var n=e,s=this.clone().rawData,r=new De;r.length=s.length,r.fixed=s.fixed;var a=s.length,o=new Array(a);r.data=o,ms.blit(s.data,0,r.data,0,s.length);var l=r,h=new w_(l.data[12],l.data[13],l.data[14]);if(!l.fixed&&(l.length<=12&&(l.length=13),l.data.length<l.length)){var _=l.data.length+10,u=new Array(_);ms.blit(l.data,0,u,0,l.data.length),l.data=u}if(l.data[12]=0,!l.fixed&&(l.length<=13&&(l.length=14),l.data.length<l.length)){var c=l.data.length+10,f=new Array(c);ms.blit(l.data,0,f,0,l.data.length),l.data=f}if(l.data[13]=0,!l.fixed&&(l.length<=14&&(l.length=15),l.data.length<l.length)){var d=l.data.length+10,p=new Array(d);ms.blit(l.data,0,p,0,l.data.length),l.data=p}l.data[14]=0;var g=new w_;g.x=Math.sqrt(l.data[0]*l.data[0]+l.data[1]*l.data[1]+l.data[2]*l.data[2]),g.y=Math.sqrt(l.data[4]*l.data[4]+l.data[5]*l.data[5]+l.data[6]*l.data[6]),g.z=Math.sqrt(l.data[8]*l.data[8]+l.data[9]*l.data[9]+l.data[10]*l.data[10]),l.data[0]*(l.data[5]*l.data[10]-l.data[6]*l.data[9])-l.data[1]*(l.data[4]*l.data[10]-l.data[6]*l.data[8])+l.data[2]*(l.data[4]*l.data[9]-l.data[5]*l.data[8])<0&&(g.z=-g.z);var m=l,v=m.data[0]/g.x;if(!m.fixed&&(m.length<=0&&(m.length=1),m.data.length<m.length)){var b=m.data.length+10,y=new Array(b);ms.blit(m.data,0,y,0,m.data.length),m.data=y}m.data[0]=v;var w=l,x=w.data[1]/g.x;if(!w.fixed&&(w.length<=1&&(w.length=2),w.data.length<w.length)){var T=w.data.length+10,S=new Array(T);ms.blit(w.data,0,S,0,w.data.length),w.data=S}w.data[1]=x;var E=l,I=E.data[2]/g.x;if(!E.fixed&&(E.length<=2&&(E.length=3),E.data.length<E.length)){var P=E.data.length+10,C=new Array(P);ms.blit(E.data,0,C,0,E.data.length),E.data=C}E.data[2]=I;var D=l,A=D.data[4]/g.y;if(!D.fixed&&(D.length<=4&&(D.length=5),D.data.length<D.length)){var R=D.data.length+10,M=new Array(R);ms.blit(D.data,0,M,0,D.data.length),D.data=M}D.data[4]=A;var F=l,B=F.data[5]/g.y;if(!F.fixed&&(F.length<=5&&(F.length=6),F.data.length<F.length)){var L=F.data.length+10,k=new Array(L);ms.blit(F.data,0,k,0,F.data.length),F.data=k}F.data[5]=B;var N=l,O=N.data[6]/g.y;if(!N.fixed&&(N.length<=6&&(N.length=7),N.data.length<N.length)){var U=N.data.length+10,G=new Array(U);ms.blit(N.data,0,G,0,N.data.length),N.data=G}N.data[6]=O;var X=l,V=X.data[8]/g.z;if(!X.fixed&&(X.length<=8&&(X.length=9),X.data.length<X.length)){var z=X.data.length+10,H=new Array(z);ms.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[8]=V;var Y=l,W=Y.data[9]/g.z;if(!Y.fixed&&(Y.length<=9&&(Y.length=10),Y.data.length<Y.length)){var K=Y.data.length+10,j=new Array(K);ms.blit(Y.data,0,j,0,Y.data.length),Y.data=j}Y.data[9]=W;var q=l,J=q.data[10]/g.z;if(!q.fixed&&(q.length<=10&&(q.length=11),q.data.length<q.length)){var Z=q.data.length+10,Q=new Array(Z);ms.blit(q.data,0,Q,0,q.data.length),q.data=Q}q.data[10]=J;var $=new w_;switch(t){case 0:$.w=Math.acos((l.data[0]+l.data[5]+l.data[10]-1)/2);var tt=Math.sqrt((l.data[6]-l.data[9])*(l.data[6]-l.data[9])+(l.data[8]-l.data[2])*(l.data[8]-l.data[2])+(l.data[1]-l.data[4])*(l.data[1]-l.data[4]));0!=tt?($.x=(l.data[6]-l.data[9])/tt,$.y=(l.data[8]-l.data[2])/tt,$.z=(l.data[1]-l.data[4])/tt):$.x=$.y=$.z=0;break;case 1:$.y=Math.asin(-l.data[2]),1!=l.data[2]&&-1!=l.data[2]?($.x=Math.atan2(l.data[6],l.data[10]),$.z=Math.atan2(l.data[1],l.data[0])):($.z=0,$.x=Math.atan2(l.data[4],l.data[5]));break;case 2:var et=l.data[0]+l.data[5]+l.data[10];0<et?($.w=Math.sqrt(1+et)/2,$.x=(l.data[6]-l.data[9])/(4*$.w),$.y=(l.data[8]-l.data[2])/(4*$.w),$.z=(l.data[1]-l.data[4])/(4*$.w)):l.data[0]>l.data[5]&&l.data[0]>l.data[10]?($.x=Math.sqrt(1+l.data[0]-l.data[5]-l.data[10])/2,$.w=(l.data[6]-l.data[9])/(4*$.x),$.y=(l.data[1]+l.data[4])/(4*$.x),$.z=(l.data[8]+l.data[2])/(4*$.x)):l.data[5]>l.data[10]?($.y=Math.sqrt(1+l.data[5]-l.data[0]-l.data[10])/2,$.x=(l.data[1]+l.data[4])/(4*$.y),$.w=(l.data[8]-l.data[2])/(4*$.y),$.z=(l.data[6]+l.data[9])/(4*$.y)):($.z=Math.sqrt(1+l.data[10]-l.data[0]-l.data[5])/2,$.x=(l.data[8]+l.data[2])/(4*$.z),$.y=(l.data[6]+l.data[9])/(4*$.z),$.w=(l.data[1]-l.data[4])/(4*$.z))}if(!n.fixed){if(n.length++,n.data.length<n.length){var it=n.data.length+10,nt=new Array(it);ms.blit(n.data,0,nt,0,n.data.length),n.data=nt}n.data[n.length-1]=h}if(!n.fixed){if(n.length++,n.data.length<n.length){var st=n.data.length+10,rt=new Array(st);ms.blit(n.data,0,rt,0,n.data.length),n.data=rt}n.data[n.length-1]=$}if(!n.fixed){if(n.length++,n.data.length<n.length){var at=n.data.length+10,ot=new Array(at);ms.blit(n.data,0,ot,0,n.data.length),n.data=ot}n.data[n.length-1]=g}return n},deltaTransformVector:function(t){var e=t.x,i=t.y,n=t.z;return new w_(e*this.rawData.data[0]+i*this.rawData.data[4]+n*this.rawData.data[8]+this.rawData.data[3],e*this.rawData.data[1]+i*this.rawData.data[5]+n*this.rawData.data[9]+this.rawData.data[7],e*this.rawData.data[2]+i*this.rawData.data[6]+n*this.rawData.data[10]+this.rawData.data[11],0)},identity:function(){var t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e=new De;e.length=t.length,e.fixed=!0,e.data=t.slice(0),this.rawData=e},interpolateTo:function(t,e){for(var i=0;i<16;){var n=i++,s=this.rawData,r=this.rawData.data[n]+(t.rawData.data[n]-this.rawData.data[n])*e;if(!s.fixed&&(n>=s.length&&(s.length=1+n),s.data.length<s.length)){var a=s.data.length+10,o=new Array(a);ms.blit(s.data,0,o,0,s.data.length),s.data=o}s.data[n]=r}},invert:function(){var t=this.get_determinant(),e=1e-11<Math.abs(t);if(e){t=1/t;var i=this.rawData.data[0],n=this.rawData.data[4],s=this.rawData.data[8],r=this.rawData.data[12],a=this.rawData.data[1],o=this.rawData.data[5],l=this.rawData.data[9],h=this.rawData.data[13],_=this.rawData.data[2],u=this.rawData.data[6],c=this.rawData.data[10],f=this.rawData.data[14],d=this.rawData.data[3],p=this.rawData.data[7],g=this.rawData.data[11],m=this.rawData.data[15],v=this.rawData;if(!v.fixed&&(v.length<=0&&(v.length=1),v.data.length<v.length)){var b=v.data.length+10,y=new Array(b);ms.blit(v.data,0,y,0,v.data.length),v.data=y}v.data[0]=t*(o*(c*m-f*g)-l*(u*m-f*p)+h*(u*g-c*p));var w=this.rawData;if(!w.fixed&&(w.length<=1&&(w.length=2),w.data.length<w.length)){var x=w.data.length+10,T=new Array(x);ms.blit(w.data,0,T,0,w.data.length),w.data=T}w.data[1]=-t*(a*(c*m-f*g)-l*(_*m-f*d)+h*(_*g-c*d));var S=this.rawData;if(!S.fixed&&(S.length<=2&&(S.length=3),S.data.length<S.length)){var E=S.data.length+10,I=new Array(E);ms.blit(S.data,0,I,0,S.data.length),S.data=I}S.data[2]=t*(a*(u*m-f*p)-o*(_*m-f*d)+h*(_*p-u*d));var P=this.rawData;if(!P.fixed&&(P.length<=3&&(P.length=4),P.data.length<P.length)){var C=P.data.length+10,D=new Array(C);ms.blit(P.data,0,D,0,P.data.length),P.data=D}P.data[3]=-t*(a*(u*g-c*p)-o*(_*g-c*d)+l*(_*p-u*d));var A=this.rawData;if(!A.fixed&&(A.length<=4&&(A.length=5),A.data.length<A.length)){var R=A.data.length+10,M=new Array(R);ms.blit(A.data,0,M,0,A.data.length),A.data=M}A.data[4]=-t*(n*(c*m-f*g)-s*(u*m-f*p)+r*(u*g-c*p));var F=this.rawData;if(!F.fixed&&(F.length<=5&&(F.length=6),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);ms.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[5]=t*(i*(c*m-f*g)-s*(_*m-f*d)+r*(_*g-c*d));var k=this.rawData;if(!k.fixed&&(k.length<=6&&(k.length=7),k.data.length<k.length)){var N=k.data.length+10,O=new Array(N);ms.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[6]=-t*(i*(u*m-f*p)-n*(_*m-f*d)+r*(_*p-u*d));var U=this.rawData;if(!U.fixed&&(U.length<=7&&(U.length=8),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);ms.blit(U.data,0,X,0,U.data.length),U.data=X}U.data[7]=t*(i*(u*g-c*p)-n*(_*g-c*d)+s*(_*p-u*d));var V=this.rawData;if(!V.fixed&&(V.length<=8&&(V.length=9),V.data.length<V.length)){var z=V.data.length+10,H=new Array(z);ms.blit(V.data,0,H,0,V.data.length),V.data=H}V.data[8]=t*(n*(l*m-h*g)-s*(o*m-h*p)+r*(o*g-l*p));var Y=this.rawData;if(!Y.fixed&&(Y.length<=9&&(Y.length=10),Y.data.length<Y.length)){var W=Y.data.length+10,K=new Array(W);ms.blit(Y.data,0,K,0,Y.data.length),Y.data=K}Y.data[9]=-t*(i*(l*m-h*g)-s*(a*m-h*d)+r*(a*g-l*d));var j=this.rawData;if(!j.fixed&&(j.length<=10&&(j.length=11),j.data.length<j.length)){var q=j.data.length+10,J=new Array(q);ms.blit(j.data,0,J,0,j.data.length),j.data=J}j.data[10]=t*(i*(o*m-h*p)-n*(a*m-h*d)+r*(a*p-o*d));var Z=this.rawData;if(!Z.fixed&&(Z.length<=11&&(Z.length=12),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);ms.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[11]=-t*(i*(o*g-l*p)-n*(a*g-l*d)+s*(a*p-o*d));var tt=this.rawData;if(!tt.fixed&&(tt.length<=12&&(tt.length=13),tt.data.length<tt.length)){var et=tt.data.length+10,it=new Array(et);ms.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[12]=-t*(n*(l*f-h*c)-s*(o*f-h*u)+r*(o*c-l*u));var nt=this.rawData;if(!nt.fixed&&(nt.length<=13&&(nt.length=14),nt.data.length<nt.length)){var st=nt.data.length+10,rt=new Array(st);ms.blit(nt.data,0,rt,0,nt.data.length),nt.data=rt}nt.data[13]=t*(i*(l*f-h*c)-s*(a*f-h*_)+r*(a*c-l*_));var at=this.rawData;if(!at.fixed&&(at.length<=14&&(at.length=15),at.data.length<at.length)){var ot=at.data.length+10,lt=new Array(ot);ms.blit(at.data,0,lt,0,at.data.length),at.data=lt}at.data[14]=-t*(i*(o*f-h*u)-n*(a*f-h*_)+r*(a*u-o*_));var ht=this.rawData;if(!ht.fixed&&(ht.length<=15&&(ht.length=16),ht.data.length<ht.length)){var _t=ht.data.length+10,ut=new Array(_t);ms.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[15]=t*(i*(o*c-l*u)-n*(a*c-l*_)+s*(a*u-o*_))}return e},pointAt:function(t,e,i){null==e&&(e=new w_(0,0,-1)),null==i&&(i=new w_(0,-1,0));var n,s=e.subtract(t),r=i.clone();s.normalize(),r.normalize();var a=s.clone();a.scaleBy(r.dotProduct(s)),0<(r=r.subtract(a)).get_length()?r.normalize():r=0!=s.x?new w_(-s.y,s.x,0):new w_(1,0,0),(n=r.crossProduct(s)).normalize();var o=this.rawData,l=n.x;if(!o.fixed&&(o.length<=0&&(o.length=1),o.data.length<o.length)){var h=o.data.length+10,_=new Array(h);ms.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[0]=l;var u=this.rawData,c=n.y;if(!u.fixed&&(u.length<=4&&(u.length=5),u.data.length<u.length)){var f=u.data.length+10,d=new Array(f);ms.blit(u.data,0,d,0,u.data.length),u.data=d}u.data[4]=c;var p=this.rawData,g=n.z;if(!p.fixed&&(p.length<=8&&(p.length=9),p.data.length<p.length)){var m=p.data.length+10,v=new Array(m);ms.blit(p.data,0,v,0,p.data.length),p.data=v}p.data[8]=g;var b=this.rawData;if(!b.fixed&&(b.length<=12&&(b.length=13),b.data.length<b.length)){var y=b.data.length+10,w=new Array(y);ms.blit(b.data,0,w,0,b.data.length),b.data=w}b.data[12]=0;var x=this.rawData,T=r.x;if(!x.fixed&&(x.length<=1&&(x.length=2),x.data.length<x.length)){var S=x.data.length+10,E=new Array(S);ms.blit(x.data,0,E,0,x.data.length),x.data=E}x.data[1]=T;var I=this.rawData,P=r.y;if(!I.fixed&&(I.length<=5&&(I.length=6),I.data.length<I.length)){var C=I.data.length+10,D=new Array(C);ms.blit(I.data,0,D,0,I.data.length),I.data=D}I.data[5]=P;var A=this.rawData,R=r.z;if(!A.fixed&&(A.length<=9&&(A.length=10),A.data.length<A.length)){var M=A.data.length+10,F=new Array(M);ms.blit(A.data,0,F,0,A.data.length),A.data=F}A.data[9]=R;var B=this.rawData;if(!B.fixed&&(B.length<=13&&(B.length=14),B.data.length<B.length)){var L=B.data.length+10,k=new Array(L);ms.blit(B.data,0,k,0,B.data.length),B.data=k}B.data[13]=0;var N=this.rawData,O=s.x;if(!N.fixed&&(N.length<=2&&(N.length=3),N.data.length<N.length)){var U=N.data.length+10,G=new Array(U);ms.blit(N.data,0,G,0,N.data.length),N.data=G}N.data[2]=O;var X=this.rawData,V=s.y;if(!X.fixed&&(X.length<=6&&(X.length=7),X.data.length<X.length)){var z=X.data.length+10,H=new Array(z);ms.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[6]=V;var Y=this.rawData,W=s.z;if(!Y.fixed&&(Y.length<=10&&(Y.length=11),Y.data.length<Y.length)){var K=Y.data.length+10,j=new Array(K);ms.blit(Y.data,0,j,0,Y.data.length),Y.data=j}Y.data[10]=W;var q=this.rawData;if(!q.fixed&&(q.length<=14&&(q.length=15),q.data.length<q.length)){var J=q.data.length+10,Z=new Array(J);ms.blit(q.data,0,Z,0,q.data.length),q.data=Z}q.data[14]=0;var Q=this.rawData,$=t.x;if(!Q.fixed&&(Q.length<=3&&(Q.length=4),Q.data.length<Q.length)){var tt=Q.data.length+10,et=new Array(tt);ms.blit(Q.data,0,et,0,Q.data.length),Q.data=et}Q.data[3]=$;var it=this.rawData,nt=t.y;if(!it.fixed&&(it.length<=7&&(it.length=8),it.data.length<it.length)){var st=it.data.length+10,rt=new Array(st);ms.blit(it.data,0,rt,0,it.data.length),it.data=rt}it.data[7]=nt;var at=this.rawData,ot=t.z;if(!at.fixed&&(at.length<=11&&(at.length=12),at.data.length<at.length)){var lt=at.data.length+10,ht=new Array(lt);ms.blit(at.data,0,ht,0,at.data.length),at.data=ht}at.data[11]=ot;var _t=this.rawData;if(!_t.fixed&&(_t.length<=15&&(_t.length=16),_t.data.length<_t.length)){var ut=_t.data.length+10,ct=new Array(ut);ms.blit(_t.data,0,ct,0,_t.data.length),_t.data=ct}_t.data[15]=1},prepend:function(t){var e=t.rawData.data[0],i=t.rawData.data[4],n=t.rawData.data[8],s=t.rawData.data[12],r=t.rawData.data[1],a=t.rawData.data[5],o=t.rawData.data[9],l=t.rawData.data[13],h=t.rawData.data[2],_=t.rawData.data[6],u=t.rawData.data[10],c=t.rawData.data[14],f=t.rawData.data[3],d=t.rawData.data[7],p=t.rawData.data[11],g=t.rawData.data[15],m=this.rawData.data[0],v=this.rawData.data[4],b=this.rawData.data[8],y=this.rawData.data[12],w=this.rawData.data[1],x=this.rawData.data[5],T=this.rawData.data[9],S=this.rawData.data[13],E=this.rawData.data[2],I=this.rawData.data[6],P=this.rawData.data[10],C=this.rawData.data[14],D=this.rawData.data[3],A=this.rawData.data[7],R=this.rawData.data[11],M=this.rawData.data[15],F=this.rawData;if(!F.fixed&&(F.length<=0&&(F.length=1),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);ms.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[0]=e*m+r*v+h*b+f*y;var k=this.rawData;if(!k.fixed&&(k.length<=1&&(k.length=2),k.data.length<k.length)){var N=k.data.length+10,O=new Array(N);ms.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[1]=e*w+r*x+h*T+f*S;var U=this.rawData;if(!U.fixed&&(U.length<=2&&(U.length=3),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);ms.blit(U.data,0,X,0,U.data.length),U.data=X}U.data[2]=e*E+r*I+h*P+f*C;var V=this.rawData;if(!V.fixed&&(V.length<=3&&(V.length=4),V.data.length<V.length)){var z=V.data.length+10,H=new Array(z);ms.blit(V.data,0,H,0,V.data.length),V.data=H}V.data[3]=e*D+r*A+h*R+f*M;var Y=this.rawData;if(!Y.fixed&&(Y.length<=4&&(Y.length=5),Y.data.length<Y.length)){var W=Y.data.length+10,K=new Array(W);ms.blit(Y.data,0,K,0,Y.data.length),Y.data=K}Y.data[4]=i*m+a*v+_*b+d*y;var j=this.rawData;if(!j.fixed&&(j.length<=5&&(j.length=6),j.data.length<j.length)){var q=j.data.length+10,J=new Array(q);ms.blit(j.data,0,J,0,j.data.length),j.data=J}j.data[5]=i*w+a*x+_*T+d*S;var Z=this.rawData;if(!Z.fixed&&(Z.length<=6&&(Z.length=7),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);ms.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[6]=i*E+a*I+_*P+d*C;var tt=this.rawData;if(!tt.fixed&&(tt.length<=7&&(tt.length=8),tt.data.length<tt.length)){var et=tt.data.length+10,it=new Array(et);ms.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[7]=i*D+a*A+_*R+d*M;var nt=this.rawData;if(!nt.fixed&&(nt.length<=8&&(nt.length=9),nt.data.length<nt.length)){var st=nt.data.length+10,rt=new Array(st);ms.blit(nt.data,0,rt,0,nt.data.length),nt.data=rt}nt.data[8]=n*m+o*v+u*b+p*y;var at=this.rawData;if(!at.fixed&&(at.length<=9&&(at.length=10),at.data.length<at.length)){var ot=at.data.length+10,lt=new Array(ot);ms.blit(at.data,0,lt,0,at.data.length),at.data=lt}at.data[9]=n*w+o*x+u*T+p*S;var ht=this.rawData;if(!ht.fixed&&(ht.length<=10&&(ht.length=11),ht.data.length<ht.length)){var _t=ht.data.length+10,ut=new Array(_t);ms.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[10]=n*E+o*I+u*P+p*C;var ct=this.rawData;if(!ct.fixed&&(ct.length<=11&&(ct.length=12),ct.data.length<ct.length)){var ft=ct.data.length+10,dt=new Array(ft);ms.blit(ct.data,0,dt,0,ct.data.length),ct.data=dt}ct.data[11]=n*D+o*A+u*R+p*M;var pt=this.rawData;if(!pt.fixed&&(pt.length<=12&&(pt.length=13),pt.data.length<pt.length)){var gt=pt.data.length+10,mt=new Array(gt);ms.blit(pt.data,0,mt,0,pt.data.length),pt.data=mt}pt.data[12]=s*m+l*v+c*b+g*y;var vt=this.rawData;if(!vt.fixed&&(vt.length<=13&&(vt.length=14),vt.data.length<vt.length)){var bt=vt.data.length+10,yt=new Array(bt);ms.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=s*w+l*x+c*T+g*S;var wt=this.rawData;if(!wt.fixed&&(wt.length<=14&&(wt.length=15),wt.data.length<wt.length)){var xt=wt.data.length+10,Tt=new Array(xt);ms.blit(wt.data,0,Tt,0,wt.data.length),wt.data=Tt}wt.data[14]=s*E+l*I+c*P+g*C;var St=this.rawData;if(!St.fixed&&(St.length<=15&&(St.length=16),St.data.length<St.length)){var Et=St.data.length+10,It=new Array(Et);ms.blit(St.data,0,It,0,St.data.length),St.data=It}St.data[15]=s*D+l*A+c*R+g*M},prependRotation:function(t,e,i){var n=m_.__getAxisRotation(e.x,e.y,e.z,t);if(null!=i){var s=i;n.appendTranslation(s.x,s.y,s.z)}this.prepend(n)},prependScale:function(t,e,i){var n=[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],s=new De;s.length=n.length,s.fixed=!0,s.data=n.slice(0),this.prepend(new m_(s))},prependTranslation:function(t,e,i){var n=new m_;n.set_position(new w_(t,e,i)),this.prepend(n)},recompose:function(t,e){if(t.length<3||0==t.data[2].x||0==t.data[2].y||0==t.data[2].z)return!1;null==e&&(e=1),this.identity();var i=[];if(i[0]=i[1]=i[2]=t.data[2].x,i[4]=i[5]=i[6]=t.data[2].y,i[8]=i[9]=i[10]=t.data[2].z,null==e){var n=t.data[1].x,s=t.data[1].y,r=t.data[1].z,a=t.data[1].w;mi.enumEq(e,0)&&(n*=Math.sin(a/2),s*=Math.sin(a/2),r*=Math.sin(a/2),a=Math.cos(a/2));var o=this.rawData;if(!o.fixed&&(o.length<=0&&(o.length=1),o.data.length<o.length)){var l=o.data.length+10,h=new Array(l);ms.blit(o.data,0,h,0,o.data.length),o.data=h}o.data[0]=(1-2*s*s-2*r*r)*i[0];var _=this.rawData;if(!_.fixed&&(_.length<=1&&(_.length=2),_.data.length<_.length)){var u=_.data.length+10,c=new Array(u);ms.blit(_.data,0,c,0,_.data.length),_.data=c}_.data[1]=(2*n*s+2*a*r)*i[1];var f=this.rawData;if(!f.fixed&&(f.length<=2&&(f.length=3),f.data.length<f.length)){var d=f.data.length+10,p=new Array(d);ms.blit(f.data,0,p,0,f.data.length),f.data=p}f.data[2]=(2*n*r-2*a*s)*i[2];var g=this.rawData;if(!g.fixed&&(g.length<=3&&(g.length=4),g.data.length<g.length)){var m=g.data.length+10,v=new Array(m);ms.blit(g.data,0,v,0,g.data.length),g.data=v}g.data[3]=0;var b=this.rawData;if(!b.fixed&&(b.length<=4&&(b.length=5),b.data.length<b.length)){var y=b.data.length+10,w=new Array(y);ms.blit(b.data,0,w,0,b.data.length),b.data=w}b.data[4]=(2*n*s-2*a*r)*i[4];var x=this.rawData;if(!x.fixed&&(x.length<=5&&(x.length=6),x.data.length<x.length)){var T=x.data.length+10,S=new Array(T);ms.blit(x.data,0,S,0,x.data.length),x.data=S}x.data[5]=(1-2*n*n-2*r*r)*i[5];var E=this.rawData;if(!E.fixed&&(E.length<=6&&(E.length=7),E.data.length<E.length)){var I=E.data.length+10,P=new Array(I);ms.blit(E.data,0,P,0,E.data.length),E.data=P}E.data[6]=(2*s*r+2*a*n)*i[6];var C=this.rawData;if(!C.fixed&&(C.length<=7&&(C.length=8),C.data.length<C.length)){var D=C.data.length+10,A=new Array(D);ms.blit(C.data,0,A,0,C.data.length),C.data=A}C.data[7]=0;var R=this.rawData;if(!R.fixed&&(R.length<=8&&(R.length=9),R.data.length<R.length)){var M=R.data.length+10,F=new Array(M);ms.blit(R.data,0,F,0,R.data.length),R.data=F}R.data[8]=(2*n*r+2*a*s)*i[8];var B=this.rawData;if(!B.fixed&&(B.length<=9&&(B.length=10),B.data.length<B.length)){var L=B.data.length+10,k=new Array(L);ms.blit(B.data,0,k,0,B.data.length),B.data=k}B.data[9]=(2*s*r-2*a*n)*i[9];var N=this.rawData;if(!N.fixed&&(N.length<=10&&(N.length=11),N.data.length<N.length)){var O=N.data.length+10,U=new Array(O);ms.blit(N.data,0,U,0,N.data.length),N.data=U}N.data[10]=(1-2*n*n-2*s*s)*i[10];var G=this.rawData;if(!G.fixed&&(G.length<=11&&(G.length=12),G.data.length<G.length)){var X=G.data.length+10,V=new Array(X);ms.blit(G.data,0,V,0,G.data.length),G.data=V}G.data[11]=0;var z=this.rawData,H=t.data[0].x;if(!z.fixed&&(z.length<=12&&(z.length=13),z.data.length<z.length)){var Y=z.data.length+10,W=new Array(Y);ms.blit(z.data,0,W,0,z.data.length),z.data=W}z.data[12]=H;var K=this.rawData,j=t.data[0].y;if(!K.fixed&&(K.length<=13&&(K.length=14),K.data.length<K.length)){var q=K.data.length+10,J=new Array(q);ms.blit(K.data,0,J,0,K.data.length),K.data=J}K.data[13]=j;var Z=this.rawData,Q=t.data[0].z;if(!Z.fixed&&(Z.length<=14&&(Z.length=15),Z.data.length<Z.length)){var $=Z.data.length+10,tt=new Array($);ms.blit(Z.data,0,tt,0,Z.data.length),Z.data=tt}Z.data[14]=Q;var et=this.rawData;if(!et.fixed&&(et.length<=15&&(et.length=16),et.data.length<et.length)){var it=et.data.length+10,nt=new Array(it);ms.blit(et.data,0,nt,0,et.data.length),et.data=nt}et.data[15]=1}else if(1==e){var st=Math.cos(t.data[1].x),rt=Math.cos(t.data[1].y),at=Math.cos(t.data[1].z),ot=Math.sin(t.data[1].x),lt=Math.sin(t.data[1].y),ht=Math.sin(t.data[1].z),_t=this.rawData;if(!_t.fixed&&(_t.length<=0&&(_t.length=1),_t.data.length<_t.length)){var ut=_t.data.length+10,ct=new Array(ut);ms.blit(_t.data,0,ct,0,_t.data.length),_t.data=ct}_t.data[0]=rt*at*i[0];var ft=this.rawData;if(!ft.fixed&&(ft.length<=1&&(ft.length=2),ft.data.length<ft.length)){var dt=ft.data.length+10,pt=new Array(dt);ms.blit(ft.data,0,pt,0,ft.data.length),ft.data=pt}ft.data[1]=rt*ht*i[1];var gt=this.rawData;if(!gt.fixed&&(gt.length<=2&&(gt.length=3),gt.data.length<gt.length)){var mt=gt.data.length+10,vt=new Array(mt);ms.blit(gt.data,0,vt,0,gt.data.length),gt.data=vt}gt.data[2]=-lt*i[2];var bt=this.rawData;if(!bt.fixed&&(bt.length<=3&&(bt.length=4),bt.data.length<bt.length)){var yt=bt.data.length+10,wt=new Array(yt);ms.blit(bt.data,0,wt,0,bt.data.length),bt.data=wt}bt.data[3]=0;var xt=this.rawData;if(!xt.fixed&&(xt.length<=4&&(xt.length=5),xt.data.length<xt.length)){var Tt=xt.data.length+10,St=new Array(Tt);ms.blit(xt.data,0,St,0,xt.data.length),xt.data=St}xt.data[4]=(ot*lt*at-st*ht)*i[4];var Et=this.rawData;if(!Et.fixed&&(Et.length<=5&&(Et.length=6),Et.data.length<Et.length)){var It=Et.data.length+10,Pt=new Array(It);ms.blit(Et.data,0,Pt,0,Et.data.length),Et.data=Pt}Et.data[5]=(ot*lt*ht+st*at)*i[5];var Ct=this.rawData;if(!Ct.fixed&&(Ct.length<=6&&(Ct.length=7),Ct.data.length<Ct.length)){var Dt=Ct.data.length+10,At=new Array(Dt);ms.blit(Ct.data,0,At,0,Ct.data.length),Ct.data=At}Ct.data[6]=ot*rt*i[6];var Rt=this.rawData;if(!Rt.fixed&&(Rt.length<=7&&(Rt.length=8),Rt.data.length<Rt.length)){var Mt=Rt.data.length+10,Ft=new Array(Mt);ms.blit(Rt.data,0,Ft,0,Rt.data.length),Rt.data=Ft}Rt.data[7]=0;var Bt=this.rawData;if(!Bt.fixed&&(Bt.length<=8&&(Bt.length=9),Bt.data.length<Bt.length)){var Lt=Bt.data.length+10,kt=new Array(Lt);ms.blit(Bt.data,0,kt,0,Bt.data.length),Bt.data=kt}Bt.data[8]=(st*lt*at+ot*ht)*i[8];var Nt=this.rawData;if(!Nt.fixed&&(Nt.length<=9&&(Nt.length=10),Nt.data.length<Nt.length)){var Ot=Nt.data.length+10,Ut=new Array(Ot);ms.blit(Nt.data,0,Ut,0,Nt.data.length),Nt.data=Ut}Nt.data[9]=(st*lt*ht-ot*at)*i[9];var Gt=this.rawData;if(!Gt.fixed&&(Gt.length<=10&&(Gt.length=11),Gt.data.length<Gt.length)){var Xt=Gt.data.length+10,Vt=new Array(Xt);ms.blit(Gt.data,0,Vt,0,Gt.data.length),Gt.data=Vt}Gt.data[10]=st*rt*i[10];var zt=this.rawData;if(!zt.fixed&&(zt.length<=11&&(zt.length=12),zt.data.length<zt.length)){var Ht=zt.data.length+10,Yt=new Array(Ht);ms.blit(zt.data,0,Yt,0,zt.data.length),zt.data=Yt}zt.data[11]=0;var Wt=this.rawData,Kt=t.data[0].x;if(!Wt.fixed&&(Wt.length<=12&&(Wt.length=13),Wt.data.length<Wt.length)){var jt=Wt.data.length+10,qt=new Array(jt);ms.blit(Wt.data,0,qt,0,Wt.data.length),Wt.data=qt}Wt.data[12]=Kt;var Jt=this.rawData,Zt=t.data[0].y;if(!Jt.fixed&&(Jt.length<=13&&(Jt.length=14),Jt.data.length<Jt.length)){var Qt=Jt.data.length+10,$t=new Array(Qt);ms.blit(Jt.data,0,$t,0,Jt.data.length),Jt.data=$t}Jt.data[13]=Zt;var te=this.rawData,ee=t.data[0].z;if(!te.fixed&&(te.length<=14&&(te.length=15),te.data.length<te.length)){var ie=te.data.length+10,ne=new Array(ie);ms.blit(te.data,0,ne,0,te.data.length),te.data=ne}te.data[14]=ee;var se=this.rawData;if(!se.fixed&&(se.length<=15&&(se.length=16),se.data.length<se.length)){var re=se.data.length+10,ae=new Array(re);ms.blit(se.data,0,ae,0,se.data.length),se.data=ae}se.data[15]=1}else{var oe=t.data[1].x,le=t.data[1].y,he=t.data[1].z,_e=t.data[1].w;mi.enumEq(e,0)&&(oe*=Math.sin(_e/2),le*=Math.sin(_e/2),he*=Math.sin(_e/2),_e=Math.cos(_e/2));var ue=this.rawData;if(!ue.fixed&&(ue.length<=0&&(ue.length=1),ue.data.length<ue.length)){var ce=ue.data.length+10,fe=new Array(ce);ms.blit(ue.data,0,fe,0,ue.data.length),ue.data=fe}ue.data[0]=(1-2*le*le-2*he*he)*i[0];var de=this.rawData;if(!de.fixed&&(de.length<=1&&(de.length=2),de.data.length<de.length)){var pe=de.data.length+10,ge=new Array(pe);ms.blit(de.data,0,ge,0,de.data.length),de.data=ge}de.data[1]=(2*oe*le+2*_e*he)*i[1];var me=this.rawData;if(!me.fixed&&(me.length<=2&&(me.length=3),me.data.length<me.length)){var ve=me.data.length+10,be=new Array(ve);ms.blit(me.data,0,be,0,me.data.length),me.data=be}me.data[2]=(2*oe*he-2*_e*le)*i[2];var ye=this.rawData;if(!ye.fixed&&(ye.length<=3&&(ye.length=4),ye.data.length<ye.length)){var we=ye.data.length+10,xe=new Array(we);ms.blit(ye.data,0,xe,0,ye.data.length),ye.data=xe}ye.data[3]=0;var Te=this.rawData;if(!Te.fixed&&(Te.length<=4&&(Te.length=5),Te.data.length<Te.length)){var Se=Te.data.length+10,Ee=new Array(Se);ms.blit(Te.data,0,Ee,0,Te.data.length),Te.data=Ee}Te.data[4]=(2*oe*le-2*_e*he)*i[4];var Ie=this.rawData;if(!Ie.fixed&&(Ie.length<=5&&(Ie.length=6),Ie.data.length<Ie.length)){var Pe=Ie.data.length+10,Ce=new Array(Pe);ms.blit(Ie.data,0,Ce,0,Ie.data.length),Ie.data=Ce}Ie.data[5]=(1-2*oe*oe-2*he*he)*i[5];var De=this.rawData;if(!De.fixed&&(De.length<=6&&(De.length=7),De.data.length<De.length)){var Ae=De.data.length+10,Re=new Array(Ae);ms.blit(De.data,0,Re,0,De.data.length),De.data=Re}De.data[6]=(2*le*he+2*_e*oe)*i[6];var Me=this.rawData;if(!Me.fixed&&(Me.length<=7&&(Me.length=8),Me.data.length<Me.length)){var Fe=Me.data.length+10,Be=new Array(Fe);ms.blit(Me.data,0,Be,0,Me.data.length),Me.data=Be}Me.data[7]=0;var Le=this.rawData;if(!Le.fixed&&(Le.length<=8&&(Le.length=9),Le.data.length<Le.length)){var ke=Le.data.length+10,Ne=new Array(ke);ms.blit(Le.data,0,Ne,0,Le.data.length),Le.data=Ne}Le.data[8]=(2*oe*he+2*_e*le)*i[8];var Oe=this.rawData;if(!Oe.fixed&&(Oe.length<=9&&(Oe.length=10),Oe.data.length<Oe.length)){var Ue=Oe.data.length+10,Ge=new Array(Ue);ms.blit(Oe.data,0,Ge,0,Oe.data.length),Oe.data=Ge}Oe.data[9]=(2*le*he-2*_e*oe)*i[9];var Xe=this.rawData;if(!Xe.fixed&&(Xe.length<=10&&(Xe.length=11),Xe.data.length<Xe.length)){var Ve=Xe.data.length+10,ze=new Array(Ve);ms.blit(Xe.data,0,ze,0,Xe.data.length),Xe.data=ze}Xe.data[10]=(1-2*oe*oe-2*le*le)*i[10];var He=this.rawData;if(!He.fixed&&(He.length<=11&&(He.length=12),He.data.length<He.length)){var Ye=He.data.length+10,We=new Array(Ye);ms.blit(He.data,0,We,0,He.data.length),He.data=We}He.data[11]=0;var Ke=this.rawData,je=t.data[0].x;if(!Ke.fixed&&(Ke.length<=12&&(Ke.length=13),Ke.data.length<Ke.length)){var qe=Ke.data.length+10,Je=new Array(qe);ms.blit(Ke.data,0,Je,0,Ke.data.length),Ke.data=Je}Ke.data[12]=je;var Ze=this.rawData,Qe=t.data[0].y;if(!Ze.fixed&&(Ze.length<=13&&(Ze.length=14),Ze.data.length<Ze.length)){var $e=Ze.data.length+10,ti=new Array($e);ms.blit(Ze.data,0,ti,0,Ze.data.length),Ze.data=ti}Ze.data[13]=Qe;var ei=this.rawData,ii=t.data[0].z;if(!ei.fixed&&(ei.length<=14&&(ei.length=15),ei.data.length<ei.length)){var ni=ei.data.length+10,si=new Array(ni);ms.blit(ei.data,0,si,0,ei.data.length),ei.data=si}ei.data[14]=ii;var ri=this.rawData;if(!ri.fixed&&(ri.length<=15&&(ri.length=16),ri.data.length<ri.length)){var ai=ri.data.length+10,oi=new Array(ai);ms.blit(ri.data,0,oi,0,ri.data.length),ri.data=oi}ri.data[15]=1}if(0==t.data[2].x){var li=this.rawData;if(!li.fixed&&(li.length<=0&&(li.length=1),li.data.length<li.length)){var hi=li.data.length+10,_i=new Array(hi);ms.blit(li.data,0,_i,0,li.data.length),li.data=_i}li.data[0]=1e-15}if(0==t.data[2].y){var ui=this.rawData;if(!ui.fixed&&(ui.length<=5&&(ui.length=6),ui.data.length<ui.length)){var ci=ui.data.length+10,fi=new Array(ci);ms.blit(ui.data,0,fi,0,ui.data.length),ui.data=fi}ui.data[5]=1e-15}if(0==t.data[2].z){var di=this.rawData;if(!di.fixed&&(di.length<=10&&(di.length=11),di.data.length<di.length)){var pi=di.data.length+10,gi=new Array(pi);ms.blit(di.data,0,gi,0,di.data.length),di.data=gi}di.data[10]=1e-15}return!(0==t.data[2].x||0==t.data[2].y||0==t.data[2].y)},transformVector:function(t){var e=t.x,i=t.y,n=t.z;return new w_(e*this.rawData.data[0]+i*this.rawData.data[4]+n*this.rawData.data[8]+this.rawData.data[12],e*this.rawData.data[1]+i*this.rawData.data[5]+n*this.rawData.data[9]+this.rawData.data[13],e*this.rawData.data[2]+i*this.rawData.data[6]+n*this.rawData.data[10]+this.rawData.data[14],e*this.rawData.data[3]+i*this.rawData.data[7]+n*this.rawData.data[11]+this.rawData.data[15])},transformVectors:function(t,e){for(var i,n,s,r=0;r+3<=t.length;){i=t.data[r],n=t.data[r+1],s=t.data[r+2];var a=i*this.rawData.data[0]+n*this.rawData.data[4]+s*this.rawData.data[8]+this.rawData.data[12];if(!e.fixed&&(r>=e.length&&(e.length=r+1),e.data.length<e.length)){var o=e.data.length+10,l=new Array(o);ms.blit(e.data,0,l,0,e.data.length),e.data=l}e.data[r]=a;var h=r+1,_=i*this.rawData.data[1]+n*this.rawData.data[5]+s*this.rawData.data[9]+this.rawData.data[13];if(!e.fixed&&(h>=e.length&&(e.length=h+1),e.data.length<e.length)){var u=e.data.length+10,c=new Array(u);ms.blit(e.data,0,c,0,e.data.length),e.data=c}e.data[h]=_;var f=r+2,d=i*this.rawData.data[2]+n*this.rawData.data[6]+s*this.rawData.data[10]+this.rawData.data[14];if(!e.fixed&&(f>=e.length&&(e.length=f+1),e.data.length<e.length)){var p=e.data.length+10,g=new Array(p);ms.blit(e.data,0,g,0,e.data.length),e.data=g}e.data[f]=d,r+=3}},transpose:function(){var t=this.rawData,e=new De;e.length=t.length,e.fixed=t.fixed;var i=t.length,n=new Array(i);e.data=n,ms.blit(t.data,0,e.data,0,t.length);var s=e,r=this.rawData,a=s.data[4];if(!r.fixed&&(r.length<=1&&(r.length=2),r.data.length<r.length)){var o=r.data.length+10,l=new Array(o);ms.blit(r.data,0,l,0,r.data.length),r.data=l}r.data[1]=a;var h=this.rawData,_=s.data[8];if(!h.fixed&&(h.length<=2&&(h.length=3),h.data.length<h.length)){var u=h.data.length+10,c=new Array(u);ms.blit(h.data,0,c,0,h.data.length),h.data=c}h.data[2]=_;var f=this.rawData,d=s.data[12];if(!f.fixed&&(f.length<=3&&(f.length=4),f.data.length<f.length)){var p=f.data.length+10,g=new Array(p);ms.blit(f.data,0,g,0,f.data.length),f.data=g}f.data[3]=d;var m=this.rawData,v=s.data[1];if(!m.fixed&&(m.length<=4&&(m.length=5),m.data.length<m.length)){var b=m.data.length+10,y=new Array(b);ms.blit(m.data,0,y,0,m.data.length),m.data=y}m.data[4]=v;var w=this.rawData,x=s.data[9];if(!w.fixed&&(w.length<=6&&(w.length=7),w.data.length<w.length)){var T=w.data.length+10,S=new Array(T);ms.blit(w.data,0,S,0,w.data.length),w.data=S}w.data[6]=x;var E=this.rawData,I=s.data[13];if(!E.fixed&&(E.length<=7&&(E.length=8),E.data.length<E.length)){var P=E.data.length+10,C=new Array(P);ms.blit(E.data,0,C,0,E.data.length),E.data=C}E.data[7]=I;var D=this.rawData,A=s.data[2];if(!D.fixed&&(D.length<=8&&(D.length=9),D.data.length<D.length)){var R=D.data.length+10,M=new Array(R);ms.blit(D.data,0,M,0,D.data.length),D.data=M}D.data[8]=A;var F=this.rawData,B=s.data[6];if(!F.fixed&&(F.length<=9&&(F.length=10),F.data.length<F.length)){var L=F.data.length+10,k=new Array(L);ms.blit(F.data,0,k,0,F.data.length),F.data=k}F.data[9]=B;var N=this.rawData,O=s.data[14];if(!N.fixed&&(N.length<=11&&(N.length=12),N.data.length<N.length)){var U=N.data.length+10,G=new Array(U);ms.blit(N.data,0,G,0,N.data.length),N.data=G}N.data[11]=O;var X=this.rawData,V=s.data[3];if(!X.fixed&&(X.length<=12&&(X.length=13),X.data.length<X.length)){var z=X.data.length+10,H=new Array(z);ms.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[12]=V;var Y=this.rawData,W=s.data[7];if(!Y.fixed&&(Y.length<=13&&(Y.length=14),Y.data.length<Y.length)){var K=Y.data.length+10,j=new Array(K);ms.blit(Y.data,0,j,0,Y.data.length),Y.data=j}Y.data[13]=W;var q=this.rawData,J=s.data[11];if(!q.fixed&&(q.length<=14&&(q.length=15),q.data.length<q.length)){var Z=q.data.length+10,Q=new Array(Z);ms.blit(q.data,0,Q,0,q.data.length),q.data=Q}q.data[14]=J},get_determinant:function(){return(this.rawData.data[0]*this.rawData.data[5]-this.rawData.data[4]*this.rawData.data[1])*(this.rawData.data[10]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[11])-(this.rawData.data[0]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[7])+(this.rawData.data[0]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[7])+(this.rawData.data[4]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[3])-(this.rawData.data[4]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[3])+(this.rawData.data[8]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[9])*(this.rawData.data[2]*this.rawData.data[7]-this.rawData.data[6]*this.rawData.data[3])},get_position:function(){return new w_(this.rawData.data[12],this.rawData.data[13],this.rawData.data[14])},set_position:function(t){var e=this.rawData,i=t.x;if(!e.fixed&&(e.length<=12&&(e.length=13),e.data.length<e.length)){var n=e.data.length+10,s=new Array(n);ms.blit(e.data,0,s,0,e.data.length),e.data=s}e.data[12]=i;var r=this.rawData,a=t.y;if(!r.fixed&&(r.length<=13&&(r.length=14),r.data.length<r.length)){var o=r.data.length+10,l=new Array(o);ms.blit(r.data,0,l,0,r.data.length),r.data=l}r.data[13]=a;var h=this.rawData,_=t.z;if(!h.fixed&&(h.length<=14&&(h.length=15),h.data.length<h.length)){var u=h.data.length+10,c=new Array(u);ms.blit(h.data,0,c,0,h.data.length),h.data=c}return h.data[14]=_,t},__class__:m_,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var v_={};(i["openfl.geom._Orientation3D.Orientation3D_Impl_"]=v_).__name__=["openfl","geom","_Orientation3D","Orientation3D_Impl_"],v_.fromString=function(t){switch(t){case"axisAngle":return 0;case"eulerAngles":return 1;case"quaternion":return 2;default:return null}},v_.toString=function(t){switch(t){case 0:return"axisAngle";case 1:return"eulerAngles";case 2:return"quaternion";default:return null}};var b_=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.__uid=$.SEQ<<24|++$.UID,this.x=t,this.y=e,this.width=i,this.height=n};(i["openfl.geom.Rectangle"]=b_).__name__=["openfl","geom","Rectangle"],b_.__interfaces__=[Q],b_.prototype={clone:function(){return new b_(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e=this.x<t.x?t.x:this.x,i=this.get_right()>t.get_right()?t.get_right():this.get_right();if(i<=e)return new b_;var n=this.y<t.y?t.y:this.y,s=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom();return s<=n?new b_:new b_(e,n,i-e,s-n)},intersects:function(t){var e=this.x<t.x?t.x:this.x;return!((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)&&(this.y<t.y?t.y:this.y)<(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e=this.x>t.x?t.x:this.x,i=this.get_right()<t.get_right()?t.get_right():this.get_right(),n=this.y>t.y?t.y:this.y,s=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom();return new b_(e,n,i-e,s-n)},__contract:function(t,e,i,n){0==this.width&&0==this.height||(this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+i&&(this.width=t+i-this.x),this.get_bottom()>e+n&&(this.height=e+n-this.y))},__expand:function(t,e,i,n){if(0!=i||0!=n){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=i,void(this.height=n);var s=this.get_right(),r=this.get_bottom();this.x>t&&(this.x=t,this.width=s-t),this.y>e&&(this.y=e,this.height=r-e),s<t+i&&(this.width=t+i-this.x),r<e+n&&(this.height=e+n-this.y)}},__toLimeRectangle:function(){return new sa(this.x,this.y,this.width,this.height)},transform:function(t,e){var i=e.a*this.x+e.c*this.y,n=i,s=e.b*this.x+e.d*this.y,r=s,a=e.a*(this.x+this.width)+e.c*this.y,o=e.b*(this.x+this.width)+e.d*this.y;a<i&&(i=a),o<s&&(s=o),n<a&&(n=a),r<o&&(r=o),(a=e.a*(this.x+this.width)+e.c*(this.y+this.height))<i&&(i=a),(o=e.b*(this.x+this.width)+e.d*(this.y+this.height))<s&&(s=o),n<a&&(n=a),r<o&&(r=o),(a=e.a*this.x+e.c*(this.y+this.height))<i&&(i=a),(o=e.b*this.x+e.d*(this.y+this.height))<s&&(s=o),n<a&&(n=a),r<o&&(r=o),t.setTo(i+e.tx,s+e.ty,n-i,r-s)},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new io(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new io(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t},get_topLeft:function(){return new io(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},getCLID:function(){return b_.__clid},serialize:function(t){t.out.addInt32(ws.floatToI32(this.height)),t.out.addInt32(ws.floatToI32(this.width)),t.out.addInt32(ws.floatToI32(this.x)),t.out.addInt32(ws.floatToI32(this.y))},getSerializeSchema:function(){var t=new Ns;return t.fieldsNames.push("height"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("width"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("x"),t.fieldsTypes.push(Ls.PFloat),t.fieldsNames.push("y"),t.fieldsTypes.push(Ls.PFloat),t.isFinal=$.isClassFinal(b_.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.height=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.width=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.x=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.y=s},__class__:b_,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var y_=function(t){this.concatenatedColorTransform=new to,this.pixelBounds=new b_,this.__displayObject=t,this.__hasMatrix=!0};(i["openfl.geom.Transform"]=y_).__name__=["openfl","geom","Transform"],y_.prototype={reset:function(t){this.concatenatedColorTransform.reset(),this.pixelBounds.setEmpty(),this.__displayObject=t,this.__hasMatrix=!0},get_colorTransform:function(){return this.__displayObject.__colorTransform},set_colorTransform:function(t){if(!this.__displayObject.__colorTransform.__equals(t)){this.__displayObject.__colorTransform.copyFrom(t);var e=this.__displayObject;e.__isMask&&(e.__maskCached=!1),e.__renderDirty||(e.__renderDirty=!0,W.__worldRenderDirty++,null!=e.__cachedParent&&e.__cachedParent.__setRenderDirty()),e.__updateDirty||null==e.stage||e==e.stage||(e.__updateDirty=!0)}return t},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},getMatrixNoClone:function(){return this.__hasMatrix?this.__displayObject.__transform:null},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},set_matrix:function(t){if(null==t)return this.__hasMatrix=!1,null;if(this.__hasMatrix=!0,this.__hasMatrix3D=!1,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.d,t.c)-90;if(e!=this.__displayObject.__rotation){var i=(this.__displayObject.__rotation=e)*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(i),this.__displayObject.__rotationCosine=Math.cos(i)}this.__displayObject.__transform.copyFrom(t);var n=this.__displayObject;n.__transformDirty||(n.__transformDirty=!0,n.__isMask&&(n.__maskCached=!1),n.__renderDirty||(n.__renderDirty=!0,W.__worldRenderDirty++,null!=n.__cachedParent&&n.__cachedParent.__setRenderDirty()),n.__updateDirty||null==n.stage||n==n.stage||(n.__updateDirty=!0),W.__worldTransformDirty++)}return t},get_matrix3D:function(){if(this.__hasMatrix3D){var t=this.__displayObject.__transform,e=[t.a,t.b,0,0,t.c,t.d,0,0,0,0,1,0,t.tx,t.ty,0,1],i=new De;return i.length=e.length,i.fixed=!0,i.data=e.slice(0),new m_(i)}return null},set_matrix3D:function(t){if(null==t)return this.__hasMatrix3D=!1,null;if(this.__hasMatrix=!1,this.__hasMatrix3D=!0,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.rawData.data[5],t.rawData.data[4])-90;if(e!=this.__displayObject.__rotation){var i=(this.__displayObject.__rotation=e)*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(i),this.__displayObject.__rotationCosine=Math.cos(i)}this.__displayObject.__transform.a=t.rawData.data[0],this.__displayObject.__transform.b=t.rawData.data[1],this.__displayObject.__transform.c=t.rawData.data[5],this.__displayObject.__transform.d=t.rawData.data[6],this.__displayObject.__transform.tx=t.rawData.data[12],this.__displayObject.__transform.ty=t.rawData.data[13];var n=this.__displayObject;n.__transformDirty||(n.__transformDirty=!0,n.__isMask&&(n.__maskCached=!1),n.__renderDirty||(n.__renderDirty=!0,W.__worldRenderDirty++,null!=n.__cachedParent&&n.__cachedParent.__setRenderDirty()),n.__updateDirty||null==n.stage||n==n.stage||(n.__updateDirty=!0),W.__worldTransformDirty++)}return t},__class__:y_,__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var w_=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=n,this.x=t,this.y=e,this.z=i};(i["openfl.geom.Vector3D"]=w_).__name__=["openfl","geom","Vector3D"],w_.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},w_.X_AXIS=null,w_.Y_AXIS=null,w_.Z_AXIS=null,w_.angleBetween=function(t,e){var i=t.get_length(),n=e.get_length(),s=t.dotProduct(e);return 0!=i&&(s/=i),0!=n&&(s/=n),Math.acos(s)},w_.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y,s=e.z-t.z;return Math.sqrt(i*i+n*n+s*s)},w_.get_X_AXIS=function(){return new w_(1,0,0)},w_.get_Y_AXIS=function(){return new w_(0,1,0)},w_.get_Z_AXIS=function(){return new w_(0,0,1)},w_.prototype={add:function(t){return new w_(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new w_(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new w_(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=this.get_length();return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t){return new w_(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:w_,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};function x_(){}(i["openfl.media.ID3Info"]=x_).__name__=["openfl","media","ID3Info"],x_.prototype={__class__:x_};var T_=function(t,e){this.itHasSoundSprite=!1,v.call(this,this),this.bytesLoaded=0,this.bytesTotal=0,this.id3=null,this.isBuffering=!1,(this.url=null)!=t&&this.load(t,e)};(i["openfl.media.Sound"]=T_).__name__=["openfl","media","Sound"],T_.fromAudioBuffer=function(t){var e=new T_;return e.__buffer=t,e},T_.fromFile=function(t){return T_.fromAudioBuffer(Cr.fromFile(t))},T_.__super__=v,T_.prototype=n(v.prototype,{close:function(){null!=this.__sound&&this.__sound.unload()},load:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=5),this.soundName=t.url;var s=this.soundName,r=T_.__registeredSounds;if(null!=Zu[s]?r.existsReserved(s):r.h.hasOwnProperty(s)){var a=this.soundName,o=T_.__registeredSounds;this.__sound=null!=Zu[a]?o.getReserved(a):o.h[a]}else if(!n)throw new Vs("All sounds should have been registered in preloader!");var l=Qs.getLogicalPath(this.soundName),h=Qs.getExtraSoundOptions(l),_=null;if(null!=h&&null!=h.start&&null!=h.duration&&(this.itHasSoundSprite=!0),null==this.__sound){_=this.itHasSoundSprite?{src:this.soundName,sprite:{clip:[h.start,h.duration]},onload:Hu(this,this.howler_onFileLoad),onloaderror:Hu(this,this.howler_onFileError),pool:i}:{src:this.soundName,onload:Hu(this,this.howler_onFileLoad),onloaderror:Hu(this,this.howler_onFileError),pool:i},this.__sound=new Howl(_),this.__sound.volume(0);var u=this.soundName,c=this.__sound,f=T_.__registeredSounds;null!=Zu[u]?f.setReserved(u,c):f.h[u]=c}},loadCompressedDataFromByteArray:function(t,e,i){null==i&&(i=!1),no.notImplemented("Sound.loadCompressedDataFromByteArray")},loadPCMFromByteArray:function(t,e,i,n,s){null==s&&(s=44100),null==n&&(n=!0),no.notImplemented("Sound.loadPCMFromByteArray")},play:function(t,e,i){if(null==e&&(e=0),null==t&&(t=0),null==i&&(i=new I_(1,0)),0!=i.pan)throw new Vs(":TODO: use spatial plugin");var n=-1;return n=this.itHasSoundSprite?this.__sound.play("clip"):this.__sound.play(),this.__sound.volume(i.volume,n),this.__sound.loop(1<e,n),0!=t&&this.__sound.seek(t/1e3,n),S_.__create(this,n,e)},prePlayHTML5:function(t,e,i){return null==e&&(e=0),null==t&&(t=0),this.__sound._webAudio?null:this.play(t,e,i)},stop:function(t){this.__sound.stop(t)},dispose:function(t){this.__sound.off("end",null,t),this.__sound.off("stop",null,t)},get_id3:function(){return new x_},get_length:function(){return null!=this.__sound?this.__sound.duration():0},AudioBuffer_onURLLoad:function(t){null==t?this.dispatchEvent(new Mh("ioError")):(this.__buffer=t,this.dispatchEvent(Ae.__create("complete")))},howler_onFileLoad:function(){this.dispatchEvent(Ae.__create("complete"))},howler_onFileError:function(){this.dispatchEvent(new Mh("ioError"))},__class__:T_,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var S_=function(){v.call(this,this),this.leftPeak=1,this.rightPeak=1};(i["openfl.media.SoundChannel"]=S_).__name__=["openfl","media","SoundChannel"],S_.__create=function(t,e,i){var n=S_.pool.get();return null!=t&&(n.__soundId=e,n.__numberOfLoopsRemaining=i,n.__looping=1<i,n.__sound=t,n.__sound.__sound.on("stop",Hu(n,n.soundInstance_onComplete),n.__soundId),n.__sound.__sound.on("end",Hu(n,n.soundInstance_onEnd),n.__soundId),n.__isValid=!0),n},S_.__super__=v,S_.prototype=n(v.prototype,{stop:function(){this.__isValid&&this.__sound.stop(this.__soundId)},__dispose:function(){this.__isValid&&(this.__sound.dispose(this.__soundId),S_.pool.put(this),this.__isValid=!1)},get_position:function(){return this.__isValid?this.__sound.__sound.seek():0},set_position:function(t){return this.__isValid?(this.__sound.__sound.seek(0|t),this.__sound.__sound.seek()):0},get_soundTransform:function(){return this.__isValid?new I_(this.__sound.__sound.volume(),0):new I_},set_soundTransform:function(t){return this.__isValid&&this.__sound.__sound.volume(t.volume),t},soundInstance_onComplete:function(){this.__dispose(),this.dispatchEvent(Ae.__create("soundComplete"))},soundInstance_onEnd:function(){this.__numberOfLoopsRemaining--,this.__numberOfLoopsRemaining<=0&&this.__looping&&this.__sound.stop(this.__soundId)},__class__:S_,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});function E_(t,e){null==e&&(e=!1),null==t&&(t=1e3),this.bufferTime=t,this.checkPolicyFile=e}(i["openfl.media.SoundLoaderContext"]=E_).__name__=["openfl","media","SoundLoaderContext"],E_.prototype={__class__:E_};var I_=function(t,e){null==e&&(e=0),null==t&&(t=1),this.volume=t,this.pan=e,this.leftToLeft=0,this.leftToRight=0,this.rightToLeft=0,this.rightToRight=0};(i["openfl.media.SoundTransform"]=I_).__name__=["openfl","media","SoundTransform"],I_.prototype={clone:function(){return new I_(this.volume,this.pan)},__class__:I_};function P_(t){v.call(this),this.bytesLoaded=0,this.bytesTotal=0,this.set_dataFormat(1),null!=t&&this.load(t)}(i["openfl.net.URLLoader"]=P_).__name__=["openfl","net","URLLoader"],P_.__super__=v,P_.prototype=n(v.prototype,{close:function(){},getData:function(){return null},load:function(t){this.requestUrl(t.url,t.method,t.data,t.formatRequestHeaders())},registerEvents:function(t){var i=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&t.addEventListener("progress",Hu(this,this.onProgress),!1),t.onreadystatechange=function(){if(4==t.readyState){var e;try{e=t.status}catch(t){rs.lastException=t,e=null}null==e&&(e=null),null!=e&&i.onStatus(e),null!=e&&200<=e&&e<400?i.onData(t.response):null==e?i.onError("Failed to connect or resolve host"):12029==e?i.onError("Failed to connect to host"):12007==e?i.onError("Unknown host"):0==e?(i.onError("Unable to make request (may be blocked due to cross-domain permissions)"),i.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)")):i.onError("Http Error #"+t.status)}}},requestUrl:function(t,e,i,n){var s=new XMLHttpRequest;this.registerEvents(s);var r="";if(zs.__instanceof(i,Zn)){var a=i;r=0==this.dataFormat?zs.__cast(a,Qu):a.readUTFBytes(a.length)}else if(zs.__instanceof(i,M_))for(var o=i,l=0,h=At.fields(o);l<h.length;){var _=h[l];++l,0!=r.length&&(r+="&");var u=encodeURIComponent(_)+"=",c=At.field(o,_);r+=u+encodeURIComponent(c)}else null!=i&&(r=i.toString());try{if("GET"==e&&null!=r&&""!=r){var f=t.split("?").length<=1;s.open(e,t+(f?"?":"&")+L.string(r),!0),r=""}else s.open(e,t,!0)}catch(t){return(rs.lastException=t)instanceof Vs&&(t=t.val),void this.onError(t.toString())}0==this.dataFormat&&(s.responseType="arraybuffer");for(var d=0;d<n.length;){var p=n[d];++d,s.setRequestHeader(p.name,p.value)}s.send(r),this.onOpen(),this.getData=function(){return null!=s.response?s.response:s.responseText}},onData:function(t){var e=this.getData(),i=this.dataFormat;this.data=0==i?J_.fromArrayBuffer(e):L.string(e);var n=new Ae("complete");(n.currentTarget=this).dispatchEvent(n)},onError:function(t){var e=new Mh("ioError");e.text=t,(e.currentTarget=this).dispatchEvent(e)},onOpen:function(){var t=new Ae("open");(t.currentTarget=this).dispatchEvent(t)},onProgress:function(t){var e=new Lh("progress");e.currentTarget=this,e.bytesLoaded=t.loaded,e.bytesTotal=t.total,this.dispatchEvent(e)},onSecurityError:function(t){var e=new kh("securityError");e.text=t,(e.currentTarget=this).dispatchEvent(e)},onStatus:function(t){var e=new Rh("httpStatus",!1,!1,t);(e.currentTarget=this).dispatchEvent(e)},set_dataFormat:function(t){return 0!=t||Object.prototype.hasOwnProperty.call(window,"ArrayBuffer")?this.dataFormat=t:this.dataFormat=1,this.dataFormat},__class__:P_,__properties__:{set_dataFormat:"set_dataFormat"}});var C_={};(i["openfl.net._URLLoaderDataFormat.URLLoaderDataFormat_Impl_"]=C_).__name__=["openfl","net","_URLLoaderDataFormat","URLLoaderDataFormat_Impl_"],C_.fromString=function(t){switch(t){case"binary":return 0;case"text":return 1;case"variables":return 2;default:return null}},C_.toString=function(t){switch(t){case 0:return"binary";case 1:return"text";case 2:return"variables";default:return null}};var D_=function(t){null!=t&&(this.url=t),this.requestHeaders=[],this.method=R_.toString(1),this.contentType=null};(i["openfl.net.URLRequest"]=D_).__name__=["openfl","net","URLRequest"],D_.prototype={formatRequestHeaders:function(){var t=this.requestHeaders;return null==t&&(t=[]),1==R_.fromString(this.method)||null==this.data||"string"!=typeof this.data&&!zs.__instanceof(this.data,Zn)||(t=t.slice()).push(new A_("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded")),t},__class__:D_};var A_=function(t,e){null==e&&(e=""),null==t&&(t=""),this.name=t,this.value=e};(i["openfl.net.URLRequestHeader"]=A_).__name__=["openfl","net","URLRequestHeader"],A_.prototype={__class__:A_};var R_={};(i["openfl.net._URLRequestMethod.URLRequestMethod_Impl_"]=R_).__name__=["openfl","net","_URLRequestMethod","URLRequestMethod_Impl_"],R_.fromString=function(t){switch(t){case"DELETE":return 0;case"GET":return 1;case"HEAD":return 2;case"OPTIONS":return 3;case"POST":return 4;case"PUT":return 5;default:return null}},R_.toString=function(t){switch(t){case 0:return"DELETE";case 1:return"GET";case 2:return"HEAD";case 3:return"OPTIONS";case 4:return"POST";case 5:return"PUT";default:return null}};var M_=function(t){null!=t&&this.decode(t)};(i["openfl.net.URLVariables"]=M_).__name__=["openfl","net","URLVariables"],M_.prototype={decode:function(t){for(var e=At.fields(this),i=0;i<e.length;){var n=e[i];++i,At.deleteField(this,n)}for(var s=t.split(";").join("&").split("&"),r=0;r<s.length;){var a=s[r];++r;var o=a.indexOf("=");if(0<o){var l=B.substr(a,0,o),h=decodeURIComponent(l.split("+").join(" ")),_=B.substr(a,o+1,null);this[h]=decodeURIComponent(_.split("+").join(" "))}else 0!=o&&(this[decodeURIComponent(a.split("+").join(" "))]="")}},toString:function(){for(var t=[],e=At.fields(this),i=0;i<e.length;){var n=e[i];++i;var s=encodeURIComponent(n)+"=",r=At.field(this,n);t.push(s+encodeURIComponent(r))}return t.join("&")},__class__:M_};var F_=function(t){this.parentDomain=null!=t?t:F_.currentDomain};(i["openfl.system.ApplicationDomain"]=F_).__name__=["openfl","system","ApplicationDomain"],F_.prototype={getDefinition:function(t){return mi.resolveClass(t)},hasDefinition:function(t){return null!=mi.resolveClass(t)},__class__:F_};function B_(t,e,i){null==t&&(t=!1),this.checkPolicyFile=t,this.securityDomain=i,this.applicationDomain=e,this.allowCodeImport=!0,this.allowLoadBytesCodeExecution=!0}(i["openfl.system.LoaderContext"]=B_).__name__=["openfl","system","LoaderContext"],B_.prototype={__class__:B_};function L_(){}(i["openfl.system.SecurityDomain"]=L_).__name__=["openfl","system","SecurityDomain"],L_.prototype={__class__:L_};var k_={};(i["openfl.text._AntiAliasType.AntiAliasType_Impl_"]=k_).__name__=["openfl","text","_AntiAliasType","AntiAliasType_Impl_"],k_.fromString=function(t){switch(t){case"advanced":return 0;case"normal":return 1;default:return null}},k_.toString=function(t){switch(t){case 0:return"advanced";case 1:return"normal";default:return null}};var N_={};(i["openfl.text._FontStyle.FontStyle_Impl_"]=N_).__name__=["openfl","text","_FontStyle","FontStyle_Impl_"],N_.fromString=function(t){switch(t){case"bold":return 0;case"boldItalic":return 1;case"italic":return 2;case"regular":return 3;default:return null}},N_.toString=function(t){switch(t){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";default:return null}};var O_={};(i["openfl.text._FontType.FontType_Impl_"]=O_).__name__=["openfl","text","_FontType","FontType_Impl_"],O_.fromString=function(t){switch(t){case"device":return 0;case"embedded":return 1;case"embeddedCFF":return 2;default:return null}},O_.toString=function(t){switch(t){case 0:return"device";case 1:return"embedded";case 2:return"embeddedCFF";default:return null}};var U_={};(i["openfl.text._GridFitType.GridFitType_Impl_"]=U_).__name__=["openfl","text","_GridFitType","GridFitType_Impl_"],U_.fromString=function(t){switch(t){case"none":return 0;case"pixel":return 1;case"subpixel":return 2;default:return null}},U_.toString=function(t){switch(t){case 0:return"none";case 1:return"pixel";case 2:return"subpixel";default:return null}};var G_={};(i["openfl.text._TextFieldAutoSize.TextFieldAutoSize_Impl_"]=G_).__name__=["openfl","text","_TextFieldAutoSize","TextFieldAutoSize_Impl_"],G_.fromString=function(t){switch(t){case"center":return 0;case"left":return 1;case"none":return 2;case"right":return 3;default:return null}},G_.toString=function(t){switch(t){case 0:return"center";case 1:return"left";case 2:return"none";case 3:return"right";default:return null}};var X_={};(i["openfl.text._TextFieldType.TextFieldType_Impl_"]=X_).__name__=["openfl","text","_TextFieldType","TextFieldType_Impl_"],X_.fromString=function(t){switch(t){case"dynamic":return 0;case"input":return 1;default:return null}},X_.toString=function(t){switch(t){case 0:return"dynamic";case 1:return"input";default:return null}};var V_=function(t,e,i,n,s,r,a,o,l,h,_,u,c){this.font=t,this.size=e,this.color=i,this.bold=n,this.italic=s,this.underline=r,this.url=a,this.target=o,this.align=l,this.leftMargin=h,this.rightMargin=_,this.indent=u,this.leading=c};(i["openfl.text.TextFormat"]=V_).__name__=["openfl","text","TextFormat"],V_.getBulletText=function(){return"\t\t"},V_.getBulletIndentLeftMargin=function(){return 20},V_.prototype={clone:function(){var t=new V_(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.blockIndent=this.blockIndent,t.bullet=this.bullet,t.kerning=this.kerning,t.letterSpacing=this.letterSpacing,t.tabStops=this.tabStops,t},__merge:function(t){null!=t.font&&(this.font=t.font),null!=t.size&&(this.size=t.size),null!=t.color&&(this.color=t.color),null!=t.bold&&(this.bold=t.bold),null!=t.italic&&(this.italic=t.italic),null!=t.underline&&(this.underline=t.underline),null!=t.url&&(this.url=t.url),null!=t.target&&(this.target=t.target),null!=t.align&&(this.align=t.align),null!=t.leftMargin&&(this.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.rightMargin=t.rightMargin),null!=t.indent&&(this.indent=t.indent),null!=t.leading&&(this.leading=t.leading),null!=t.blockIndent&&(this.blockIndent=t.blockIndent),null!=t.bullet&&(this.bullet=t.bullet),null!=t.kerning&&(this.kerning=t.kerning),null!=t.letterSpacing&&(this.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.tabStops=t.tabStops)},__class__:V_};var z_={};(i["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=z_).__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"],z_.fromString=function(t){switch(t){case"center":return 0;case"end":return 1;case"justify":return 2;case"left":return 3;case"right":return 4;case"start":return 5;default:return null}},z_.toString=function(t){switch(t){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}};var H_=function(t,e,i,n,s,r){this.x=t,this.width=e,this.height=i,this.ascent=n,this.descent=s,this.leading=r};(i["openfl.text.TextLineMetrics"]=H_).__name__=["openfl","text","TextLineMetrics"],H_.prototype={__class__:H_};var Y_=function(){v.call(this),Y_.__instances.push(this)};(i["openfl.ui.GameInput"]=Y_).__name__=["openfl","ui","GameInput"],Y_.getDeviceAt=function(t){return 0<=t&&t<Y_.__deviceList.length?Y_.__deviceList[t]:null},Y_.__getDevice=function(t){if(null==t)return null;if(null==Y_.__devices.h.__keys__[t.__id__]){var e=Fa.__getDeviceData()[t.id].id,i=Fa.__getDeviceData(),n=new K_(e,i[t.id].id);Y_.__deviceList.push(n),Y_.__devices.set(t,n),Y_.numDevices=Y_.__deviceList.length}return Y_.__devices.h[t.__id__]},Y_.__onGamepadAxisMove=function(t,e,i){var n=Y_.__getDevice(t);if(null!=n&&n.enabled){if(!n.__axis.h.hasOwnProperty(e)){var s;switch(e){case 0:s="LEFT_X";break;case 1:s="LEFT_Y";break;case 2:s="RIGHT_X";break;case 3:s="RIGHT_Y";break;case 4:s="TRIGGER_LEFT";break;case 5:s="TRIGGER_RIGHT";break;default:s="UNKNOWN ("+e+")"}var r=new W_(n,"AXIS_"+s,-1,1);n.__axis.h[e]=r,n.__controls.push(r)}var a=n.__axis.h[e];a.value=i,a.dispatchEvent(new Ae("change"))}},Y_.__onGamepadButtonDown=function(t,e){var i=Y_.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var n;switch(e){case 0:n="A";break;case 1:n="B";break;case 2:n="X";break;case 3:n="Y";break;case 4:n="BACK";break;case 5:n="GUIDE";break;case 6:n="START";break;case 7:n="LEFT_STICK";break;case 8:n="RIGHT_STICK";break;case 9:n="LEFT_SHOULDER";break;case 10:n="RIGHT_SHOULDER";break;case 11:n="DPAD_UP";break;case 12:n="DPAD_DOWN";break;case 13:n="DPAD_LEFT";break;case 14:n="DPAD_RIGHT";break;default:n="UNKNOWN ("+e+")"}var s=new W_(i,"BUTTON_"+n,0,1);i.__button.h[e]=s,i.__controls.push(s)}var r=i.__button.h[e];r.value=1,r.dispatchEvent(new Ae("change"))}},Y_.__onGamepadButtonUp=function(t,e){var i=Y_.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var n;switch(e){case 0:n="A";break;case 1:n="B";break;case 2:n="X";break;case 3:n="Y";break;case 4:n="BACK";break;case 5:n="GUIDE";break;case 6:n="START";break;case 7:n="LEFT_STICK";break;case 8:n="RIGHT_STICK";break;case 9:n="LEFT_SHOULDER";break;case 10:n="RIGHT_SHOULDER";break;case 11:n="DPAD_UP";break;case 12:n="DPAD_DOWN";break;case 13:n="DPAD_LEFT";break;case 14:n="DPAD_RIGHT";break;default:n="UNKNOWN ("+e+")"}var s=new W_(i,"BUTTON_"+n,0,1);i.__button.h[e]=s,i.__controls.push(s)}var r=i.__button.h[e];r.value=0,r.dispatchEvent(new Ae("change"))}},Y_.__onGamepadConnect=function(t){var e=Y_.__getDevice(t);if(null!=e)for(var i=0,n=Y_.__instances;i<n.length;){var s=n[i];++i,s.dispatchEvent(new Ah("deviceAdded",null,null,e))}},Y_.__onGamepadDisconnect=function(t){var e=Y_.__devices.h[t.__id__];if(null!=e){null!=Y_.__devices.h.__keys__[t.__id__]&&(B.remove(Y_.__deviceList,Y_.__devices.h[t.__id__]),Y_.__devices.remove(t)),Y_.numDevices=Y_.__deviceList.length;for(var i=0,n=Y_.__instances;i<n.length;){var s=n[i];++i,s.dispatchEvent(new Ah("deviceRemoved",null,null,e))}}},Y_.__super__=v,Y_.prototype=n(v.prototype,{__class__:Y_});var W_=function(t,e,i,n,s){null==s&&(s=0),v.call(this),this.device=t,this.id=e,this.minValue=i,this.maxValue=n,this.value=s};(i["openfl.ui.GameInputControl"]=W_).__name__=["openfl","ui","GameInputControl"],W_.__super__=v,W_.prototype=n(v.prototype,{__class__:W_});var K_=function(t,e){var i;this.__controls=[],this.__button=new fs,this.__axis=new fs,this.id=t,this.name=e;for(var n=0;n<6;){var s=n++;i=new W_(this,"AXIS_"+s,-1,1),this.__axis.h[s]=i,this.__controls.push(i)}for(var r=0;r<15;){var a=r++;i=new W_(this,"BUTTON_"+a,0,1),this.__button.h[a]=i,this.__controls.push(i)}};(i["openfl.ui.GameInputDevice"]=K_).__name__=["openfl","ui","GameInputDevice"],K_.prototype={getCachedSamples:function(t,e){return null==e&&(e=!1),0},getControlAt:function(t){return 0<=t&&t<this.__controls.length?this.__controls[t]:null},startCachingSamples:function(t,e){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:K_,__properties__:{get_numControls:"get_numControls"}};var j_=function(){};(i["openfl.ui.Keyboard"]=j_).__name__=["openfl","ui","Keyboard"],j_.capsLock=null,j_.numLock=null,j_.isAccessible=function(){return!1},j_.__convertKeyCode=function(t){switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 33:return 49;case 34:return 222;case 35:return 51;case 36:return 52;case 37:return 53;case 38:return 55;case 39:return 222;case 40:return 57;case 41:return 48;case 42:return 56;case 44:return 188;case 45:return 189;case 46:return 190;case 47:return 191;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 58:case 59:return 186;case 60:return 60;case 61:return 187;case 62:return 190;case 63:return 191;case 64:return 50;case 91:return 219;case 92:return 220;case 93:return 221;case 94:return 54;case 95:return 189;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741912:return 108;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:return 110;case 1073741925:return 302;case 1073741928:return 124;case 1073741929:return 125;case 1073741930:return 126;case 1073741982:return 13;case 1073742044:return 110;case 1073742048:return 17;case 1073742049:return 16;case 1073742050:return 18;case 1073742051:return 15;case 1073742052:return 17;case 1073742053:return 16;case 1073742054:return 18;case 1073742055:return 15;default:return t}},j_.__getCharCode=function(t,e){if(null==e&&(e=!1),e){switch(t){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=t&&t<=90)return t-65+65}else{switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=t&&t<=57)return t-48+48;if(65<=t&&t<=90)return t-65+97}if(96<=t&&t<=105)return t-96+48;switch(t){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0},j_.__getKeyLocation=function(t){switch(t){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 108:case 110:case 111:case 1073741910:case 1073741911:case 1073741923:return 3;case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}};function q_(){}(i["openfl.ui.Mouse"]=q_).__name__=["openfl","ui","Mouse"],q_.hide=function(){Na.hide()},q_.show=function(){Na.show()};var J_={};(i["openfl.utils._ByteArray.ByteArray_Impl_"]=J_).__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"],J_.__properties__={set_length:"set_length",get_length:"get_length"},J_.defaultObjectEncoding=null,J_._new=function(t){return null==t&&(t=0),new Zn(t)},J_.get=function(t,e){return t.b[e]},J_.set=function(t,e,i){return t.b[e]=255&i,i},J_.fromArrayBuffer=function(t){return Zn.fromBytes(jn.ofData(t))},J_.fromBytes=function(t){return zs.__instanceof(t,Zn)?t:Zn.fromBytes(t)},J_.fromBytesData=function(t){return Zn.fromBytes(jn.ofData(t))},J_.toArrayBuffer=function(t){return t.b.bufferValue},J_.toBytes=function(t){return t},J_.toBytesData=function(t){return t.b.bufferValue},J_.toLimeBytes=function(t){return new Va(J_.get_length(t),t.b.bufferValue)},J_.get_length=function(t){return t.__length},J_.set_length=function(t,e){return 0<e&&t.__resize(e),t.__length=e};var Z_={};(i["openfl.utils._CompressionAlgorithm.CompressionAlgorithm_Impl_"]=Z_).__name__=["openfl","utils","_CompressionAlgorithm","CompressionAlgorithm_Impl_"],Z_.fromString=function(t){switch(t){case"deflate":return 0;case"lzma":return 1;case"zlib":return 2;default:return null}},Z_.toString=function(t){switch(t){case 0:return"deflate";case 1:return"lzma";case 2:return"zlib";default:return null}};var Q_={};(i["openfl.utils._Endian.Endian_Impl_"]=Q_).__name__=["openfl","utils","_Endian","Endian_Impl_"],Q_.fromString=function(t){switch(t){case"bigEndian":return 0;case"littleEndian":return 1;default:return null}},Q_.toString=function(t){switch(t){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}};var $_=function(t){this.__uid=$.SEQ<<24|++$.UID,this.value=t};(i["openfl.utils.Float32ArrayContainer"]=$_).__name__=["openfl","utils","Float32ArrayContainer"],$_.__interfaces__=[Q],$_.prototype={customSerialize:function(t){var e=za.toBytes(this.value);if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=t.out,s=(n.b,e.b),r=0,a=e.length;r<a;){var o=r++;n.b.push(s[o])}}},customUnserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.sub(t.inPos,n);t.inPos+=n,i=s}var r,a=i.b.bufferValue;r=null!=a?new tc(a):null,this.value=r},getCLID:function(){return $_.__clid},serialize:function(t){this.customSerialize(t)},getSerializeSchema:function(){var t=new Ns;return t.isFinal=$.isClassFinal($_.__clid),t},unserializeInit:function(){},unserialize:function(t){this.customUnserialize(t)},__class__:$_};var tu={};(i["openfl.utils._Object.Object_Impl_"]=tu).__name__=["openfl","utils","_Object","Object_Impl_"],tu._new=function(){return{}},tu.hasOwnProperty=function(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)},tu.isPrototypeOf=function(t,e){for(var i=t,n=null==i?null:zs.getClass(i);null!=n;){if(n==e)return!0;n=mi.getSuperClass(n)}return!1},tu.iterator=function(t){var e=At.fields(t);return null==e&&(e=[]),B.iter(e)},tu.propertyIsEnumerable=function(t,e){return!(null==t||!Object.prototype.hasOwnProperty.call(t,e))&&zs.__instanceof(At.field(t,e),iu)},tu.toLocaleString=function(t){return L.string(t)},tu.toString=function(t){return L.string(t)},tu.valueOf=function(t){return t},tu.__get=function(t,e){return At.field(t,e)},tu.__set=function(t,e,i){return t[e]=i};function eu(){}(i["haxe.lang.Iterator"]=eu).__name__=["haxe","lang","Iterator"],eu.prototype={__class__:eu};var iu=function(){};(i["haxe.lang.Iterable"]=iu).__name__=["haxe","lang","Iterable"],iu.prototype={__class__:iu};function nu(t,e){this.map=t,this.keys=e,this.index=0,this.count=e.length}(i["openfl.utils._UnsafeStringMap.UnsafeStringMapIterator"]=nu).__name__=["openfl","utils","_UnsafeStringMap","UnsafeStringMapIterator"],nu.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.h[this.keys[this.index++]]},__class__:nu};var su=function(){this.h={}};(i["openfl.utils.UnsafeStringMap"]=su).__name__=["openfl","utils","UnsafeStringMap"],su.__interfaces__=[as],su.prototype={set:function(t,e){this.h[t]=e},get:function(t){return this.h[t]},exists:function(t){return this.h.hasOwnProperty(t)},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return B.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);return t},iterator:function(){return new nu(this,this.arrayKeys())},toString:function(){var t="";t+="{";for(var e=this.arrayKeys(),i=0,n=e.length;i<n;){var s=i++,r=e[s];t+=null==r?"null":""+r,t+=" => ",t+=L.string(L.string(this.h[r])),s<e.length-1&&(t+=", ")}return t+="}"},__class__:su};var ru={};(i["openfl.utils._UnshrinkableArray.UnshrinkableArray_Impl_"]=ru).__name__=["openfl","utils","_UnshrinkableArray","UnshrinkableArray_Impl_"],ru.__properties__={get_length:"get_length"},ru._new=function(t,e){null==t&&(t=64);var i=new Gt;return i._items=null!=e?e:[],i._length=i._items.length,i},ru.getInternalArray=function(t){return t._items},ru.push=function(t,e){t._items[t._length++]=e},ru.pop=function(t){var e=t._items[--t._length];return t._items[t._length]=null,e},ru.insert=function(t,e,i){for(var n=t._length-1;e<=n;)t._items[n+1]=t._items[n],--n;t._items[e]=i,t._length=e>t._length?e:t._length,++t._length},ru.concat=function(t,e){for(var i=t._items.length-t._length,n=0,s=i;n<s;){var r=n++;t._items[t._length+r]=r>=e._length?null:e._items[r]}return t._items=t._items.concat(e._items.slice(i)),t._length+=e._length,t},ru.clear=function(t){for(var e=0,i=t._length;e<i;){var n=e++;t._items[n]=null}t._length=0},ru.filter=function(t,e){var i=new Gt;i._items=[],i._length=i._items.length;for(var n=i,s=0,r=t._length;s<r;){var a=s++,o=t._items[a];e(o)&&(n._items[n._length++]=o)}return n},ru.remove=function(t,e){var i=t._items.indexOf(e,null),n=i>=t._length?-1:i;if(0<=n){for(var s=n,r=t._length-1;s<r;){var a=s++;t._items[a]=t._items[1+a]}--t._length,t._items[t._length]=null}return 0<=n},ru.splice=function(t,e,i){if(e=Math.max(e,0),0<(i=Math.min(i,t._length-e))){for(var n=e,s=t._length-i;n<s;){var r=n++;t._items[r]=t._items[r+i]}for(var a=t._length-i,o=t._length;a<o;){var l=a++;t._items[l]=null}t._length-=i}},ru.slice=function(t,e,i){i=null==i?t._length:Math.min(t._length,i);var n=t._items.slice(e,i),s=new Gt;return s._items=null!=n?n:[],s._length=s._items.length,s},ru.sliceArray=function(t,e,i){return i=null==i?t._length:Math.min(t._length,i),t._items.slice(e,i)},ru.reverse=function(t){for(var e=0,i=t._length-1;e<i;){var n=t._items[e];t._items[e]=t._items[i],t._items[i]=n,++e,--i}},ru.copyFrom=function(t,e,i){null==i&&(i=0);var n=t._length;t._length=e._length-i;for(var s=0,r=t._length;s<r;){var a=s++,o=i+a;t._items[a]=o>=e._length?null:e._items[o]}for(var l=t._length,h=n;l<h;){var _=l++;t._items[_]=null}},ru.pushFromArray=function(t,e){for(var i=t._length,n=0,s=e._length;n<s;){var r=n++;t._items[i+r]=r>=e._length?null:e._items[r]}t._length+=e._length},ru.indexOf=function(t,e,i){var n=t._items.indexOf(e,i);return n>=t._length?-1:n},ru.last=function(t){return t._items[t._length-1]},ru.get=function(t,e){return e>=t._length?null:t._items[e]},ru.set=function(t,e,i){return e>=t._length&&(t._length=e+1),t._items[e]=i},ru.get_length=function(t){return t._length};var au=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",Hu(this,this.release))};(i["scripts.Button2_244"]=au).__name__=["scripts","Button2_244"],au.__super__=m,au.prototype=n(m.prototype,{release:function(){this.gotoAndPlay(1)},__class__:au});var ou=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",Hu(this,this.release))};(i["scripts.Button2_6"]=ou).__name__=["scripts","Button2_6"],ou.__super__=m,ou.prototype=n(m.prototype,{release:function(){this.play()},__class__:ou});var lu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",Hu(this,this.release))};(i["scripts.Button2_7"]=lu).__name__=["scripts","Button2_7"],lu.__super__=m,lu.prototype=n(m.prototype,{release:function(){c.instance.inst.nextFrame()},__class__:lu});var hu=function(t,e){W.call(this)};(i["scripts.Button2_83"]=hu).__name__=["scripts","Button2_83"],hu.__super__=W,hu.prototype=n(W.prototype,{release:function(){this.parent.parent.click=!0},__class__:hu});function _u(t,e){h.call(this,t,e)}(i["scripts.MouseHandlerSpriteBase"]=_u).__name__=["scripts","MouseHandlerSpriteBase"],_u.__super__=h,_u.prototype=n(h.prototype,{__enterFrame:function(t){h.prototype.__enterFrame.call(this,t),this.mouse.set_x(this.get_mouseX()),this.mouse.set_y(this.get_mouseY())},__class__:_u});var uu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_14"]=uu).__name__=["scripts","Sprite_14"],uu.__super__=h,uu.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:uu});var cu=function(t,e){this.compare=0,this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(2,Hu(this,this.hit)),this.addFrameScript(3,Hu(this,this.sunk)),this.addFrameScript(64,Hu(this,this.frame65)),h.call(this,t,e)};(i["scripts.Sprite_191"]=cu).__name__=["scripts","Sprite_191"],cu.__super__=h,cu.prototype=n(h.prototype,{frame1:function(){this.stop()},control:function(){if(c.instance.hole._play?c.instance.hole.rolling?c.instance.hole.mouse.gotoAndStop(3):c.instance.hole.mouse.gotoAndStop(2):c.instance.hole.mouse.gotoAndStop(1),c.instance.hole._play){if(c.instance.hole.click&&!c.instance.hole.rolling&&(this.msg="Shooting",this.sound="hit",c.instance.hole.click=!1,c.instance.hole.rolling=!0,c.instance.hole.xmod=this.xd,c.instance.hole.ymod=this.yd,c.instance.hits++),c.instance.hole.rolling){for(var t=c.instance.hole.xmod*c.instance.hole.xmod,e=c.instance.hole.ymod*c.instance.hole.ymod+t,i=1,n=0;n<15;)i-=(i*i-e)/(2*i),++n;var s=i,r=c.instance.hole.xmod/s,a=c.instance.hole.ymod/s;for(this.compare=0;0<s;){if(c.instance.bx-=r,c.instance.by-=a,c.instance.hole.params(),this.compare=i,c.instance.hole.hole_l<c.instance.bx&&c.instance.bx<c.instance.hole.hole_r&&c.instance.hole.hole_t<c.instance.by&&c.instance.by<c.instance.hole.hole_b)if(this.compare<5)this.sound="sunk",this.msg="Sunk Ball!",c.instance.bx=c.instance.hole.hole_l+6.5,c.instance.by=c.instance.hole.hole_t+6.5,c.instance.hole.xmod=0,c.instance.hole.ymod=0,c.instance.hole.rolling=!1,r=a=0;else{var o=(L.random(10)+90)/100,l=(L.random(10)+90)/100;c.instance.hole.xmod*=o,c.instance.hole.ymod*=l,r*=o,a*=l}(c.instance.hole.wall_l>=c.instance.bx||c.instance.bx>=c.instance.hole.wall_r)&&(r*=-1,c.instance.hole.xmod*=-1,c.instance.bx-=2*r),(c.instance.hole.wall_t>=c.instance.by||c.instance.by>=c.instance.hole.wall_b)&&(a*=-1,c.instance.hole.ymod*=-1,c.instance.by-=2*a),s-=1.5}c.instance.hole.xmod*=.94,c.instance.hole.ymod*=.94,this.compare<.5&&-.5<this.compare&&(c.instance.hole.xmod=0,c.instance.hole.ymod=0,c.instance.hole.rolling=!1,c.instance.hole.click=!1)}}else this.msg="Place your ball",c.instance.hits=0,c.instance.hole.rolling=!0,c.instance.bx=c.instance.mx,c.instance.by=c.instance.my,c.instance.hole.matt_b<c.instance.by&&(c.instance.by=c.instance.hole.matt_b),c.instance.by<c.instance.hole.matt_t&&(c.instance.by=c.instance.hole.matt_t),c.instance.hole.matt_r<c.instance.bx&&(c.instance.bx=c.instance.hole.matt_r),c.instance.bx<c.instance.hole.matt_l&&(c.instance.bx=c.instance.hole.matt_l),c.instance.hole.click&&(c.instance.hole.click=!1,c.instance.hole._play=!0,c.instance.hole.rolling=!1);if(c.instance.hole.rolling)for(var h=1;h<7;)this["a"+h+"x"]=2e3,this["a"+h+"y"]=2e3,zs.__cast(At.getProperty(c.instance.hole,"aim"+h),u).set_x(2e3),zs.__cast(At.getProperty(c.instance.hole,"aim"+h),u).set_y(2e3),++h;else{c.instance.hole.xmod=c.instance.mx-c.instance.bx,c.instance.hole.ymod=c.instance.my-c.instance.by,this.xd=c.instance.hole.xmod/2,this.yd=c.instance.hole.ymod/2;for(var _=1;_<7;)this["a"+_+"x"]=2e3,this["a"+_+"y"]=2e3,zs.__cast(At.getProperty(c.instance.hole,"aim"+_),u).set_x(c.instance.bx-this.xd/2*_),zs.__cast(At.getProperty(c.instance.hole,"aim"+_),u).set_y(c.instance.by-this.yd/2*_),++_;this.msg="aiming"}c.instance.hole.ball.set_x(c.instance.bx),c.instance.hole.ball.set_y(c.instance.by),""!=this.sound?(c.instance.actions.gotoAndPlay(this.sound),"sunk"==this.sound&&c.instance.hole.stop(),this.sound=""):c.instance.actions.gotoAndStop(1)},hit:function(){this.stop()},sunk:function(){var t="";if(1==c.instance.hits)this.msg="HOLE IN ONE!!!!";else if(c.instance.hits<c.instance.par){var e=c.instance.par-c.instance.hits;t=1==e?e+" STROKE":e+" STROKES",this.msg="YOU WERE "+t+" UNDER PAR!!"}else if(c.instance.hits==c.instance.par)this.msg="YOU GOT PAR!";else{var i=c.instance.hits-c.instance.par;t=1==i?i+" STROKE":i+" STROKES",this.msg="YOU WERE "+t+" OVER PAR"}this.scores["hole"+c.instance.hole_index]=c.instance.hits;for(var n=1,s=0;n<19;){var r=At.field(this.scores,"hole"+n);if(null==r)break;s+=r,++n}this.scores.holetot=s},frame65:function(){1!=this.__targetFrame&&(c.instance.play(),this.msg="",this.stop())},__class__:cu});var fu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_196"]=fu).__name__=["scripts","Sprite_196"],fu.__super__=_u,fu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=111,this.matt_b=156,this.matt_l=-202,this.matt_r=-176,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=-78,this.hole_b=-62,this.hole_r=9,this.hole_l=-6,50<c.instance.by?(this.wall_b=176,this.wall_l=-210,this.wall_r=108,this.wall_t=89):(this.wall_b=-12,this.wall_l=-71,this.wall_r=72,this.wall_t=-112),c.instance.actions.compare<5&&(-12<c.instance.bx&&c.instance.bx<4&&102<c.instance.by&&c.instance.by<116&&(this.pipe.hole=1,this.pipe.play()),20<c.instance.bx&&c.instance.bx<34&&139<c.instance.by&&c.instance.by<153&&(this.pipe.hole=3,this.pipe.play()),49<c.instance.bx&&c.instance.bx<61&&102<c.instance.by&&c.instance.by<116&&(this.pipe.hole=2,this.pipe.play()))},__class__:fu});var du=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_198"]=du).__name__=["scripts","Sprite_198"],du.__super__=_u,du.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=-95,this.matt_b=-65,this.matt_l=74,this.matt_r=120,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=99,this.hole_b=113,this.hole_r=107,this.hole_l=93,this.wall_t=-99,this.wall_b=138,this.wall_l=57,this.wall_r=140,c.instance.bx<90?c.instance.by<51?this.wall_b=50:59<c.instance.by&&(this.wall_t=60):104<c.instance.bx?c.instance.by<27?this.wall_b=26:35<c.instance.by&&(this.wall_t=36):(26<c.instance.by&&c.instance.by<36&&(this.wall_r=103),50<c.instance.by&&c.instance.by<60&&(this.wall_l=91))},__class__:du});var pu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_201"]=pu).__name__=["scripts","Sprite_201"],pu.__super__=_u,pu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=-89,this.matt_b=-41,this.matt_l=-176,this.matt_r=-147,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=99,this.hole_b=113,this.hole_r=105,this.hole_l=93,this.wall_t=-98,this.wall_b=-29,this.wall_l=-182,this.wall_r=140,-134<c.instance.bx&&c.instance.bx<46&&(c.instance.hole.xmod-=.175),-15<c.instance.by&&c.instance.by<67&&(c.instance.hole.ymod-=.175),58<c.instance.bx&&(this.wall_b=138,-28<c.instance.by&&(this.wall_l=59,83<c.instance.bx&&c.instance.bx<114&&(c.instance.by<74?this.wall_b=73:80<c.instance.by&&(this.wall_t=81)),73<c.instance.by&&c.instance.by<81&&(c.instance.bx<84?this.wall_r=83:113<c.instance.bx&&(this.wall_l=114))))},__class__:pu});var gu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_203"]=gu).__name__=["scripts","Sprite_203"],gu.__super__=_u,gu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=133,this.matt_b=159,this.matt_l=-131,this.matt_r=-43,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){if(this.hole_t=3,this.hole_b=18,this.hole_r=168,this.hole_l=156,this.wall_b=66,this.wall_l=-143,this.wall_r=178,this.wall_t=-40,c.instance.bx<-26&&(-126<c.instance.bx&&c.instance.bx<-62?70<c.instance.by?(this.wall_t=71,this.wall_b=161):this.wall_b=71:this.wall_b=161),67<c.instance.by&&(this.wall_r=-27),c.instance.by<-28)if(c.instance.bx<-133){if(1!=this.hitc){var t=c.instance.hole.xmod;c.instance.hole.xmod=-1*c.instance.hole.ymod,c.instance.hole.ymod=t,this.hitc=!0}}else if(167<c.instance.bx){if(1!=this.hitc){var e=c.instance.hole.xmod;c.instance.hole.xmod=-1*c.instance.hole.ymod,c.instance.hole.ymod=e,this.hitc=!0}}else this.hitc=!1},__class__:gu});var mu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_206"]=mu).__name__=["scripts","Sprite_206"],mu.__super__=_u,mu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=112,this.matt_b=155,this.matt_l=79,this.matt_r=103,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=-36,this.hole_b=-22,this.hole_r=-64,this.hole_l=-82,c.instance.by<30?(this.wall_b=31,this.wall_l=-148,this.wall_r=-5,this.wall_t=-69):89<c.instance.by&&(this.wall_b=177,this.wall_l=-210,this.wall_r=107,this.wall_t=90,-121<c.instance.bx&&c.instance.bx<-59&&(this.wall_l=-121,this.wall_r=-59,this.wall_b=177,this.wall_t=-69))},__class__:mu});var vu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_209"]=vu).__name__=["scripts","Sprite_209"],vu.__super__=_u,vu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=127,this.matt_b=157,this.matt_l=-25,this.matt_r=23,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=-93,this.hole_b=-19,this.hole_r=4,this.hole_l=-9,this.wall_t=-108,this.wall_b=161,this.wall_l=-61,this.wall_r=60,c.instance.by<=54&&-60<=c.instance.by&&-15<c.instance.bx&&c.instance.bx<11?(this.wall_l=-14,this.wall_r=10,-2<=c.instance.by?c.instance.hole.ymod-=.5:c.instance.hole.ymod+=.5):11<c.instance.by?this.wall_t=12:c.instance.by<3&&(this.wall_b=2)},__class__:vu});var bu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_211"]=bu).__name__=["scripts","Sprite_211"],bu.__super__=_u,bu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=52,this.matt_b=97,this.matt_l=196,this.matt_r=220,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=-60,this.hole_b=-46,this.hole_r=-140,this.hole_l=-152,this.wall_b=100,this.wall_l=-170,this.wall_r=223,this.wall_t=-75,48<c.instance.by?-109<=c.instance.bx&&(this.wall_t=49):c.instance.by<39&&-17<c.instance.by?(-109<=c.instance.bx&&(this.wall_b=38),c.instance.bx<=162&&(this.wall_t=-16)):c.instance.by<-26?c.instance.bx<=162&&(this.wall_b=-27):c.instance.by<49&&38<c.instance.by?this.wall_r=-109:-27<c.instance.by&&c.instance.by<-16&&(this.wall_l=162)},__class__:bu});var yu=function(t,e){this.in_spiral=!1,this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e),this.resetLoop()};(i["scripts.Sprite_213"]=yu).__name__=["scripts","Sprite_213"],yu.__super__=_u,yu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=144,this.matt_b=177,this.matt_l=14,this.matt_r=58,this.in_spiral?this.updateLoop():c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=-123,this.hole_b=-109,this.hole_r=42,this.hole_l=28,this.wall_b=182,this.wall_l=-39,this.wall_r=106,this.wall_t=-139,c.instance.hole.spx=-2,this.spiral.frame<1&&(this.spiral.frame=1),this.in_spiral?c.instance.by=21:(this.ball.gotoAndStop(1),c.instance.by<19&&8<c.instance.by&&-1<=c.instance.bx&&c.instance.bx<=24&&(this.in_spiral=!0,this.enterLoop()),c.instance.bx<-1&&8<c.instance.by?this.wall_t=16:24<c.instance.bx&&13<c.instance.by?this.wall_t=25:c.instance.bx<24&&c.instance.by<8?this.wall_b=1:24<c.instance.bx&&c.instance.by<13&&(this.wall_b=9))},updateLoop:function(){c.instance.hole.ball.gotoAndStop(2),c.instance.hole.spiral.gotoAndPlay(c.instance.hole.spiral.frame),c.instance.hole.spiral.frame+=0|c.instance.hole.ymod,61<c.instance.hole.spiral.frame&&(c.instance.hole.spiral.frame=61,this.loopFinished()),c.instance.hole.spiral.frame<1&&(c.instance.hole.spiral.frame=1,this.resetLoop()),c.instance.hole.spiral.frame<30?c.instance.hole.ymod-=.3:c.instance.hole.ymod+=.3},resetLoop:function(){this.ymod<0&&null!=this.ymod&&(0<c.instance.hole.ymod&&(c.instance.hole.ymod*=-1,c.instance.hole.xmod*=-1),c.instance.by=21),c.instance.hole.in_spiral=!1,this.xm=null,(this.ymod=null)!=c.instance.hole.ball&&c.instance.hole.ball.gotoAndStop(1),c.instance.hole.play(),this.spiral.frame=2,this.spiral.gotoAndStop(1)},enterLoop:function(){this.ball.set_x(c.instance.hole.spx-c.instance.bx),this.ball.set_x(this.ball.__transform.tx-this.__transform.tx),null==this.xm&&(this.xm=c.instance.bx,this.ymod=c.instance.hole.ymod/4)},loopFinished:function(){this.xm+=32,c.instance.bx=this.xm,c.instance.by-=16,this.in_spiral=!1,this.spiral.stop()},__class__:yu});var wu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_215"]=wu).__name__=["scripts","Sprite_215"],wu.__super__=_u,wu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=45,this.matt_b=94,this.matt_l=-123,this.matt_r=-96,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=-37,this.hole_b=-23,this.hole_r=-103,this.hole_l=-116,this.wall_t=-50,this.wall_b=94,this.wall_l=-123,this.wall_r=110,c.instance.bx<-47||33<c.instance.bx?c.instance.by<-1?this.wall_b=-2:44<c.instance.by?this.wall_t=45:(this.wall_t=11,this.wall_b=33):(c.instance.by<=45&&33<=c.instance.by&&(this.wall_l=-46,this.wall_r=32),-2<=c.instance.by&&c.instance.by<=11&&(this.wall_l=-46,this.wall_r=32))},__class__:wu});var xu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_217"]=xu).__name__=["scripts","Sprite_217"],xu.__super__=_u,xu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=-50,this.matt_b=19,this.matt_l=-122,this.matt_r=-96,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){if(this.hole_t=128,this.hole_b=142,this.hole_r=-99,this.hole_l=-112,this.wall_t=-50,this.wall_b=171,this.wall_l=-122,this.wall_r=107,c.instance.by<20){if(c.instance.by<-34)if(this.wall_r=32,18<c.instance.bx){if(1!=this.hitc){var t=c.instance.hole.xmod;c.instance.hole.xmod=-1*c.instance.hole.ymod,c.instance.hole.ymod=t,this.hitc=!0}}else this.hitc=!1;c.instance.bx<17?(this.hitc=!1,this.wall_b=19):32<c.instance.bx&&(this.wall_t=-33,c.instance.bx<43?this.wall_b=19:this.wall_b=152)}else if(98<c.instance.by){if(153<c.instance.by)if(this.wall_r=32,18<c.instance.bx){if(1!=this.hitc){var e=-1*c.instance.hole.xmod;c.instance.hole.xmod=-1*c.instance.hole.ymod,c.instance.hole.ymod=e,this.hitc=!0}}else this.hitc=!1;c.instance.bx<17?(this.hitc=!1,this.wall_t=99):32<c.instance.bx&&(this.wall_b=152,c.instance.bx<43?this.wall_t=99:this.wall_t=-33)}else this.hitc=!1,16<c.instance.bx&&c.instance.bx<33&&(this.wall_l=17,this.wall_r=32),42<c.instance.bx&&(this.wall_l=43)},__class__:xu});var Tu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_219"]=Tu).__name__=["scripts","Sprite_219"],Tu.__super__=_u,Tu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=-5,this.matt_b=59,this.matt_l=-152,this.matt_r=-123,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=20,this.hole_b=33,this.hole_r=152,this.hole_l=139,this.wall_t=-30,this.wall_b=87,this.wall_l=-157,this.wall_r=165,-102<c.instance.bx&&c.instance.bx<6?(27<c.instance.by&&(this.wall_t=28),28<=c.instance.by?c.instance.hole.xmod-=.15:c.instance.hole.xmod+=.15):6<=c.instance.bx&&c.instance.bx<114&&(27<c.instance.by&&(this.wall_t=28),28<=c.instance.by?c.instance.hole.xmod+=.15:c.instance.hole.xmod-=.15)},__class__:Tu});var Su=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_22"]=Su).__name__=["scripts","Sprite_22"],Su.__super__=h,Su.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:Su});var Eu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(3,Hu(this,this.frame4)),this.addFrameScript(6,Hu(this,this.frame7)),this.addFrameScript(8,Hu(this,this.frame9)),h.call(this,t,e)};(i["scripts.Sprite_223"]=Eu).__name__=["scripts","Sprite_223"],Eu.__super__=h,Eu.prototype=n(h.prototype,{frame1:function(){c.instance.hole.blocked=!0},frame4:function(){c.instance.hole.blocked=!1},frame7:function(){c.instance.hole.blocked=!0},frame9:function(){c.instance.hole.blocked=!0},__class__:Eu});var Iu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),this.addFrameScript(6,Hu(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_225"]=Iu).__name__=["scripts","Sprite_225"],Iu.__super__=h,Iu.prototype=n(h.prototype,{frame1:function(){this.stop()},frame2:function(){c.instance.hole.ball.gotoAndStop(2)},frame7:function(){if(1==this.tube){c.instance.hole;c.instance.bx=-58}else if(3==this.tube){c.instance.hole;c.instance.bx=70}else{c.instance.hole;c.instance.bx=7}c.instance.hole;c.instance.by=-39,c.instance.hole.ball.gotoAndStop(1),c.instance.hole.play()},__class__:Iu});var Pu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_227"]=Pu).__name__=["scripts","Sprite_227"],Pu.__super__=_u,Pu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=175,this.matt_b=201,this.matt_l=-10,this.matt_r=33,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){if(this.hole_t=-112,this.hole_b=-98,this.hole_r=11,this.hole_l=-2,0<c.instance.by?(this.wall_b=207,this.wall_l=-71,this.wall_r=83,this.wall_t=22):(this.wall_b=-36,this.wall_l=-121,this.wall_r=129,this.wall_t=-155),c.instance.by<31&&0<c.instance.by&&(c.instance.bx<-46&&(this.pipe.tube=1,this.pipe.play(),this.stop()),57<c.instance.bx&&(this.pipe.tube=3,this.pipe.play(),this.stop()),c.instance.bx<22&&-7<c.instance.bx))if(1==this.blocked){var t=L.random(20)/10+9;c.instance.hole.xmod=-1*t;var e=L.random(10)/10+3;c.instance.hole.ymod=-1*e,c.instance.by=31}else this.pipe.tube=2,this.pipe.play(),this.stop()},__class__:Pu});var Cu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_230"]=Cu).__name__=["scripts","Sprite_230"],Cu.__super__=_u,Cu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=151,this.matt_b=176,this.matt_l=46,this.matt_r=90,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=-43,this.hole_b=-29,this.hole_r=-5,this.hole_l=-19,this.wall_b=182,this.wall_l=-39,this.wall_r=106,this.wall_t=-139,c.instance.by<63&&-19<c.instance.by&&(c.instance.hole.ymod-=.2,c.instance.hole.ymod<.1&&-.1<c.instance.hole.ymod&&(c.instance.hole.ymod-=.2)),c.instance.by<-58&&-122<c.instance.by&&(c.instance.hole.ymod+=.2,c.instance.hole.ymod<.1&&-.1<c.instance.hole.ymod&&(c.instance.hole.ymod+=.2))},__class__:Cu});var Du=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_232"]=Du).__name__=["scripts","Sprite_232"],Du.__super__=_u,Du.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=-97,this.matt_b=-67,this.matt_l=-85,this.matt_r=-38,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){if(this.hole_t=98,this.hole_b=112,this.hole_r=62,this.hole_l=49,this.wall_t=-102,this.wall_b=136,this.wall_l=-101,this.wall_r=-18,72<c.instance.by&&(this.wall_r=73,-17<c.instance.bx&&(this.wall_t=73)),125<c.instance.by&&c.instance.bx<-92){if(1!=this.hitc){var t=c.instance.hole.xmod;c.instance.hole.xmod=c.instance.hole.ymod,c.instance.hole.ymod=t,this.hitc=!0}}else this.hitc=!1;c.instance.bx<-67?c.instance.by<-15?this.wall_b=-16:-7<c.instance.by&&(this.wall_t=-6):-54<c.instance.bx&&c.instance.bx<-18?c.instance.by<41?this.wall_b=40:49<c.instance.by&&(this.wall_t=50):(-16<c.instance.by&&c.instance.by<-6&&(this.wall_l=-66),40<c.instance.by&&c.instance.by<50&&(this.wall_r=-55))},__class__:Du});var Au=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_234"]=Au).__name__=["scripts","Sprite_234"],Au.__super__=_u,Au.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=15,this.matt_b=43,this.matt_l=-96,this.matt_r=-51,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=-107,this.hole_b=-95,this.hole_r=77,this.hole_l=64,this.wall_b=125,69<c.instance.by?(this.wall_l=-105,this.wall_r=106,c.instance.bx<-40?this.wall_t=10:36<c.instance.bx?this.wall_t=-125:this.wall_t=68):c.instance.bx<-40?(this.wall_l=-105,this.wall_r=-40,this.wall_t=10):36<c.instance.bx&&(this.wall_l=36,this.wall_r=106,this.wall_t=-125)},__class__:Au});var Ru=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_237"]=Ru).__name__=["scripts","Sprite_237"],Ru.__super__=_u,Ru.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=-72,this.matt_b=-31,this.matt_l=-167,this.matt_r=-143,c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=69,this.hole_b=82,this.hole_r=-149,this.hole_l=-162,this.wall_b=100,this.wall_l=-170,this.wall_r=223,this.wall_t=-75,c.instance.by<-28?c.instance.bx<=161&&(this.wall_b=-29):49<c.instance.by?c.instance.bx<=161&&(this.wall_t=50):(this.wall_l=161,c.instance.by<9.5?c.instance.hole.ymod+=.2:c.instance.hole.ymod-=.2)},__class__:Ru});var Mu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_239"]=Mu).__name__=["scripts","Sprite_239"],Mu.__super__=_u,Mu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=-27,this.matt_b=18,this.matt_l=146,this.matt_r=171,null!=c.instance.actions&&c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){this.hole_t=-11,this.hole_b=3,this.hole_r=-83,this.hole_l=-96,this.wall_b=33,this.wall_l=-143,this.wall_r=178,this.wall_t=-40,-18<c.instance.by&&c.instance.by<12&&(5<c.instance.bx?this.wall_l=6:this.wall_r=6),c.instance.bx<138&&(c.instance.hole.xmod-=.2,c.instance.hole.xmod<.1&&-.1<c.instance.hole.xmod&&(c.instance.hole.xmod-=.2))},__class__:Mu});var Fu=function(t,e){h.call(this,t,e),this.stop()};(i["scripts.Sprite_35"]=Fu).__name__=["scripts","Sprite_35"],Fu.__super__=h,Fu.prototype=n(h.prototype,{__class__:Fu});var Bu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_39"]=Bu).__name__=["scripts","Sprite_39"],Bu.__super__=h,Bu.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:Bu});var Lu=function(t,e){h.call(this,t,e),this.stop()};(i["scripts.Sprite_40"]=Lu).__name__=["scripts","Sprite_40"],Lu.__super__=h,Lu.prototype=n(h.prototype,{__class__:Lu});var ku=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),this.addFrameScript(19,Hu(this,this.frame20)),h.call(this,t,e)};(i["scripts.Sprite_52"]=ku).__name__=["scripts","Sprite_52"],ku.__super__=h,ku.prototype=n(h.prototype,{frame1:function(){this.stop()},frame2:function(){c.instance.hole.ball.gotoAndStop(2)},frame20:function(){var t,e,i;1==this.hole?(t=9,e=-2,i=15):2==this.hole?(t=-34,e=11,i=14):(i=15.5,e=.5,t=11.5),i+=(L.random(20)-10)/10;c.instance.bx=t,c.instance.by=-16,c.instance.hole.xmod=e,c.instance.hole.ymod=i,c.instance.hole.rolling=!0,c.instance.hole.ball.gotoAndStop(1)},__class__:ku});var Nu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_65"]=Nu).__name__=["scripts","Sprite_65"],Nu.__super__=h,Nu.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:Nu});var Ou=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_85"]=Ou).__name__=["scripts","Sprite_85"],Ou.__super__=h,Ou.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:Ou});var Uu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_9"]=Uu).__name__=["scripts","Sprite_9"],Uu.__super__=h,Uu.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:Uu});var Gu=function(t,e){this.addFrameScript(0,Hu(this,this.frame1)),this.addFrameScript(1,Hu(this,this.frame2)),_u.call(this,t,e)};(i["scripts.Sprite_90"]=Gu).__name__=["scripts","Sprite_90"],Gu.__super__=_u,Gu.prototype=n(_u.prototype,{frame1:function(){c.instance.mx=this.get_mouseX(),c.instance.my=this.get_mouseY(),this.matt_t=129,this.matt_b=155,this.matt_l=10,this.matt_r=57,null!=c.instance.actions&&c.instance.actions.control()},frame2:function(){this.gotoAndPlay(1)},params:function(){if(this.hole_t=-90,this.hole_b=-76,this.hole_r=-7,this.hole_l=-20,this.wall_b=160,this.wall_l=-27,this.wall_r=92,this.wall_t=-138,-63<c.instance.by&&c.instance.by<86?(this.wall_l=20,this.wall_r=46):(c.instance.bx<20||46<c.instance.bx)&&(0<c.instance.by?this.wall_t=87:this.wall_b=-64),c.instance.by<-125)if(c.instance.bx<-17){if(1!=this.hitc){var t=c.instance.hole.xmod;c.instance.hole.xmod=-1*c.instance.hole.ymod,c.instance.hole.ymod=t,this.hitc=!0}}else if(80<c.instance.bx){if(1!=this.hitc){var e=c.instance.hole.xmod;c.instance.hole.xmod=-1*c.instance.hole.ymod,c.instance.hole.ymod=e,this.hitc=!0}}else this.hitc=!1},__class__:Gu});var Xu=function(){};(i["swagapi.Lib"]=Xu).__name__=["swagapi","Lib"],Xu.client=null,Xu.initialize=function(){try{var t="5cf5839fc79e903a0e65d083";Xu.client=SWAGAPI.getInstance({wrapper:window.document.querySelector("#root"),api_key:t,theme:"shockwave",debug:!0}),Xu.client.startSession().then(function(t){ls.trace("SWAG API session started.",{fileName:"Lib.hx",lineNumber:19,className:"swagapi.Lib",methodName:"initialize"})}),Xu.client.on("DIALOG_CLOSED",function(){Xu.dialogIsShown=!1})}catch(t){rs.lastException=t,ls.trace("SWAG API not started.",{fileName:"Lib.hx",lineNumber:26,className:"swagapi.Lib",methodName:"initialize"})}},Xu.showDialog=function(t){null==t&&(t="scores");try{Xu.client.showDialog(t),Xu.dialogIsShown=!0}catch(t){rs.lastException=t,ls.trace("SWAG API error while showDialog.",{fileName:"Lib.hx",lineNumber:35,className:"swagapi.Lib",methodName:"showDialog"})}},Xu.isDialogShown=function(){return Xu.dialogIsShown};var Vu,zu=0;function Hu(t,e){return null==e?null:(null==e.__id__&&(e.__id__=zu++),null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&((i=function(){return i.method.apply(i.scope,arguments)}).scope=t,i.method=e,t.hx__closures__[e.__id__]=i),i);var i}i.Math=Math,String.prototype.__class__=i.String=String,String.__name__=["String"],i.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=i.Date=Date,Date.__name__=["Date"];var Yu=i.Int={__name__:["Int"]},Wu=i.Dynamic={__name__:["Dynamic"]},Ku=i.Float=Number;Ku.__name__=["Float"];var ju=i.Bool=Boolean;ju.__ename__=["Bool"];var qu=i.Class={__name__:["Class"]},Ju={},Zu={},Qu=e.ArrayBuffer||Ws;null==Qu.prototype.slice&&(Qu.prototype.slice=Ws.sliceImpl);var $u=e.DataView||Ks,tc=e.Float32Array||js._new,ec=e.Uint8Array||qs._new,ic=new Uint32Array(256);ha.__alpha16=ic;for(var nc=0;nc<256;){var sc=nc++;ha.__alpha16[sc]=Math.ceil(257.00392156862745*sc)}var rc=new ec(510);ha.__clamp=rc;for(var ac=0;ac<255;){var oc=ac++;ha.__clamp[oc]=oc}for(var lc,hc,_c,uc,cc=255;cc<511;){var fc=cc++;ha.__clamp[fc]=255}da.available=!1,da.enabled=!1,W.__worldRenderDirty=0,W.__worldTransformDirty=0,W.__worldBranchDirty=0,W.__cachedBitmapPadding=1,W.NO_MOUSE_LISTENER_BRANCH_DEPTH=9999,W.__lastMouseListenerBranchDepth=9999,W.__parentList=new Array(32),K.__mouseListenerBranchDepthStack=((lc=new Gt)._items=[],lc._length=lc._items.length,lc),u.soundCommandTable=[],m.keyCallbackTable=[],m.inserted=!1,pt.__registeredFonts=[],P.minDuration=5500,P.introWidth=1440,P.introHeight=900,C.registered=!1,D.playingSoundTable=new fs,D.aliases=new fs,N.Element=0,N.PCData=1,N.CData=2,N.Comment=3,N.DocType=4,N.ProcessingInstruction=5,N.Document=6,O.instance=null,G.FLOAT16_EXPONENT_BASE=15,G.MIN_FLOAT_VALUE=Number.MIN_VALUE,G.MAX_FLOAT_VALUE=Number.MAX_VALUE,V.TIMEOUT=50,V.AUTOBUILD_LAYERS=!1,V.EXTRACT_SOUND_STREAM=!0,$.UID=0,$.SEQ=0,$.SEQ_BITS=8,$.SEQ_MASK=16777215,$.CLASSES=[],$.CL_BYID=null,$.CLIDS=null,et.__clid=$.registerClass(et),it.__clid=$.registerClass(it),nt.__clid=$.registerClass(nt),at.__clid=$.registerClass(at),lt.__clid=$.registerClass(lt),ht.__clid=$.registerClass(ht),bt.__clid=$.registerClass(bt),yt.__clid=$.registerClass(yt),wt.__clid=$.registerClass(wt),xt.__clid=$.registerClass(xt),Tt.__clid=$.registerClass(Tt),St.__clid=$.registerClass(St),Et.__clid=$.registerClass(Et),Ft.__clid=$.registerClass(Ft),Bt.TYPE_UNKNOWN=0,Bt.TYPE_END=1,Bt.TYPE_STYLECHANGE=2,Bt.TYPE_STRAIGHTEDGE=3,Bt.TYPE_CURVEDEDGE=4,Bt.__clid=$.registerClass(Bt),Lt.__clid=$.registerClass(Lt),kt.__clid=$.registerClass(kt),Nt.__clid=$.registerClass(Nt),Ot.__clid=$.registerClass(Ot),Ut.__clid=$.registerClass(Ut),Zt.CODE=7,Qt.BIT_8=3,Qt.BIT_15=4,Qt.BIT_24=5,$t.JPEG=1,$t.GIF89A=2,$t.PNG=3,te.NORMAL_0=0,te.NORMAL_1=1,te.LAYER=2,te.MULTIPLY=3,te.SCREEN=4,te.LIGHTEN=5,te.DARKEN=6,te.DIFFERENCE=7,te.ADD=8,te.SUBTRACT=9,te.INVERT=10,te.ALPHA=11,te.ERASE=12,te.OVERLAY=13,te.HARDLIGHT=14,ee.THIN=0,ee.MEDIUM=1,ee.THICK=2,ie.NORMAL=0,ie.LINEAR=1,ne.PAD=0,ne.REFLECT=1,ne.REPEAT=2,se.ROUND=0,se.NO=1,se.SQUARE=2,re.ROUND=0,re.BEVEL=1,re.MITER=2,ae.UNCOMPRESSED_NATIVE_ENDIAN=0,ae.ADPCM=1,ae.MP3=2,ae.UNCOMPRESSED_LITTLE_ENDIAN=3,ae.NELLYMOSER_16_KHZ=4,ae.NELLYMOSER_8_KHZ=5,ae.NELLYMOSER=6,ae.SPEEX=11,oe.KHZ_5=0,oe.KHZ_11=1,oe.KHZ_22=2,oe.KHZ_44=3,le.BIT_8=0,le.BIT_16=1,he.MONO=0,he.STEREO=1,_e.H263=2,_e.SCREEN=3,_e.VP6=4,_e.VP6ALPHA=5,_e.SCREENV2=6,ue.VIDEOPACKET=0,ue.OFF=1,ue.LEVEL1=2,ue.LEVEL2=3,ue.LEVEL3=4,ue.LEVEL4=5,fe.__clid=$.registerClass(fe),de.__clid=$.registerClass(de),pe.__clid=$.registerClass(pe),ge.MPEGversion_1_0=0,ge.MPEGversion_2_0=1,ge.MPEGversion_2_5=2,ge.MPEG_LAYER_I=0,ge.MPEG_LAYER_II=1,ge.MPEG_LAYER_III=2,ge.CHANNEL_MODE_STEREO=0,ge.CHANNEL_MODE_JOINT_STEREO=1,ge.CHANNEL_MODE_DUAL=2,ge.CHANNEL_MODE_MONO=3,ge.mpegBitrates=[[[0,32,96,128,160,192,224,256,288,320,352,384,416,448,-1],[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1]],[[0,32,48,56,64,80,96,112,128,144,160,176,192,224,256,-1],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1]]],ge.mpegsamplingrates=[[44100,48e3,32e3],[22050,24e3,16e3],[11025,12e3,8e3]],Ae.ACTIVATE="activate",Ae.ADDED="added",Ae.ADDED_TO_STAGE="addedToStage",Ae.CANCEL="cancel",Ae.CHANGE="change",Ae.CLOSE="close",Ae.COMPLETE="complete",Ae.CONNECT="connect",Ae.CONTEXT3D_CREATE="context3DCreate",Ae.DEACTIVATE="deactivate",Ae.ENTER_FRAME="enterFrame",Ae.ID3="id3",Ae.INIT="init",Ae.MOUSE_LEAVE="mouseLeave",Ae.MOUSE_ENTER="mouseEnter",Ae.OPEN="open",Ae.REMOVED="removed",Ae.REMOVED_FROM_STAGE="removedFromStage",Ae.RENDER="render",Ae.RESIZE="resize",Ae.SCROLL="scroll",Ae.SELECT="select",Ae.SOUND_COMPLETE="soundComplete",Ae.TAB_CHILDREN_CHANGE="tabChildrenChange",Ae.TAB_ENABLED_CHANGE="tabEnabledChange",Ae.TAB_INDEX_CHANGE="tabIndexChange",Ae.UNLOAD="unload",Ae.pool=new Ce(function(){return new Ae("")}),Re.ERROR="error",Re.REASON_EOF="eof",Me.PROGRESS="progress",Me.COMPLETE="complete",Fe.WARN_OVERFLOW="overflow",Fe.WARN_UNDERFLOW="underflow",Ve.__moveDelta=10,Ve.__maxScaleDifferenceBetweenRefreshGraphics=.4,Je.instances=new gs,Je.fontAliases=new gs,Je.fontAliasesId=new fs,Je.__clid=$.registerClass(Je),ei.__clid=$.registerClass(ei),ii.__clid=$.registerClass(ii),ni.__clid=$.registerClass(ni),si.__clid=$.registerClass(si),ri.__clid=$.registerClass(ri),ai.defaultCachePrecision=100,ai.__clid=$.registerClass(ai),oi.__buffer=new Int32Array(5),Cs.defaultCachePrecision=100,Cs.defaultTranslationCachePrecision=100,Cs.eventIsListened=!1,Cs.shapeSymbolsUsingBitmapCacheMap=new fs,Cs.__clid=$.registerClass(Cs),li.__buffer=new Int32Array(6),hi.__clid=$.registerClass(hi),_i.__clid=$.registerClass(_i),ui.__clid=$.registerClass(ui),ci.__clid=$.registerClass(ci),fi.__clid=$.registerClass(fi),di.__clid=$.registerClass(di),pi.__clid=$.registerClass(pi),xi.TYPE=74,Ti.TYPE=63,Si.TYPE=87,Ei.TYPE=6,Ii.TYPE=21,Pi.TYPE=35,Ci.TYPE=90,Di.TYPE=20,Ai.TYPE=36,Ri.TYPE=7,Ri.STATE_UP="up",Ri.STATE_OVER="over",Ri.STATE_DOWN="down",Ri.STATE_HIT="hit",Mi.TYPE=34,Fi.TYPE=23,Bi.TYPE=17,Li.TYPE=37,ki.TYPE=10,ki.unitDivisor=1,Ni.TYPE=48,Oi.TYPE=75,Oi.unitDivisor=20,Ui.TYPE=91,Gi.TYPE=73,Xi.TYPE=13,Vi.TYPE=62,zi.TYPE=88,Hi.TYPE=46,Yi.TYPE=84,Wi.TYPE=78,Ki.TYPE=86,ji.TYPE=2,qi.TYPE=22,Ji.TYPE=32,Zi.TYPE=83,Qi.TYPE=14,$i.TYPE=39,tn.TYPE=11,en.TYPE=33,nn.TYPE=60,sn.TYPE=82,rn.TYPE=72,an.TYPE=12,on.TYPE=59,ln.TYPE=58,hn.TYPE=64,_n.TYPE=93,un.TYPE=0,cn.TYPE=56,fn.TYPE=69,dn.TYPE=43,pn.TYPE=57,gn.TYPE=71,mn.TYPE=8,vn.TYPE=77,bn.TYPE=40,yn.TYPE=4,wn.TYPE=26,xn.TYPE=70,Tn.TYPE=94,Sn.TYPE=41,En.TYPE=24,In.TYPE=5,Pn.TYPE=28,Cn.TYPE=65,Dn.TYPE=9,An.TYPE=66,Rn.TYPE=1,Mn.TYPE=19,Fn.TYPE=18,Bn.TYPE=45,Ln.TYPE=15,kn.TYPE=89,Nn.TYPE=76,Un.TYPE=61,Gn.TYPE=253,Xn.TYPE=255,Yn.TYPE_EMPTY=0,Yn.TYPE_SPACER=1,Yn.TYPE_STATIC=2,Yn.TYPE_MOTIONTWEEN=3,Yn.TYPE_SHAPETWEEN=4,ns.i=0,ns.SIGN_UNDEF=0,ns.SIGN_POS=-1,ns.SIGN_NEG=1,ds.count=0,ws.i64tmp=new os(0,0),As.escapes=(hc=new gs,null!=Zu.lt?hc.setReserved("lt","<"):hc.h.lt="<",null!=Zu.gt?hc.setReserved("gt",">"):hc.h.gt=">",null!=Zu.amp?hc.setReserved("amp","&"):hc.h.amp="&",null!=Zu.quot?hc.setReserved("quot",'"'):hc.h.quot='"',null!=Zu.apos?hc.setReserved("apos","'"):hc.h.apos="'",hc),ks.IN_ENUM_SER=!1,Ns.__clid=$.registerClass(Ns),zs.__toStr={}.toString,js.BYTES_PER_ELEMENT=4,qs.BYTES_PER_ELEMENT=1,Qs.cache=new Js,Qs.libraries=new gs,Qs.onChange=new Zs,Qs.initialized=!1,Qs.extraSoundOptions=new gs,$s.stopUpdating=!1,nr.windowID=0,Sr.images=new gs,Sr.loaders=new gs,Lr.NONE=0,Lr.FALSE=0,Lr.TRUE=1,Lr.SOURCE_RELATIVE=514,Lr.CONE_INNER_ANGLE=4097,Lr.CONE_OUTER_ANGLE=4098,Lr.PITCH=4099,Lr.POSITION=4100,Lr.DIRECTION=4101,Lr.VELOCITY=4102,Lr.LOOPING=4103,Lr.BUFFER=4105,Lr.GAIN=4106,Lr.MIN_GAIN=4109,Lr.MAX_GAIN=4110,Lr.ORIENTATION=4111,Lr.SOURCE_STATE=4112,Lr.INITIAL=4113,Lr.PLAYING=4114,Lr.PAUSED=4115,Lr.STOPPED=4116,Lr.BUFFERS_QUEUED=4117,Lr.BUFFERS_PROCESSED=4118,Lr.REFERENCE_DISTANCE=4128,Lr.ROLLOFF_FACTOR=4129,Lr.CONE_OUTER_GAIN=4130,Lr.MAX_DISTANCE=4131,Lr.SEC_OFFSET=4132,Lr.SAMPLE_OFFSET=4133,Lr.BYTE_OFFSET=4134,Lr.SOURCE_TYPE=4135,Lr.STATIC=4136,Lr.STREAMING=4137,Lr.UNDETERMINED=4144,Lr.FORMAT_MONO8=4352,Lr.FORMAT_MONO16=4353,Lr.FORMAT_STEREO8=4354,Lr.FORMAT_STEREO16=4355,Lr.FREQUENCY=8193,Lr.BITS=8194,Lr.CHANNELS=8195,Lr.SIZE=8196,Lr.NO_ERROR=0,Lr.INVALID_NAME=40961,Lr.INVALID_ENUM=40962,Lr.INVALID_VALUE=40963,Lr.INVALID_OPERATION=40964,Lr.OUT_OF_MEMORY=40965,Lr.VENDOR=45057,Lr.VERSION=45058,Lr.RENDERER=45059,Lr.EXTENSIONS=45060,Lr.DOPPLER_FACTOR=49152,Lr.SPEED_OF_SOUND=49155,Lr.DOPPLER_VELOCITY=49153,Lr.DISTANCE_MODEL=53248,Lr.INVERSE_DISTANCE=53249,Lr.INVERSE_DISTANCE_CLAMPED=53250,Lr.LINEAR_DISTANCE=53251,Lr.LINEAR_DISTANCE_CLAMPED=53252,Lr.EXPONENT_DISTANCE=53253,Lr.EXPONENT_DISTANCE_CLAMPED=53254,kr.FALSE=0,kr.TRUE=1,kr.FREQUENCY=4103,kr.REFRESH=4104,kr.SYNC=4105,kr.MONO_SOURCES=4112,kr.STEREO_SOURCES=4113,kr.NO_ERROR=0,kr.INVALID_DEVICE=40961,kr.INVALID_CONTEXT=40962,kr.INVALID_ENUM=40963,kr.INVALID_VALUE=40964,kr.OUT_OF_MEMORY=40965,kr.ATTRIBUTES_SIZE=4098,kr.ALL_ATTRIBUTES=4099,kr.DEFAULT_DEVICE_SPECIFIER=4100,kr.DEVICE_SPECIFIER=4101,kr.EXTENSIONS=4102,kr.ENUMERATE_ALL_EXT=1,kr.DEFAULT_ALL_DEVICES_SPECIFIER=4114,kr.ALL_DEVICES_SPECIFIER=4115,Gr.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zr.DEPTH_BUFFER_BIT=256,Zr.STENCIL_BUFFER_BIT=1024,Zr.COLOR_BUFFER_BIT=16384,Zr.POINTS=0,Zr.LINES=1,Zr.LINE_LOOP=2,Zr.LINE_STRIP=3,Zr.TRIANGLES=4,Zr.TRIANGLE_STRIP=5,Zr.TRIANGLE_FAN=6,Zr.ZERO=0,Zr.ONE=1,Zr.SRC_COLOR=768,Zr.ONE_MINUS_SRC_COLOR=769,Zr.SRC_ALPHA=770,Zr.ONE_MINUS_SRC_ALPHA=771,Zr.DST_ALPHA=772,Zr.ONE_MINUS_DST_ALPHA=773,Zr.DST_COLOR=774,Zr.ONE_MINUS_DST_COLOR=775,Zr.SRC_ALPHA_SATURATE=776,Zr.FUNC_ADD=32774,Zr.BLEND_EQUATION=32777,Zr.BLEND_EQUATION_RGB=32777,Zr.BLEND_EQUATION_ALPHA=34877,Zr.FUNC_SUBTRACT=32778,Zr.FUNC_REVERSE_SUBTRACT=32779,Zr.BLEND_DST_RGB=32968,Zr.BLEND_SRC_RGB=32969,Zr.BLEND_DST_ALPHA=32970,Zr.BLEND_SRC_ALPHA=32971,Zr.CONSTANT_COLOR=32769,Zr.ONE_MINUS_CONSTANT_COLOR=32770,Zr.CONSTANT_ALPHA=32771,Zr.ONE_MINUS_CONSTANT_ALPHA=32772,Zr.BLEND_COLOR=32773,Zr.ARRAY_BUFFER=34962,Zr.ELEMENT_ARRAY_BUFFER=34963,Zr.ARRAY_BUFFER_BINDING=34964,Zr.ELEMENT_ARRAY_BUFFER_BINDING=34965,Zr.STREAM_DRAW=35040,Zr.STATIC_DRAW=35044,Zr.DYNAMIC_DRAW=35048,Zr.BUFFER_SIZE=34660,Zr.BUFFER_USAGE=34661,Zr.CURRENT_VERTEX_ATTRIB=34342,Zr.FRONT=1028,Zr.BACK=1029,Zr.FRONT_AND_BACK=1032,Zr.CULL_FACE=2884,Zr.BLEND=3042,Zr.DITHER=3024,Zr.STENCIL_TEST=2960,Zr.DEPTH_TEST=2929,Zr.SCISSOR_TEST=3089,Zr.POLYGON_OFFSET_FILL=32823,Zr.SAMPLE_ALPHA_TO_COVERAGE=32926,Zr.SAMPLE_COVERAGE=32928,Zr.NO_ERROR=0,Zr.INVALID_ENUM=1280,Zr.INVALID_VALUE=1281,Zr.INVALID_OPERATION=1282,Zr.OUT_OF_MEMORY=1285,Zr.CW=2304,Zr.CCW=2305,Zr.LINE_WIDTH=2849,Zr.ALIASED_POINT_SIZE_RANGE=33901,Zr.ALIASED_LINE_WIDTH_RANGE=33902,Zr.CULL_FACE_MODE=2885,Zr.FRONT_FACE=2886,Zr.DEPTH_RANGE=2928,Zr.DEPTH_WRITEMASK=2930,Zr.DEPTH_CLEAR_VALUE=2931,Zr.DEPTH_FUNC=2932,Zr.STENCIL_CLEAR_VALUE=2961,Zr.STENCIL_FUNC=2962,Zr.STENCIL_FAIL=2964,Zr.STENCIL_PASS_DEPTH_FAIL=2965,Zr.STENCIL_PASS_DEPTH_PASS=2966,Zr.STENCIL_REF=2967,Zr.STENCIL_VALUE_MASK=2963,Zr.STENCIL_WRITEMASK=2968,Zr.STENCIL_BACK_FUNC=34816,Zr.STENCIL_BACK_FAIL=34817,Zr.STENCIL_BACK_PASS_DEPTH_FAIL=34818,Zr.STENCIL_BACK_PASS_DEPTH_PASS=34819,Zr.STENCIL_BACK_REF=36003,Zr.STENCIL_BACK_VALUE_MASK=36004,Zr.STENCIL_BACK_WRITEMASK=36005,Zr.VIEWPORT=2978,Zr.SCISSOR_BOX=3088,Zr.COLOR_CLEAR_VALUE=3106,Zr.COLOR_WRITEMASK=3107,Zr.UNPACK_ALIGNMENT=3317,Zr.PACK_ALIGNMENT=3333,Zr.MAX_TEXTURE_SIZE=3379,Zr.MAX_VIEWPORT_DIMS=3386,Zr.SUBPIXEL_BITS=3408,Zr.RED_BITS=3410,Zr.GREEN_BITS=3411,Zr.BLUE_BITS=3412,Zr.ALPHA_BITS=3413,Zr.DEPTH_BITS=3414,Zr.STENCIL_BITS=3415,Zr.POLYGON_OFFSET_UNITS=10752,Zr.POLYGON_OFFSET_FACTOR=32824,Zr.TEXTURE_BINDING_2D=32873,Zr.SAMPLE_BUFFERS=32936,Zr.SAMPLES=32937,Zr.SAMPLE_COVERAGE_VALUE=32938,Zr.SAMPLE_COVERAGE_INVERT=32939,Zr.COMPRESSED_TEXTURE_FORMATS=34467,Zr.DONT_CARE=4352,Zr.FASTEST=4353,Zr.NICEST=4354,Zr.GENERATE_MIPMAP_HINT=33170,Zr.BYTE=5120,Zr.UNSIGNED_BYTE=5121,Zr.SHORT=5122,Zr.UNSIGNED_SHORT=5123,Zr.INT=5124,Zr.UNSIGNED_INT=5125,Zr.FLOAT=5126,Zr.DEPTH_COMPONENT=6402,Zr.ALPHA=6406,Zr.RGB=6407,Zr.RGBA=6408,Zr.BGR_EXT=32992,Zr.BGRA_EXT=32993,Zr.LUMINANCE=6409,Zr.LUMINANCE_ALPHA=6410,Zr.UNSIGNED_SHORT_4_4_4_4=32819,Zr.UNSIGNED_SHORT_5_5_5_1=32820,Zr.UNSIGNED_SHORT_5_6_5=33635,Zr.FRAGMENT_SHADER=35632,Zr.VERTEX_SHADER=35633,Zr.MAX_VERTEX_ATTRIBS=34921,Zr.MAX_VERTEX_UNIFORM_VECTORS=36347,Zr.MAX_VARYING_VECTORS=36348,Zr.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,Zr.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,Zr.MAX_TEXTURE_IMAGE_UNITS=34930,Zr.MAX_FRAGMENT_UNIFORM_VECTORS=36349,Zr.SHADER_TYPE=35663,Zr.DELETE_STATUS=35712,Zr.LINK_STATUS=35714,Zr.VALIDATE_STATUS=35715,Zr.ATTACHED_SHADERS=35717,Zr.ACTIVE_UNIFORMS=35718,Zr.ACTIVE_ATTRIBUTES=35721,Zr.SHADING_LANGUAGE_VERSION=35724,Zr.CURRENT_PROGRAM=35725,Zr.NEVER=512,Zr.LESS=513,Zr.EQUAL=514,Zr.LEQUAL=515,Zr.GREATER=516,Zr.NOTEQUAL=517,Zr.GEQUAL=518,Zr.ALWAYS=519,Zr.KEEP=7680,Zr.REPLACE=7681,Zr.INCR=7682,Zr.DECR=7683,Zr.INVERT=5386,Zr.INCR_WRAP=34055,Zr.DECR_WRAP=34056,Zr.VENDOR=7936,Zr.RENDERER=7937,Zr.VERSION=7938,Zr.NEAREST=9728,Zr.LINEAR=9729,Zr.NEAREST_MIPMAP_NEAREST=9984,Zr.LINEAR_MIPMAP_NEAREST=9985,Zr.NEAREST_MIPMAP_LINEAR=9986,Zr.LINEAR_MIPMAP_LINEAR=9987,Zr.TEXTURE_MAG_FILTER=10240,Zr.TEXTURE_MIN_FILTER=10241,Zr.TEXTURE_WRAP_S=10242,Zr.TEXTURE_WRAP_T=10243,Zr.TEXTURE_2D=3553,Zr.TEXTURE=5890,Zr.TEXTURE_CUBE_MAP=34067,Zr.TEXTURE_BINDING_CUBE_MAP=34068,Zr.TEXTURE_CUBE_MAP_POSITIVE_X=34069,Zr.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,Zr.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,Zr.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,Zr.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,Zr.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,Zr.MAX_CUBE_MAP_TEXTURE_SIZE=34076,Zr.TEXTURE0=33984,Zr.TEXTURE1=33985,Zr.TEXTURE2=33986,Zr.TEXTURE3=33987,Zr.TEXTURE4=33988,Zr.TEXTURE5=33989,Zr.TEXTURE6=33990,Zr.TEXTURE7=33991,Zr.TEXTURE8=33992,Zr.TEXTURE9=33993,Zr.TEXTURE10=33994,Zr.TEXTURE11=33995,Zr.TEXTURE12=33996,Zr.TEXTURE13=33997,Zr.TEXTURE14=33998,Zr.TEXTURE15=33999,Zr.TEXTURE16=34e3,Zr.TEXTURE17=34001,Zr.TEXTURE18=34002,Zr.TEXTURE19=34003,Zr.TEXTURE20=34004,Zr.TEXTURE21=34005,Zr.TEXTURE22=34006,Zr.TEXTURE23=34007,Zr.TEXTURE24=34008,Zr.TEXTURE25=34009,Zr.TEXTURE26=34010,Zr.TEXTURE27=34011,Zr.TEXTURE28=34012,Zr.TEXTURE29=34013,Zr.TEXTURE30=34014,Zr.TEXTURE31=34015,Zr.ACTIVE_TEXTURE=34016,Zr.REPEAT=10497,Zr.CLAMP_TO_EDGE=33071,Zr.MIRRORED_REPEAT=33648,Zr.FLOAT_VEC2=35664,Zr.FLOAT_VEC3=35665,Zr.FLOAT_VEC4=35666,Zr.INT_VEC2=35667,Zr.INT_VEC3=35668,Zr.INT_VEC4=35669,Zr.BOOL=35670,Zr.BOOL_VEC2=35671,Zr.BOOL_VEC3=35672,Zr.BOOL_VEC4=35673,Zr.FLOAT_MAT2=35674,Zr.FLOAT_MAT3=35675,Zr.FLOAT_MAT4=35676,Zr.SAMPLER_2D=35678,Zr.SAMPLER_CUBE=35680,Zr.VERTEX_ATTRIB_ARRAY_ENABLED=34338,Zr.VERTEX_ATTRIB_ARRAY_SIZE=34339,Zr.VERTEX_ATTRIB_ARRAY_STRIDE=34340,Zr.VERTEX_ATTRIB_ARRAY_TYPE=34341,Zr.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,Zr.VERTEX_ATTRIB_ARRAY_POINTER=34373,Zr.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,Zr.VERTEX_PROGRAM_POINT_SIZE=34370,Zr.POINT_SPRITE=34913,Zr.COMPILE_STATUS=35713,Zr.LOW_FLOAT=36336,Zr.MEDIUM_FLOAT=36337,Zr.HIGH_FLOAT=36338,Zr.LOW_INT=36339,Zr.MEDIUM_INT=36340,Zr.HIGH_INT=36341,Zr.FRAMEBUFFER=36160,Zr.RENDERBUFFER=36161,Zr.RGBA4=32854,Zr.RGB5_A1=32855,Zr.RGB565=36194,Zr.DEPTH_COMPONENT16=33189,Zr.STENCIL_INDEX=6401,Zr.STENCIL_INDEX8=36168,Zr.DEPTH_STENCIL=34041,Zr.RENDERBUFFER_WIDTH=36162,Zr.RENDERBUFFER_HEIGHT=36163,Zr.RENDERBUFFER_INTERNAL_FORMAT=36164,Zr.RENDERBUFFER_RED_SIZE=36176,Zr.RENDERBUFFER_GREEN_SIZE=36177,Zr.RENDERBUFFER_BLUE_SIZE=36178,Zr.RENDERBUFFER_ALPHA_SIZE=36179,Zr.RENDERBUFFER_DEPTH_SIZE=36180,Zr.RENDERBUFFER_STENCIL_SIZE=36181,Zr.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,Zr.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,Zr.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,Zr.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,Zr.COLOR_ATTACHMENT0=36064,Zr.DEPTH_ATTACHMENT=36096,Zr.STENCIL_ATTACHMENT=36128,Zr.DEPTH_STENCIL_ATTACHMENT=33306,Zr.NONE=0,Zr.FRAMEBUFFER_COMPLETE=36053,Zr.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,Zr.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,Zr.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,Zr.FRAMEBUFFER_UNSUPPORTED=36061,Zr.FRAMEBUFFER_BINDING=36006,Zr.RENDERBUFFER_BINDING=36007,Zr.MAX_RENDERBUFFER_SIZE=34024,Zr.INVALID_FRAMEBUFFER_OPERATION=1286,Zr.UNPACK_FLIP_Y_WEBGL=37440,Zr.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,Zr.CONTEXT_LOST_WEBGL=37442,Zr.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,Zr.BROWSER_DEFAULT_WEBGL=37444,Zr.currentBoundTexture=new Array(8),Zr.textureStateCache=new ds,ea.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],ia.__identity=new ia,na.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ua.GLOBAL_SSL=1,ua.GLOBAL_WIN32=2,ua.GLOBAL_ALL=3,ua.GLOBAL_NOTHING=0,ua.GLOBAL_DEFAULT=3,ua.GLOBAL_ACK_EINTR=4,fa.MESSAGE_COMPLETE="__COMPLETE__",fa.MESSAGE_ERROR="__ERROR__",da.__moduleNames=null,Pa.INVALID=0,Pa.LEFT_TO_RIGHT=4,Pa.RIGHT_TO_LEFT=5,Pa.TOP_TO_BOTTOM=6,Pa.BOTTOM_TO_TOP=7,Da.COMMON="Zyyy",Da.INHERITED="Zinh",Da.UNKNOWN="Zzzz",Da.ARABIC="Arab",Da.ARMENIAN="Armn",Da.BENGALI="Beng",Da.CYRILLIC="Cyrl",Da.DEVANAGARI="Deva",Da.GEORGIAN="Geor",Da.GREEK="Grek",Da.GUJARATI="Gujr",Da.GURMUKHI="Guru",Da.HANGUL="Hang",Da.HAN="Hani",Da.HEBREW="Hebr",Da.HIRAGANA="Hira",Da.KANNADA="Knda",Da.KATAKANA="Kana",Da.LAO="Laoo",Da.LATIN="Latn",Da.MALAYALAM="Mlym",Da.ORIYA="Orya",Da.TAMIL="Taml",Da.TELUGA="Telu",Da.THAI="Thai",Da.TIBETAN="Tibt",Da.BOPOMOFO="Bopo",Da.BRAILLE="Brai",Da.CANADIAN_SYLLABICS="Cans",Da.CHEROKEE="Cher",Da.ETHIOPIC="Ethi",Da.KHMER="Khmr",Da.MONGOLIAN="Mong",Da.MYANMAR="Mymr",Da.OGHAM="Ogam",Da.RUNIC="Runr",Da.SINHALA="Sinh",Da.SYRIAC="Syrc",Da.THAANA="Thaa",Da.YI="Yiii",Da.DESERET="Dsrt",Da.GOTHIC="Goth",Da.OLD_ITALIC="Ital",Da.BUHID="Buhd",Da.HANUNOO="Hano",Da.TAGALOG="Tglg",Da.TAGBANWA="Tagb",Da.CYPRIOT="Cprt",Da.LIMBU="Limb",Da.LINEAR_B="Linb",Da.OSMANYA="Osma",Da.SHAVIAN="Shaw",Da.TAI_LE="Tale",Da.UGARITIC="Ugar",Da.BUGINESE="Bugi",Da.COPTIC="Copt",Da.GLAGOLITIC="Glag",Da.KHAROSHTHI="Khar",Da.NEW_TAI_LUE="Talu",Da.OLD_PERSIAN="Xpeo",Da.SYLOTI_NAGRI="Sylo",Da.TIFINAGH="Tfng",Da.BALINESE="Bali",Da.CUNEIFORM="Xsux",Da.NKO="Nkoo",Da.PHAGS_PA="Phag",Da.PHOENICIAN="Phnx",Da.CARIAN="Cari",Da.CHAM="Cham",Da.KAYAH_LI="Kali",Da.LEPCHA="Lepc",Da.LYCIAN="Lyci",Da.LYDIAN="Lydi",Da.OL_CHIKI="Olck",Da.REJANG="Rjng",Da.SAURASHTRA="Saur",Da.SUNDANESE="Sund",Da.VAI="Vaii",Da.AVESTAN="Avst",Da.BAMUM="Bamu",Da.EGYPTIAN_HIEROGLYPHS="Egyp",Da.IMPERIAL_ARAMAIC="Armi",Da.INSCRIPTIONAL_PAHLAVI="Phli",Da.INSCRIPTIONAL_PARTHIAN="Prti",Da.JAVANESE="Java",Da.KAITHI="Kthi",Da.LISU="Lisu",Da.MEETEI_MAYEK="Mtei",Da.OLD_SOUTH_ARABIAN="Sarb";Da.OLD_TURKIC="Orkh",Da.SAMARITAN="Samr",Da.TAI_THAM="Lana",Da.TAI_VIET="Tavt",Da.BATAK="Batk",Da.BRAHMI="Brah",Da.MANDAIC="Mand",Da.CHAKMA="Cakm",Da.MEROITIC_CURSIVE="Merc",Da.MEROITIC_HIEROGLYPHS="Mero",Da.MIAO="Plrd",Da.SHARADA="Shrd",Da.SORA_SOMPENG="Sora",Da.TAKRI="Takr",Da.BASSA_VAH="Bass",Da.CAUCASIAN_ALBANIAN="Aghb",Da.DUPLOYAN="Dupl",Da.ELBASAN="Elba",Da.GRANTHA="Gran",Da.KHOJKI="Khoj",Da.KHUDAWADI="Sind",Da.LINEAR_A="Lina",Da.MAHAJANI="Mahj",Da.MANICHAEAN="Mani",Da.MENDE_KIKAKUI="Mend",Da.MODI="Modi",Da.MRO="Mroo",Da.NABATAEAN="Nbat",Da.OLD_NORTH_ARABIAN="Narb",Da.OLD_PERMIC="Perm",Da.PAHAWH_HMONG="Hmng",Da.PALMYRENE="Palm",Da.PAU_CIN_HAU="Pauc",Da.PSALTER_PAHLAVI="Phlp",Da.SIDDHAM="Sidd",Da.TIRHUTA="Tirh",Da.WARANG_CITI="Wara",Aa.devices=new fs,Aa.onConnect=new br,Ra.LEFT_X=0,Ra.LEFT_Y=1,Ra.RIGHT_X=2,Ra.RIGHT_Y=3,Ra.TRIGGER_LEFT=4,Ra.TRIGGER_RIGHT=5,Ma.A=0,Ma.B=1,Ma.X=2,Ma.Y=3,Ma.BACK=4,Ma.GUIDE=5,Ma.START=6,Ma.LEFT_STICK=7,Ma.RIGHT_STICK=8,Ma.LEFT_SHOULDER=9,Ma.RIGHT_SHOULDER=10,Ma.DPAD_UP=11,Ma.DPAD_DOWN=12,Ma.DPAD_LEFT=13,Ma.DPAD_RIGHT=14,Fa.devices=new fs,Fa.onConnect=new yr,Ba.CENTER=0,Ba.DOWN=4,Ba.LEFT=8,Ba.RIGHT=2,Ba.UP=1,Ba.DOWN_LEFT=12,Ba.DOWN_RIGHT=6,Ba.UP_LEFT=9,Ba.UP_RIGHT=3,La.UNKNOWN=0,La.BACKSPACE=8,La.TAB=9,La.RETURN=13,La.ESCAPE=27,La.SPACE=32,La.EXCLAMATION=33,La.QUOTE=34,La.HASH=35,La.DOLLAR=36,La.PERCENT=37,La.AMPERSAND=38,La.SINGLE_QUOTE=39,La.LEFT_PARENTHESIS=40,La.RIGHT_PARENTHESIS=41,La.ASTERISK=42,La.PLUS=43,La.COMMA=44,La.MINUS=45,La.PERIOD=46,La.SLASH=47,La.NUMBER_0=48,La.NUMBER_1=49,La.NUMBER_2=50,La.NUMBER_3=51,La.NUMBER_4=52,La.NUMBER_5=53,La.NUMBER_6=54,La.NUMBER_7=55,La.NUMBER_8=56,La.NUMBER_9=57,La.COLON=58,La.SEMICOLON=59,La.LESS_THAN=60,La.EQUALS=61,La.GREATER_THAN=62,La.QUESTION=63,La.AT=64,La.LEFT_BRACKET=91,La.BACKSLASH=92,La.RIGHT_BRACKET=93,La.CARET=94,La.UNDERSCORE=95,La.GRAVE=96,La.A=97,La.B=98,La.C=99,La.D=100,La.E=101,La.F=102,La.G=103,La.H=104,La.I=105,La.J=106,La.K=107,La.L=108,La.M=109,La.N=110,La.O=111,La.P=112,La.Q=113,La.R=114,La.S=115,La.T=116,La.U=117,La.V=118,La.W=119,La.X=120,La.Y=121,La.Z=122,La.DELETE=127,La.CAPS_LOCK=1073741881,La.F1=1073741882,La.F2=1073741883,La.F3=1073741884,La.F4=1073741885,La.F5=1073741886,La.F6=1073741887,La.F7=1073741888,La.F8=1073741889,La.F9=1073741890,La.F10=1073741891,La.F11=1073741892,La.F12=1073741893,La.PRINT_SCREEN=1073741894,La.SCROLL_LOCK=1073741895,La.PAUSE=1073741896,La.INSERT=1073741897,La.HOME=1073741898,La.PAGE_UP=1073741899,La.END=1073741901,La.PAGE_DOWN=1073741902,La.RIGHT=1073741903,La.LEFT=1073741904,La.DOWN=1073741905,La.UP=1073741906,La.NUM_LOCK=1073741907,La.NUMPAD_DIVIDE=1073741908,La.NUMPAD_MULTIPLY=1073741909,La.NUMPAD_MINUS=1073741910,La.NUMPAD_PLUS=1073741911,La.NUMPAD_ENTER=1073741912,La.NUMPAD_1=1073741913,La.NUMPAD_2=1073741914,La.NUMPAD_3=1073741915,La.NUMPAD_4=1073741916,La.NUMPAD_5=1073741917,La.NUMPAD_6=1073741918,La.NUMPAD_7=1073741919,La.NUMPAD_8=1073741920,La.NUMPAD_9=1073741921,La.NUMPAD_0=1073741922,La.NUMPAD_PERIOD=1073741923,La.APPLICATION=1073741925,La.POWER=1073741926,La.NUMPAD_EQUALS=1073741927,La.F13=1073741928,La.F14=1073741929,La.F15=1073741930,La.F16=1073741931,La.F17=1073741932,La.F18=1073741933,La.F19=1073741934,La.F20=1073741935,La.F21=1073741936,La.F22=1073741937,La.F23=1073741938,La.F24=1073741939,La.EXECUTE=1073741940,La.HELP=1073741941,La.MENU=1073741942,La.SELECT=1073741943,La.STOP=1073741944,La.AGAIN=1073741945,La.UNDO=1073741946,La.CUT=1073741947,La.COPY=1073741948,La.PASTE=1073741949,La.FIND=1073741950,La.MUTE=1073741951,La.VOLUME_UP=1073741952,La.VOLUME_DOWN=1073741953,La.NUMPAD_COMMA=1073741957,La.ALT_ERASE=1073741977,La.SYSTEM_REQUEST=1073741978,La.CANCEL=1073741979,La.CLEAR=1073741980,La.PRIOR=1073741981,La.RETURN2=1073741982,La.SEPARATOR=1073741983,La.OUT=1073741984,La.OPER=1073741985,La.CLEAR_AGAIN=1073741986,La.CRSEL=1073741987,La.EXSEL=1073741988,La.NUMPAD_00=1073742e3,La.NUMPAD_000=1073742001,La.THOUSAND_SEPARATOR=1073742002,La.DECIMAL_SEPARATOR=1073742003,La.CURRENCY_UNIT=1073742004,La.CURRENCY_SUBUNIT=1073742005,La.NUMPAD_LEFT_PARENTHESIS=1073742006,La.NUMPAD_RIGHT_PARENTHESIS=1073742007,La.NUMPAD_LEFT_BRACE=1073742008,La.NUMPAD_RIGHT_BRACE=1073742009,La.NUMPAD_TAB=1073742010,La.NUMPAD_BACKSPACE=1073742011,La.NUMPAD_A=1073742012,La.NUMPAD_B=1073742013,La.NUMPAD_C=1073742014,La.NUMPAD_D=1073742015,La.NUMPAD_E=1073742016,La.NUMPAD_F=1073742017,La.NUMPAD_XOR=1073742018,La.NUMPAD_POWER=1073742019,La.NUMPAD_PERCENT=1073742020,La.NUMPAD_LESS_THAN=1073742021,La.NUMPAD_GREATER_THAN=1073742022,La.NUMPAD_AMPERSAND=1073742023,La.NUMPAD_DOUBLE_AMPERSAND=1073742024,La.NUMPAD_VERTICAL_BAR=1073742025,La.NUMPAD_DOUBLE_VERTICAL_BAR=1073742026,La.NUMPAD_COLON=1073742027,La.NUMPAD_HASH=1073742028,La.NUMPAD_SPACE=1073742029,La.NUMPAD_AT=1073742030,La.NUMPAD_EXCLAMATION=1073742031,La.NUMPAD_MEM_STORE=1073742032,La.NUMPAD_MEM_RECALL=1073742033,La.NUMPAD_MEM_CLEAR=1073742034,La.NUMPAD_MEM_ADD=1073742035,La.NUMPAD_MEM_SUBTRACT=1073742036,La.NUMPAD_MEM_MULTIPLY=1073742037,La.NUMPAD_MEM_DIVIDE=1073742038,La.NUMPAD_PLUS_MINUS=1073742039,La.NUMPAD_CLEAR=1073742040,La.NUMPAD_CLEAR_ENTRY=1073742041,La.NUMPAD_BINARY=1073742042,La.NUMPAD_OCTAL=1073742043,La.NUMPAD_DECIMAL=1073742044,La.NUMPAD_HEXADECIMAL=1073742045,La.LEFT_CTRL=1073742048,La.LEFT_SHIFT=1073742049,La.LEFT_ALT=1073742050,La.LEFT_META=1073742051,La.RIGHT_CTRL=1073742052,La.RIGHT_SHIFT=1073742053,La.RIGHT_ALT=1073742054,La.RIGHT_META=1073742055,La.MODE=1073742081,La.AUDIO_NEXT=1073742082,La.AUDIO_PREVIOUS=1073742083,La.AUDIO_STOP=1073742084,La.AUDIO_PLAY=1073742085,La.AUDIO_MUTE=1073742086,La.MEDIA_SELECT=1073742087,La.WWW=1073742088,La.MAIL=1073742089,La.CALCULATOR=1073742090,La.COMPUTER=1073742091,La.APP_CONTROL_SEARCH=1073742092,La.APP_CONTROL_HOME=1073742093,La.APP_CONTROL_BACK=1073742094,La.APP_CONTROL_FORWARD=1073742095,La.APP_CONTROL_STOP=1073742096,La.APP_CONTROL_REFRESH=1073742097,La.APP_CONTROL_BOOKMARKS=1073742098,La.BRIGHTNESS_DOWN=1073742099,La.BRIGHTNESS_UP=1073742100,La.DISPLAY_SWITCH=1073742101,La.BACKLIGHT_TOGGLE=1073742102,La.BACKLIGHT_DOWN=1073742103,La.BACKLIGHT_UP=1073742104,La.EJECT=1073742105,La.SLEEP=1073742106,ka.NONE=0,ka.LEFT_SHIFT=1,ka.RIGHT_SHIFT=2,ka.LEFT_CTRL=64,ka.RIGHT_CTRL=128,ka.LEFT_ALT=256,ka.RIGHT_ALT=512,ka.LEFT_META=1024,ka.RIGHT_META=2048,ka.NUM_LOCK=4096,ka.CAPS_LOCK=8192,ka.MODE=16384,ka.CTRL=192,ka.SHIFT=3,ka.ALT=768,ka.META=3072,Ua.onEnd=new xr,Ua.onMove=new xr,Ua.onStart=new xr,Va.cffi_lime_bytes_from_data_pointer=da.load("lime","lime_bytes_from_data_pointer",2,!1),Va.cffi_lime_bytes_get_data_pointer=da.load("lime","lime_bytes_get_data_pointer",1,!1),Va.cffi_lime_bytes_read_file=da.load("lime","lime_bytes_read_file",1,!1),za.BYTES_PER_ELEMENT=4,Ya.BYTES_PER_ELEMENT=2,Wa.BYTES_PER_ELEMENT=4,ja.BYTES_PER_ELEMENT=2,qa.BYTES_PER_ELEMENT=4,Ja.BYTES_PER_ELEMENT=1,$a.cache=new Qa,$a.dispatcher=new v,to.pool=new Ce(function(){return new to}),to.__clid=$.registerClass(to),eo.pool=new Ce(function(){return new eo}),eo.__identity=new eo,eo.__temp=new eo,eo.__clid=$.registerClass(eo),io.pool=new Ce(function(){return new io}),io.__clid=$.registerClass(io),no.current=new l,no.__sentWarnings=new gs,lo.__clid=$.registerClass(lo),Ro.BEGIN_BITMAP_FILL=0,Ro.BEGIN_FILL=1,Ro.BEGIN_GRADIENT_FILL=2,Ro.CUBIC_CURVE_TO=3,Ro.CURVE_TO=4,Ro.DRAW_CIRCLE=5,Ro.DRAW_ARC=6,Ro.DRAW_ELLIPSE=7,Ro.DRAW_IMAGE=8,Ro.DRAW_PATH=9,Ro.DRAW_RECT=10,Ro.DRAW_ROUND_RECT=11,Ro.DRAW_TILES=12,Ro.DRAW_TRIANGLES=13,Ro.END_FILL=14,Ro.LINE_BITMAP_STYLE=15,Ro.LINE_GRADIENT_STYLE=16,Ro.LINE_STYLE=17,Ro.LINE_TO=18,Ro.MOVE_TO=19,Ro.OVERRIDE_MATRIX=20,Ro.UNKNOWN=21,Fo.pool=new Ce(function(){return window.document.createElement("canvas")}),Fo.SIN45=.7071067811865476,Fo.TAN22=.41421356237309503,Fo.padding=1,Fo.canvasWindingRule="evenodd",Fo.positionX=0,Fo.positionY=0,Fo.closeGap=!1,Fo.startX=0,Fo.startY=0,Fo.currentTransform=new eo,Fo.snapCoordinates=!1,Fo.drawCommandReaderPool=new Ce(function(){return new ho(null)}),Fo.glMaxTextureSize=0,Oo.fbDataPool=new Ce(function(){return new No}),Oo.fbData=[],Oo.dataToClean=new ds,Uo.glContextId=0,Uo.glContexts=[],Go.UID=0,Go.currentVertexArray=null,Xo.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uMaskMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec2 openfl_vMaskTexCoord;","varying vec4 openfl_vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   openfl_vTexCoord = openfl_aTexCoord0;","   openfl_vMaskTexCoord = (openfl_uMaskMatrix * vec3(openfl_aPosition, 1.0)).xy;","   if(openfl_uUseColorTransform)","   \topenfl_vColor = openfl_aColor;","   else","   \topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"],Vo.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","void main(void) {","\tgl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","\topenfl_vTexCoord = openfl_aTexCoord0;","\tif(openfl_uUseColorTransform)","\t\topenfl_vColor = openfl_aColor;","\telse","\t\topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"],Zo.glMaxTextureSize=0,Qo.compiledShadersCache=new gs,tl.VERTS_PER_SPRITE=4,sl.UTF8_TAB=9,sl.UTF8_ENDLINE=10,sl.UTF8_SPACE=32,sl.UTF8_HYPHEN=45,sl.OFFSET_START=2,sl.__defaultFonts=new gs,_l.__isGLES=null,ul.ADD=0,ul.ALPHA=1,ul.DARKEN=2,ul.DIFFERENCE=3,ul.ERASE=4,ul.HARDLIGHT=5,ul.INVERT=6,ul.LAYER=7,ul.LIGHTEN=8,ul.MULTIPLY=9,ul.NORMAL=10,ul.OVERLAY=11,ul.SCREEN=12,ul.SHADER=13,ul.SUBTRACT=14,cl.NONE=0,cl.ROUND=1,cl.SQUARE=2,gl.LINEAR=0,gl.RADIAL=1,ml.__dirtyGraphicsDelay=2,ml.TILE_SCALE=1,ml.TILE_ROTATION=2,ml.TILE_RGB=4,ml.TILE_ALPHA=8,ml.TILE_TRANS_2x2=16,ml.TILE_RECT=32,ml.TILE_ORIGIN=64,ml.TILE_BLEND_NORMAL=0,ml.TILE_BLEND_ADD=65536,ml.TILE_BLEND_MULTIPLY=131072,ml.TILE_BLEND_SCREEN=262144,ml.TILE_BLEND_SUBTRACT=524288,ml.TILE_BLEND_DARKEN=1048576,ml.TILE_BLEND_LIGHTEN=2097152,ml.TILE_BLEND_OVERLAY=4194304,ml.TILE_BLEND_HARDLIGHT=8388608,ml.TILE_BLEND_DIFFERENCE=16777216,ml.TILE_BLEND_INVERT=33554432,ml.__clid=$.registerClass(ml),Cl.pool=new Ce(function(){return new Cl}),Rl.LINEAR_RGB=0,Rl.RGB=1,Fl.BEVEL=0,Fl.MITER=1,Fl.ROUND=2,Bl.HORIZONTAL=0,Bl.NONE=1,Bl.NORMAL=2,Bl.VERTICAL=3,kl.__rootURL=window.document.URL,Nl.CONTEXT_LOST="glcontextlost",Nl.CONTEXT_RESTORED="glcontextrestored",Ul.ALWAYS=0,Ul.AUTO=1,Ul.NEVER=2,Xl.uniformRegex=new w("^\\s*uniform\\s+(sampler(?:2D|Cube)|[bi]?vec[234]|float|int|bool|mat[234])\\s+(\\w+)\\s*(?:\\[(\\d+)\\])?\\s*;.*$","gmi"),Xl.aPosition="openfl_aPosition",Xl.aTexCoord="openfl_aTexCoord0",Xl.aColor="openfl_aColor",Xl.uSampler="openfl_uSampler0",Xl.uProjectionMatrix="openfl_uProjectionMatrix",Xl.uColorMultiplier="openfl_uColorMultiplier",Xl.uColorOffset="openfl_uColorOffset",Xl.uObjectSize="openfl_uObjectSize",Xl.uTextureSize="openfl_uTextureSize",Xl.vTexCoord="openfl_vTexCoord",Xl.vColor="openfl_vColor",Xl.vertexHeader=["attribute vec2 "+Xl.aPosition+";","attribute vec2 "+Xl.aTexCoord+";","attribute vec4 "+Xl.aColor+";","uniform mat3 "+Xl.uProjectionMatrix+";","uniform vec2 "+Xl.uObjectSize+";","uniform vec2 "+Xl.uTextureSize+";","varying vec2 "+Xl.vTexCoord+";","varying vec4 "+Xl.vColor+";"],Xl.fragmentHeader=["uniform sampler2D "+Xl.uSampler+";","uniform vec4 "+Xl.uColorMultiplier+";","uniform vec4 "+Xl.uColorOffset+";","uniform vec2 "+Xl.uObjectSize+";","uniform vec2 "+Xl.uTextureSize+";","varying vec2 "+Xl.vTexCoord+";","varying vec4 "+Xl.vColor+";","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}"],zl.PAD=0,zl.REFLECT=1,zl.REPEAT=2,Hl.__calledOnMouseThisFrame=!1,Wl.BOTTOM=0,Wl.BOTTOM_LEFT=1,Wl.BOTTOM_RIGHT=2,Wl.LEFT=3,Wl.RIGHT=4,Wl.TOP=5,Wl.TOP_LEFT=6,Wl.TOP_RIGHT=7,Kl.FULL_SCREEN=0,Kl.FULL_SCREEN_INTERACTIVE=1,Kl.NORMAL=2,jl.BEST=0,jl.HIGH=1,jl.LOW=2,jl.MEDIUM=3,ql.EXACT_FIT=0,ql.NO_BORDER=1,ql.NO_SCALE=2,ql.SHOW_ALL=3,Jl.NEGATIVE=0,Jl.NONE=1,Jl.POSITIVE=2,$l.TEXTURE_MAX_ANISOTROPY_EXT=34046,$l.MAX_SAMPLERS=8,$l.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,$l.anisotropySupportTested=!1,$l.supportsAnisotropy=!1,$l.maxSupportedAnisotropy=256,ih.ALL=17664,ih.COLOR=16384,ih.DEPTH=256,ih.STENCIL=1024,nh.ALWAYS=519,nh.EQUAL=514,nh.GREATER=516,nh.GREATER_EQUAL=518,nh.LESS=513,nh.LESS_EQUAL=515,nh.NEVER=512,nh.NOT_EQUAL=517,lh.BACK=1028,lh.FRONT=1029,lh.FRONT_AND_BACK=1032,lh.NONE=0,mh.internalFormat=-1,vh.DEFAULT_TO_STRING="Error",Sh.ACTIVITY="activity",Eh.LINK="link",Eh.TEXT_INPUT="textInput",Ih.ERROR="error",Ch.FOCUS_IN="focusIn",Ch.FOCUS_OUT="focusOut",Ch.KEY_FOCUS_CHANGE="keyFocusChange",Ch.MOUSE_FOCUS_CHANGE="mouseFocusChange",Dh.FULL_SCREEN="fullScreen",Dh.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted",Ah.DEVICE_ADDED="deviceAdded",Ah.DEVICE_REMOVED="deviceRemoved",Ah.DEVICE_UNUSABLE="deviceUnusable",Rh.HTTP_RESPONSE_STATUS="httpResponseStatus",Rh.HTTP_STATUS="httpStatus",Mh.IO_ERROR="ioError",Fh.KEY_DOWN="keyDown",Fh.KEY_UP="keyUp",Bh.pool=new Ce(function(){return new Bh}),Bh.CLICK="click",Bh.DOUBLE_CLICK="doubleClick",Bh.MIDDLE_CLICK="middleClick",Bh.MIDDLE_MOUSE_DOWN="middleMouseDown",Bh.MIDDLE_MOUSE_UP="middleMouseUp",Bh.MOUSE_DOWN="mouseDown",Bh.MOUSE_MOVE="mouseMove",Bh.MOUSE_OUT="mouseOut",Bh.MOUSE_OVER="mouseOver",Bh.MOUSE_UP="mouseUp",Bh.MOUSE_WHEEL="mouseWheel",Bh.RIGHT_CLICK="rightClick",Bh.RIGHT_MOUSE_DOWN="rightMouseDown",Bh.RIGHT_MOUSE_UP="rightMouseUp",Bh.ROLL_OUT="rollOut",Bh.ROLL_OVER="rollOver",Lh.PROGRESS="progress",Lh.SOCKET_DATA="socketData",kh.SECURITY_ERROR="securityError",Nh.TOUCH_BEGIN="touchBegin",Nh.TOUCH_END="touchEnd",Nh.TOUCH_MOVE="touchMove",Nh.TOUCH_OUT="touchOut",Nh.TOUCH_OVER="touchOver",Nh.TOUCH_ROLL_OUT="touchRollOut",Nh.TOUCH_ROLL_OVER="touchRollOver",Nh.TOUCH_TAP="touchTap",Uh.__inverseAlphaMultipliers=null!=(_c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,-1])?new tc(_c):null,Uh.__inverseAlphaOffsets=null!=(uc=[0,0,0,1])?new tc(uc):null,Gh.__textureCacheMap=new fs,zh.FULL=0,zh.INNER=1,zh.OUTER=2,qh.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uTexCoordOffset:{noCompletion:null},set_uTexCoordOffset:{noCompletion:null},get_uTexCoordDelta:{noCompletion:null},set_uTexCoordDelta:{noCompletion:null},get_uFetchCount:{noCompletion:null},set_uFetchCount:{noCompletion:null}}},Zh.MAXIMUM_FETCH_COUNT=32,Zh.__shader=new qh,Qh.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uColorLookupSampler:{noCompletion:null},set_uColorLookupSampler:{noCompletion:null}}},$h.__shader=new Qh,t_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uMultipliers:{noCompletion:null},set_uMultipliers:{noCompletion:null},get_uOffsets:{noCompletion:null},set_uOffsets:{noCompletion:null}}},e_.__shader=new t_,i_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uColor:{noCompletion:null},set_uColor:{noCompletion:null}}},n_.__shader=new i_,s_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null}}},r_.__shader=new s_,a_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null}}},o_.__shader=new a_,h_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uShadowSourceSampler:{noCompletion:null},set_uShadowSourceSampler:{noCompletion:null},get_uStrength:{noCompletion:null},set_uStrength:{noCompletion:null}}},__.__shader=new h_,u_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null},get_outer:{noCompletion:null},set_outer:{noCompletion:null}}},c_.__shader=new u_,f_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uTexCoordOffset:{noCompletion:null},set_uTexCoordOffset:{noCompletion:null},get_uStrength:{noCompletion:null},set_uStrength:{noCompletion:null}}},d_.__shader=new f_,p_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null},get_allow_transparency:{noCompletion:null},set_allow_transparency:{noCompletion:null}}},g_.__shader=new p_,v_.AXIS_ANGLE=0,v_.EULER_ANGLES=1,v_.QUATERNION=2,b_.pool=new Ce(function(){return new b_}),b_.__temp=new b_,b_.__clid=$.registerClass(b_),y_.pool=new Ce(function(){return new y_(null)}),T_.__registeredSounds=new gs,S_.pool=new Ce(function(){return new S_}),C_.BINARY=0,C_.TEXT=1,C_.VARIABLES=2,R_.DELETE=0,R_.GET=1,R_.HEAD=2,R_.OPTIONS=3,R_.POST=4,R_.PUT=5,F_.currentDomain=new F_(null),L_.currentDomain=new L_,k_.ADVANCED=0,k_.NORMAL=1,N_.BOLD=0,N_.BOLD_ITALIC=1,N_.ITALIC=2,N_.REGULAR=3,O_.DEVICE=0,O_.EMBEDDED=1,O_.EMBEDDED_CFF=2,U_.NONE=0,U_.PIXEL=1,U_.SUBPIXEL=2,G_.CENTER=0,G_.LEFT=1,G_.NONE=2,G_.RIGHT=3,X_.DYNAMIC=0,X_.INPUT=1,z_.CENTER=0,z_.END=1,z_.JUSTIFY=2,z_.LEFT=3,z_.RIGHT=4,z_.START=5,Y_.isSupported=!0,Y_.numDevices=0,Y_.__deviceList=[],Y_.__devices=new ds,Y_.__instances=[],K_.MAX_BUFFER_SIZE=32e3,j_.NUMBER_0=48,j_.NUMBER_1=49,j_.NUMBER_2=50,j_.NUMBER_3=51,j_.NUMBER_4=52,j_.NUMBER_5=53,j_.NUMBER_6=54,j_.NUMBER_7=55,j_.NUMBER_8=56,j_.NUMBER_9=57,j_.A=65,j_.B=66,j_.C=67,j_.D=68,j_.E=69,j_.F=70,j_.G=71,j_.H=72,j_.I=73,j_.J=74,j_.K=75,j_.L=76,j_.M=77,j_.N=78,j_.O=79,j_.P=80,j_.Q=81,j_.R=82,j_.S=83,j_.T=84,j_.U=85,j_.V=86,j_.W=87,j_.X=88,j_.Y=89,j_.Z=90,j_.NUMPAD_0=96,j_.NUMPAD_1=97,j_.NUMPAD_2=98,j_.NUMPAD_3=99,j_.NUMPAD_4=100,j_.NUMPAD_5=101,j_.NUMPAD_6=102,j_.NUMPAD_7=103,j_.NUMPAD_8=104,j_.NUMPAD_9=105,j_.NUMPAD_MULTIPLY=106,j_.NUMPAD_ADD=107,j_.NUMPAD_ENTER=108,j_.NUMPAD_SUBTRACT=109,j_.NUMPAD_DECIMAL=110,j_.NUMPAD_DIVIDE=111,j_.F1=112,j_.F2=113,j_.F3=114,j_.F4=115,j_.F5=116,j_.F6=117,j_.F7=118,j_.F8=119,j_.F9=120,j_.F10=121,j_.F11=122,j_.F12=123,j_.F13=124,j_.F14=125,j_.F15=126,j_.BACKSPACE=8,j_.TAB=9,j_.ALTERNATE=18,j_.ENTER=13,j_.COMMAND=15,j_.SHIFT=16,j_.CONTROL=17,j_.BREAK=19,j_.CAPS_LOCK=20,j_.NUMPAD=21,j_.ESCAPE=27,j_.SPACE=32,j_.PAGE_UP=33,j_.PAGE_DOWN=34,j_.END=35,j_.HOME=36,j_.LEFT=37,j_.RIGHT=39,j_.UP=38,j_.DOWN=40,j_.INSERT=45,j_.DELETE=46,j_.NUMLOCK=144,j_.SEMICOLON=186,j_.EQUAL=187,j_.COMMA=188,j_.MINUS=189,j_.PERIOD=190,j_.SLASH=191,j_.BACKQUOTE=192,j_.LEFTBRACKET=219,j_.BACKSLASH=220,j_.RIGHTBRACKET=221,j_.QUOTE=222,Z_.DEFLATE=0,Z_.LZMA=1,Z_.ZLIB=2,Q_.BIG_ENDIAN=0,Q_.LITTLE_ENDIAN=1,$_.__clid=$.registerClass($_),Xu.dialogIsShown=!1,_t.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
